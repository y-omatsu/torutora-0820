(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function ch(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ad={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function B1(){if(Uv)return vl;Uv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:r,key:f,ref:o!==void 0?o:null,props:c}}return vl.Fragment=e,vl.jsx=i,vl.jsxs=i,vl}var Lv;function q1(){return Lv||(Lv=1,Ad.exports=B1()),Ad.exports}var T=q1(),Sd={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function H1(){if(zv)return Ve;zv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,O={};function k(M,ee,q){this.props=M,this.context=ee,this.refs=O,this.updater=q||D}k.prototype.isReactComponent={},k.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=k.prototype;function Z(M,ee,q){this.props=M,this.context=ee,this.refs=O,this.updater=q||D}var W=Z.prototype=new K;W.constructor=Z,j(W,k.prototype),W.isPureReactComponent=!0;var he=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function P(M,ee,q,Q,le,Te){return q=Te.ref,{$$typeof:a,type:M,key:ee,ref:q!==void 0?q:null,props:Te}}function R(M,ee){return P(M.type,ee,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function V(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(q){return ee[q]})}var N=/\/+/g;function L(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):ee.toString(36)}function A(){}function pe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(A,A):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ue(M,ee,q,Q,le){var Te=typeof M;(Te==="undefined"||Te==="boolean")&&(M=null);var ye=!1;if(M===null)ye=!0;else switch(Te){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(M.$$typeof){case a:case e:ye=!0;break;case v:return ye=M._init,ue(ye(M._payload),ee,q,Q,le)}}if(ye)return le=le(M),ye=Q===""?"."+L(M,0):Q,he(le)?(q="",ye!=null&&(q=ye.replace(N,"$&/")+"/"),ue(le,ee,q,"",function(Pe){return Pe})):le!=null&&(C(le)&&(le=R(le,q+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(N,"$&/")+"/")+ye)),ee.push(le)),1;ye=0;var Ze=Q===""?".":Q+":";if(he(M))for(var Ae=0;Ae<M.length;Ae++)Q=M[Ae],Te=Ze+L(Q,Ae),ye+=ue(Q,ee,q,Te,le);else if(Ae=S(M),typeof Ae=="function")for(M=Ae.call(M),Ae=0;!(Q=M.next()).done;)Q=Q.value,Te=Ze+L(Q,Ae++),ye+=ue(Q,ee,q,Te,le);else if(Te==="object"){if(typeof M.then=="function")return ue(pe(M),ee,q,Q,le);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ye}function X(M,ee,q){if(M==null)return M;var Q=[],le=0;return ue(M,Q,"","",function(Te){return ee.call(q,Te,le++)}),Q}function ne(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(q){(M._status===0||M._status===-1)&&(M._status=1,M._result=q)},function(q){(M._status===0||M._status===-1)&&(M._status=2,M._result=q)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ce(){}return Ve.Children={map:X,forEach:function(M,ee,q){X(M,function(){ee.apply(this,arguments)},q)},count:function(M){var ee=0;return X(M,function(){ee++}),ee},toArray:function(M){return X(M,function(ee){return ee})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ve.Component=k,Ve.Fragment=i,Ve.Profiler=o,Ve.PureComponent=Z,Ve.StrictMode=r,Ve.Suspense=y,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(M){return de.H.useMemoCache(M)}},Ve.cache=function(M){return function(){return M.apply(null,arguments)}},Ve.cloneElement=function(M,ee,q){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Q=j({},M.props),le=M.key,Te=void 0;if(ee!=null)for(ye in ee.ref!==void 0&&(Te=void 0),ee.key!==void 0&&(le=""+ee.key),ee)!ge.call(ee,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ee.ref===void 0||(Q[ye]=ee[ye]);var ye=arguments.length-2;if(ye===1)Q.children=q;else if(1<ye){for(var Ze=Array(ye),Ae=0;Ae<ye;Ae++)Ze[Ae]=arguments[Ae+2];Q.children=Ze}return P(M.type,le,void 0,void 0,Te,Q)},Ve.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ve.createElement=function(M,ee,q){var Q,le={},Te=null;if(ee!=null)for(Q in ee.key!==void 0&&(Te=""+ee.key),ee)ge.call(ee,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(le[Q]=ee[Q]);var ye=arguments.length-2;if(ye===1)le.children=q;else if(1<ye){for(var Ze=Array(ye),Ae=0;Ae<ye;Ae++)Ze[Ae]=arguments[Ae+2];le.children=Ze}if(M&&M.defaultProps)for(Q in ye=M.defaultProps,ye)le[Q]===void 0&&(le[Q]=ye[Q]);return P(M,Te,void 0,void 0,null,le)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(M){return{$$typeof:p,render:M}},Ve.isValidElement=C,Ve.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ne}},Ve.memo=function(M,ee){return{$$typeof:m,type:M,compare:ee===void 0?null:ee}},Ve.startTransition=function(M){var ee=de.T,q={};de.T=q;try{var Q=M(),le=de.S;le!==null&&le(q,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ce,oe)}catch(Te){oe(Te)}finally{de.T=ee}},Ve.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Ve.use=function(M){return de.H.use(M)},Ve.useActionState=function(M,ee,q){return de.H.useActionState(M,ee,q)},Ve.useCallback=function(M,ee){return de.H.useCallback(M,ee)},Ve.useContext=function(M){return de.H.useContext(M)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(M,ee){return de.H.useDeferredValue(M,ee)},Ve.useEffect=function(M,ee,q){var Q=de.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(M,ee)},Ve.useId=function(){return de.H.useId()},Ve.useImperativeHandle=function(M,ee,q){return de.H.useImperativeHandle(M,ee,q)},Ve.useInsertionEffect=function(M,ee){return de.H.useInsertionEffect(M,ee)},Ve.useLayoutEffect=function(M,ee){return de.H.useLayoutEffect(M,ee)},Ve.useMemo=function(M,ee){return de.H.useMemo(M,ee)},Ve.useOptimistic=function(M,ee){return de.H.useOptimistic(M,ee)},Ve.useReducer=function(M,ee,q){return de.H.useReducer(M,ee,q)},Ve.useRef=function(M){return de.H.useRef(M)},Ve.useState=function(M){return de.H.useState(M)},Ve.useSyncExternalStore=function(M,ee,q){return de.H.useSyncExternalStore(M,ee,q)},Ve.useTransition=function(){return de.H.useTransition()},Ve.version="19.1.1",Ve}var Bv;function Cp(){return Bv||(Bv=1,Sd.exports=H1()),Sd.exports}var U=Cp();const M_=ch(U);var Rd={exports:{}},_l={},Cd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function F1(){return qv||(qv=1,(function(a){function e(X,ne){var oe=X.length;X.push(ne);e:for(;0<oe;){var ce=oe-1>>>1,M=X[ce];if(0<o(M,ne))X[ce]=ne,X[oe]=M,oe=ce;else break e}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ne=X[0],oe=X.pop();if(oe!==ne){X[0]=oe;e:for(var ce=0,M=X.length,ee=M>>>1;ce<ee;){var q=2*(ce+1)-1,Q=X[q],le=q+1,Te=X[le];if(0>o(Q,oe))le<M&&0>o(Te,Q)?(X[ce]=Te,X[le]=oe,ce=le):(X[ce]=Q,X[q]=oe,ce=q);else if(le<M&&0>o(Te,oe))X[ce]=Te,X[le]=oe,ce=le;else break e}}return ne}function o(X,ne){var oe=X.sortIndex-ne.sortIndex;return oe!==0?oe:X.id-ne.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var y=[],m=[],v=1,x=null,S=3,D=!1,j=!1,O=!1,k=!1,K=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function he(X){for(var ne=i(m);ne!==null;){if(ne.callback===null)r(m);else if(ne.startTime<=X)r(m),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=i(m)}}function de(X){if(O=!1,he(X),!j)if(i(y)!==null)j=!0,ge||(ge=!0,L());else{var ne=i(m);ne!==null&&ue(de,ne.startTime-X)}}var ge=!1,P=-1,R=5,C=-1;function V(){return k?!0:!(a.unstable_now()-C<R)}function N(){if(k=!1,ge){var X=a.unstable_now();C=X;var ne=!0;try{e:{j=!1,O&&(O=!1,Z(P),P=-1),D=!0;var oe=S;try{t:{for(he(X),x=i(y);x!==null&&!(x.expirationTime>X&&V());){var ce=x.callback;if(typeof ce=="function"){x.callback=null,S=x.priorityLevel;var M=ce(x.expirationTime<=X);if(X=a.unstable_now(),typeof M=="function"){x.callback=M,he(X),ne=!0;break t}x===i(y)&&r(y),he(X)}else r(y);x=i(y)}if(x!==null)ne=!0;else{var ee=i(m);ee!==null&&ue(de,ee.startTime-X),ne=!1}}break e}finally{x=null,S=oe,D=!1}ne=void 0}}finally{ne?L():ge=!1}}}var L;if(typeof W=="function")L=function(){W(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,pe=A.port2;A.port1.onmessage=N,L=function(){pe.postMessage(null)}}else L=function(){K(N,0)};function ue(X,ne){P=K(function(){X(a.unstable_now())},ne)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var oe=S;S=ne;try{return X()}finally{S=oe}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=S;S=X;try{return ne()}finally{S=oe}},a.unstable_scheduleCallback=function(X,ne,oe){var ce=a.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ce+oe:ce):oe=ce,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=oe+M,X={id:v++,callback:ne,priorityLevel:X,startTime:oe,expirationTime:M,sortIndex:-1},oe>ce?(X.sortIndex=oe,e(m,X),i(y)===null&&X===i(m)&&(O?(Z(P),P=-1):O=!0,ue(de,oe-ce))):(X.sortIndex=M,e(y,X),j||D||(j=!0,ge||(ge=!0,L()))),X},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(X){var ne=S;return function(){var oe=S;S=ne;try{return X.apply(this,arguments)}finally{S=oe}}}})(Dd)),Dd}var Hv;function G1(){return Hv||(Hv=1,Cd.exports=F1()),Cd.exports}var Nd={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function $1(){if(Fv)return sn;Fv=1;var a=Cp();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,m,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:m,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,v)},sn.flushSync=function(y){var m=f.T,v=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=m,r.p=v,r.d.f()}},sn.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},sn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},sn.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,x=p(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:D}):v==="script"&&r.d.X(y,{crossOrigin:x,integrity:S,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},sn.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,x=p(v,m.crossOrigin);r.d.L(y,v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},sn.requestFormReset=function(y){r.d.r(y)},sn.unstable_batchedUpdates=function(y,m){return y(m)},sn.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},sn.version="19.1.1",sn}var Gv;function Q1(){if(Gv)return Nd.exports;Gv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nd.exports=$1(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function Y1(){if($v)return _l;$v=1;var a=G1(),e=Cp(),i=Q1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),t;if(d===l)return p(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=d;else{for(var b=!1,E=h.child;E;){if(E===s){b=!0,s=h,l=d;break}if(E===l){b=!0,l=h,s=d;break}E=E.sibling}if(!b){for(E=d.child;E;){if(E===s){b=!0,s=d,l=h;break}if(E===l){b=!0,l=d,s=h;break}E=E.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),W=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case k:return"Profiler";case O:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case W:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case he:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return pe(t(n))}catch{}}return null}var ue=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ce=[],M=-1;function ee(t){return{current:t}}function q(t){0>M||(t.current=ce[M],ce[M]=null,M--)}function Q(t,n){M++,ce[M]=t.current,t.current=n}var le=ee(null),Te=ee(null),ye=ee(null),Ze=ee(null);function Ae(t,n){switch(Q(ye,n),Q(Te,t),Q(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?fv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=fv(n),t=dv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(le),Q(le,t)}function Pe(){q(le),q(Te),q(ye)}function Ye(t){t.memoizedState!==null&&Q(Ze,t);var n=le.current,s=dv(n,t.type);n!==s&&(Q(Te,t),Q(le,s))}function ft(t){Te.current===t&&(q(le),q(Te)),Ze.current===t&&(q(Ze),dl._currentValue=oe)}var Dt=Object.prototype.hasOwnProperty,On=a.unstable_scheduleCallback,yn=a.unstable_cancelCallback,Mn=a.unstable_shouldYield,Kn=a.unstable_requestPaint,_t=a.unstable_now,Xn=a.unstable_getCurrentPriorityLevel,vn=a.unstable_ImmediatePriority,Zn=a.unstable_UserBlockingPriority,Bi=a.unstable_NormalPriority,po=a.unstable_LowPriority,ba=a.unstable_IdlePriority,me=a.log,we=a.unstable_setDisableYieldValue,Me=null,De=null;function st(t){if(typeof me=="function"&&we(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Me,t)}catch{}}var bt=Math.clz32?Math.clz32:Jn,Wn=Math.log,ur=Math.LN2;function Jn(t){return t>>>=0,t===0?32:31-(Wn(t)/ur|0)|0}var ei=256,Vn=4194304;function un(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=un(l):(b&=E,b!==0?h=un(b):s||(s=E&~t,s!==0&&(h=un(s))))):(E=l&~d,E!==0?h=un(E):b!==0?h=un(b):s||(s=l&~t,s!==0&&(h=un(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function ti(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(){var t=ei;return ei<<=1,(ei&4194048)===0&&(ei=256),t}function mo(){var t=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),t}function Hi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Fi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function go(t,n,s,l,h,d){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,G=t.hiddenUpdates;for(s=b&~s;0<s;){var te=31-bt(s),ae=1<<te;E[te]=0,I[te]=-1;var $=G[te];if($!==null)for(G[te]=null,te=0;te<$.length;te++){var Y=$[te];Y!==null&&(Y.lane&=-536870913)}s&=~ae}l!==0&&pi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(b&~n))}function pi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-bt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function yo(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-bt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function xa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ea(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:Ov(t.type))}function Wl(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var dt=Math.random().toString(36).slice(2),jt="__reactFiber$"+dt,Nt="__reactProps$"+dt,kn="__reactContainer$"+dt,vo="__reactEvents$"+dt,Rh="__reactListeners$"+dt,Ta="__reactHandles$"+dt,Jl="__reactResources$"+dt,fr="__reactMarker$"+dt;function wa(t){delete t[jt],delete t[Nt],delete t[vo],delete t[Rh],delete t[Ta]}function Gi(t){var n=t[jt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[kn]||s[jt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=yv(t);t!==null;){if(s=t[jt])return s;t=yv(t)}return n}t=s,s=t.parentNode}return null}function mi(t){if(t=t[jt]||t[kn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function hn(t){var n=t[Jl];return n||(n=t[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function At(t){t[fr]=!0}var _o=new Set,ns={};function ni(t,n){$i(t,n),$i(t+"Capture",n)}function $i(t,n){for(ns[t]=n,t=0;t<n.length;t++)_o.add(n[t])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},dr={};function nc(t){return Dt.call(dr,t)?!0:Dt.call(tc,t)?!1:ec.test(t)?dr[t]=!0:(tc[t]=!0,!1)}function Aa(t,n,s){if(nc(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function yi(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Xt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var pr,ic;function Qi(t){if(pr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);pr=n&&n[1]||"",ic=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+t+ic}var is=!1;function as(t,n){if(!t||is)return"";is=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Y){var $=Y}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(Y){$=Y}t.call(ae.prototype)}}else{try{throw Error()}catch(Y){$=Y}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],E=d[1];if(b&&E){var I=b.split(`
`),G=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===G.length)for(l=I.length-1,h=G.length-1;1<=l&&0<=h&&I[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==G[h]){var te=`
`+I[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{is=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Qi(s):""}function bo(t){switch(t.tag){case 26:case 27:case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return as(t.type,!1);case 11:return as(t.type.render,!1);case 1:return as(t.type,!0);case 31:return Qi("Activity");default:return""}}function rs(t){try{var n="";do n+=bo(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ch(t){var n=xo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ss(t){t._valueTracker||(t._valueTracker=Ch(t))}function Eo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=xo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dh=/[\n"\\]/g;function It(t){return t.replace(Dh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(t,n,s,l,h,d,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+fn(n)):t.value!==""+fn(n)&&(t.value=""+fn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?Sa(t,b,fn(n)):s!=null?Sa(t,b,fn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+fn(E):t.removeAttribute("name")}function gr(t,n,s,l,h,d,b,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+fn(s):"",n=n!=null?""+fn(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Sa(t,n,s){n==="number"&&mr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Yi(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+fn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function nt(t,n,s){if(n!=null&&(n=""+fn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+fn(s):""}function yr(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=fn(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Pn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ac(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||vr.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function To(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&ac(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&ac(t,d,n[d])}function wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(t){return Ih.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ki=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Zi=null;function Ao(t){var n=mi(t);if(n&&(t=n.stateNode)){var s=t[Nt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Tn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+It(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Nt]||null;if(!h)throw Error(r(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Eo(l)}break e;case"textarea":nt(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Yi(t,!!s.multiple,n,!1)}}}var vi=!1;function rc(t,n,s){if(vi)return t(n,s);vi=!0;try{var l=t(n);return l}finally{if(vi=!1,(Xi!==null||Zi!==null)&&(Wc(),Xi&&(n=Xi,t=Zi,Zi=Xi=null,Ao(n),t)))for(n=0;n<t.length;n++)Ao(t[n])}}function _r(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Nt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(ii)try{var br={};Object.defineProperty(br,"passive",{get:function(){Un=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Un=!1}var _i=null,Ra=null,Wi=null;function So(){if(Wi)return Wi;var t,n=Ra,s=n.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var b=s-t;for(l=1;l<=b&&n[s-l]===h[d-l];l++);return Wi=h.slice(t,1<l?1-l:void 0)}function bi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Ro(){return!1}function Ht(t){function n(s,l,h,d,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xi:Ro,this.isPropagationStopped=Ro,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Ht(We),xr=v({},We,{view:0,detail:0}),sc=Ht(xr),cs,us,Ei,Er=v({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(cs=t.screenX-Ei.screenX,us=t.screenY-Ei.screenY):us=cs=0,Ei=t),cs)},movementY:function(t){return"movementY"in t?t.movementY:us}}),Ln=Ht(Er),oc=v({},Er,{dataTransfer:0}),Oh=Ht(oc),Tr=v({},xr,{relatedTarget:0}),hs=Ht(Tr),Co=v({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),fs=Ht(Co),lc=v({},We,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ds=Ht(lc),Mh=v({},We,{data:0}),Do=Ht(Mh),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function No(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=uc[t])?!!n[t]:!1}function Ar(){return No}var hc=v({},xr,{key:function(t){if(t.key){var n=wr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=bi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(t){return t.type==="keypress"?bi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ps=Ht(hc),fc=v({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=Ht(fc),Ji=v({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),dc=Ht(Ji),pc=v({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),mc=Ht(pc),gc=v({},Er,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ms=Ht(gc),dn=v({},We,{newState:0,oldState:0}),yc=Ht(dn),vc=[9,13,27,32],Ti=ii&&"CompositionEvent"in window,u=null;ii&&"documentMode"in document&&(u=document.documentMode);var g=ii&&"TextEvent"in window&&!u,_=ii&&(!Ti||u&&8<u&&11>=u),w=" ",H=!1;function J(t,n){switch(t){case"keyup":return vc.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function Ut(t,n){switch(t){case"compositionend":return fe(n);case"keypress":return n.which!==32?null:(H=!0,w);case"textInput":return t=n.data,t===w&&H?null:t;default:return null}}function Fe(t,n){if(He)return t==="compositionend"||!Ti&&J(t,n)?(t=So(),Wi=Ra=_i=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ft[t.type]:n==="textarea"}function ea(t,n,s,l){Xi?Zi?Zi.push(l):Zi=[l]:Xi=l,n=au(n,"onChange"),0<n.length&&(s=new ls("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Zt=null,wi=null;function Oo(t){ov(t,0)}function _c(t){var n=gi(t);if(Eo(n))return t}function Cm(t,n){if(t==="change")return n}var Dm=!1;if(ii){var Vh;if(ii){var kh="oninput"in document;if(!kh){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),kh=typeof Nm.oninput=="function"}Vh=kh}else Vh=!1;Dm=Vh&&(!document.documentMode||9<document.documentMode)}function Im(){Zt&&(Zt.detachEvent("onpropertychange",Om),wi=Zt=null)}function Om(t){if(t.propertyName==="value"&&_c(wi)){var n=[];ea(n,wi,t,jn(t)),rc(Oo,n)}}function yE(t,n,s){t==="focusin"?(Im(),Zt=n,wi=s,Zt.attachEvent("onpropertychange",Om)):t==="focusout"&&Im()}function vE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _c(wi)}function _E(t,n){if(t==="click")return _c(n)}function bE(t,n){if(t==="input"||t==="change")return _c(n)}function xE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:xE;function Mo(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Dt.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vm(t,n){var s=Mm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Mm(s)}}function km(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?km(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mr(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mr(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var EE=ii&&"documentMode"in document&&11>=document.documentMode,gs=null,jh=null,Vo=null,Uh=!1;function jm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uh||gs==null||gs!==mr(l)||(l=gs,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vo&&Mo(Vo,l)||(Vo=l,l=au(jh,"onSelect"),0<l.length&&(n=new ls("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=gs)))}function Sr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ys={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Lh={},Um={};ii&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Rr(t){if(Lh[t])return Lh[t];if(!ys[t])return t;var n=ys[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Um)return Lh[t]=n[s];return t}var Lm=Rr("animationend"),zm=Rr("animationiteration"),Bm=Rr("animationstart"),TE=Rr("transitionrun"),wE=Rr("transitionstart"),AE=Rr("transitioncancel"),qm=Rr("transitionend"),Hm=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ai(t,n){Hm.set(t,n),ni(n,[t])}var Fm=new WeakMap;function zn(t,n){if(typeof t=="object"&&t!==null){var s=Fm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:rs(n)},Fm.set(t,n),n)}return{value:t,source:n,stack:rs(n)}}var Bn=[],vs=0,Bh=0;function bc(){for(var t=vs,n=Bh=vs=0;n<t;){var s=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var d=Bn[n];if(Bn[n++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}d!==0&&Gm(s,h,d)}}function xc(t,n,s,l){Bn[vs++]=t,Bn[vs++]=n,Bn[vs++]=s,Bn[vs++]=l,Bh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qh(t,n,s,l){return xc(t,n,s,l),Ec(t)}function _s(t,n){return xc(t,null,null,n),Ec(t)}function Gm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-bt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function Ec(t){if(50<rl)throw rl=0,Kf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var bs={};function SE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,s,l){return new SE(t,n,s,l)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ta(t,n){var s=t.alternate;return s===null?(s=An(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function $m(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Tc(t,n,s,l,h,d){var b=0;if(l=t,typeof t=="function")Hh(t)&&(b=1);else if(typeof t=="string")b=C1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=An(31,s,n,h),t.elementType=C,t.lanes=d,t;case j:return Cr(s.children,h,d,n);case O:b=8,h|=24;break;case k:return t=An(12,s,n,h|2),t.elementType=k,t.lanes=d,t;case de:return t=An(13,s,n,h),t.elementType=de,t.lanes=d,t;case ge:return t=An(19,s,n,h),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case W:b=10;break e;case Z:b=9;break e;case he:b=11;break e;case P:b=14;break e;case R:b=16,l=null;break e}b=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=An(b,s,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Cr(t,n,s,l){return t=An(7,t,l,n),t.lanes=s,t}function Fh(t,n,s){return t=An(6,t,null,n),t.lanes=s,t}function Gh(t,n,s){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xs=[],Es=0,wc=null,Ac=0,qn=[],Hn=0,Dr=null,na=1,ia="";function Nr(t,n){xs[Es++]=Ac,xs[Es++]=wc,wc=t,Ac=n}function Qm(t,n,s){qn[Hn++]=na,qn[Hn++]=ia,qn[Hn++]=Dr,Dr=t;var l=na;t=ia;var h=32-bt(l)-1;l&=~(1<<h),s+=1;var d=32-bt(n)+h;if(30<d){var b=h-h%5;d=(l&(1<<b)-1).toString(32),l>>=b,h-=b,na=1<<32-bt(n)+h|s<<h|l,ia=d+t}else na=1<<d|s<<h|l,ia=t}function $h(t){t.return!==null&&(Nr(t,1),Qm(t,1,0))}function Qh(t){for(;t===wc;)wc=xs[--Es],xs[Es]=null,Ac=xs[--Es],xs[Es]=null;for(;t===Dr;)Dr=qn[--Hn],qn[Hn]=null,ia=qn[--Hn],qn[Hn]=null,na=qn[--Hn],qn[Hn]=null}var pn=null,xt=null,Xe=!1,Ir=null,Ai=!1,Yh=Error(r(519));function Or(t){var n=Error(r(418,""));throw jo(zn(n,t)),Yh}function Ym(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[jt]=t,n[Nt]=l,s){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<ol.length;s++)Le(ol[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),gr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ss(n);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),yr(n,l.value,l.defaultValue,l.children),ss(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||hv(n.textContent,s)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=ru),n=!0):n=!1,n||Or(t)}function Km(t){for(pn=t.return;pn;)switch(pn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:pn=pn.return}}function ko(t){if(t!==pn)return!1;if(!Xe)return Km(t),Xe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||hd(t.type,t.memoizedProps)),s=!s),s&&xt&&Or(t),Km(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){xt=si(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}xt=null}}else n===27?(n=xt,Ha(t.type)?(t=md,md=null,xt=t):xt=n):xt=pn?si(t.stateNode.nextSibling):null;return!0}function Po(){xt=pn=null,Xe=!1}function Xm(){var t=Ir;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),Ir=null),t}function jo(t){Ir===null?Ir=[t]:Ir.push(t)}var Kh=ee(null),Mr=null,aa=null;function Ca(t,n,s){Q(Kh,n._currentValue),n._currentValue=s}function ra(t){t._currentValue=Kh.current,q(Kh)}function Xh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Zh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var b=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),Xh(d.return,s,t),l||(b=null);break e}d=E.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=s,d=b.alternate,d!==null&&(d.lanes|=s),Xh(b,s,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Uo(t,n,s,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var E=h.type;wn(h.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ze.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}h=h.return}t!==null&&Zh(n,t,s,l),n.flags|=262144}function Sc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vr(t){Mr=t,aa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Zm(Mr,t)}function Rc(t,n){return Mr===null&&Vr(t),Zm(t,n)}function Zm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},aa===null){if(t===null)throw Error(r(308));aa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else aa=aa.next=n;return s}var RE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},CE=a.unstable_scheduleCallback,DE=a.unstable_NormalPriority,zt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new RE,data:new Map,refCount:0}}function Lo(t){t.refCount--,t.refCount===0&&CE(DE,function(){t.controller.abort()})}var zo=null,Jh=0,Ts=0,ws=null;function NE(t,n){if(zo===null){var s=zo=[];Jh=0,Ts=nd(),ws={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jh++,n.then(Wm,Wm),n}function Wm(){if(--Jh===0&&zo!==null){ws!==null&&(ws.status="fulfilled");var t=zo;zo=null,Ts=0,ws=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function IE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Jm=X.S;X.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&NE(t,n),Jm!==null&&Jm(t,n)};var kr=ee(null);function ef(){var t=kr.current;return t!==null?t:ct.pooledCache}function Cc(t,n){n===null?Q(kr,kr.current):Q(kr,n.pool)}function eg(){var t=ef();return t===null?null:{parent:zt._currentValue,pool:t}}var Bo=Error(r(460)),tg=Error(r(474)),Dc=Error(r(542)),tf={then:function(){}};function ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nc(){}function ig(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Nc,Nc),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rg(t),t;default:if(typeof n.status=="string")n.then(Nc,Nc);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rg(t),t}throw qo=n,Bo}}var qo=null;function ag(){if(qo===null)throw Error(r(459));var t=qo;return qo=null,t}function rg(t){if(t===Bo||t===Dc)throw Error(r(483))}var Da=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ec(t),Gm(t,null,s),n}return xc(t,l,n,s),Ec(t)}function Ho(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,yo(t,s)}}function rf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=b:d=d.next=b,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var sf=!1;function Fo(){if(sf){var t=ws;if(t!==null)throw t}}function Go(t,n,s,l){sf=!1;var h=t.updateQueue;Da=!1;var d=h.firstBaseUpdate,b=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,G=I.next;I.next=null,b===null?d=G:b.next=G,b=I;var te=t.alternate;te!==null&&(te=te.updateQueue,E=te.lastBaseUpdate,E!==b&&(E===null?te.firstBaseUpdate=G:E.next=G,te.lastBaseUpdate=I))}if(d!==null){var ae=h.baseState;b=0,te=G=I=null,E=d;do{var $=E.lane&-536870913,Y=$!==E.lane;if(Y?(Ge&$)===$:(l&$)===$){$!==0&&$===Ts&&(sf=!0),te!==null&&(te=te.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ne=t,Se=E;$=n;var rt=s;switch(Se.tag){case 1:if(Ne=Se.payload,typeof Ne=="function"){ae=Ne.call(rt,ae,$);break e}ae=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Se.payload,$=typeof Ne=="function"?Ne.call(rt,ae,$):Ne,$==null)break e;ae=v({},ae,$);break e;case 2:Da=!0}}$=E.callback,$!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[$]:Y.push($))}else Y={lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},te===null?(G=te=Y,I=ae):te=te.next=Y,b|=$;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);te===null&&(I=ae),h.baseState=I,h.firstBaseUpdate=G,h.lastBaseUpdate=te,d===null&&(h.shared.lanes=0),La|=b,t.lanes=b,t.memoizedState=ae}}function sg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function og(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)sg(s[t],n)}var As=ee(null),Ic=ee(0);function lg(t,n){t=fa,Q(Ic,t),Q(As,n),fa=t|n.baseLanes}function of(){Q(Ic,fa),Q(As,As.current)}function lf(){fa=Ic.current,q(As),q(Ic)}var Oa=0,ke=null,it=null,Ot=null,Oc=!1,Ss=!1,Pr=!1,Mc=0,$o=0,Rs=null,OE=0;function St(){throw Error(r(321))}function cf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!wn(t[s],n[s]))return!1;return!0}function uf(t,n,s,l,h,d){return Oa=d,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?Gg:$g,Pr=!1,d=s(l,h),Pr=!1,Ss&&(d=ug(n,s,l,h)),cg(t),d}function cg(t){X.H=Lc;var n=it!==null&&it.next!==null;if(Oa=0,Ot=it=ke=null,Oc=!1,$o=0,Rs=null,n)throw Error(r(300));t===null||Gt||(t=t.dependencies,t!==null&&Sc(t)&&(Gt=!0))}function ug(t,n,s,l){ke=t;var h=0;do{if(Ss&&(Rs=null),$o=0,Ss=!1,25<=h)throw Error(r(301));if(h+=1,Ot=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=LE,d=n(s,l)}while(Ss);return d}function ME(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Qo(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(ke.flags|=1024),n}function hf(){var t=Mc!==0;return Mc=0,t}function ff(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function df(t){if(Oc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Oc=!1}Oa=0,Ot=it=ke=null,Ss=!1,$o=Mc=0,Rs=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ke.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Mt(){if(it===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Ot===null?ke.memoizedState:Ot.next;if(n!==null)Ot=n,it=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ot===null?ke.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var n=$o;return $o+=1,Rs===null&&(Rs=[]),t=ig(Rs,t,n),n=ke,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?Gg:$g),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===W)return rn(t)}throw Error(r(438,String(t)))}function mf(t){var n=null,s=ke.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=pf(),ke.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function sa(t,n){return typeof n=="function"?n(t):n}function kc(t){var n=Mt();return gf(n,it,t)}function gf(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var b=h.next;h.next=d.next,d.next=b}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=b=null,I=null,G=n,te=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(Ge&ae)===ae:(Oa&ae)===ae){var $=G.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===Ts&&(te=!0);else if((Oa&$)===$){G=G.next,$===Ts&&(te=!0);continue}else ae={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(E=I=ae,b=d):I=I.next=ae,ke.lanes|=$,La|=$;ae=G.action,Pr&&s(d,ae),d=G.hasEagerState?G.eagerState:s(d,ae)}else $={lane:ae,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(E=I=$,b=d):I=I.next=$,ke.lanes|=ae,La|=ae;G=G.next}while(G!==null&&G!==n);if(I===null?b=d:I.next=E,!wn(d,t.memoizedState)&&(Gt=!0,te&&(s=ws,s!==null)))throw s;t.memoizedState=d,t.baseState=b,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yf(t){var n=Mt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do d=t(d,b.action),b=b.next;while(b!==h);wn(d,n.memoizedState)||(Gt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function hg(t,n,s){var l=ke,h=Mt(),d=Xe;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var b=!wn((it||h).memoizedState,s);b&&(h.memoizedState=s,Gt=!0),h=h.queue;var E=pg.bind(null,l,h,t);if(Yo(2048,8,E,[t]),h.getSnapshot!==n||b||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Cs(9,Pc(),dg.bind(null,l,h,s,n),null),ct===null)throw Error(r(349));d||(Oa&124)!==0||fg(l,n,s)}return s}function fg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=ke.updateQueue,n===null?(n=pf(),ke.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function dg(t,n,s,l){n.value=s,n.getSnapshot=l,mg(n)&&gg(t)}function pg(t,n,s){return s(function(){mg(n)&&gg(t)})}function mg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!wn(t,s)}catch{return!0}}function gg(t){var n=_s(t,2);n!==null&&Nn(n,t,2)}function vf(t){var n=_n();if(typeof t=="function"){var s=t;if(t=s(),Pr){st(!0);try{s()}finally{st(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},n}function yg(t,n,s,l){return t.baseState=s,gf(t,it,typeof l=="function"?l:sa)}function VE(t,n,s,l,h){if(Uc(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};X.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,vg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function vg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=X.T,b={};X.T=b;try{var E=s(h,l),I=X.S;I!==null&&I(b,E),_g(t,n,E)}catch(G){_f(t,n,G)}finally{X.T=d}}else try{d=s(h,l),_g(t,n,d)}catch(G){_f(t,n,G)}}function _g(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){bg(t,n,l)},function(l){return _f(t,n,l)}):bg(t,n,s)}function bg(t,n,s){n.status="fulfilled",n.value=s,xg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,vg(t,s)))}function _f(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,xg(n),n=n.next;while(n!==l)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function Tg(t,n){if(Xe){var s=ct.formState;if(s!==null){e:{var l=ke;if(Xe){if(xt){t:{for(var h=xt,d=Ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=si(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(n=s[0])}}return s=_n(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},s.queue=l,s=qg.bind(null,ke,l),l.dispatch=s,l=vf(!1),d=wf.bind(null,ke,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=VE.bind(null,ke,h,d,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function wg(t){var n=Mt();return Ag(n,it,t)}function Ag(t,n,s){if(n=gf(t,n,Eg)[0],t=kc(sa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Qo(n)}catch(b){throw b===Bo?Dc:b}else l=n;n=Mt();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(ke.flags|=2048,Cs(9,Pc(),kE.bind(null,h,s),null)),[l,d,t]}function kE(t,n){t.action=n}function Sg(t){var n=Mt(),s=it;if(s!==null)return Ag(n,s,t);Mt(),n=n.memoizedState,s=Mt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Cs(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=ke.updateQueue,n===null&&(n=pf(),ke.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Pc(){return{destroy:void 0,resource:void 0}}function Rg(){return Mt().memoizedState}function jc(t,n,s,l){var h=_n();l=l===void 0?null:l,ke.flags|=t,h.memoizedState=Cs(1|n,Pc(),s,l)}function Yo(t,n,s,l){var h=Mt();l=l===void 0?null:l;var d=h.memoizedState.inst;it!==null&&l!==null&&cf(l,it.memoizedState.deps)?h.memoizedState=Cs(n,d,s,l):(ke.flags|=t,h.memoizedState=Cs(1|n,d,s,l))}function Cg(t,n){jc(8390656,8,t,n)}function Dg(t,n){Yo(2048,8,t,n)}function Ng(t,n){return Yo(4,2,t,n)}function Ig(t,n){return Yo(4,4,t,n)}function Og(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mg(t,n,s){s=s!=null?s.concat([t]):null,Yo(4,4,Og.bind(null,n,t),s)}function bf(){}function Vg(t,n){var s=Mt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function kg(t,n){var s=Mt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=t(),Pr){st(!0);try{t()}finally{st(!1)}}return s.memoizedState=[l,n],l}function xf(t,n,s){return s===void 0||(Oa&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Uy(),ke.lanes|=t,La|=t,s)}function Pg(t,n,s,l){return wn(s,n)?s:As.current!==null?(t=xf(t,s,l),wn(t,n)||(Gt=!0),t):(Oa&42)===0?(Gt=!0,t.memoizedState=s):(t=Uy(),ke.lanes|=t,La|=t,n)}function jg(t,n,s,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var b=X.T,E={};X.T=E,wf(t,!1,n,s);try{var I=h(),G=X.S;if(G!==null&&G(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var te=IE(I,l);Ko(t,n,te,Dn(t))}else Ko(t,n,l,Dn(t))}catch(ae){Ko(t,n,{then:function(){},status:"rejected",reason:ae},Dn())}finally{ne.p=d,X.T=b}}function PE(){}function Ef(t,n,s,l){if(t.tag!==5)throw Error(r(476));var h=Ug(t).queue;jg(t,h,n,oe,s===null?PE:function(){return Lg(t),s(l)})}function Ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:oe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lg(t){var n=Ug(t).next.queue;Ko(t,n,{},Dn())}function Tf(){return rn(dl)}function zg(){return Mt().memoizedState}function Bg(){return Mt().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Dn();t=Na(s);var l=Ia(n,t,s);l!==null&&(Nn(l,n,s),Ho(l,n,s)),n={cache:Wh()},t.payload=n;return}n=n.return}}function UE(t,n,s){var l=Dn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Uc(t)?Hg(n,s):(s=qh(t,n,s,l),s!==null&&(Nn(s,t,l),Fg(s,n,l)))}function qg(t,n,s){var l=Dn();Ko(t,n,s,l)}function Ko(t,n,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Uc(t))Hg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,E=d(b,s);if(h.hasEagerState=!0,h.eagerState=E,wn(E,b))return xc(t,n,h,0),ct===null&&bc(),!1}catch{}finally{}if(s=qh(t,n,h,l),s!==null)return Nn(s,t,l),Fg(s,n,l),!0}return!1}function wf(t,n,s,l){if(l={lane:2,revertLane:nd(),action:l,hasEagerState:!1,eagerState:null,next:null},Uc(t)){if(n)throw Error(r(479))}else n=qh(t,s,l,2),n!==null&&Nn(n,t,2)}function Uc(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function Hg(t,n){Ss=Oc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Fg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,yo(t,s)}}var Lc={readContext:rn,use:Vc,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Gg={readContext:rn,use:Vc,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Cg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,jc(4194308,4,Og.bind(null,n,t),s)},useLayoutEffect:function(t,n){return jc(4194308,4,t,n)},useInsertionEffect:function(t,n){jc(4,2,t,n)},useMemo:function(t,n){var s=_n();n=n===void 0?null:n;var l=t();if(Pr){st(!0);try{t()}finally{st(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=_n();if(s!==void 0){var h=s(n);if(Pr){st(!0);try{s(n)}finally{st(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=UE.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=vf(t);var n=t.queue,s=qg.bind(null,ke,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(t,n){var s=_n();return xf(s,t,n)},useTransition:function(){var t=vf(!1);return t=jg.bind(null,ke,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=ke,h=_n();if(Xe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ct===null)throw Error(r(349));(Ge&124)!==0||fg(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,Cg(pg.bind(null,l,d,t),[t]),l.flags|=2048,Cs(9,Pc(),dg.bind(null,l,d,s,n),null),s},useId:function(){var t=_n(),n=ct.identifierPrefix;if(Xe){var s=ia,l=na;s=(l&~(1<<32-bt(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=Mc++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=OE++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Tf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,ke,!0,s),s.dispatch=n,[t,n]},useMemoCache:mf,useCacheRefresh:function(){return _n().memoizedState=jE.bind(null,ke)}},$g={readContext:rn,use:Vc,useCallback:Vg,useContext:rn,useEffect:Dg,useImperativeHandle:Mg,useInsertionEffect:Ng,useLayoutEffect:Ig,useMemo:kg,useReducer:kc,useRef:Rg,useState:function(){return kc(sa)},useDebugValue:bf,useDeferredValue:function(t,n){var s=Mt();return Pg(s,it.memoizedState,t,n)},useTransition:function(){var t=kc(sa)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:Qo(t),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:Tf,useFormState:wg,useActionState:wg,useOptimistic:function(t,n){var s=Mt();return yg(s,it,t,n)},useMemoCache:mf,useCacheRefresh:Bg},LE={readContext:rn,use:Vc,useCallback:Vg,useContext:rn,useEffect:Dg,useImperativeHandle:Mg,useInsertionEffect:Ng,useLayoutEffect:Ig,useMemo:kg,useReducer:yf,useRef:Rg,useState:function(){return yf(sa)},useDebugValue:bf,useDeferredValue:function(t,n){var s=Mt();return it===null?xf(s,t,n):Pg(s,it.memoizedState,t,n)},useTransition:function(){var t=yf(sa)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:Qo(t),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:Tf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var s=Mt();return it!==null?yg(s,it,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Bg},Ds=null,Xo=0;function zc(t){var n=Xo;return Xo+=1,Ds===null&&(Ds=[]),ig(Ds,t,n)}function Zo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bc(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qg(t){var n=t._init;return n(t._payload)}function Yg(t){function n(B,z){if(t){var F=B.deletions;F===null?(B.deletions=[z],B.flags|=16):F.push(z)}}function s(B,z){if(!t)return null;for(;z!==null;)n(B,z),z=z.sibling;return null}function l(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function h(B,z){return B=ta(B,z),B.index=0,B.sibling=null,B}function d(B,z,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<z?(B.flags|=67108866,z):F):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function b(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function E(B,z,F,ie){return z===null||z.tag!==6?(z=Fh(F,B.mode,ie),z.return=B,z):(z=h(z,F),z.return=B,z)}function I(B,z,F,ie){var be=F.type;return be===j?te(B,z,F.props.children,ie,F.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Qg(be)===z.type)?(z=h(z,F.props),Zo(z,F),z.return=B,z):(z=Tc(F.type,F.key,F.props,null,B.mode,ie),Zo(z,F),z.return=B,z)}function G(B,z,F,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=Gh(F,B.mode,ie),z.return=B,z):(z=h(z,F.children||[]),z.return=B,z)}function te(B,z,F,ie,be){return z===null||z.tag!==7?(z=Cr(F,B.mode,ie,be),z.return=B,z):(z=h(z,F),z.return=B,z)}function ae(B,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Fh(""+z,B.mode,F),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return F=Tc(z.type,z.key,z.props,null,B.mode,F),Zo(F,z),F.return=B,F;case D:return z=Gh(z,B.mode,F),z.return=B,z;case R:var ie=z._init;return z=ie(z._payload),ae(B,z,F)}if(ue(z)||L(z))return z=Cr(z,B.mode,F,null),z.return=B,z;if(typeof z.then=="function")return ae(B,zc(z),F);if(z.$$typeof===W)return ae(B,Rc(B,z),F);Bc(B,z)}return null}function $(B,z,F,ie){var be=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return be!==null?null:E(B,z,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return F.key===be?I(B,z,F,ie):null;case D:return F.key===be?G(B,z,F,ie):null;case R:return be=F._init,F=be(F._payload),$(B,z,F,ie)}if(ue(F)||L(F))return be!==null?null:te(B,z,F,ie,null);if(typeof F.then=="function")return $(B,z,zc(F),ie);if(F.$$typeof===W)return $(B,z,Rc(B,F),ie);Bc(B,F)}return null}function Y(B,z,F,ie,be){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(F)||null,E(z,B,""+ie,be);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return B=B.get(ie.key===null?F:ie.key)||null,I(z,B,ie,be);case D:return B=B.get(ie.key===null?F:ie.key)||null,G(z,B,ie,be);case R:var je=ie._init;return ie=je(ie._payload),Y(B,z,F,ie,be)}if(ue(ie)||L(ie))return B=B.get(F)||null,te(z,B,ie,be,null);if(typeof ie.then=="function")return Y(B,z,F,zc(ie),be);if(ie.$$typeof===W)return Y(B,z,F,Rc(z,ie),be);Bc(z,ie)}return null}function Ne(B,z,F,ie){for(var be=null,je=null,xe=z,Re=z=0,Qt=null;xe!==null&&Re<F.length;Re++){xe.index>Re?(Qt=xe,xe=null):Qt=xe.sibling;var Ke=$(B,xe,F[Re],ie);if(Ke===null){xe===null&&(xe=Qt);break}t&&xe&&Ke.alternate===null&&n(B,xe),z=d(Ke,z,Re),je===null?be=Ke:je.sibling=Ke,je=Ke,xe=Qt}if(Re===F.length)return s(B,xe),Xe&&Nr(B,Re),be;if(xe===null){for(;Re<F.length;Re++)xe=ae(B,F[Re],ie),xe!==null&&(z=d(xe,z,Re),je===null?be=xe:je.sibling=xe,je=xe);return Xe&&Nr(B,Re),be}for(xe=l(xe);Re<F.length;Re++)Qt=Y(xe,B,Re,F[Re],ie),Qt!==null&&(t&&Qt.alternate!==null&&xe.delete(Qt.key===null?Re:Qt.key),z=d(Qt,z,Re),je===null?be=Qt:je.sibling=Qt,je=Qt);return t&&xe.forEach(function(Ya){return n(B,Ya)}),Xe&&Nr(B,Re),be}function Se(B,z,F,ie){if(F==null)throw Error(r(151));for(var be=null,je=null,xe=z,Re=z=0,Qt=null,Ke=F.next();xe!==null&&!Ke.done;Re++,Ke=F.next()){xe.index>Re?(Qt=xe,xe=null):Qt=xe.sibling;var Ya=$(B,xe,Ke.value,ie);if(Ya===null){xe===null&&(xe=Qt);break}t&&xe&&Ya.alternate===null&&n(B,xe),z=d(Ya,z,Re),je===null?be=Ya:je.sibling=Ya,je=Ya,xe=Qt}if(Ke.done)return s(B,xe),Xe&&Nr(B,Re),be;if(xe===null){for(;!Ke.done;Re++,Ke=F.next())Ke=ae(B,Ke.value,ie),Ke!==null&&(z=d(Ke,z,Re),je===null?be=Ke:je.sibling=Ke,je=Ke);return Xe&&Nr(B,Re),be}for(xe=l(xe);!Ke.done;Re++,Ke=F.next())Ke=Y(xe,B,Re,Ke.value,ie),Ke!==null&&(t&&Ke.alternate!==null&&xe.delete(Ke.key===null?Re:Ke.key),z=d(Ke,z,Re),je===null?be=Ke:je.sibling=Ke,je=Ke);return t&&xe.forEach(function(z1){return n(B,z1)}),Xe&&Nr(B,Re),be}function rt(B,z,F,ie){if(typeof F=="object"&&F!==null&&F.type===j&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case S:e:{for(var be=F.key;z!==null;){if(z.key===be){if(be=F.type,be===j){if(z.tag===7){s(B,z.sibling),ie=h(z,F.props.children),ie.return=B,B=ie;break e}}else if(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Qg(be)===z.type){s(B,z.sibling),ie=h(z,F.props),Zo(ie,F),ie.return=B,B=ie;break e}s(B,z);break}else n(B,z);z=z.sibling}F.type===j?(ie=Cr(F.props.children,B.mode,ie,F.key),ie.return=B,B=ie):(ie=Tc(F.type,F.key,F.props,null,B.mode,ie),Zo(ie,F),ie.return=B,B=ie)}return b(B);case D:e:{for(be=F.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){s(B,z.sibling),ie=h(z,F.children||[]),ie.return=B,B=ie;break e}else{s(B,z);break}else n(B,z);z=z.sibling}ie=Gh(F,B.mode,ie),ie.return=B,B=ie}return b(B);case R:return be=F._init,F=be(F._payload),rt(B,z,F,ie)}if(ue(F))return Ne(B,z,F,ie);if(L(F)){if(be=L(F),typeof be!="function")throw Error(r(150));return F=be.call(F),Se(B,z,F,ie)}if(typeof F.then=="function")return rt(B,z,zc(F),ie);if(F.$$typeof===W)return rt(B,z,Rc(B,F),ie);Bc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,z!==null&&z.tag===6?(s(B,z.sibling),ie=h(z,F),ie.return=B,B=ie):(s(B,z),ie=Fh(F,B.mode,ie),ie.return=B,B=ie),b(B)):s(B,z)}return function(B,z,F,ie){try{Xo=0;var be=rt(B,z,F,ie);return Ds=null,be}catch(xe){if(xe===Bo||xe===Dc)throw xe;var je=An(29,xe,null,B.mode);return je.lanes=ie,je.return=B,je}finally{}}}var Ns=Yg(!0),Kg=Yg(!1),Fn=ee(null),Si=null;function Ma(t){var n=t.alternate;Q(Bt,Bt.current&1),Q(Fn,t),Si===null&&(n===null||As.current!==null||n.memoizedState!==null)&&(Si=t)}function Xg(t){if(t.tag===22){if(Q(Bt,Bt.current),Q(Fn,t),Si===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Si=t)}}else Va()}function Va(){Q(Bt,Bt.current),Q(Fn,Fn.current)}function oa(t){q(Fn),Si===t&&(Si=null),q(Bt)}var Bt=ee(0);function qc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||pd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Af(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:v({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Sf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Dn(),h=Na(l);h.payload=n,s!=null&&(h.callback=s),n=Ia(t,h,l),n!==null&&(Nn(n,t,l),Ho(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Dn(),h=Na(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ia(t,h,l),n!==null&&(Nn(n,t,l),Ho(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Dn(),l=Na(s);l.tag=2,n!=null&&(l.callback=n),n=Ia(t,l,s),n!==null&&(Nn(n,t,s),Ho(n,t,s))}};function Zg(t,n,s,l,h,d,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!Mo(s,l)||!Mo(h,d):!0}function Wg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Sf.enqueueReplaceState(n,n.state,null)}function jr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=v({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jg(t){Hc(t)}function ey(t){console.error(t)}function ty(t){Hc(t)}function Fc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ny(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(t,n,s){return s=Na(s),s.tag=3,s.payload={element:null},s.callback=function(){Fc(t,n)},s}function iy(t){return t=Na(t),t.tag=3,t}function ay(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ny(n,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){ny(n,s,l),typeof h!="function"&&(za===null?za=new Set([this]):za.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function zE(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Uo(n,s,h,!0),s=Fn.current,s!==null){switch(s.tag){case 13:return Si===null?Zf():s.alternate===null&&Et===0&&(Et=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===tf?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Jf(t,l,h)),!1;case 22:return s.flags|=65536,l===tf?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Jf(t,l,h)),!1}throw Error(r(435,s.tag))}return Jf(t,l,h),Zf(),!1}if(Xe)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(t=Error(r(422),{cause:l}),jo(zn(t,s)))):(l!==Yh&&(n=Error(r(423),{cause:l}),jo(zn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=zn(l,s),h=Rf(t.stateNode,l,h),rf(t,h),Et!==4&&(Et=2)),!1;var d=Error(r(520),{cause:l});if(d=zn(d,s),al===null?al=[d]:al.push(d),Et!==4&&(Et=2),n===null)return!0;l=zn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Rf(s.stateNode,l,t),rf(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(za===null||!za.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=iy(h),ay(h,t,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var ry=Error(r(461)),Gt=!1;function Wt(t,n,s,l){n.child=t===null?Kg(n,null,s,l):Ns(n,t.child,s,l)}function sy(t,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return Vr(n),l=uf(t,n,s,b,d,h),E=hf(),t!==null&&!Gt?(ff(t,n,h),la(t,n,h)):(Xe&&E&&$h(n),n.flags|=1,Wt(t,n,l,h),n.child)}function oy(t,n,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Hh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,ly(t,n,d,l,h)):(t=Tc(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!kf(t,h)){var b=d.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(b,l)&&t.ref===n.ref)return la(t,n,h)}return n.flags|=1,t=ta(d,l),t.ref=n.ref,t.return=n,n.child=t}function ly(t,n,s,l,h){if(t!==null){var d=t.memoizedProps;if(Mo(d,l)&&t.ref===n.ref)if(Gt=!1,n.pendingProps=l=d,kf(t,h))(t.flags&131072)!==0&&(Gt=!0);else return n.lanes=t.lanes,la(t,n,h)}return Cf(t,n,s,l,h)}function cy(t,n,s){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return uy(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cc(n,d!==null?d.cachePool:null),d!==null?lg(n,d):of(),Xg(n);else return n.lanes=n.childLanes=536870912,uy(t,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(Cc(n,d.cachePool),lg(n,d),Va(),n.memoizedState=null):(t!==null&&Cc(n,null),of(),Va());return Wt(t,n,h,s),n.child}function uy(t,n,s,l){var h=ef();return h=h===null?null:{parent:zt._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&Cc(n,null),of(),Xg(n),t!==null&&Uo(t,n,l,!0),null}function Gc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Cf(t,n,s,l,h){return Vr(n),s=uf(t,n,s,l,void 0,h),l=hf(),t!==null&&!Gt?(ff(t,n,h),la(t,n,h)):(Xe&&l&&$h(n),n.flags|=1,Wt(t,n,s,h),n.child)}function hy(t,n,s,l,h,d){return Vr(n),n.updateQueue=null,s=ug(n,l,s,h),cg(t),l=hf(),t!==null&&!Gt?(ff(t,n,d),la(t,n,d)):(Xe&&l&&$h(n),n.flags|=1,Wt(t,n,s,d),n.child)}function fy(t,n,s,l,h){if(Vr(n),n.stateNode===null){var d=bs,b=s.contextType;typeof b=="object"&&b!==null&&(d=rn(b)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},nf(n),b=s.contextType,d.context=typeof b=="object"&&b!==null?rn(b):bs,d.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Af(n,s,b,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Sf.enqueueReplaceState(d,d.state,null),Go(n,l,d,h),Fo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,I=jr(s,E);d.props=I;var G=d.context,te=s.contextType;b=bs,typeof te=="object"&&te!==null&&(b=rn(te));var ae=s.getDerivedStateFromProps;te=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||G!==b)&&Wg(n,d,l,b),Da=!1;var $=n.memoizedState;d.state=$,Go(n,l,d,h),Fo(),G=n.memoizedState,E||$!==G||Da?(typeof ae=="function"&&(Af(n,s,ae,l),G=n.memoizedState),(I=Da||Zg(n,s,I,l,$,G,b))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=b,l=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,af(t,n),b=n.memoizedProps,te=jr(s,b),d.props=te,ae=n.pendingProps,$=d.context,G=s.contextType,I=bs,typeof G=="object"&&G!==null&&(I=rn(G)),E=s.getDerivedStateFromProps,(G=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==ae||$!==I)&&Wg(n,d,l,I),Da=!1,$=n.memoizedState,d.state=$,Go(n,l,d,h),Fo();var Y=n.memoizedState;b!==ae||$!==Y||Da||t!==null&&t.dependencies!==null&&Sc(t.dependencies)?(typeof E=="function"&&(Af(n,s,E,l),Y=n.memoizedState),(te=Da||Zg(n,s,te,l,$,Y,I)||t!==null&&t.dependencies!==null&&Sc(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=te):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Gc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Ns(n,t.child,null,h),n.child=Ns(n,null,s,h)):Wt(t,n,s,h),n.memoizedState=d.state,t=n.child):t=la(t,n,h),t}function dy(t,n,s,l){return Po(),n.flags|=256,Wt(t,n,s,l),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:eg()}}function If(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Gn),t}function py(t,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xe){if(h?Ma(n):Va(),Xe){var E=xt,I;if(I=E){e:{for(I=E,E=Ai;I.nodeType!==8;){if(!E){E=null;break e}if(I=si(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(n.memoizedState={dehydrated:E,treeContext:Dr!==null?{id:na,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},I=An(18,null,null,0),I.stateNode=E,I.return=n,n.child=I,pn=n,xt=null,I=!0):I=!1}I||Or(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pd(E)?n.lanes=32:n.lanes=536870912,null;oa(n)}return E=l.children,l=l.fallback,h?(Va(),h=n.mode,E=$c({mode:"hidden",children:E},h),l=Cr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=Nf(s),h.childLanes=If(t,b,s),n.memoizedState=Df,l):(Ma(n),Of(n,E))}if(I=t.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(d)n.flags&256?(Ma(n),n.flags&=-257,n=Mf(t,n,s)):n.memoizedState!==null?(Va(),n.child=t.child,n.flags|=128,n=null):(Va(),h=l.fallback,E=n.mode,l=$c({mode:"visible",children:l.children},E),h=Cr(h,E,s,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Ns(n,t.child,null,s),l=n.child,l.memoizedState=Nf(s),l.childLanes=If(t,b,s),n.memoizedState=Df,n=h);else if(Ma(n),pd(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(r(419)),l.stack="",l.digest=b,jo({value:l,source:null,stack:null}),n=Mf(t,n,s)}else if(Gt||Uo(t,n,s,!1),b=(s&t.childLanes)!==0,Gt||b){if(b=ct,b!==null&&(l=s&-s,l=(l&42)!==0?1:xa(l),l=(l&(b.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,_s(t,l),Nn(b,t,l),ry;E.data==="$?"||Zf(),n=Mf(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,xt=si(E.nextSibling),pn=n,Xe=!0,Ir=null,Ai=!1,t!==null&&(qn[Hn++]=na,qn[Hn++]=ia,qn[Hn++]=Dr,na=t.id,ia=t.overflow,Dr=n),n=Of(n,l.children),n.flags|=4096);return n}return h?(Va(),h=l.fallback,E=n.mode,I=t.child,G=I.sibling,l=ta(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,G!==null?h=ta(G,h):(h=Cr(h,E,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=t.child.memoizedState,E===null?E=Nf(s):(I=E.cachePool,I!==null?(G=zt._currentValue,I=I.parent!==G?{parent:G,pool:G}:I):I=eg(),E={baseLanes:E.baseLanes|s,cachePool:I}),h.memoizedState=E,h.childLanes=If(t,b,s),n.memoizedState=Df,l):(Ma(n),s=t.child,t=s.sibling,s=ta(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=s,n.memoizedState=null,s)}function Of(t,n){return n=$c({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $c(t,n){return t=An(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mf(t,n,s){return Ns(n,t.child,null,s),t=Of(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function my(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xh(t.return,n,s)}function Vf(t,n,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function gy(t,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Wt(t,n,l.children,s),l=Bt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&my(t,s,n);else if(t.tag===19)my(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Q(Bt,l),h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&qc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Vf(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qc(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Vf(n,!0,s,null,d);break;case"together":Vf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function la(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),La|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Uo(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=ta(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ta(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Sc(t)))}function BE(t,n,s){switch(n.tag){case 3:Ae(n,n.stateNode.containerInfo),Ca(n,zt,t.memoizedState.cache),Po();break;case 27:case 5:Ye(n);break;case 4:Ae(n,n.stateNode.containerInfo);break;case 10:Ca(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ma(n),n.flags|=128,null):(s&n.child.childLanes)!==0?py(t,n,s):(Ma(n),t=la(t,n,s),t!==null?t.sibling:null);Ma(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Uo(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return gy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(Bt,Bt.current),l)break;return null;case 22:case 23:return n.lanes=0,cy(t,n,s);case 24:Ca(n,zt,t.memoizedState.cache)}return la(t,n,s)}function yy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Gt=!0;else{if(!kf(t,s)&&(n.flags&128)===0)return Gt=!1,BE(t,n,s);Gt=(t.flags&131072)!==0}else Gt=!1,Xe&&(n.flags&1048576)!==0&&Qm(n,Ac,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Hh(l)?(t=jr(l,t),n.tag=1,n=fy(null,n,l,t,s)):(n.tag=0,n=Cf(null,n,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===he){n.tag=11,n=sy(null,n,l,t,s);break e}else if(h===P){n.tag=14,n=oy(null,n,l,t,s);break e}}throw n=pe(l)||l,Error(r(306,n,""))}}return n;case 0:return Cf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=jr(l,n.pendingProps),fy(t,n,l,h,s);case 3:e:{if(Ae(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,af(t,n),Go(n,l,null,s);var b=n.memoizedState;if(l=b.cache,Ca(n,zt,l),l!==d.cache&&Zh(n,[zt],s,!0),Fo(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=dy(t,n,l,s);break e}else if(l!==h){h=zn(Error(r(424)),n),jo(h),n=dy(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=si(t.firstChild),pn=n,Xe=!0,Ir=null,Ai=!0,s=Kg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Po(),l===h){n=la(t,n,s);break e}Wt(t,n,l,s)}n=n.child}return n;case 26:return Gc(t,n),t===null?(s=xv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Xe||(s=n.type,t=n.pendingProps,l=su(ye.current).createElement(s),l[jt]=n,l[Nt]=t,en(l,s,t),At(l),n.stateNode=l):n.memoizedState=xv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ye(n),t===null&&Xe&&(l=n.stateNode=vv(n.type,n.pendingProps,ye.current),pn=n,Ai=!0,h=xt,Ha(n.type)?(md=h,xt=si(l.firstChild)):xt=h),Wt(t,n,n.pendingProps.children,s),Gc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xe&&((h=l=xt)&&(l=m1(l,n.type,n.pendingProps,Ai),l!==null?(n.stateNode=l,pn=n,xt=si(l.firstChild),Ai=!1,h=!0):h=!1),h||Or(n)),Ye(n),h=n.type,d=n.pendingProps,b=t!==null?t.memoizedProps:null,l=d.children,hd(h,d)?l=null:b!==null&&hd(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(t,n,ME,null,null,s),dl._currentValue=h),Gc(t,n),Wt(t,n,l,s),n.child;case 6:return t===null&&Xe&&((t=s=xt)&&(s=g1(s,n.pendingProps,Ai),s!==null?(n.stateNode=s,pn=n,xt=null,t=!0):t=!1),t||Or(n)),null;case 13:return py(t,n,s);case 4:return Ae(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ns(n,null,l,s):Wt(t,n,l,s),n.child;case 11:return sy(t,n,n.type,n.pendingProps,s);case 7:return Wt(t,n,n.pendingProps,s),n.child;case 8:return Wt(t,n,n.pendingProps.children,s),n.child;case 12:return Wt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ca(n,n.type,l.value),Wt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Vr(n),h=rn(h),l=l(h),n.flags|=1,Wt(t,n,l,s),n.child;case 14:return oy(t,n,n.type,n.pendingProps,s);case 15:return ly(t,n,n.type,n.pendingProps,s);case 19:return gy(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=$c(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=ta(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return cy(t,n,s);case 24:return Vr(n),l=rn(zt),t===null?(h=ef(),h===null&&(h=ct,d=Wh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},nf(n),Ca(n,zt,h)):((t.lanes&s)!==0&&(af(t,n),Go(n,null,null,s),Fo()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ca(n,zt,l)):(l=d.cache,Ca(n,zt,l),l!==h.cache&&Zh(n,[zt],s,!0))),Wt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ca(t){t.flags|=4}function vy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sv(n)){if(n=Fn.current,n!==null&&((Ge&4194048)===Ge?Si!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||n!==Si))throw qo=tf,tg;t.flags|=8192}}function Qc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mo():536870912,t.lanes|=n,Vs|=n)}function Wo(t,n){if(!Xe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function qE(t,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ra(zt),Pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ko(n)?ca(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xm())),gt(n),null;case 26:return s=n.memoizedState,t===null?(ca(n),s!==null?(gt(n),vy(n,s)):(gt(n),n.flags&=-16777217)):s?s!==t.memoizedState?(ca(n),gt(n),vy(n,s)):(gt(n),n.flags&=-16777217):(t.memoizedProps!==l&&ca(n),gt(n),n.flags&=-16777217),null;case 27:ft(n),s=ye.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ca(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return gt(n),null}t=le.current,ko(n)?Ym(n):(t=vv(h,l,s),n.stateNode=t,ca(n))}return gt(n),null;case 5:if(ft(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ca(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return gt(n),null}if(t=le.current,ko(n))Ym(n);else{switch(h=su(ye.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[jt]=n,t[Nt]=l;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;e:switch(en(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ca(n)}}return gt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ca(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ye.current,ko(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=pn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||hv(t.nodeValue,s)),t||Or(n)}else t=su(t).createTextNode(l),t[jt]=n,n.stateNode=t}return gt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ko(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=n}else Po(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=Xm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(oa(n),n):(oa(n),null)}if(oa(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Qc(n,n.updateQueue),gt(n),null;case 4:return Pe(),t===null&&sd(n.stateNode.containerInfo),gt(n),null;case 10:return ra(n.type),gt(n),null;case 19:if(q(Bt),h=n.memoizedState,h===null)return gt(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Wo(h,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=qc(t),d!==null){for(n.flags|=128,Wo(h,!1),t=d.updateQueue,n.updateQueue=t,Qc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)$m(s,t),s=s.sibling;return Q(Bt,Bt.current&1|2),n.child}t=t.sibling}h.tail!==null&&_t()>Xc&&(n.flags|=128,l=!0,Wo(h,!1),n.lanes=4194304)}else{if(!l)if(t=qc(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Qc(n,t),Wo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Xe)return gt(n),null}else 2*_t()-h.renderingStartTime>Xc&&s!==536870912&&(n.flags|=128,l=!0,Wo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=_t(),n.sibling=null,t=Bt.current,Q(Bt,l?t&1|2:t&1),n):(gt(n),null);case 22:case 23:return oa(n),lf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),s=n.updateQueue,s!==null&&Qc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&q(kr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ra(zt),gt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function HE(t,n){switch(Qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ra(zt),Pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ft(n),null;case 13:if(oa(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Po()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return q(Bt),null;case 4:return Pe(),null;case 10:return ra(n.type),null;case 22:case 23:return oa(n),lf(),t!==null&&q(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ra(zt),null;case 25:return null;default:return null}}function _y(t,n){switch(Qh(n),n.tag){case 3:ra(zt),Pe();break;case 26:case 27:case 5:ft(n);break;case 4:Pe();break;case 13:oa(n);break;case 19:q(Bt);break;case 10:ra(n.type);break;case 22:case 23:oa(n),lf(),t!==null&&q(kr);break;case 24:ra(zt)}}function Jo(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,b=s.inst;l=d(),b.destroy=l}s=s.next}while(s!==h)}}catch(E){ot(n,n.return,E)}}function ka(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,h=n;var I=s,G=E;try{G()}catch(te){ot(h,I,te)}}}l=l.next}while(l!==d)}}catch(te){ot(n,n.return,te)}}function by(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{og(n,s)}catch(l){ot(t,t.return,l)}}}function xy(t,n,s){s.props=jr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ot(t,n,l)}}function el(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){ot(t,n,h)}}function Ri(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ot(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ot(t,n,h)}else s.current=null}function Ey(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ot(t,t.return,h)}}function Pf(t,n,s){try{var l=t.stateNode;u1(l,t.type,s,n),l[Nt]=n}catch(h){ot(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ha(t.type)||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ha(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ru));else if(l!==4&&(l===27&&Ha(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Uf(t,n,s),t=t.sibling;t!==null;)Uf(t,n,s),t=t.sibling}function Yc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ha(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yc(t,n,s),t=t.sibling;t!==null;)Yc(t,n,s),t=t.sibling}function wy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,l,s),n[jt]=t,n[Nt]=s}catch(d){ot(t,t.return,d)}}var ua=!1,Rt=!1,Lf=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,$t=null;function FE(t,n){if(t=t.containerInfo,cd=fu,t=Pm(t),Ph(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var b=0,E=-1,I=-1,G=0,te=0,ae=t,$=null;t:for(;;){for(var Y;ae!==s||h!==0&&ae.nodeType!==3||(E=b+h),ae!==d||l!==0&&ae.nodeType!==3||(I=b+l),ae.nodeType===3&&(b+=ae.nodeValue.length),(Y=ae.firstChild)!==null;)$=ae,ae=Y;for(;;){if(ae===t)break t;if($===s&&++G===h&&(E=b),$===d&&++te===l&&(I=b),(Y=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=Y}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ud={focusedElem:t,selectionRange:s},fu=!1,$t=n;$t!==null;)if(n=$t,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,$t=t;else for(;$t!==null;){switch(n=$t,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ne=jr(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ne,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ot(s,s.return,Se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)dd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,$t=t;break}$t=n.return}}function Sy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Pa(t,s),l&4&&Jo(5,s);break;case 1:if(Pa(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(b){ot(s,s.return,b)}else{var h=jr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(s,s.return,b)}}l&64&&by(s),l&512&&el(s,s.return);break;case 3:if(Pa(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{og(t,n)}catch(b){ot(s,s.return,b)}}break;case 27:n===null&&l&4&&wy(s);case 26:case 5:Pa(t,s),n===null&&l&4&&Ey(s),l&512&&el(s,s.return);break;case 12:Pa(t,s);break;case 13:Pa(t,s),l&4&&Dy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=JE.bind(null,s),y1(t,s))));break;case 22:if(l=s.memoizedState!==null||ua,!l){n=n!==null&&n.memoizedState!==null||Rt,h=ua;var d=Rt;ua=l,(Rt=n)&&!d?ja(t,s,(s.subtreeFlags&8772)!==0):Pa(t,s),ua=h,Rt=d}break;case 30:break;default:Pa(t,s)}}function Ry(t){var n=t.alternate;n!==null&&(t.alternate=null,Ry(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&wa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,bn=!1;function ha(t,n,s){for(s=s.child;s!==null;)Cy(t,n,s),s=s.sibling}function Cy(t,n,s){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Me,s)}catch{}switch(s.tag){case 26:Rt||Ri(s,n),ha(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Rt||Ri(s,n);var l=pt,h=bn;Ha(s.type)&&(pt=s.stateNode,bn=!1),ha(t,n,s),cl(s.stateNode),pt=l,bn=h;break;case 5:Rt||Ri(s,n);case 6:if(l=pt,h=bn,pt=null,ha(t,n,s),pt=l,bn=h,pt!==null)if(bn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(d){ot(s,n,d)}else try{pt.removeChild(s.stateNode)}catch(d){ot(s,n,d)}break;case 18:pt!==null&&(bn?(t=pt,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),yl(t)):gv(pt,s.stateNode));break;case 4:l=pt,h=bn,pt=s.stateNode.containerInfo,bn=!0,ha(t,n,s),pt=l,bn=h;break;case 0:case 11:case 14:case 15:Rt||ka(2,s,n),Rt||ka(4,s,n),ha(t,n,s);break;case 1:Rt||(Ri(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&xy(s,n,l)),ha(t,n,s);break;case 21:ha(t,n,s);break;case 22:Rt=(l=Rt)||s.memoizedState!==null,ha(t,n,s),Rt=l;break;default:ha(t,n,s)}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yl(t)}catch(s){ot(n,n.return,s)}}function GE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ay),n;default:throw Error(r(435,t.tag))}}function zf(t,n){var s=GE(t);n.forEach(function(l){var h=e1.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Sn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,b=n,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(Ha(E.type)){pt=E.stateNode,bn=!1;break e}break;case 5:pt=E.stateNode,bn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,bn=!0;break e}E=E.return}if(pt===null)throw Error(r(160));Cy(d,b,h),pt=null,bn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ny(n,t),n=n.sibling}var ri=null;function Ny(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),Rn(t),l&4&&(ka(3,t,t.return),Jo(3,t),ka(5,t,t.return));break;case 1:Sn(n,t),Rn(t),l&512&&(Rt||s===null||Ri(s,s.return)),l&64&&ua&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ri;if(Sn(n,t),Rn(t),l&512&&(Rt||s===null||Ri(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fr]||d[jt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),en(d,l,s),d[jt]=t,At(d),l=d;break e;case"link":var b=wv("link","href",h).get(l+(s.href||""));if(b){for(var E=0;E<b.length;E++)if(d=b[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(E,1);break t}}d=h.createElement(l),en(d,l,s),h.head.appendChild(d);break;case"meta":if(b=wv("meta","content",h).get(l+(s.content||""))){for(E=0;E<b.length;E++)if(d=b[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(E,1);break t}}d=h.createElement(l),en(d,l,s),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[jt]=t,At(d),l=d}t.stateNode=l}else Av(h,t.type,t.stateNode);else t.stateNode=Tv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Av(h,t.type,t.stateNode):Tv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Sn(n,t),Rn(t),l&512&&(Rt||s===null||Ri(s,s.return)),s!==null&&l&4&&Pf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Sn(n,t),Rn(t),l&512&&(Rt||s===null||Ri(s,s.return)),t.flags&32){h=t.stateNode;try{Pn(h,"")}catch(Y){ot(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Pf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Lf=!0);break;case 6:if(Sn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Y){ot(t,t.return,Y)}}break;case 3:if(cu=null,h=ri,ri=ou(n.containerInfo),Sn(n,t),ri=h,Rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{yl(n.containerInfo)}catch(Y){ot(t,t.return,Y)}Lf&&(Lf=!1,Iy(t));break;case 4:l=ri,ri=ou(t.stateNode.containerInfo),Sn(n,t),Rn(t),ri=l;break;case 12:Sn(n,t),Rn(t);break;case 13:Sn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($f=_t()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zf(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,G=ua,te=Rt;if(ua=G||h,Rt=te||I,Sn(n,t),Rt=te,ua=G,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||ua||Rt||Ur(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(d=I.stateNode,h)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=I.stateNode;var ae=I.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){ot(I,I.return,Y)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Y){ot(I,I.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,zf(t,s))));break;case 19:Sn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zf(t,l)));break;case 30:break;case 21:break;default:Sn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Ty(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=jf(t);Yc(t,d,h);break;case 5:var b=s.stateNode;s.flags&32&&(Pn(b,""),s.flags&=-33);var E=jf(t);Yc(t,E,b);break;case 3:case 4:var I=s.stateNode.containerInfo,G=jf(t);Uf(t,G,I);break;default:throw Error(r(161))}}catch(te){ot(t,t.return,te)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(t,n.alternate,n),n=n.sibling}function Ur(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ka(4,n,n.return),Ur(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&xy(n,n.return,s),Ur(n);break;case 27:cl(n.stateNode);case 26:case 5:Ri(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}t=t.sibling}}function ja(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:ja(h,d,s),Jo(4,d);break;case 1:if(ja(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){ot(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)sg(I[h],E)}catch(G){ot(l,l.return,G)}}s&&b&64&&by(d),el(d,d.return);break;case 27:wy(d);case 26:case 5:ja(h,d,s),s&&l===null&&b&4&&Ey(d),el(d,d.return);break;case 12:ja(h,d,s);break;case 13:ja(h,d,s),s&&b&4&&Dy(h,d);break;case 22:d.memoizedState===null&&ja(h,d,s),el(d,d.return);break;case 30:break;default:ja(h,d,s)}n=n.sibling}}function Bf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Lo(s))}function qf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Lo(t))}function Ci(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(t,n,s,l),n=n.sibling}function Oy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(t,n,s,l),h&2048&&Jo(9,n);break;case 1:Ci(t,n,s,l);break;case 3:Ci(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Lo(t)));break;case 12:if(h&2048){Ci(t,n,s,l),t=n.stateNode;try{var d=n.memoizedProps,b=d.id,E=d.onPostCommit;typeof E=="function"&&E(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ot(n,n.return,I)}}else Ci(t,n,s,l);break;case 13:Ci(t,n,s,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Ci(t,n,s,l):tl(t,n):d._visibility&2?Ci(t,n,s,l):(d._visibility|=2,Is(t,n,s,l,(n.subtreeFlags&10256)!==0)),h&2048&&Bf(b,n);break;case 24:Ci(t,n,s,l),h&2048&&qf(n.alternate,n);break;default:Ci(t,n,s,l)}}function Is(t,n,s,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,b=n,E=s,I=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:Is(d,b,E,I,h),Jo(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?Is(d,b,E,I,h):tl(d,b):(te._visibility|=2,Is(d,b,E,I,h)),h&&G&2048&&Bf(b.alternate,b);break;case 24:Is(d,b,E,I,h),h&&G&2048&&qf(b.alternate,b);break;default:Is(d,b,E,I,h)}n=n.sibling}}function tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:tl(s,l),h&2048&&Bf(l.alternate,l);break;case 24:tl(s,l),h&2048&&qf(l.alternate,l);break;default:tl(s,l)}n=n.sibling}}var nl=8192;function Os(t){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 26:Os(t),t.flags&nl&&t.memoizedState!==null&&N1(ri,t.memoizedState,t.memoizedProps);break;case 5:Os(t);break;case 3:case 4:var n=ri;ri=ou(t.stateNode.containerInfo),Os(t),ri=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=nl,nl=16777216,Os(t),nl=n):Os(t));break;default:Os(t)}}function Vy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];$t=l,Py(l,t)}Vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&ka(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Kc(t)):il(t);break;default:il(t)}}function Kc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];$t=l,Py(l,t)}Vy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ka(8,n,n.return),Kc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Kc(n));break;default:Kc(n)}t=t.sibling}}function Py(t,n){for(;$t!==null;){var s=$t;switch(s.tag){case 0:case 11:case 15:ka(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,$t=l;else e:for(s=t;$t!==null;){l=$t;var h=l.sibling,d=l.return;if(Ry(l),l===s){$t=null;break e}if(h!==null){h.return=d,$t=h;break e}$t=d}}}var $E={getCacheForType:function(t){var n=rn(zt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},QE=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Ue=null,Ge=0,tt=0,Cn=null,Ua=!1,Ms=!1,Hf=!1,fa=0,Et=0,La=0,Lr=0,Ff=0,Gn=0,Vs=0,al=null,xn=null,Gf=!1,$f=0,Xc=1/0,Zc=null,za=null,Jt=0,Ba=null,ks=null,Ps=0,Qf=0,Yf=null,jy=null,rl=0,Kf=null;function Dn(){if((et&2)!==0&&Ge!==0)return Ge&-Ge;if(X.T!==null){var t=Ts;return t!==0?t:nd()}return Ea()}function Uy(){Gn===0&&(Gn=(Ge&536870912)===0||Xe?hr():536870912);var t=Fn.current;return t!==null&&(t.flags|=32),Gn}function Nn(t,n,s){(t===ct&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(js(t,0),qa(t,Ge,Gn,!1)),Fi(t,s),((et&2)===0||t!==ct)&&(t===ct&&((et&2)===0&&(Lr|=s),Et===4&&qa(t,Ge,Gn,!1)),Di(t))}function Ly(t,n,s){if((et&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||ti(t,n),h=l?XE(t,n):Wf(t,n,!0),d=l;do{if(h===0){Ms&&!l&&qa(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!YE(s)){h=Wf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var E=t;h=al;var I=E.current.memoizedState.isDehydrated;if(I&&(js(E,b).flags|=256),b=Wf(E,b,!1),b!==2){if(Hf&&!I){E.errorRecoveryDisabledLanes|=d,Lr|=d,h=4;break e}d=xn,xn=h,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}h=b}if(d=!1,h!==2)continue}}if(h===1){js(t,0),qa(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:qa(l,n,Gn,!Ua);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=$f+300-_t(),10<h)){if(qa(l,n,Gn,!Ua),di(l,0,!0)!==0)break e;l.timeoutHandle=pv(zy.bind(null,l,s,xn,Zc,Gf,n,Gn,Lr,Vs,Ua,d,2,-0,0),h);break e}zy(l,s,xn,Zc,Gf,n,Gn,Lr,Vs,Ua,d,0,-0,0)}}break}while(!0);Di(t)}function zy(t,n,s,l,h,d,b,E,I,G,te,ae,$,Y){if(t.timeoutHandle=-1,ae=n.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:D1},My(n),ae=I1(),ae!==null)){t.cancelPendingCommit=ae(Qy.bind(null,t,n,d,s,l,h,b,E,I,te,1,$,Y)),qa(t,d,b,!G);return}Qy(t,n,d,s,l,h,b,E,I)}function YE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!wn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qa(t,n,s,l){n&=~Ff,n&=~Lr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-bt(h),b=1<<d;l[d]=-1,h&=~b}s!==0&&pi(t,s,n)}function Wc(){return(et&6)===0?(sl(0),!1):!0}function Xf(){if(Ue!==null){if(tt===0)var t=Ue.return;else t=Ue,aa=Mr=null,df(t),Ds=null,Xo=0,t=Ue;for(;t!==null;)_y(t.alternate,t),t=t.return;Ue=null}}function js(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,f1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Xf(),ct=t,Ue=s=ta(t.current,null),Ge=n,tt=0,Cn=null,Ua=!1,Ms=ti(t,n),Hf=!1,Vs=Gn=Ff=Lr=La=Et=0,xn=al=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-bt(l),d=1<<h;n|=t[h],l&=~d}return fa=n,bc(),s}function By(t,n){ke=null,X.H=Lc,n===Bo||n===Dc?(n=ag(),tt=3):n===tg?(n=ag(),tt=4):tt=n===ry?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Ue===null&&(Et=1,Fc(t,zn(n,t.current)))}function qy(){var t=X.H;return X.H=Lc,t===null?Lc:t}function Hy(){var t=X.A;return X.A=$E,t}function Zf(){Et=4,Ua||(Ge&4194048)!==Ge&&Fn.current!==null||(Ms=!0),(La&134217727)===0&&(Lr&134217727)===0||ct===null||qa(ct,Ge,Gn,!1)}function Wf(t,n,s){var l=et;et|=2;var h=qy(),d=Hy();(ct!==t||Ge!==n)&&(Zc=null,js(t,n)),n=!1;var b=Et;e:do try{if(tt!==0&&Ue!==null){var E=Ue,I=Cn;switch(tt){case 8:Xf(),b=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var G=tt;if(tt=0,Cn=null,Us(t,E,I,G),s&&Ms){b=0;break e}break;default:G=tt,tt=0,Cn=null,Us(t,E,I,G)}}KE(),b=Et;break}catch(te){By(t,te)}while(!0);return n&&t.shellSuspendCounter++,aa=Mr=null,et=l,X.H=h,X.A=d,Ue===null&&(ct=null,Ge=0,bc()),b}function KE(){for(;Ue!==null;)Fy(Ue)}function XE(t,n){var s=et;et|=2;var l=qy(),h=Hy();ct!==t||Ge!==n?(Zc=null,Xc=_t()+500,js(t,n)):Ms=ti(t,n);e:do try{if(tt!==0&&Ue!==null){n=Ue;var d=Cn;t:switch(tt){case 1:tt=0,Cn=null,Us(t,n,d,1);break;case 2:case 9:if(ng(d)){tt=0,Cn=null,Gy(n);break}n=function(){tt!==2&&tt!==9||ct!==t||(tt=7),Di(t)},d.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:ng(d)?(tt=0,Cn=null,Gy(n)):(tt=0,Cn=null,Us(t,n,d,7));break;case 5:var b=null;switch(Ue.tag){case 26:b=Ue.memoizedState;case 5:case 27:var E=Ue;if(!b||Sv(b)){tt=0,Cn=null;var I=E.sibling;if(I!==null)Ue=I;else{var G=E.return;G!==null?(Ue=G,Jc(G)):Ue=null}break t}}tt=0,Cn=null,Us(t,n,d,5);break;case 6:tt=0,Cn=null,Us(t,n,d,6);break;case 8:Xf(),Et=6;break e;default:throw Error(r(462))}}ZE();break}catch(te){By(t,te)}while(!0);return aa=Mr=null,X.H=l,X.A=h,et=s,Ue!==null?0:(ct=null,Ge=0,bc(),Et)}function ZE(){for(;Ue!==null&&!Mn();)Fy(Ue)}function Fy(t){var n=yy(t.alternate,t,fa);t.memoizedProps=t.pendingProps,n===null?Jc(t):Ue=n}function Gy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=hy(s,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=hy(s,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:df(n);default:_y(s,n),n=Ue=$m(n,fa),n=yy(s,n,fa)}t.memoizedProps=t.pendingProps,n===null?Jc(t):Ue=n}function Us(t,n,s,l){aa=Mr=null,df(n),Ds=null,Xo=0;var h=n.return;try{if(zE(t,h,n,s,Ge)){Et=1,Fc(t,zn(s,t.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;Et=1,Fc(t,zn(s,t.current)),Ue=null;return}n.flags&32768?(Xe||l===1?t=!0:Ms||(Ge&536870912)!==0?t=!1:(Ua=t=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(n,t)):Jc(n)}function Jc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,Ua);return}t=n.return;var s=qE(n.alternate,n,fa);if(s!==null){Ue=s;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);Et===0&&(Et=5)}function $y(t,n){do{var s=HE(t.alternate,t);if(s!==null){s.flags&=32767,Ue=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=s}while(t!==null);Et=6,Ue=null}function Qy(t,n,s,l,h,d,b,E,I){t.cancelPendingCommit=null;do eu();while(Jt!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Bh,go(t,s,d,b,E,I),t===ct&&(Ue=ct=null,Ge=0),ks=n,Ba=t,Ps=s,Qf=d,Yf=h,jy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,t1(Bi,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ne.p,ne.p=2,b=et,et|=4;try{FE(t,n,s)}finally{et=b,ne.p=h,X.T=l}}Jt=1,Yy(),Ky(),Xy()}}function Yy(){if(Jt===1){Jt=0;var t=Ba,n=ks,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ne.p;ne.p=2;var h=et;et|=4;try{Ny(n,t);var d=ud,b=Pm(t.containerInfo),E=d.focusedElem,I=d.selectionRange;if(b!==E&&E&&E.ownerDocument&&km(E.ownerDocument.documentElement,E)){if(I!==null&&Ph(E)){var G=I.start,te=I.end;if(te===void 0&&(te=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(te,E.value.length);else{var ae=E.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var Y=$.getSelection(),Ne=E.textContent.length,Se=Math.min(I.start,Ne),rt=I.end===void 0?Se:Math.min(I.end,Ne);!Y.extend&&Se>rt&&(b=rt,rt=Se,Se=b);var B=Vm(E,Se),z=Vm(E,rt);if(B&&z&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==z.node||Y.focusOffset!==z.offset)){var F=ae.createRange();F.setStart(B.node,B.offset),Y.removeAllRanges(),Se>rt?(Y.addRange(F),Y.extend(z.node,z.offset)):(F.setEnd(z.node,z.offset),Y.addRange(F))}}}}for(ae=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&ae.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ae.length;E++){var ie=ae[E];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}fu=!!cd,ud=cd=null}finally{et=h,ne.p=l,X.T=s}}t.current=n,Jt=2}}function Ky(){if(Jt===2){Jt=0;var t=Ba,n=ks,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ne.p;ne.p=2;var h=et;et|=4;try{Sy(t,n.alternate,n)}finally{et=h,ne.p=l,X.T=s}}Jt=3}}function Xy(){if(Jt===4||Jt===3){Jt=0,Kn();var t=Ba,n=ks,s=Ps,l=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Jt=5:(Jt=0,ks=Ba=null,Zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(za=null),ts(s),n=n.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Me,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=ne.p,ne.p=2,X.T=null;try{for(var d=t.onRecoverableError,b=0;b<l.length;b++){var E=l[b];d(E.value,{componentStack:E.stack})}}finally{X.T=n,ne.p=h}}(Ps&3)!==0&&eu(),Di(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Kf?rl++:(rl=0,Kf=t):rl=0,sl(0)}}function Zy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Lo(n)))}function eu(t){return Yy(),Ky(),Xy(),Wy()}function Wy(){if(Jt!==5)return!1;var t=Ba,n=Qf;Qf=0;var s=ts(Ps),l=X.T,h=ne.p;try{ne.p=32>s?32:s,X.T=null,s=Yf,Yf=null;var d=Ba,b=Ps;if(Jt=0,ks=Ba=null,Ps=0,(et&6)!==0)throw Error(r(331));var E=et;if(et|=4,ky(d.current),Oy(d,d.current,b,s),et=E,sl(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Me,d)}catch{}return!0}finally{ne.p=h,X.T=l,Zy(t,n)}}function Jy(t,n,s){n=zn(s,n),n=Rf(t.stateNode,n,2),t=Ia(t,n,2),t!==null&&(Fi(t,2),Di(t))}function ot(t,n,s){if(t.tag===3)Jy(t,t,s);else for(;n!==null;){if(n.tag===3){Jy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(za===null||!za.has(l))){t=zn(s,t),s=iy(2),l=Ia(n,s,2),l!==null&&(ay(s,l,n,t),Fi(l,2),Di(l));break}}n=n.return}}function Jf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new QE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Hf=!0,h.add(s),t=WE.bind(null,t,n,s),n.then(t,t))}function WE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ct===t&&(Ge&s)===s&&(Et===4||Et===3&&(Ge&62914560)===Ge&&300>_t()-$f?(et&2)===0&&js(t,0):Ff|=s,Vs===Ge&&(Vs=0)),Di(t)}function ev(t,n){n===0&&(n=mo()),t=_s(t,n),t!==null&&(Fi(t,n),Di(t))}function JE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),ev(t,s)}function e1(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),ev(t,s)}function t1(t,n){return On(t,n)}var tu=null,Ls=null,ed=!1,nu=!1,td=!1,zr=0;function Di(t){t!==Ls&&t.next===null&&(Ls===null?tu=Ls=t:Ls=Ls.next=t),nu=!0,ed||(ed=!0,i1())}function sl(t,n){if(!td&&nu){td=!0;do for(var s=!1,l=tu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var b=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-bt(42|t)+1)-1,d&=h&~(b&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,av(l,d))}else d=Ge,d=di(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ti(l,d)||(s=!0,av(l,d));l=l.next}while(s);td=!1}}function n1(){tv()}function tv(){nu=ed=!1;var t=0;zr!==0&&(h1()&&(t=zr),zr=0);for(var n=_t(),s=null,l=tu;l!==null;){var h=l.next,d=nv(l,n);d===0?(l.next=null,s===null?tu=h:s.next=h,h===null&&(Ls=s)):(s=l,(t!==0||(d&3)!==0)&&(nu=!0)),l=h}sl(t)}function nv(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var b=31-bt(d),E=1<<b,I=h[b];I===-1?((E&s)===0||(E&l)!==0)&&(h[b]=qi(E,n)):I<=n&&(t.expiredLanes|=E),d&=~E}if(n=ct,s=Ge,s=di(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ti(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&yn(l),ts(s)){case 2:case 8:s=Zn;break;case 32:s=Bi;break;case 268435456:s=ba;break;default:s=Bi}return l=iv.bind(null,t),s=On(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&yn(l),t.callbackPriority=2,t.callbackNode=null,2}function iv(t,n){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(eu()&&t.callbackNode!==s)return null;var l=Ge;return l=di(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ly(t,l,n),nv(t,_t()),t.callbackNode!=null&&t.callbackNode===s?iv.bind(null,t):null)}function av(t,n){if(eu())return null;Ly(t,n,!0)}function i1(){d1(function(){(et&6)!==0?On(vn,n1):tv()})}function nd(){return zr===0&&(zr=hr()),zr}function rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:os(""+t)}function sv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function a1(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=rv((h[Nt]||null).action),b=l.submitter;b&&(n=(n=b[Nt]||null)?rv(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var E=new ls("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var I=b?sv(h,b):new FormData(h);Ef(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=b?sv(h,b):new FormData(h),Ef(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var id=0;id<zh.length;id++){var ad=zh[id],r1=ad.toLowerCase(),s1=ad[0].toUpperCase()+ad.slice(1);ai(r1,"on"+s1)}ai(Lm,"onAnimationEnd"),ai(zm,"onAnimationIteration"),ai(Bm,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(TE,"onTransitionRun"),ai(wE,"onTransitionStart"),ai(AE,"onTransitionCancel"),ai(qm,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function ov(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var E=l[b],I=E.instance,G=E.currentTarget;if(E=E.listener,I!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=G;try{d(h)}catch(te){Hc(te)}h.currentTarget=null,d=I}else for(b=0;b<l.length;b++){if(E=l[b],I=E.instance,G=E.currentTarget,E=E.listener,I!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=G;try{d(h)}catch(te){Hc(te)}h.currentTarget=null,d=I}}}}function Le(t,n){var s=n[vo];s===void 0&&(s=n[vo]=new Set);var l=t+"__bubble";s.has(l)||(lv(n,t,2,!1),s.add(l))}function rd(t,n,s){var l=0;n&&(l|=4),lv(s,t,l,n)}var iu="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[iu]){t[iu]=!0,_o.forEach(function(s){s!=="selectionchange"&&(o1.has(s)||rd(s,!1,t),rd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[iu]||(n[iu]=!0,rd("selectionchange",!1,n))}}function lv(t,n,s,l){switch(Ov(n)){case 2:var h=V1;break;case 8:h=k1;break;default:h=bd}s=h.bind(null,n,s,t),h=void 0,!Un||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function od(t,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===h)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;E!==null;){if(b=Gi(E),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=d=b;continue e}E=E.parentNode}}l=l.return}rc(function(){var G=d,te=jn(s),ae=[];e:{var $=Hm.get(t);if($!==void 0){var Y=ls,Ne=t;switch(t){case"keypress":if(bi(s)===0)break e;case"keydown":case"keyup":Y=ps;break;case"focusin":Ne="focus",Y=hs;break;case"focusout":Ne="blur",Y=hs;break;case"beforeblur":case"afterblur":Y=hs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=dc;break;case Lm:case zm:case Bm:Y=fs;break;case qm:Y=mc;break;case"scroll":case"scrollend":Y=sc;break;case"wheel":Y=ms;break;case"copy":case"cut":case"paste":Y=ds;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Io;break;case"toggle":case"beforetoggle":Y=yc}var Se=(n&4)!==0,rt=!Se&&(t==="scroll"||t==="scrollend"),B=Se?$!==null?$+"Capture":null:$;Se=[];for(var z=G,F;z!==null;){var ie=z;if(F=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||F===null||B===null||(ie=_r(z,B),ie!=null&&Se.push(ll(z,ie,F))),rt)break;z=z.return}0<Se.length&&($=new Y($,Ne,null,s,te),ae.push({event:$,listeners:Se}))}}if((n&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",$&&s!==Ki&&(Ne=s.relatedTarget||s.fromElement)&&(Gi(Ne)||Ne[kn]))break e;if((Y||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(Ne=s.relatedTarget||s.toElement,Y=G,Ne=Ne?Gi(Ne):null,Ne!==null&&(rt=c(Ne),Se=Ne.tag,Ne!==rt||Se!==5&&Se!==27&&Se!==6)&&(Ne=null)):(Y=null,Ne=G),Y!==Ne)){if(Se=Ln,ie="onMouseLeave",B="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Io,ie="onPointerLeave",B="onPointerEnter",z="pointer"),rt=Y==null?$:gi(Y),F=Ne==null?$:gi(Ne),$=new Se(ie,z+"leave",Y,s,te),$.target=rt,$.relatedTarget=F,ie=null,Gi(te)===G&&(Se=new Se(B,z+"enter",Ne,s,te),Se.target=F,Se.relatedTarget=rt,ie=Se),rt=ie,Y&&Ne)t:{for(Se=Y,B=Ne,z=0,F=Se;F;F=zs(F))z++;for(F=0,ie=B;ie;ie=zs(ie))F++;for(;0<z-F;)Se=zs(Se),z--;for(;0<F-z;)B=zs(B),F--;for(;z--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=zs(Se),B=zs(B)}Se=null}else Se=null;Y!==null&&cv(ae,$,Y,Se,!1),Ne!==null&&rt!==null&&cv(ae,rt,Ne,Se,!0)}}e:{if($=G?gi(G):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var be=Cm;else if(Lt($))if(Dm)be=bE;else{be=vE;var je=yE}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&wo(G.elementType)&&(be=Cm):be=_E;if(be&&(be=be(t,G))){ea(ae,be,s,te);break e}je&&je(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Sa($,"number",$.value)}switch(je=G?gi(G):window,t){case"focusin":(Lt(je)||je.contentEditable==="true")&&(gs=je,jh=G,Vo=null);break;case"focusout":Vo=jh=gs=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,jm(ae,s,te);break;case"selectionchange":if(EE)break;case"keydown":case"keyup":jm(ae,s,te)}var xe;if(Ti)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else He?J(t,s)&&(Re="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Re="onCompositionStart");Re&&(_&&s.locale!=="ko"&&(He||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&He&&(xe=So()):(_i=te,Ra="value"in _i?_i.value:_i.textContent,He=!0)),je=au(G,Re),0<je.length&&(Re=new Do(Re,t,null,s,te),ae.push({event:Re,listeners:je}),xe?Re.data=xe:(xe=fe(s),xe!==null&&(Re.data=xe)))),(xe=g?Ut(t,s):Fe(t,s))&&(Re=au(G,"onBeforeInput"),0<Re.length&&(je=new Do("onBeforeInput","beforeinput",null,s,te),ae.push({event:je,listeners:Re}),je.data=xe)),a1(ae,t,G,s,te)}ov(ae,n)})}function ll(t,n,s){return{instance:t,listener:n,currentTarget:s}}function au(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_r(t,s),h!=null&&l.unshift(ll(t,h,d)),h=_r(t,n),h!=null&&l.push(ll(t,h,d))),t.tag===3)return l;t=t.return}return[]}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cv(t,n,s,l,h){for(var d=n._reactName,b=[];s!==null&&s!==l;){var E=s,I=E.alternate,G=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||G===null||(I=G,h?(G=_r(s,d),G!=null&&b.unshift(ll(s,G,I))):h||(G=_r(s,d),G!=null&&b.push(ll(s,G,I)))),s=s.return}b.length!==0&&t.push({event:n,listeners:b})}var l1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(l1,`
`).replace(c1,"")}function hv(t,n){return n=uv(n),uv(t)===n}function ru(){}function at(t,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Pn(t,""+l);break;case"className":yi(t,"class",l);break;case"tabIndex":yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(t,s,l);break;case"style":To(t,l,d);break;case"data":if(n!=="object"){yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=os(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=os(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ru);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Aa(t,"popover",l);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Nh.get(s)||s,Aa(t,s,l))}}function ld(t,n,s,l,h,d){switch(s){case"style":To(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&Pn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ns.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=t[Nt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Aa(t,s,l)}}}function en(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var b=s[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,d,b,s,null)}}h&&at(t,n,"srcSet",s.srcSet,s,null),l&&at(t,n,"src",s.src,s,null);return;case"input":Le("invalid",t);var E=d=b=h=null,I=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var te=s[l];if(te!=null)switch(l){case"name":h=te;break;case"type":b=te;break;case"checked":I=te;break;case"defaultChecked":G=te;break;case"value":d=te;break;case"defaultValue":E=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,n));break;default:at(t,n,l,te,s,null)}}gr(t,d,E,I,G,b,h,!1),ss(t);return;case"select":Le("invalid",t),l=b=d=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:at(t,n,h,E,s,null)}n=d,s=b,t.multiple=!!l,n!=null?Yi(t,!!l,n,!1):s!=null&&Yi(t,!!l,s,!0);return;case"textarea":Le("invalid",t),d=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(E=s[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:at(t,n,b,E,s,null)}yr(t,l,h,d),ss(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,n,I,l,s,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<ol.length;l++)Le(ol[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,G,l,s,null)}return;default:if(wo(n)){for(te in s)s.hasOwnProperty(te)&&(l=s[te],l!==void 0&&ld(t,n,te,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&at(t,n,E,l,s,null))}function u1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,b=null,E=null,I=null,G=null,te=null;for(Y in s){var ae=s[Y];if(s.hasOwnProperty(Y)&&ae!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ae;default:l.hasOwnProperty(Y)||at(t,n,Y,null,l,ae)}}for(var $ in l){var Y=l[$];if(ae=s[$],l.hasOwnProperty($)&&(Y!=null||ae!=null))switch($){case"type":d=Y;break;case"name":h=Y;break;case"checked":G=Y;break;case"defaultChecked":te=Y;break;case"value":b=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Y!==ae&&at(t,n,$,Y,l,ae)}}Tn(t,b,E,I,G,te,d,h);return;case"select":Y=b=E=$=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||at(t,n,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":$=d;break;case"defaultValue":E=d;break;case"multiple":b=d;default:d!==I&&at(t,n,h,d,l,I)}n=E,s=b,l=Y,$!=null?Yi(t,!!s,$,!1):!!l!=!!s&&(n!=null?Yi(t,!!s,n,!0):Yi(t,!!s,s?[]:"",!1));return;case"textarea":Y=$=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:at(t,n,E,null,l,h)}for(b in l)if(h=l[b],d=s[b],l.hasOwnProperty(b)&&(h!=null||d!=null))switch(b){case"value":$=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&at(t,n,b,h,l,d)}nt(t,$,Y);return;case"option":for(var Ne in s)if($=s[Ne],s.hasOwnProperty(Ne)&&$!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":t.selected=!1;break;default:at(t,n,Ne,null,l,$)}for(I in l)if($=l[I],Y=s[I],l.hasOwnProperty(I)&&$!==Y&&($!=null||Y!=null))switch(I){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:at(t,n,I,$,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)$=s[Se],s.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se)&&at(t,n,Se,null,l,$);for(G in l)if($=l[G],Y=s[G],l.hasOwnProperty(G)&&$!==Y&&($!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,n));break;default:at(t,n,G,$,l,Y)}return;default:if(wo(n)){for(var rt in s)$=s[rt],s.hasOwnProperty(rt)&&$!==void 0&&!l.hasOwnProperty(rt)&&ld(t,n,rt,void 0,l,$);for(te in l)$=l[te],Y=s[te],!l.hasOwnProperty(te)||$===Y||$===void 0&&Y===void 0||ld(t,n,te,$,l,Y);return}}for(var B in s)$=s[B],s.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&at(t,n,B,null,l,$);for(ae in l)$=l[ae],Y=s[ae],!l.hasOwnProperty(ae)||$===Y||$==null&&Y==null||at(t,n,ae,$,l,Y)}var cd=null,ud=null;function su(t){return t.nodeType===9?t:t.ownerDocument}function fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function hd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function h1(){var t=window.event;return t&&t.type==="popstate"?t===fd?!1:(fd=t,!0):(fd=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(p1)}:pv;function p1(t){setTimeout(function(){throw t})}function Ha(t){return t==="head"}function gv(t,n){var s=n,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var b=t.ownerDocument;if(s&1&&cl(b.documentElement),s&2&&cl(b.body),s&4)for(s=b.head,cl(s),b=s.firstChild;b;){var E=b.nextSibling,I=b.nodeName;b[fr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=E}}if(h===0){t.removeChild(d),yl(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);yl(n)}function dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),wa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function m1(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=si(t.nextSibling),t===null)break}return null}function g1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=si(t.nextSibling),t===null))return null;return t}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function y1(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function si(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var md=null;function yv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function vv(t,n,s){switch(n=su(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);wa(t)}var $n=new Map,_v=new Set;function ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var da=ne.d;ne.d={f:v1,r:_1,D:b1,C:x1,L:E1,m:T1,X:A1,S:w1,M:S1};function v1(){var t=da.f(),n=Wc();return t||n}function _1(t){var n=mi(t);n!==null&&n.tag===5&&n.type==="form"?Lg(n):da.r(t)}var Bs=typeof document>"u"?null:document;function bv(t,n,s){var l=Bs;if(l&&typeof n=="string"&&n){var h=It(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),_v.has(h)||(_v.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),en(n,"link",t),At(n),l.head.appendChild(n)))}}function b1(t){da.D(t),bv("dns-prefetch",t,null)}function x1(t,n){da.C(t,n),bv("preconnect",t,n)}function E1(t,n,s){da.L(t,n,s);var l=Bs;if(l&&t&&n){var h='link[rel="preload"][as="'+It(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+It(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+It(s.imageSizes)+'"]')):h+='[href="'+It(t)+'"]';var d=h;switch(n){case"style":d=qs(t);break;case"script":d=Hs(t)}$n.has(d)||(t=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),$n.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ul(d))||n==="script"&&l.querySelector(hl(d))||(n=l.createElement("link"),en(n,"link",t),At(n),l.head.appendChild(n)))}}function T1(t,n){da.m(t,n);var s=Bs;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Hs(t)}if(!$n.has(d)&&(t=v({rel:"modulepreload",href:t},n),$n.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(d)))return}l=s.createElement("link"),en(l,"link",t),At(l),s.head.appendChild(l)}}}function w1(t,n,s){da.S(t,n,s);var l=Bs;if(l&&t){var h=hn(l).hoistableStyles,d=qs(t);n=n||"default";var b=h.get(d);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(ul(d)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},s),(s=$n.get(d))&&gd(t,s);var I=b=l.createElement("link");At(I),en(I,"link",t),I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lu(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:E},h.set(d,b)}}}function A1(t,n){da.X(t,n);var s=Bs;if(s&&t){var l=hn(s).hoistableScripts,h=Hs(t),d=l.get(h);d||(d=s.querySelector(hl(h)),d||(t=v({src:t,async:!0},n),(n=$n.get(h))&&yd(t,n),d=s.createElement("script"),At(d),en(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function S1(t,n){da.M(t,n);var s=Bs;if(s&&t){var l=hn(s).hoistableScripts,h=Hs(t),d=l.get(h);d||(d=s.querySelector(hl(h)),d||(t=v({src:t,async:!0,type:"module"},n),(n=$n.get(h))&&yd(t,n),d=s.createElement("script"),At(d),en(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xv(t,n,s,l){var h=(h=ye.current)?ou(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=qs(s.href),s=hn(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=qs(s.href);var d=hn(h).hoistableStyles,b=d.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,b),(d=h.querySelector(ul(t)))&&!d._p&&(b.instance=d,b.state.loading=5),$n.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$n.set(t,s),d||R1(h,t,s,b.state))),n&&l===null)throw Error(r(528,""));return b}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Hs(s),s=hn(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function qs(t){return'href="'+It(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function Ev(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function R1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",s),At(n),t.head.appendChild(n))}function Hs(t){return'[src="'+It(t)+'"]'}function hl(t){return"script[async]"+t}function Tv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+It(s.href)+'"]');if(l)return n.instance=l,At(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),en(l,"style",h),lu(l,s.precedence,t),n.instance=l;case"stylesheet":h=qs(s.href);var d=t.querySelector(ul(h));if(d)return n.state.loading|=4,n.instance=d,At(d),d;l=Ev(s),(h=$n.get(h))&&gd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var b=d;return b._p=new Promise(function(E,I){b.onload=E,b.onerror=I}),en(d,"link",l),n.state.loading|=4,lu(d,s.precedence,t),n.instance=d;case"script":return d=Hs(s.src),(h=t.querySelector(hl(d)))?(n.instance=h,At(h),h):(l=s,(h=$n.get(d))&&(l=v({},s),yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),en(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,lu(l,s.precedence,t));return n.instance}function lu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function yd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var cu=null;function wv(t,n,s){if(cu===null){var l=new Map,h=cu=new Map;h.set(s,l)}else h=cu,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[fr]||d[jt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=t+b;var E=l.get(b);E?E.push(d):l.set(b,[d])}}return l}function Av(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function C1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var fl=null;function D1(){}function N1(t,n,s){if(fl===null)throw Error(r(475));var l=fl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=qs(s.href),d=t.querySelector(ul(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=uu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,At(d);return}d=t.ownerDocument||t,s=Ev(s),(h=$n.get(h))&&gd(s,h),d=d.createElement("link"),At(d);var b=d;b._p=new Promise(function(E,I){b.onload=E,b.onerror=I}),en(d,"link",s),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=uu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function I1(){if(fl===null)throw Error(r(475));var t=fl;return t.stylesheets&&t.count===0&&vd(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&vd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function uu(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hu=null;function vd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hu=new Map,n.forEach(O1,t),hu=null,uu.call(t))}function O1(t,n){if(!(n.state.loading&4)){var s=hu.get(t);if(s)var l=s.get(null);else{s=new Map,hu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var b=h[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=n.instance,b=h.getAttribute("data-precedence"),d=s.get(b)||l,d===l&&s.set(null,h),s.set(b,h),this.count++,l=uu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var dl={$$typeof:W,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function M1(t,n,s,l,h,d,b,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Rv(t,n,s,l,h,d,b,E,I,G,te,ae){return t=new M1(t,n,s,b,E,I,G,ae),n=1,d===!0&&(n|=24),d=An(3,null,null,n),t.current=d,d.stateNode=t,n=Wh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},nf(d),t}function Cv(t){return t?(t=bs,t):bs}function Dv(t,n,s,l,h,d){h=Cv(h),l.context===null?l.context=h:l.pendingContext=h,l=Na(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ia(t,l,n),s!==null&&(Nn(s,t,n),Ho(s,t,n))}function Nv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function _d(t,n){Nv(t,n),(t=t.alternate)&&Nv(t,n)}function Iv(t){if(t.tag===13){var n=_s(t,67108864);n!==null&&Nn(n,t,67108864),_d(t,67108864)}}var fu=!0;function V1(t,n,s,l){var h=X.T;X.T=null;var d=ne.p;try{ne.p=2,bd(t,n,s,l)}finally{ne.p=d,X.T=h}}function k1(t,n,s,l){var h=X.T;X.T=null;var d=ne.p;try{ne.p=8,bd(t,n,s,l)}finally{ne.p=d,X.T=h}}function bd(t,n,s,l){if(fu){var h=xd(l);if(h===null)od(t,n,l,du,s),Mv(t,l);else if(j1(h,t,n,s,l))l.stopPropagation();else if(Mv(t,l),n&4&&-1<P1.indexOf(t)){for(;h!==null;){var d=mi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=un(d.pendingLanes);if(b!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var I=1<<31-bt(b);E.entanglements[1]|=I,b&=~I}Di(d),(et&6)===0&&(Xc=_t()+500,sl(0))}}break;case 13:E=_s(d,2),E!==null&&Nn(E,d,2),Wc(),_d(d,2)}if(d=xd(l),d===null&&od(t,n,l,du,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else od(t,n,l,null,s)}}function xd(t){return t=jn(t),Ed(t)}var du=null;function Ed(t){if(du=null,t=Gi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return du=t,null}function Ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case vn:return 2;case Zn:return 8;case Bi:case po:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Td=!1,Fa=null,Ga=null,$a=null,pl=new Map,ml=new Map,Qa=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,n){switch(t){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(t,n,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=mi(n),n!==null&&Iv(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function j1(t,n,s,l,h){switch(n){case"focusin":return Fa=gl(Fa,t,n,s,l,h),!0;case"dragenter":return Ga=gl(Ga,t,n,s,l,h),!0;case"mouseover":return $a=gl($a,t,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return pl.set(d,gl(pl.get(d)||null,t,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ml.set(d,gl(ml.get(d)||null,t,n,s,l,h)),!0}return!1}function Vv(t){var n=Gi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Wl(t.priority,function(){if(s.tag===13){var l=Dn();l=xa(l);var h=_s(s,l);h!==null&&Nn(h,s,l),_d(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=xd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ki=l,s.target.dispatchEvent(l),Ki=null}else return n=mi(s),n!==null&&Iv(n),t.blockedOn=s,!1;n.shift()}return!0}function kv(t,n,s){pu(t)&&s.delete(n)}function U1(){Td=!1,Fa!==null&&pu(Fa)&&(Fa=null),Ga!==null&&pu(Ga)&&(Ga=null),$a!==null&&pu($a)&&($a=null),pl.forEach(kv),ml.forEach(kv)}function mu(t,n){t.blockedOn===n&&(t.blockedOn=null,Td||(Td=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,U1)))}var gu=null;function Pv(t){gu!==t&&(gu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Ed(l||s)===null)continue;break}var d=mi(s);d!==null&&(t.splice(n,3),n-=3,Ef(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function yl(t){function n(I){return mu(I,t)}Fa!==null&&mu(Fa,t),Ga!==null&&mu(Ga,t),$a!==null&&mu($a,t),pl.forEach(n),ml.forEach(n);for(var s=0;s<Qa.length;s++){var l=Qa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qa.length&&(s=Qa[0],s.blockedOn===null);)Vv(s),s.blockedOn===null&&Qa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],b=h[Nt]||null;if(typeof d=="function")b||Pv(s);else if(b){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,b=d[Nt]||null)E=b.formAction;else if(Ed(h)!==null)continue}else E=b.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Pv(s)}}}function wd(t){this._internalRoot=t}yu.prototype.render=wd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Dn();Dv(s,l,t,n,null,null)},yu.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Dv(t.current,2,null,t,null,null),Wc(),n[kn]=null}};function yu(t){this._internalRoot=t}yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ea();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Qa.length&&n!==0&&n<Qa[s].priority;s++);Qa.splice(s,0,t),s===0&&Vv(t)}};var jv=e.version;if(jv!=="19.1.1")throw Error(r(527,jv,"19.1.1"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var L1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{Me=vu.inject(L1),De=vu}catch{}}return _l.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",h=Jg,d=ey,b=ty,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Rv(t,1,!1,null,null,s,l,h,d,b,E,null),t[kn]=n.current,sd(t),new wd(n)},_l.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,h="",d=Jg,b=ey,E=ty,I=null,G=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(G=s.formState)),n=Rv(t,1,!0,n,s??null,l,h,d,b,E,I,G),n.context=Cv(null),s=n.current,l=Dn(),l=xa(l),h=Na(l),h.callback=null,Ia(s,h,l),s=l,n.current.lanes=s,Fi(n,s),Di(n),t[kn]=n.current,sd(t),new yu(n)},_l.version="19.1.1",_l}var Qv;function K1(){if(Qv)return Rd.exports;Qv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Rd.exports=Y1(),Rd.exports}var X1=K1();const Z1=ch(X1);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yv="popstate";function W1(a={}){function e(r,o){let{pathname:c,search:f,hash:p}=r.location;return Zd("",{pathname:c,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Ol(o)}return eT(e,i,null,a)}function mt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function li(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J1(){return Math.random().toString(36).substring(2,10)}function Kv(a,e){return{usr:a.state,key:a.key,idx:e}}function Zd(a,e,i=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:i,key:e&&e.key||r||J1()}}function Ol({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function ro(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let r=a.indexOf("?");r>=0&&(e.search=a.substring(r),a=a.substring(0,r)),a&&(e.pathname=a)}return e}function eT(a,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,f=o.history,p="POP",y=null,m=v();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function v(){return(f.state||{idx:null}).idx}function x(){p="POP";let k=v(),K=k==null?null:k-m;m=k,y&&y({action:p,location:O.location,delta:K})}function S(k,K){p="PUSH";let Z=Zd(O.location,k,K);m=v()+1;let W=Kv(Z,m),he=O.createHref(Z);try{f.pushState(W,"",he)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(he)}c&&y&&y({action:p,location:O.location,delta:1})}function D(k,K){p="REPLACE";let Z=Zd(O.location,k,K);m=v();let W=Kv(Z,m),he=O.createHref(Z);f.replaceState(W,"",he),c&&y&&y({action:p,location:O.location,delta:0})}function j(k){return tT(k)}let O={get action(){return p},get location(){return a(o,f)},listen(k){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,x),y=k,()=>{o.removeEventListener(Yv,x),y=null}},createHref(k){return e(o,k)},createURL:j,encodeLocation(k){let K=j(k);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:D,go(k){return f.go(k)}};return O}function tT(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),mt(i,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Ol(a);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function V_(a,e,i="/"){return nT(a,e,i,!1)}function nT(a,e,i,r){let o=typeof e=="string"?ro(e):e,c=ga(o.pathname||"/",i);if(c==null)return null;let f=k_(a);iT(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let m=pT(c);p=fT(f[y],m,r)}return p}function k_(a,e=[],i=[],r="",o=!1){let c=(f,p,y=o,m)=>{let v={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&y)return;mt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let x=pa([r,v.relativePath]),S=i.concat(v);f.children&&f.children.length>0&&(mt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),k_(f.children,e,S,x,y)),!(f.path==null&&!f.index)&&e.push({path:x,score:uT(x,f.index),routesMeta:S})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let y of P_(f.path))c(f,p,!0,y)}),e}function P_(a){let e=a.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let f=P_(r.join("/")),p=[];return p.push(...f.map(y=>y===""?c:[c,y].join("/"))),o&&p.push(...f),p.map(y=>a.startsWith("/")&&y===""?"/":y)}function iT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:hT(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var aT=/^:[\w-]+$/,rT=3,sT=2,oT=1,lT=10,cT=-2,Xv=a=>a==="*";function uT(a,e){let i=a.split("/"),r=i.length;return i.some(Xv)&&(r+=cT),e&&(r+=sT),i.filter(o=>!Xv(o)).reduce((o,c)=>o+(aT.test(c)?rT:c===""?oT:lT),r)}function hT(a,e){return a.length===e.length&&a.slice(0,-1).every((r,o)=>r===e[o])?a[a.length-1]-e[e.length-1]:0}function fT(a,e,i=!1){let{routesMeta:r}=a,o={},c="/",f=[];for(let p=0;p<r.length;++p){let y=r[p],m=p===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",x=qu({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),S=y.route;if(!x&&m&&i&&!r[r.length-1].route.index&&(x=qu({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(o,x.params),f.push({params:o,pathname:pa([c,x.pathname]),pathnameBase:vT(pa([c,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(c=pa([c,x.pathnameBase]))}return f}function qu(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,r]=dT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:x},S)=>{if(v==="*"){let j=p[S]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const D=p[S];return x&&!D?m[v]=void 0:m[v]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:f,pattern:a}}function dT(a,e=!1,i=!0){li(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function pT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ga(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=a.charAt(i);return r&&r!=="/"?null:a.slice(i)||"/"}function mT(a,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof a=="string"?ro(a):a;return{pathname:i?i.startsWith("/")?i:gT(i,e):e,search:_T(r),hash:bT(o)}}function gT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Id(a,e,i,r){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Dp(a){let e=yT(a);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Np(a,e,i,r=!1){let o;typeof a=="string"?o=ro(a):(o={...a},mt(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let c=a===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=i;else{let x=e.length-1;if(!r&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),x-=1;o.pathname=S.join("/")}p=x>=0?e[x]:"/"}let y=mT(o,p),m=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var pa=a=>a.join("/").replace(/\/\/+/g,"/"),vT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),_T=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,bT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function xT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var j_=["POST","PUT","PATCH","DELETE"];new Set(j_);var ET=["GET",...j_];new Set(ET);var so=U.createContext(null);so.displayName="DataRouter";var uh=U.createContext(null);uh.displayName="DataRouterState";U.createContext(!1);var U_=U.createContext({isTransitioning:!1});U_.displayName="ViewTransition";var TT=U.createContext(new Map);TT.displayName="Fetchers";var wT=U.createContext(null);wT.displayName="Await";var hi=U.createContext(null);hi.displayName="Navigation";var ql=U.createContext(null);ql.displayName="Location";var zi=U.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var Ip=U.createContext(null);Ip.displayName="RouteError";function AT(a,{relative:e}={}){mt(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=U.useContext(hi),{hash:o,pathname:c,search:f}=Fl(a,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:pa([i,c])),r.createHref({pathname:p,search:f,hash:o})}function oo(){return U.useContext(ql)!=null}function fi(){return mt(oo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ql).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z_(a){U.useContext(hi).static||U.useLayoutEffect(a)}function Hl(){let{isDataRoute:a}=U.useContext(zi);return a?UT():ST()}function ST(){mt(oo(),"useNavigate() may be used only in the context of a <Router> component.");let a=U.useContext(so),{basename:e,navigator:i}=U.useContext(hi),{matches:r}=U.useContext(zi),{pathname:o}=fi(),c=JSON.stringify(Dp(r)),f=U.useRef(!1);return z_(()=>{f.current=!0}),U.useCallback((y,m={})=>{if(li(f.current,L_),!f.current)return;if(typeof y=="number"){i.go(y);return}let v=Np(y,JSON.parse(c),o,m.relative==="path");a==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:pa([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,c,o,a])}U.createContext(null);function Fl(a,{relative:e}={}){let{matches:i}=U.useContext(zi),{pathname:r}=fi(),o=JSON.stringify(Dp(i));return U.useMemo(()=>Np(a,JSON.parse(o),r,e==="path"),[a,o,r,e])}function RT(a,e){return B_(a,e)}function B_(a,e,i,r,o){mt(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(hi),{matches:f}=U.useContext(zi),p=f[f.length-1],y=p?p.params:{},m=p?p.pathname:"/",v=p?p.pathnameBase:"/",x=p&&p.route;{let Z=x&&x.path||"";q_(m,!x||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let S=fi(),D;if(e){let Z=typeof e=="string"?ro(e):e;mt(v==="/"||Z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),D=Z}else D=S;let j=D.pathname||"/",O=j;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");O="/"+j.replace(/^\//,"").split("/").slice(Z.length).join("/")}let k=V_(a,{pathname:O});li(x||k!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),li(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=OT(k&&k.map(Z=>Object.assign({},Z,{params:Object.assign({},y,Z.params),pathname:pa([v,c.encodeLocation?c.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:pa([v,c.encodeLocation?c.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,i,r,o);return e&&K?U.createElement(ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},K):K}function CT(){let a=jT(),e=xT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),i?U.createElement("pre",{style:o},i):null,f)}var DT=U.createElement(CT,null),NT=class extends U.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?U.createElement(zi.Provider,{value:this.props.routeContext},U.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IT({routeContext:a,match:e,children:i}){let r=U.useContext(so);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(zi.Provider,{value:a},i)}function OT(a,e=[],i=null,r=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let c=a,f=i?.errors;if(f!=null){let m=c.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let p=!1,y=-1;if(i)for(let m=0;m<c.length;m++){let v=c[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=m),v.route.id){let{loaderData:x,errors:S}=i,D=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||D){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((m,v,x)=>{let S,D=!1,j=null,O=null;i&&(S=f&&v.route.id?f[v.route.id]:void 0,j=v.route.errorElement||DT,p&&(y<0&&x===0?(q_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,O=null):y===x&&(D=!0,O=v.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,x+1)),K=()=>{let Z;return S?Z=j:D?Z=O:v.route.Component?Z=U.createElement(v.route.Component,null):v.route.element?Z=v.route.element:Z=m,U.createElement(IT,{match:v,routeContext:{outlet:m,matches:k,isDataRoute:i!=null},children:Z})};return i&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?U.createElement(NT,{location:i.location,revalidation:i.revalidation,component:j,error:S,children:K(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):K()},null)}function Op(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(a){let e=U.useContext(so);return mt(e,Op(a)),e}function VT(a){let e=U.useContext(uh);return mt(e,Op(a)),e}function kT(a){let e=U.useContext(zi);return mt(e,Op(a)),e}function Mp(a){let e=kT(a),i=e.matches[e.matches.length-1];return mt(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function PT(){return Mp("useRouteId")}function jT(){let a=U.useContext(Ip),e=VT("useRouteError"),i=Mp("useRouteError");return a!==void 0?a:e.errors?.[i]}function UT(){let{router:a}=MT("useNavigate"),e=Mp("useNavigate"),i=U.useRef(!1);return z_(()=>{i.current=!0}),U.useCallback(async(o,c={})=>{li(i.current,L_),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Zv={};function q_(a,e,i){!e&&!Zv[a]&&(Zv[a]=!0,li(!1,i))}U.memo(LT);function LT({routes:a,future:e,state:i,unstable_onError:r}){return B_(a,void 0,i,r,e)}function zT({to:a,replace:e,state:i,relative:r}){mt(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(hi);li(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(zi),{pathname:f}=fi(),p=Hl(),y=Np(a,Dp(c),f,r==="path"),m=JSON.stringify(y);return U.useEffect(()=>{p(JSON.parse(m),{replace:e,state:i,relative:r})},[p,m,r,e,i]),null}function Ka(a){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BT({basename:a="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){mt(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=ro(i));let{pathname:y="/",search:m="",hash:v="",state:x=null,key:S="default"}=i,D=U.useMemo(()=>{let j=ga(y,f);return j==null?null:{location:{pathname:j,search:m,hash:v,state:x,key:S},navigationType:r}},[f,y,m,v,x,S,r]);return li(D!=null,`<Router basename="${f}"> is not able to match the URL "${y}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:U.createElement(hi.Provider,{value:p},U.createElement(ql.Provider,{children:e,value:D}))}function qT({children:a,location:e}){return RT(Wd(a),e)}function Wd(a,e=[]){let i=[];return U.Children.forEach(a,(r,o)=>{if(!U.isValidElement(r))return;let c=[...e,o];if(r.type===U.Fragment){i.push.apply(i,Wd(r.props.children,c));return}mt(r.type===Ka,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Wd(r.props.children,c)),i.push(f)}),i}var Ou="get",Mu="application/x-www-form-urlencoded";function hh(a){return a!=null&&typeof a.tagName=="string"}function HT(a){return hh(a)&&a.tagName.toLowerCase()==="button"}function FT(a){return hh(a)&&a.tagName.toLowerCase()==="form"}function GT(a){return hh(a)&&a.tagName.toLowerCase()==="input"}function $T(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function QT(a,e){return a.button===0&&(!e||e==="_self")&&!$T(a)}var _u=null;function YT(){if(_u===null)try{new FormData(document.createElement("form"),0),_u=!1}catch{_u=!0}return _u}var KT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(a){return a!=null&&!KT.has(a)?(li(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mu}"`),null):a}function XT(a,e){let i,r,o,c,f;if(FT(a)){let p=a.getAttribute("action");r=p?ga(p,e):null,i=a.getAttribute("method")||Ou,o=Od(a.getAttribute("enctype"))||Mu,c=new FormData(a)}else if(HT(a)||GT(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||p.getAttribute("action");if(r=y?ga(y,e):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||Ou,o=Od(a.getAttribute("formenctype"))||Od(p.getAttribute("enctype"))||Mu,c=new FormData(p,a),!YT()){let{name:m,type:v,value:x}=a;if(v==="image"){let S=m?`${m}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else m&&c.append(m,x)}}else{if(hh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ou,r=null,o=Mu,f=a}return c&&o==="text/plain"&&(f=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ZT(a,e,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&ga(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function WT(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function ew(a,e,i){let r=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await WT(c,i);return f.links?f.links():[]}return[]}));return aw(r.flat(1).filter(JT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wv(a,e,i,r,o,c){let f=(y,m)=>i[m]?y.route.id!==i[m].route.id:!0,p=(y,m)=>i[m].pathname!==y.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,m)=>f(y,m)||p(y,m)):c==="data"?e.filter((y,m)=>{let v=r.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(f(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function tw(a,e,{includeHydrateFallback:i}={}){return nw(a.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function nw(a){return[...new Set(a)]}function iw(a){let e={},i=Object.keys(a).sort();for(let r of i)e[r]=a[r];return e}function aw(a,e){let i=new Set;return new Set(e),a.reduce((r,o)=>{let c=JSON.stringify(iw(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function H_(){let a=U.useContext(so);return Vp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function rw(){let a=U.useContext(uh);return Vp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var kp=U.createContext(void 0);kp.displayName="FrameworkContext";function F_(){let a=U.useContext(kp);return Vp(a,"You must render this element inside a <HydratedRouter> element"),a}function sw(a,e){let i=U.useContext(kp),[r,o]=U.useState(!1),[c,f]=U.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:x}=e,S=U.useRef(null);U.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let O=K=>{K.forEach(Z=>{f(Z.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[a]),U.useEffect(()=>{if(r){let O=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(O)}}},[r]);let D=()=>{o(!0)},j=()=>{o(!1),f(!1)};return i?a!=="intent"?[c,S,{}]:[c,S,{onFocus:bl(p,D),onBlur:bl(y,j),onMouseEnter:bl(m,D),onMouseLeave:bl(v,j),onTouchStart:bl(x,D)}]:[!1,S,{}]}function bl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function ow({page:a,...e}){let{router:i}=H_(),r=U.useMemo(()=>V_(i.routes,a,i.basename),[i.routes,a,i.basename]);return r?U.createElement(cw,{page:a,matches:r,...e}):null}function lw(a){let{manifest:e,routeModules:i}=F_(),[r,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return ew(a,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[a,e,i]),r}function cw({page:a,matches:e,...i}){let r=fi(),{manifest:o,routeModules:c}=F_(),{basename:f}=H_(),{loaderData:p,matches:y}=rw(),m=U.useMemo(()=>Wv(a,e,y,o,r,"data"),[a,e,y,o,r]),v=U.useMemo(()=>Wv(a,e,y,o,r,"assets"),[a,e,y,o,r]),x=U.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let j=new Set,O=!1;if(e.forEach(K=>{let Z=o.routes[K.route.id];!Z||!Z.hasLoader||(!m.some(W=>W.route.id===K.route.id)&&K.route.id in p&&c[K.route.id]?.shouldRevalidate||Z.hasClientLoader?O=!0:j.add(K.route.id))}),j.size===0)return[];let k=ZT(a,f,"data");return O&&j.size>0&&k.searchParams.set("_routes",e.filter(K=>j.has(K.route.id)).map(K=>K.route.id).join(",")),[k.pathname+k.search]},[f,p,r,o,m,e,a,c]),S=U.useMemo(()=>tw(v,o),[v,o]),D=lw(v);return U.createElement(U.Fragment,null,x.map(j=>U.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...i})),S.map(j=>U.createElement("link",{key:j,rel:"modulepreload",href:j,...i})),D.map(({key:j,link:O})=>U.createElement("link",{key:j,nonce:i.nonce,...O})))}function uw(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var G_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G_&&(window.__reactRouterVersion="7.8.2")}catch{}function hw({basename:a,children:e,window:i}){let r=U.useRef();r.current==null&&(r.current=W1({window:i,v5Compat:!0}));let o=r.current,[c,f]=U.useState({action:o.action,location:o.location}),p=U.useCallback(y=>{U.startTransition(()=>f(y))},[f]);return U.useLayoutEffect(()=>o.listen(p),[o,p]),U.createElement(BT,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var $_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q_=U.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:f,state:p,target:y,to:m,preventScrollReset:v,viewTransition:x,...S},D){let{basename:j}=U.useContext(hi),O=typeof m=="string"&&$_.test(m),k,K=!1;if(typeof m=="string"&&O&&(k=m,G_))try{let C=new URL(window.location.href),V=m.startsWith("//")?new URL(C.protocol+m):new URL(m),N=ga(V.pathname,j);V.origin===C.origin&&N!=null?m=N+V.search+V.hash:K=!0}catch{li(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=AT(m,{relative:o}),[W,he,de]=sw(r,S),ge=mw(m,{replace:f,state:p,target:y,preventScrollReset:v,relative:o,viewTransition:x});function P(C){e&&e(C),C.defaultPrevented||ge(C)}let R=U.createElement("a",{...S,...de,href:k||Z,onClick:K||c?e:P,ref:uw(D,he),target:y,"data-discover":!O&&i==="render"?"true":void 0});return W&&!O?U.createElement(U.Fragment,null,R,U.createElement(ow,{page:Z})):R});Q_.displayName="Link";var fw=U.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:f,viewTransition:p,children:y,...m},v){let x=Fl(f,{relative:m.relative}),S=fi(),D=U.useContext(uh),{navigator:j,basename:O}=U.useContext(hi),k=D!=null&&bw(x)&&p===!0,K=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,Z=S.pathname,W=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(Z=Z.toLowerCase(),W=W?W.toLowerCase():null,K=K.toLowerCase()),W&&O&&(W=ga(W,O)||W);const he=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let de=Z===K||!o&&Z.startsWith(K)&&Z.charAt(he)==="/",ge=W!=null&&(W===K||!o&&W.startsWith(K)&&W.charAt(K.length)==="/"),P={isActive:de,isPending:ge,isTransitioning:k},R=de?e:void 0,C;typeof r=="function"?C=r(P):C=[r,de?"active":null,ge?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(P):c;return U.createElement(Q_,{...m,"aria-current":R,className:C,ref:v,style:V,to:f,viewTransition:p},typeof y=="function"?y(P):y)});fw.displayName="NavLink";var dw=U.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:f=Ou,action:p,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:x,...S},D)=>{let j=vw(),O=_w(p,{relative:m}),k=f.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&$_.test(p),Z=W=>{if(y&&y(W),W.defaultPrevented)return;W.preventDefault();let he=W.nativeEvent.submitter,de=he?.getAttribute("formmethod")||f;j(he||W.currentTarget,{fetcherKey:e,method:de,navigate:i,replace:o,state:c,relative:m,preventScrollReset:v,viewTransition:x})};return U.createElement("form",{ref:D,method:k,action:O,onSubmit:r?y:Z,...S,"data-discover":!K&&a==="render"?"true":void 0})});dw.displayName="Form";function pw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y_(a){let e=U.useContext(so);return mt(e,pw(a)),e}function mw(a,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:f}={}){let p=Hl(),y=fi(),m=Fl(a,{relative:c});return U.useCallback(v=>{if(QT(v,e)){v.preventDefault();let x=i!==void 0?i:Ol(y)===Ol(m);p(a,{replace:x,state:r,preventScrollReset:o,relative:c,viewTransition:f})}},[y,p,m,i,r,e,a,o,c,f])}var gw=0,yw=()=>`__${String(++gw)}__`;function vw(){let{router:a}=Y_("useSubmit"),{basename:e}=U.useContext(hi),i=PT();return U.useCallback(async(r,o={})=>{let{action:c,method:f,encType:p,formData:y,body:m}=XT(r,e);if(o.navigate===!1){let v=o.fetcherKey||yw();await a.fetch(v,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function _w(a,{relative:e}={}){let{basename:i}=U.useContext(hi),r=U.useContext(zi);mt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Fl(a||".",{relative:e})},f=fi();if(a==null){c.search=f.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(x=>x).forEach(x=>p.append("index",x));let v=p.toString();c.search=v?`?${v}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:pa([i,c.pathname])),Ol(c)}function bw(a,{relative:e}={}){let i=U.useContext(U_);mt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y_("useViewTransitionState"),o=Fl(a,{relative:e});if(!i.isTransitioning)return!1;let c=ga(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=ga(i.nextLocation.pathname,r)||i.nextLocation.pathname;return qu(o.pathname,f)!=null||qu(o.pathname,c)!=null}var Md={exports:{}},Vd,Jv;function xw(){if(Jv)return Vd;Jv=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vd=a,Vd}var kd,e0;function Ew(){if(e0)return kd;e0=1;var a=xw();function e(){}function i(){}return i.resetWarningCache=e,kd=function(){function r(f,p,y,m,v,x){if(x!==a){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function o(){return r}var c={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return c.PropTypes=c,c},kd}var t0;function Tw(){return t0||(t0=1,Md.exports=Ew()()),Md.exports}var ww=Tw();const lt=ch(ww);function Kr(a,e,i,r){function o(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function p(v){try{m(r.next(v))}catch(x){f(x)}}function y(v){try{m(r.throw(v))}catch(x){f(x)}}function m(v){v.done?c(v.value):o(v.value).then(p,y)}m((r=r.apply(a,e||[])).next())})}const Aw=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Zs(a,e,i){const r=Sw(a),{webkitRelativePath:o}=a,c=typeof e=="string"?e:typeof o=="string"&&o.length>0?o:`./${a.name}`;return typeof r.path!="string"&&n0(r,"path",c),n0(r,"relativePath",c),r}function Sw(a){const{name:e}=a;if(e&&e.lastIndexOf(".")!==-1&&!a.type){const r=e.split(".").pop().toLowerCase(),o=Aw.get(r);o&&Object.defineProperty(a,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return a}function n0(a,e,i){Object.defineProperty(a,e,{value:i,writable:!1,configurable:!1,enumerable:!0})}const Rw=[".DS_Store","Thumbs.db"];function Cw(a){return Kr(this,void 0,void 0,function*(){return Hu(a)&&Dw(a.dataTransfer)?Mw(a.dataTransfer,a.type):Nw(a)?Iw(a):Array.isArray(a)&&a.every(e=>"getFile"in e&&typeof e.getFile=="function")?Ow(a):[]})}function Dw(a){return Hu(a)}function Nw(a){return Hu(a)&&Hu(a.target)}function Hu(a){return typeof a=="object"&&a!==null}function Iw(a){return Jd(a.target.files).map(e=>Zs(e))}function Ow(a){return Kr(this,void 0,void 0,function*(){return(yield Promise.all(a.map(i=>i.getFile()))).map(i=>Zs(i))})}function Mw(a,e){return Kr(this,void 0,void 0,function*(){if(a.items){const i=Jd(a.items).filter(o=>o.kind==="file");if(e!=="drop")return i;const r=yield Promise.all(i.map(Vw));return i0(K_(r))}return i0(Jd(a.files).map(i=>Zs(i)))})}function i0(a){return a.filter(e=>Rw.indexOf(e.name)===-1)}function Jd(a){if(a===null)return[];const e=[];for(let i=0;i<a.length;i++){const r=a[i];e.push(r)}return e}function Vw(a){if(typeof a.webkitGetAsEntry!="function")return a0(a);const e=a.webkitGetAsEntry();return e&&e.isDirectory?X_(e):a0(a,e)}function K_(a){return a.reduce((e,i)=>[...e,...Array.isArray(i)?K_(i):[i]],[])}function a0(a,e){return Kr(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof a.getAsFileSystemHandle=="function"){const c=yield a.getAsFileSystemHandle();if(c===null)throw new Error(`${a} is not a File`);if(c!==void 0){const f=yield c.getFile();return f.handle=c,Zs(f)}}const r=a.getAsFile();if(!r)throw new Error(`${a} is not a File`);return Zs(r,(i=e?.fullPath)!==null&&i!==void 0?i:void 0)})}function kw(a){return Kr(this,void 0,void 0,function*(){return a.isDirectory?X_(a):Pw(a)})}function X_(a){const e=a.createReader();return new Promise((i,r)=>{const o=[];function c(){e.readEntries(f=>Kr(this,void 0,void 0,function*(){if(f.length){const p=Promise.all(f.map(kw));o.push(p),c()}else try{const p=yield Promise.all(o);i(p)}catch(p){r(p)}}),f=>{r(f)})}c()})}function Pw(a){return Kr(this,void 0,void 0,function*(){return new Promise((e,i)=>{a.file(r=>{const o=Zs(r,a.fullPath);e(o)},r=>{i(r)})})})}var bu={},r0;function jw(){return r0||(r0=1,bu.__esModule=!0,bu.default=function(a,e){if(a&&e){var i=Array.isArray(e)?e:e.split(",");if(i.length===0)return!0;var r=a.name||"",o=(a.type||"").toLowerCase(),c=o.replace(/\/.*$/,"");return i.some(function(f){var p=f.trim().toLowerCase();return p.charAt(0)==="."?r.toLowerCase().endsWith(p):p.endsWith("/*")?c===p.replace(/\/.*$/,""):o===p})}return!0}),bu}var Uw=jw();const Pd=ch(Uw);function s0(a){return Bw(a)||zw(a)||W_(a)||Lw()}function Lw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zw(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Bw(a){if(Array.isArray(a))return ep(a)}function o0(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function l0(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?o0(Object(i),!0).forEach(function(r){Z_(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):o0(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function Z_(a,e,i){return e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function Ml(a,e){return Fw(a)||Hw(a,e)||W_(a,e)||qw()}function qw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W_(a,e){if(a){if(typeof a=="string")return ep(a,e);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ep(a,e)}}function ep(a,e){(e==null||e>a.length)&&(e=a.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=a[i];return r}function Hw(a,e){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,c=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(e&&r.length===e));o=!0);}catch(y){c=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw p}}return r}}function Fw(a){if(Array.isArray(a))return a}var Gw=typeof Pd=="function"?Pd:Pd.default,$w="file-invalid-type",Qw="file-too-large",Yw="file-too-small",Kw="too-many-files",Xw=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=e.split(","),r=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:$w,message:"File type must be ".concat(r)}},c0=function(e){return{code:Qw,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},u0=function(e){return{code:Yw,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Zw={code:Kw,message:"Too many files"};function J_(a,e){var i=a.type==="application/x-moz-file"||Gw(a,e);return[i,i?null:Xw(e)]}function eb(a,e,i){if(qr(a.size))if(qr(e)&&qr(i)){if(a.size>i)return[!1,c0(i)];if(a.size<e)return[!1,u0(e)]}else{if(qr(e)&&a.size<e)return[!1,u0(e)];if(qr(i)&&a.size>i)return[!1,c0(i)]}return[!0,null]}function qr(a){return a!=null}function Ww(a){var e=a.files,i=a.accept,r=a.minSize,o=a.maxSize,c=a.multiple,f=a.maxFiles,p=a.validator;return!c&&e.length>1||c&&f>=1&&e.length>f?!1:e.every(function(y){var m=J_(y,i),v=Ml(m,1),x=v[0],S=eb(y,r,o),D=Ml(S,1),j=D[0],O=p?p(y):null;return x&&j&&!O})}function Fu(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function xu(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!a.target&&!!a.target.files}function h0(a){a.preventDefault()}function Jw(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function eA(a){return a.indexOf("Edge/")!==-1}function tA(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Jw(a)||eA(a)}function Ni(){for(var a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return function(r){for(var o=arguments.length,c=new Array(o>1?o-1:0),f=1;f<o;f++)c[f-1]=arguments[f];return e.some(function(p){return!Fu(r)&&p&&p.apply(void 0,[r].concat(c)),Fu(r)})}}function nA(){return"showOpenFilePicker"in window}function iA(a){if(qr(a)){var e=Object.entries(a).filter(function(i){var r=Ml(i,2),o=r[0],c=r[1],f=!0;return tb(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),f=!1),(!Array.isArray(c)||!c.every(nb))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),f=!1),f}).reduce(function(i,r){var o=Ml(r,2),c=o[0],f=o[1];return l0(l0({},i),{},Z_({},c,f))},{});return[{description:"Files",accept:e}]}return a}function aA(a){if(qr(a))return Object.entries(a).reduce(function(e,i){var r=Ml(i,2),o=r[0],c=r[1];return[].concat(s0(e),[o],s0(c))},[]).filter(function(e){return tb(e)||nb(e)}).join(",")}function rA(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function sA(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function tb(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||a==="application/*"||/\w+\/[-+.\w]+/g.test(a)}function nb(a){return/^.*\.[\w]+$/.test(a)}var oA=["children"],lA=["open"],cA=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],uA=["refKey","onChange","onClick"];function hA(a){return pA(a)||dA(a)||ib(a)||fA()}function fA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dA(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function pA(a){if(Array.isArray(a))return tp(a)}function jd(a,e){return yA(a)||gA(a,e)||ib(a,e)||mA()}function mA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ib(a,e){if(a){if(typeof a=="string")return tp(a,e);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return tp(a,e)}}function tp(a,e){(e==null||e>a.length)&&(e=a.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=a[i];return r}function gA(a,e){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,c=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(e&&r.length===e));o=!0);}catch(y){c=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw p}}return r}}function yA(a){if(Array.isArray(a))return a}function f0(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function yt(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?f0(Object(i),!0).forEach(function(r){np(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):f0(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function np(a,e,i){return e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function Gu(a,e){if(a==null)return{};var i=vA(a,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(i[r]=a[r])}return i}function vA(a,e){if(a==null)return{};var i={},r=Object.keys(a),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(i[o]=a[o]);return i}var Pp=U.forwardRef(function(a,e){var i=a.children,r=Gu(a,oA),o=rb(r),c=o.open,f=Gu(o,lA);return U.useImperativeHandle(e,function(){return{open:c}},[c]),M_.createElement(U.Fragment,null,i(yt(yt({},f),{},{open:c})))});Pp.displayName="Dropzone";var ab={disabled:!1,getFilesFromEvent:Cw,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Pp.defaultProps=ab;Pp.propTypes={children:lt.func,accept:lt.objectOf(lt.arrayOf(lt.string)),multiple:lt.bool,preventDropOnDocument:lt.bool,noClick:lt.bool,noKeyboard:lt.bool,noDrag:lt.bool,noDragEventsBubbling:lt.bool,minSize:lt.number,maxSize:lt.number,maxFiles:lt.number,disabled:lt.bool,getFilesFromEvent:lt.func,onFileDialogCancel:lt.func,onFileDialogOpen:lt.func,useFsAccessApi:lt.bool,autoFocus:lt.bool,onDragEnter:lt.func,onDragLeave:lt.func,onDragOver:lt.func,onDrop:lt.func,onDropAccepted:lt.func,onDropRejected:lt.func,onError:lt.func,validator:lt.func};var ip={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function rb(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=yt(yt({},ab),a),i=e.accept,r=e.disabled,o=e.getFilesFromEvent,c=e.maxSize,f=e.minSize,p=e.multiple,y=e.maxFiles,m=e.onDragEnter,v=e.onDragLeave,x=e.onDragOver,S=e.onDrop,D=e.onDropAccepted,j=e.onDropRejected,O=e.onFileDialogCancel,k=e.onFileDialogOpen,K=e.useFsAccessApi,Z=e.autoFocus,W=e.preventDropOnDocument,he=e.noClick,de=e.noKeyboard,ge=e.noDrag,P=e.noDragEventsBubbling,R=e.onError,C=e.validator,V=U.useMemo(function(){return aA(i)},[i]),N=U.useMemo(function(){return iA(i)},[i]),L=U.useMemo(function(){return typeof k=="function"?k:d0},[k]),A=U.useMemo(function(){return typeof O=="function"?O:d0},[O]),pe=U.useRef(null),ue=U.useRef(null),X=U.useReducer(_A,ip),ne=jd(X,2),oe=ne[0],ce=ne[1],M=oe.isFocused,ee=oe.isFileDialogActive,q=U.useRef(typeof window<"u"&&window.isSecureContext&&K&&nA()),Q=function(){!q.current&&ee&&setTimeout(function(){if(ue.current){var we=ue.current.files;we.length||(ce({type:"closeDialog"}),A())}},300)};U.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[ue,ee,A,q]);var le=U.useRef([]),Te=function(we){pe.current&&pe.current.contains(we.target)||(we.preventDefault(),le.current=[])};U.useEffect(function(){return W&&(document.addEventListener("dragover",h0,!1),document.addEventListener("drop",Te,!1)),function(){W&&(document.removeEventListener("dragover",h0),document.removeEventListener("drop",Te))}},[pe,W]),U.useEffect(function(){return!r&&Z&&pe.current&&pe.current.focus(),function(){}},[pe,Z,r]);var ye=U.useCallback(function(me){R?R(me):console.error(me)},[R]),Ze=U.useCallback(function(me){me.preventDefault(),me.persist(),Zn(me),le.current=[].concat(hA(le.current),[me.target]),xu(me)&&Promise.resolve(o(me)).then(function(we){if(!(Fu(me)&&!P)){var Me=we.length,De=Me>0&&Ww({files:we,accept:V,minSize:f,maxSize:c,multiple:p,maxFiles:y,validator:C}),st=Me>0&&!De;ce({isDragAccept:De,isDragReject:st,isDragActive:!0,type:"setDraggedFiles"}),m&&m(me)}}).catch(function(we){return ye(we)})},[o,m,ye,P,V,f,c,p,y,C]),Ae=U.useCallback(function(me){me.preventDefault(),me.persist(),Zn(me);var we=xu(me);if(we&&me.dataTransfer)try{me.dataTransfer.dropEffect="copy"}catch{}return we&&x&&x(me),!1},[x,P]),Pe=U.useCallback(function(me){me.preventDefault(),me.persist(),Zn(me);var we=le.current.filter(function(De){return pe.current&&pe.current.contains(De)}),Me=we.indexOf(me.target);Me!==-1&&we.splice(Me,1),le.current=we,!(we.length>0)&&(ce({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xu(me)&&v&&v(me))},[pe,v,P]),Ye=U.useCallback(function(me,we){var Me=[],De=[];me.forEach(function(st){var bt=J_(st,V),Wn=jd(bt,2),ur=Wn[0],Jn=Wn[1],ei=eb(st,f,c),Vn=jd(ei,2),un=Vn[0],di=Vn[1],ti=C?C(st):null;if(ur&&un&&!ti)Me.push(st);else{var qi=[Jn,di];ti&&(qi=qi.concat(ti)),De.push({file:st,errors:qi.filter(function(hr){return hr})})}}),(!p&&Me.length>1||p&&y>=1&&Me.length>y)&&(Me.forEach(function(st){De.push({file:st,errors:[Zw]})}),Me.splice(0)),ce({acceptedFiles:Me,fileRejections:De,isDragReject:De.length>0,type:"setFiles"}),S&&S(Me,De,we),De.length>0&&j&&j(De,we),Me.length>0&&D&&D(Me,we)},[ce,p,V,f,c,y,S,D,j,C]),ft=U.useCallback(function(me){me.preventDefault(),me.persist(),Zn(me),le.current=[],xu(me)&&Promise.resolve(o(me)).then(function(we){Fu(me)&&!P||Ye(we,me)}).catch(function(we){return ye(we)}),ce({type:"reset"})},[o,Ye,ye,P]),Dt=U.useCallback(function(){if(q.current){ce({type:"openDialog"}),L();var me={multiple:p,types:N};window.showOpenFilePicker(me).then(function(we){return o(we)}).then(function(we){Ye(we,null),ce({type:"closeDialog"})}).catch(function(we){rA(we)?(A(we),ce({type:"closeDialog"})):sA(we)?(q.current=!1,ue.current?(ue.current.value=null,ue.current.click()):ye(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ye(we)});return}ue.current&&(ce({type:"openDialog"}),L(),ue.current.value=null,ue.current.click())},[ce,L,A,K,Ye,ye,N,p]),On=U.useCallback(function(me){!pe.current||!pe.current.isEqualNode(me.target)||(me.key===" "||me.key==="Enter"||me.keyCode===32||me.keyCode===13)&&(me.preventDefault(),Dt())},[pe,Dt]),yn=U.useCallback(function(){ce({type:"focus"})},[]),Mn=U.useCallback(function(){ce({type:"blur"})},[]),Kn=U.useCallback(function(){he||(tA()?setTimeout(Dt,0):Dt())},[he,Dt]),_t=function(we){return r?null:we},Xn=function(we){return de?null:_t(we)},vn=function(we){return ge?null:_t(we)},Zn=function(we){P&&we.stopPropagation()},Bi=U.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=me.refKey,Me=we===void 0?"ref":we,De=me.role,st=me.onKeyDown,bt=me.onFocus,Wn=me.onBlur,ur=me.onClick,Jn=me.onDragEnter,ei=me.onDragOver,Vn=me.onDragLeave,un=me.onDrop,di=Gu(me,cA);return yt(yt(np({onKeyDown:Xn(Ni(st,On)),onFocus:Xn(Ni(bt,yn)),onBlur:Xn(Ni(Wn,Mn)),onClick:_t(Ni(ur,Kn)),onDragEnter:vn(Ni(Jn,Ze)),onDragOver:vn(Ni(ei,Ae)),onDragLeave:vn(Ni(Vn,Pe)),onDrop:vn(Ni(un,ft)),role:typeof De=="string"&&De!==""?De:"presentation"},Me,pe),!r&&!de?{tabIndex:0}:{}),di)}},[pe,On,yn,Mn,Kn,Ze,Ae,Pe,ft,de,ge,r]),po=U.useCallback(function(me){me.stopPropagation()},[]),ba=U.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=me.refKey,Me=we===void 0?"ref":we,De=me.onChange,st=me.onClick,bt=Gu(me,uA),Wn=np({accept:V,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:_t(Ni(De,ft)),onClick:_t(Ni(st,po)),tabIndex:-1},Me,ue);return yt(yt({},Wn),bt)}},[ue,i,p,ft,r]);return yt(yt({},oe),{},{isFocused:M&&!r,getRootProps:Bi,getInputProps:ba,rootRef:pe,inputRef:ue,open:_t(Dt)})}function _A(a,e){switch(e.type){case"focus":return yt(yt({},a),{},{isFocused:!0});case"blur":return yt(yt({},a),{},{isFocused:!1});case"openDialog":return yt(yt({},ip),{},{isFileDialogActive:!0});case"closeDialog":return yt(yt({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return yt(yt({},a),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return yt(yt({},a),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return yt({},ip);default:return a}}function d0(){}const bA=({onFilesAdded:a})=>{const e=U.useCallback(c=>{const f=c.map((p,y)=>({id:crypto.randomUUID(),file:p,preview:URL.createObjectURL(p),originalName:p.name,number:y+1}));a(f)},[a]),{getRootProps:i,getInputProps:r,isDragActive:o}=rb({onDrop:e,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp"]},multiple:!0});return T.jsxs("div",{...i(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[T.jsx("input",{...r()}),T.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[T.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-lg font-medium text-gray-700",children:o?"写真をドロップしてください":"写真をドラッグ&ドロップ"}),T.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["または",T.jsx("span",{className:"text-blue-500 underline",children:"ファイルを選択"})]})]})]})]})},xA=({photos:a,onRemove:e})=>a.length===0?null:T.jsxs("div",{className:"mt-6",children:[T.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["プレビュー (",a.length,"枚)"]}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(i=>T.jsx("div",{className:"relative group",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:i.preview,alt:i.originalName,className:"w-full h-32 object-cover"}),T.jsx("button",{onClick:()=>e(i.id),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"×"}),T.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:i.number})]}),T.jsx("div",{className:"p-3",children:T.jsx("p",{className:"text-xs text-gray-600 truncate",title:i.originalName,children:i.originalName})})]})},i.id))})]}),EA=({metaInfo:a,onChange:e,errors:i})=>{const r=(o,c)=>{e({...a,[o]:c})};return T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"撮影情報"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"カメラマン名 *"}),T.jsx("input",{type:"text",value:a.photographerName,onChange:o=>r("photographerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.photographerName?"border-red-500":"border-gray-300"}`,placeholder:"カメラマン名を入力"}),i.photographerName&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.photographerName})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日 *"}),T.jsx("input",{type:"date",value:a.shootingDate,onChange:o=>r("shootingDate",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.shootingDate?"border-red-500":"border-gray-300"}`}),i.shootingDate&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.shootingDate})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号 *"}),T.jsx("input",{type:"number",value:a.receptionNumber,onChange:o=>r("receptionNumber",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:"受付番号を入力"}),i.receptionNumber&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.receptionNumber})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ） *"}),T.jsx("input",{type:"text",value:a.customerName,onChange:o=>r("customerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.customerName?"border-red-500":"border-gray-300"}`,placeholder:"お客様氏名（苗字のみ）を入力"}),i.customerName&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.customerName})]})]})]})},TA=()=>{};var p0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},wA=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],f=a[i++],p=a[i++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],f=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const c=a[o],f=o+1<a.length,p=f?a[o+1]:0,y=o+2<a.length,m=y?a[o+2]:0,v=c>>2,x=(c&3)<<4|p>>4;let S=(p&15)<<2|m>>6,D=m&63;y||(D=64,f||(S=64)),r.push(i[v],i[x],i[S],i[D])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(sb(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):wA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const m=o<a.length?i[a.charAt(o)]:64;++o;const x=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||p==null||m==null||x==null)throw new AA;const S=c<<2|p>>4;if(r.push(S),m!==64){const D=p<<4&240|m>>2;if(r.push(D),x!==64){const j=m<<6&192|x;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class AA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SA=function(a){const e=sb(a);return ob.encodeByteArray(e,!0)},$u=function(a){return SA(a).replace(/\./g,"")},RA=function(a){try{return ob.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=()=>CA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof p0>"u")return;const a=p0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},IA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&RA(a[1]);return e&&JSON.parse(e)},jp=()=>{try{return TA()||DA()||NA()||IA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},OA=a=>jp()?.emulatorHosts?.[a],lb=a=>{const e=OA(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},cb=()=>jp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ub(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[$u(JSON.stringify(i)),$u(JSON.stringify(f)),""].join(".")}const Al={};function VA(){const a={prod:[],emulator:[]};for(const e of Object.keys(Al))Al[e]?a.emulator.push(e):a.prod.push(e);return a}function kA(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let m0=!1;function fb(a,e){if(typeof window>"u"||typeof document>"u"||!Gl(window.location.host)||Al[a]===e||Al[a]||m0)return;Al[a]=e;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=VA().prod.length>0;function f(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{m0=!0,f()},S}function v(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function x(){const S=kA(r),D=i("text"),j=document.getElementById(D)||document.createElement("span"),O=i("learnmore"),k=document.getElementById(O)||document.createElement("a"),K=i("preprendIcon"),Z=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;p(W),v(k,O);const he=m();y(Z,K),W.append(Z,j,k,he),document.body.appendChild(W)}c?(j.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jA(){const a=jp()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function zA(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="FirebaseError";class Xr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=BA,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,db.prototype.create)}}class db{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?qA(c,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Xr(o,p,r)}}function qA(a,e){return a.replace(HA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const HA=/\{\$([^}]+)}/g;function Qu(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=a[o],f=e[o];if(g0(c)&&g0(f)){if(!Qu(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function g0(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(a){return a&&a._delegate?a._delegate:a}class Ws{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new MA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($A(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&f.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GA(a){return a===Br?void 0:a}function $A(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new FA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Qe||(Qe={}));const YA={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},KA=Qe.INFO,XA={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},ZA=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=XA[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pb{constructor(e){this.name=e,this._logLevel=KA,this._logHandler=ZA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const WA=(a,e)=>e.some(i=>a instanceof i);let y0,v0;function JA(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eS(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mb=new WeakMap,ap=new WeakMap,gb=new WeakMap,Ud=new WeakMap,Up=new WeakMap;function tS(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",f)},c=()=>{i(Wa(a.result)),o()},f=()=>{r(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&mb.set(i,a)}).catch(()=>{}),Up.set(e,a),e}function nS(a){if(ap.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",f),a.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",f),a.addEventListener("abort",f)});ap.set(a,e)}let rp={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ap.get(a);if(e==="objectStoreNames")return a.objectStoreNames||gb.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Wa(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function iS(a){rp=a(rp)}function aS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Ld(this),e,...i);return gb.set(r,e.sort?e.sort():[e]),Wa(r)}:eS().includes(a)?function(...e){return a.apply(Ld(this),e),Wa(mb.get(this))}:function(...e){return Wa(a.apply(Ld(this),e))}}function rS(a){return typeof a=="function"?aS(a):(a instanceof IDBTransaction&&nS(a),WA(a,JA())?new Proxy(a,rp):a)}function Wa(a){if(a instanceof IDBRequest)return tS(a);if(Ud.has(a))return Ud.get(a);const e=rS(a);return e!==a&&(Ud.set(a,e),Up.set(e,a)),e}const Ld=a=>Up.get(a);function sS(a,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(a,e),p=Wa(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Wa(f.result),y.oldVersion,y.newVersion,Wa(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const oS=["get","getKey","getAll","getAllKeys","count"],lS=["put","add","delete","clear"],zd=new Map;function _0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=lS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||oS.includes(i)))return;const c=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let m=y.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),o&&y.done]))[0]};return zd.set(e,c),c}iS(a=>({...a,get:(e,i,r)=>_0(e,i)||a.get(e,i,r),has:(e,i)=>!!_0(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function uS(a){return a.getComponent()?.type==="VERSION"}const sp="@firebase/app",b0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new pb("@firebase/app"),hS="@firebase/app-compat",fS="@firebase/analytics-compat",dS="@firebase/analytics",pS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",yS="@firebase/auth-compat",vS="@firebase/database",_S="@firebase/data-connect",bS="@firebase/database-compat",xS="@firebase/functions",ES="@firebase/functions-compat",TS="@firebase/installations",wS="@firebase/installations-compat",AS="@firebase/messaging",SS="@firebase/messaging-compat",RS="@firebase/performance",CS="@firebase/performance-compat",DS="@firebase/remote-config",NS="@firebase/remote-config-compat",IS="@firebase/storage",OS="@firebase/storage-compat",MS="@firebase/firestore",VS="@firebase/ai",kS="@firebase/firestore-compat",PS="firebase",jS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",US={[sp]:"fire-core",[hS]:"fire-core-compat",[dS]:"fire-analytics",[fS]:"fire-analytics-compat",[mS]:"fire-app-check",[pS]:"fire-app-check-compat",[gS]:"fire-auth",[yS]:"fire-auth-compat",[vS]:"fire-rtdb",[_S]:"fire-data-connect",[bS]:"fire-rtdb-compat",[xS]:"fire-fn",[ES]:"fire-fn-compat",[TS]:"fire-iid",[wS]:"fire-iid-compat",[AS]:"fire-fcm",[SS]:"fire-fcm-compat",[RS]:"fire-perf",[CS]:"fire-perf-compat",[DS]:"fire-rc",[NS]:"fire-rc-compat",[IS]:"fire-gcs",[OS]:"fire-gcs-compat",[MS]:"fire-fst",[kS]:"fire-fst-compat",[VS]:"fire-vertex","fire-js":"fire-js",[PS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,LS=new Map,lp=new Map;function x0(a,e){try{a.container.addComponent(e)}catch(i){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Vl(a){const e=a.name;if(lp.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,a);for(const i of Yu.values())x0(i,a);for(const i of LS.values())x0(i,a);return!0}function yb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function vb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new db("app","Firebase",zS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=jS;function bb(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:op,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ja.create("bad-app-name",{appName:String(o)});if(i||(i=cb()),!i)throw Ja.create("no-options");const c=Yu.get(o);if(c){if(Qu(i,c.options)&&Qu(r,c.config))return c;throw Ja.create("duplicate-app",{appName:o})}const f=new QA(o);for(const y of lp.values())f.addComponent(y);const p=new BS(i,r,f);return Yu.set(o,p),p}function xb(a=op){const e=Yu.get(a);if(!e&&a===op&&cb())return bb();if(!e)throw Ja.create("no-app",{appName:a});return e}function er(a,e,i){let r=US[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(f.join(" "));return}Vl(new Ws(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firebase-heartbeat-database",HS=1,kl="firebase-heartbeat-store";let Bd=null;function Eb(){return Bd||(Bd=sS(qS,HS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ja.create("idb-open",{originalErrorMessage:a.message})})),Bd}async function FS(a){try{const i=(await Eb()).transaction(kl),r=await i.objectStore(kl).get(Tb(a));return await i.done,r}catch(e){if(e instanceof Xr)ya.warn(e.message);else{const i=Ja.create("idb-get",{originalErrorMessage:e?.message});ya.warn(i.message)}}}async function E0(a,e){try{const r=(await Eb()).transaction(kl,"readwrite");await r.objectStore(kl).put(e,Tb(a)),await r.done}catch(i){if(i instanceof Xr)ya.warn(i.message);else{const r=Ja.create("idb-set",{originalErrorMessage:i?.message});ya.warn(r.message)}}}function Tb(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=1024,$S=30;class QS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new KS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=T0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>$S){const o=XS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ya.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T0(),{heartbeatsToSend:i,unsentEntries:r}=YS(this._heartbeatsCache.heartbeats),o=$u(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ya.warn(e),""}}}function T0(){return new Date().toISOString().substring(0,10)}function YS(a,e=GS){const i=[];let r=a.slice();for(const o of a){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),w0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),w0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class KS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?zA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w0(a){return $u(JSON.stringify({version:2,heartbeats:a})).length}function XS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(a){Vl(new Ws("platform-logger",e=>new cS(e),"PRIVATE")),Vl(new Ws("heartbeat",e=>new QS(e),"PRIVATE")),er(sp,b0,a),er(sp,b0,"esm2020"),er("fire-js","")}ZS("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebasestorage.googleapis.com",Ab="storageBucket",WS=120*1e3,JS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends Xr{constructor(e,i,r=0){super(qd(e),`Firebase Storage: ${i} (${qd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function qd(a){return"storage/"+a}function Lp(){const a="An unknown error occurred, please check the error payload for server response.";return new wt(Tt.UNKNOWN,a)}function eR(a){return new wt(Tt.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function tR(a){return new wt(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nR(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(Tt.UNAUTHENTICATED,a)}function iR(){return new wt(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aR(a){return new wt(Tt.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function rR(){return new wt(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sR(){return new wt(Tt.CANCELED,"User canceled the upload/download.")}function oR(a){return new wt(Tt.INVALID_URL,"Invalid URL '"+a+"'.")}function lR(a){return new wt(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function cR(){return new wt(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ab+"' property when initializing the app?")}function uR(){return new wt(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hR(){return new wt(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fR(a){return new wt(Tt.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cp(a){return new wt(Tt.INVALID_ARGUMENT,a)}function Sb(){return new wt(Tt.APP_DELETED,"The Firebase app was deleted.")}function dR(a){return new wt(Tt.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(a,e){return new wt(Tt.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function xl(a){throw new wt(Tt.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=gn.makeFromUrl(e,i)}catch{return new gn(e,"")}if(r.path==="")return r;throw lR(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function m(he){he.path_=decodeURIComponent(he.path)}const v="v[A-Za-z0-9_]+",x=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${x}/${v}/b/${o}/o${S}`,"i"),j={bucket:1,path:3},O=i===wb?"(?:storage.googleapis.com|storage.cloud.google.com)":i,k="([^?#]*)",K=new RegExp(`^https?://${O}/${o}/${k}`,"i"),W=[{regex:p,indices:y,postModify:c},{regex:D,indices:j,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let he=0;he<W.length;he++){const de=W[he],ge=de.regex.exec(e);if(ge){const P=ge[de.indices.bucket];let R=ge[de.indices.path];R||(R=""),r=new gn(P,R),de.postModify(r);break}}if(r==null)throw oR(e);return r}}class pR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(a,e,i){let r=1,o=null,c=null,f=!1,p=0;function y(){return p===2}let m=!1;function v(...k){m||(m=!0,e.apply(null,k))}function x(k){o=setTimeout(()=>{o=null,a(D,y())},k)}function S(){c&&clearTimeout(c)}function D(k,...K){if(m){S();return}if(k){S(),v.call(null,k,...K);return}if(y()||f){S(),v.call(null,k,...K);return}r<64&&(r*=2);let W;p===1?(p=2,W=0):W=(r+Math.random())*1e3,x(W)}let j=!1;function O(k){j||(j=!0,S(),!m&&(o!==null?(k||(p=2),clearTimeout(o),x(0)):k||(p=1)))}return x(0),c=setTimeout(()=>{f=!0,O(!0)},i),O}function gR(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(a){return a!==void 0}function vR(a){return typeof a=="object"&&!Array.isArray(a)}function zp(a){return typeof a=="string"||a instanceof String}function A0(a){return Bp()&&a instanceof Blob}function Bp(){return typeof Blob<"u"}function up(a,e,i,r){if(r<e)throw cp(`Invalid value for '${a}'. Expected ${e} or greater.`);if(r>i)throw cp(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(a,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${a}`}function Rb(a){const e=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const o=e(r)+"="+e(a[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Fr;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Fr||(Fr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(a,e){const i=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,c=e.indexOf(a)!==-1;return i||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,i,r,o,c,f,p,y,m,v,x,S=!0,D=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=y,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=x,this.retry=S,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,O)=>{this.resolve_=j,this.reject_=O,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Eu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const y=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,m)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===Fr.NO_ERROR,y=c.getStatus();if(!p||_R(y,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===Fr.ABORT;r(!1,new Eu(!1,null,v));return}const m=this.successCodes_.indexOf(y)!==-1;r(!0,new Eu(m,c))})},i=(r,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());yR(y)?c(y):c()}catch(y){f(y)}else if(p!==null){const y=Lp();y.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,y)):f(y)}else if(o.canceled){const y=this.appDelete_?Sb():sR();f(y)}else{const y=rR();f(y)}};this.canceled_?i(!1,new Eu(!1,null,!0)):this.backoffId_=mR(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eu{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function xR(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function ER(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TR(a,e){e&&(a["X-Firebase-GMPID"]=e)}function wR(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function AR(a,e,i,r,o,c,f=!0,p=!1){const y=Rb(a.urlParams),m=a.url+y,v=Object.assign({},a.headers);return TR(v,e),xR(v,i),ER(v,c),wR(v,r),new bR(m,a.method,v,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RR(...a){const e=SR();if(e!==void 0){const i=new e;for(let r=0;r<a.length;r++)i.append(a[r]);return i.getBlob()}else{if(Bp())return new Blob(a);throw new wt(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CR(a,e,i){return a.webkitSlice?a.webkitSlice(e,i):a.mozSlice?a.mozSlice(e,i):a.slice?a.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(a){if(typeof atob>"u")throw fR("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hd{constructor(e,i){this.data=e,this.contentType=i||null}}function NR(a,e){switch(a){case Vi.RAW:return new Hd(Cb(e));case Vi.BASE64:case Vi.BASE64URL:return new Hd(Db(a,e));case Vi.DATA_URL:return new Hd(OR(e),MR(e))}throw Lp()}function Cb(a){const e=[];for(let i=0;i<a.length;i++){let r=a.charCodeAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const c=r,f=a.charCodeAt(++i);r=65536|(c&1023)<<10|f&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function IR(a){let e;try{e=decodeURIComponent(a)}catch{throw Sl(Vi.DATA_URL,"Malformed data URL.")}return Cb(e)}function Db(a,e){switch(a){case Vi.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Sl(a,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Sl(a,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=DR(e)}catch(o){throw o.message.includes("polyfill")?o:Sl(a,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class Nb{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw Sl(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=VR(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function OR(a){const e=new Nb(a);return e.base64?Db(Vi.BASE64,e.rest):IR(e.rest)}function MR(a){return new Nb(a).contentType}function VR(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,i){let r=0,o="";A0(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(A0(this.data_)){const r=this.data_,o=CR(r,e,i);return o===null?null:new Xa(o)}else{const r=new Uint8Array(this.data_.buffer,e,i-e);return new Xa(r,!0)}}static getBlob(...e){if(Bp()){const i=e.map(r=>r instanceof Xa?r.data_:r);return new Xa(RR.apply(null,i))}else{const i=e.map(f=>zp(f)?NR(Vi.RAW,f).data:f.data_);let r=0;i.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let c=0;return i.forEach(f=>{for(let p=0;p<f.length;p++)o[c++]=f[p]}),new Xa(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(a){let e;try{e=JSON.parse(a)}catch{return null}return vR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function PR(a,e){const i=e.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function Ib(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(a,e){return e}class mn{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||jR}}let Tu=null;function UR(a){return!zp(a)||a.length<2?a:Ib(a)}function Ob(){if(Tu)return Tu;const a=[];a.push(new mn("bucket")),a.push(new mn("generation")),a.push(new mn("metageneration")),a.push(new mn("name","fullPath",!0));function e(c,f){return UR(f)}const i=new mn("name");i.xform=e,a.push(i);function r(c,f){return f!==void 0?Number(f):f}const o=new mn("size");return o.xform=r,a.push(o),a.push(new mn("timeCreated")),a.push(new mn("updated")),a.push(new mn("md5Hash",null,!0)),a.push(new mn("cacheControl",null,!0)),a.push(new mn("contentDisposition",null,!0)),a.push(new mn("contentEncoding",null,!0)),a.push(new mn("contentLanguage",null,!0)),a.push(new mn("contentType",null,!0)),a.push(new mn("metadata","customMetadata",!0)),Tu=a,Tu}function LR(a,e){function i(){const r=a.bucket,o=a.fullPath,c=new gn(r,o);return e._makeStorageReference(c)}Object.defineProperty(a,"ref",{get:i})}function zR(a,e,i){const r={};r.type="file";const o=i.length;for(let c=0;c<o;c++){const f=i[c];r[f.local]=f.xform(r,e[f.server])}return LR(r,a),r}function Mb(a,e,i){const r=qp(e);return r===null?null:zR(a,r,i)}function BR(a,e,i,r){const o=qp(e);if(o===null||!zp(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const f=encodeURIComponent;return c.split(",").map(m=>{const v=a.bucket,x=a.fullPath,S="/b/"+f(v)+"/o/"+f(x),D=fh(S,i,r),j=Rb({alt:"media",token:m});return D+j})[0]}function qR(a,e){const i={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(i[c.server]=a[c.local])}return JSON.stringify(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="prefixes",R0="items";function HR(a,e,i){const r={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[S0])for(const o of i[S0]){const c=o.replace(/\/$/,""),f=a._makeStorageReference(new gn(e,c));r.prefixes.push(f)}if(i[R0])for(const o of i[R0]){const c=a._makeStorageReference(new gn(e,o.name));r.items.push(c)}return r}function FR(a,e,i){const r=qp(i);return r===null?null:HR(a,e,r)}class Hp{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(a){if(!a)throw Lp()}function GR(a,e){function i(r,o){const c=Mb(a,o,e);return Fp(c!==null),c}return i}function $R(a,e){function i(r,o){const c=FR(a,e,o);return Fp(c!==null),c}return i}function QR(a,e){function i(r,o){const c=Mb(a,o,e);return Fp(c!==null),BR(c,o,a.host,a._protocol)}return i}function Gp(a){function e(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=iR():o=nR():i.getStatus()===402?o=tR(a.bucket):i.getStatus()===403?o=aR(a.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return e}function YR(a){const e=Gp(a);function i(r,o){let c=e(r,o);return r.getStatus()===404&&(c=eR(a.path)),c.serverResponse=o.serverResponse,c}return i}function KR(a,e,i,r,o){const c={};e.isRoot?c.prefix="":c.prefix=e.path+"/",i.length>0&&(c.delimiter=i),r&&(c.pageToken=r),o&&(c.maxResults=o);const f=e.bucketOnlyServerUrl(),p=fh(f,a.host,a._protocol),y="GET",m=a.maxOperationRetryTime,v=new Hp(p,y,$R(a,e.bucket),m);return v.urlParams=c,v.errorHandler=Gp(e),v}function XR(a,e,i){const r=e.fullServerUrl(),o=fh(r,a.host,a._protocol),c="GET",f=a.maxOperationRetryTime,p=new Hp(o,c,QR(a,i),f);return p.errorHandler=YR(e),p}function ZR(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function WR(a,e,i){const r=Object.assign({},i);return r.fullPath=a.path,r.size=e.size(),r.contentType||(r.contentType=ZR(null,e)),r}function JR(a,e,i,r,o){const c=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let W="";for(let he=0;he<2;he++)W=W+Math.random().toString().slice(2);return W}const y=p();f["Content-Type"]="multipart/related; boundary="+y;const m=WR(e,r,o),v=qR(m,i),x="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+y+`\r
Content-Type: `+m.contentType+`\r
\r
`,S=`\r
--`+y+"--",D=Xa.getBlob(x,r,S);if(D===null)throw uR();const j={name:m.fullPath},O=fh(c,a.host,a._protocol),k="POST",K=a.maxUploadRetryTime,Z=new Hp(O,k,GR(a,i),K);return Z.urlParams=j,Z.headers=f,Z.body=D.uploadData(),Z.errorHandler=Gp(e),Z}class e2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o,c){if(this.sent_)throw xl("cannot .send() more than once");if(Gl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),c!==void 0)for(const f in c)c.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,c[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t2 extends e2{initXhr(){this.xhr_.responseType="text"}}function $p(){return new t2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,i){this._service=e,i instanceof gn?this._location=i:this._location=gn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new $r(e,i)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ib(this._location.path)}get storage(){return this._service}get parent(){const e=kR(this._location.path);if(e===null)return null;const i=new gn(this._location.bucket,e);return new $r(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw dR(e)}}function n2(a,e,i){a._throwIfRoot("uploadBytes");const r=JR(a.storage,a._location,Ob(),new Xa(e,!0),i);return a.storage.makeRequestWithTokens(r,$p).then(o=>({metadata:o,ref:a}))}function i2(a){const e={prefixes:[],items:[]};return Vb(a,e).then(()=>e)}async function Vb(a,e,i){const o=await a2(a,{pageToken:i});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await Vb(a,e,o.nextPageToken)}function a2(a,e){e!=null&&typeof e.maxResults=="number"&&up("options.maxResults",1,1e3,e.maxResults);const i=e||{},r=KR(a.storage,a._location,"/",i.pageToken,i.maxResults);return a.storage.makeRequestWithTokens(r,$p)}function r2(a){a._throwIfRoot("getDownloadURL");const e=XR(a.storage,a._location,Ob());return a.storage.makeRequestWithTokens(e,$p).then(i=>{if(i===null)throw hR();return i})}function s2(a,e){const i=PR(a._location.path,e),r=new gn(a._location.bucket,i);return new $r(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(a){return/^[A-Za-z]+:\/\//.test(a)}function l2(a,e){return new $r(a,e)}function kb(a,e){if(a instanceof Qp){const i=a;if(i._bucket==null)throw cR();const r=new $r(i,i._bucket);return e!=null?kb(r,e):r}else return e!==void 0?s2(a,e):a}function c2(a,e){if(e&&o2(e)){if(a instanceof Qp)return l2(a,e);throw cp("To use ref(service, url), the first argument must be a Storage instance.")}else return kb(a,e)}function C0(a,e){const i=e?.[Ab];return i==null?null:gn.makeFromBucketSpec(i,a)}function u2(a,e,i,r={}){a.host=`${e}:${i}`;const o=Gl(e);o&&(ub(`https://${a.host}/b`),fb("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(a._overrideAuthToken=typeof c=="string"?c:hb(c,a.app.options.projectId))}class Qp{constructor(e,i,r,o,c,f=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=wb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WS,this._maxUploadRetryTime=JS,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=C0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=C0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){up("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){up("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(vb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $r(this,e)}_makeRequest(e,i,r,o,c=!0){if(this._deleted)return new pR(Sb());{const f=AR(e,this._appId,r,o,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const D0="@firebase/storage",N0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="storage";function h2(a,e,i){return a=ci(a),n2(a,e,i)}function I0(a){return a=ci(a),i2(a)}function f2(a){return a=ci(a),r2(a)}function Fd(a,e){return a=ci(a),c2(a,e)}function d2(a=xb(),e){a=ci(a);const r=yb(a,Pb).getImmediate({identifier:e}),o=lb("storage");return o&&p2(r,...o),r}function p2(a,e,i,r={}){u2(a,e,i,r)}function m2(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new Qp(i,r,o,e,_b)}function g2(){Vl(new Ws(Pb,m2,"PUBLIC").setMultipleInstances(!0)),er(D0,N0,""),er(D0,N0,"esm2020")}g2();var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,jb;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function C(){}C.prototype=R.prototype,P.D=R.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(V,N,L){for(var A=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)A[pe-2]=arguments[pe];return R.prototype[N].apply(V,A)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,C){C||(C=0);var V=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)V[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;16>N;++N)V[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=P.g[0],C=P.g[1],N=P.g[2];var L=P.g[3],A=R+(L^C&(N^L))+V[0]+3614090360&4294967295;R=C+(A<<7&4294967295|A>>>25),A=L+(N^R&(C^N))+V[1]+3905402710&4294967295,L=R+(A<<12&4294967295|A>>>20),A=N+(C^L&(R^C))+V[2]+606105819&4294967295,N=L+(A<<17&4294967295|A>>>15),A=C+(R^N&(L^R))+V[3]+3250441966&4294967295,C=N+(A<<22&4294967295|A>>>10),A=R+(L^C&(N^L))+V[4]+4118548399&4294967295,R=C+(A<<7&4294967295|A>>>25),A=L+(N^R&(C^N))+V[5]+1200080426&4294967295,L=R+(A<<12&4294967295|A>>>20),A=N+(C^L&(R^C))+V[6]+2821735955&4294967295,N=L+(A<<17&4294967295|A>>>15),A=C+(R^N&(L^R))+V[7]+4249261313&4294967295,C=N+(A<<22&4294967295|A>>>10),A=R+(L^C&(N^L))+V[8]+1770035416&4294967295,R=C+(A<<7&4294967295|A>>>25),A=L+(N^R&(C^N))+V[9]+2336552879&4294967295,L=R+(A<<12&4294967295|A>>>20),A=N+(C^L&(R^C))+V[10]+4294925233&4294967295,N=L+(A<<17&4294967295|A>>>15),A=C+(R^N&(L^R))+V[11]+2304563134&4294967295,C=N+(A<<22&4294967295|A>>>10),A=R+(L^C&(N^L))+V[12]+1804603682&4294967295,R=C+(A<<7&4294967295|A>>>25),A=L+(N^R&(C^N))+V[13]+4254626195&4294967295,L=R+(A<<12&4294967295|A>>>20),A=N+(C^L&(R^C))+V[14]+2792965006&4294967295,N=L+(A<<17&4294967295|A>>>15),A=C+(R^N&(L^R))+V[15]+1236535329&4294967295,C=N+(A<<22&4294967295|A>>>10),A=R+(N^L&(C^N))+V[1]+4129170786&4294967295,R=C+(A<<5&4294967295|A>>>27),A=L+(C^N&(R^C))+V[6]+3225465664&4294967295,L=R+(A<<9&4294967295|A>>>23),A=N+(R^C&(L^R))+V[11]+643717713&4294967295,N=L+(A<<14&4294967295|A>>>18),A=C+(L^R&(N^L))+V[0]+3921069994&4294967295,C=N+(A<<20&4294967295|A>>>12),A=R+(N^L&(C^N))+V[5]+3593408605&4294967295,R=C+(A<<5&4294967295|A>>>27),A=L+(C^N&(R^C))+V[10]+38016083&4294967295,L=R+(A<<9&4294967295|A>>>23),A=N+(R^C&(L^R))+V[15]+3634488961&4294967295,N=L+(A<<14&4294967295|A>>>18),A=C+(L^R&(N^L))+V[4]+3889429448&4294967295,C=N+(A<<20&4294967295|A>>>12),A=R+(N^L&(C^N))+V[9]+568446438&4294967295,R=C+(A<<5&4294967295|A>>>27),A=L+(C^N&(R^C))+V[14]+3275163606&4294967295,L=R+(A<<9&4294967295|A>>>23),A=N+(R^C&(L^R))+V[3]+4107603335&4294967295,N=L+(A<<14&4294967295|A>>>18),A=C+(L^R&(N^L))+V[8]+1163531501&4294967295,C=N+(A<<20&4294967295|A>>>12),A=R+(N^L&(C^N))+V[13]+2850285829&4294967295,R=C+(A<<5&4294967295|A>>>27),A=L+(C^N&(R^C))+V[2]+4243563512&4294967295,L=R+(A<<9&4294967295|A>>>23),A=N+(R^C&(L^R))+V[7]+1735328473&4294967295,N=L+(A<<14&4294967295|A>>>18),A=C+(L^R&(N^L))+V[12]+2368359562&4294967295,C=N+(A<<20&4294967295|A>>>12),A=R+(C^N^L)+V[5]+4294588738&4294967295,R=C+(A<<4&4294967295|A>>>28),A=L+(R^C^N)+V[8]+2272392833&4294967295,L=R+(A<<11&4294967295|A>>>21),A=N+(L^R^C)+V[11]+1839030562&4294967295,N=L+(A<<16&4294967295|A>>>16),A=C+(N^L^R)+V[14]+4259657740&4294967295,C=N+(A<<23&4294967295|A>>>9),A=R+(C^N^L)+V[1]+2763975236&4294967295,R=C+(A<<4&4294967295|A>>>28),A=L+(R^C^N)+V[4]+1272893353&4294967295,L=R+(A<<11&4294967295|A>>>21),A=N+(L^R^C)+V[7]+4139469664&4294967295,N=L+(A<<16&4294967295|A>>>16),A=C+(N^L^R)+V[10]+3200236656&4294967295,C=N+(A<<23&4294967295|A>>>9),A=R+(C^N^L)+V[13]+681279174&4294967295,R=C+(A<<4&4294967295|A>>>28),A=L+(R^C^N)+V[0]+3936430074&4294967295,L=R+(A<<11&4294967295|A>>>21),A=N+(L^R^C)+V[3]+3572445317&4294967295,N=L+(A<<16&4294967295|A>>>16),A=C+(N^L^R)+V[6]+76029189&4294967295,C=N+(A<<23&4294967295|A>>>9),A=R+(C^N^L)+V[9]+3654602809&4294967295,R=C+(A<<4&4294967295|A>>>28),A=L+(R^C^N)+V[12]+3873151461&4294967295,L=R+(A<<11&4294967295|A>>>21),A=N+(L^R^C)+V[15]+530742520&4294967295,N=L+(A<<16&4294967295|A>>>16),A=C+(N^L^R)+V[2]+3299628645&4294967295,C=N+(A<<23&4294967295|A>>>9),A=R+(N^(C|~L))+V[0]+4096336452&4294967295,R=C+(A<<6&4294967295|A>>>26),A=L+(C^(R|~N))+V[7]+1126891415&4294967295,L=R+(A<<10&4294967295|A>>>22),A=N+(R^(L|~C))+V[14]+2878612391&4294967295,N=L+(A<<15&4294967295|A>>>17),A=C+(L^(N|~R))+V[5]+4237533241&4294967295,C=N+(A<<21&4294967295|A>>>11),A=R+(N^(C|~L))+V[12]+1700485571&4294967295,R=C+(A<<6&4294967295|A>>>26),A=L+(C^(R|~N))+V[3]+2399980690&4294967295,L=R+(A<<10&4294967295|A>>>22),A=N+(R^(L|~C))+V[10]+4293915773&4294967295,N=L+(A<<15&4294967295|A>>>17),A=C+(L^(N|~R))+V[1]+2240044497&4294967295,C=N+(A<<21&4294967295|A>>>11),A=R+(N^(C|~L))+V[8]+1873313359&4294967295,R=C+(A<<6&4294967295|A>>>26),A=L+(C^(R|~N))+V[15]+4264355552&4294967295,L=R+(A<<10&4294967295|A>>>22),A=N+(R^(L|~C))+V[6]+2734768916&4294967295,N=L+(A<<15&4294967295|A>>>17),A=C+(L^(N|~R))+V[13]+1309151649&4294967295,C=N+(A<<21&4294967295|A>>>11),A=R+(N^(C|~L))+V[4]+4149444226&4294967295,R=C+(A<<6&4294967295|A>>>26),A=L+(C^(R|~N))+V[11]+3174756917&4294967295,L=R+(A<<10&4294967295|A>>>22),A=N+(R^(L|~C))+V[2]+718787259&4294967295,N=L+(A<<15&4294967295|A>>>17),A=C+(L^(N|~R))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+L&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var C=R-this.blockSize,V=this.B,N=this.h,L=0;L<R;){if(N==0)for(;L<=C;)o(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<R;)if(V[N++]=P.charCodeAt(L++),N==this.blockSize){o(this,V),N=0;break}}else for(;L<R;)if(V[N++]=P[L++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var C=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=C&255,C/=256;for(this.u(P),P=Array(16),R=C=0;4>R;++R)for(var V=0;32>V;V+=8)P[C++]=this.g[R]>>>V&255;return P};function c(P,R){var C=p;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=R(P)}function f(P,R){this.h=R;for(var C=[],V=!0,N=P.length-1;0<=N;N--){var L=P[N]|0;V&&L==R||(C[N]=L,V=!1)}this.g=C}var p={};function y(P){return-128<=P&&128>P?c(P,function(R){return new f([R|0],0>R?-1:0)}):new f([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return x;if(0>P)return k(m(-P));for(var R=[],C=1,V=0;P>=C;V++)R[V]=P/C|0,C*=4294967296;return new f(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return k(v(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),V=x,N=0;N<P.length;N+=8){var L=Math.min(8,P.length-N),A=parseInt(P.substring(N,N+L),R);8>L?(L=m(Math.pow(R,L)),V=V.j(L).add(m(A))):(V=V.j(C),V=V.add(m(A)))}return V}var x=y(0),S=y(1),D=y(16777216);a=f.prototype,a.m=function(){if(O(this))return-k(this).m();for(var P=0,R=1,C=0;C<this.g.length;C++){var V=this.i(C);P+=(0<=V?V:4294967296+V)*R,R*=4294967296}return P},a.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(j(this))return"0";if(O(this))return"-"+k(this).toString(P);for(var R=m(Math.pow(P,6)),C=this,V="";;){var N=he(C,R).g;C=K(C,N.j(R));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=N,j(C))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},a.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function j(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function O(P){return P.h==-1}a.l=function(P){return P=K(this,P),O(P)?-1:j(P)?0:1};function k(P){for(var R=P.g.length,C=[],V=0;V<R;V++)C[V]=~P.g[V];return new f(C,~P.h).add(S)}a.abs=function(){return O(this)?k(this):this},a.add=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],V=0,N=0;N<=R;N++){var L=V+(this.i(N)&65535)+(P.i(N)&65535),A=(L>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);V=A>>>16,L&=65535,A&=65535,C[N]=A<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function K(P,R){return P.add(k(R))}a.j=function(P){if(j(this)||j(P))return x;if(O(this))return O(P)?k(this).j(k(P)):k(k(this).j(P));if(O(P))return k(this.j(k(P)));if(0>this.l(D)&&0>P.l(D))return m(this.m()*P.m());for(var R=this.g.length+P.g.length,C=[],V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<P.g.length;N++){var L=this.i(V)>>>16,A=this.i(V)&65535,pe=P.i(N)>>>16,ue=P.i(N)&65535;C[2*V+2*N]+=A*ue,Z(C,2*V+2*N),C[2*V+2*N+1]+=L*ue,Z(C,2*V+2*N+1),C[2*V+2*N+1]+=A*pe,Z(C,2*V+2*N+1),C[2*V+2*N+2]+=L*pe,Z(C,2*V+2*N+2)}for(V=0;V<R;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=R;V<2*R;V++)C[V]=0;return new f(C,0)};function Z(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function W(P,R){this.g=P,this.h=R}function he(P,R){if(j(R))throw Error("division by zero");if(j(P))return new W(x,x);if(O(P))return R=he(k(P),R),new W(k(R.g),k(R.h));if(O(R))return R=he(P,k(R)),new W(k(R.g),R.h);if(30<P.g.length){if(O(P)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,V=R;0>=V.l(P);)C=de(C),V=de(V);var N=ge(C,1),L=ge(V,1);for(V=ge(V,2),C=ge(C,2);!j(V);){var A=L.add(V);0>=A.l(P)&&(N=N.add(C),L=A),V=ge(V,1),C=ge(C,1)}return R=K(P,N.j(R)),new W(N,R)}for(N=x;0<=P.l(R);){for(C=Math.max(1,Math.floor(P.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=m(C),A=L.j(R);O(A)||0<A.l(P);)C-=V,L=m(C),A=L.j(R);j(L)&&(L=S),N=N.add(L),P=K(P,A)}return new W(N,P)}a.A=function(P){return he(this,P).h},a.and=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)&P.i(V);return new f(C,this.h&P.h)},a.or=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)|P.i(V);return new f(C,this.h|P.h)},a.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)^P.i(V);return new f(C,this.h^P.h)};function de(P){for(var R=P.g.length+1,C=[],V=0;V<R;V++)C[V]=P.i(V)<<1|P.i(V-1)>>>31;return new f(C,P.h)}function ge(P,R){var C=R>>5;R%=32;for(var V=P.g.length-C,N=[],L=0;L<V;L++)N[L]=0<R?P.i(L+C)>>>R|P.i(L+C+1)<<32-R:P.i(L+C);return new f(N,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=v,tr=f}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ub,El,Lb,Vu,hp,zb,Bb,qb;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,g){if(g)e:{var _=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var H=u[w];if(!(H in _))break e;_=_[H]}u=u[u.length-1],w=_[u],g=g(w),g!=w&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,w=!1,H={next:function(){if(!w&&_<u.length){var J=_++;return{value:g(J,u[J]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function y(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function x(u,g,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),u.apply(g,H)}}return function(){return u.apply(g,arguments)}}function S(u,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:x,S.apply(null,arguments)}function D(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function j(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,H,J){for(var fe=Array(arguments.length-2),He=2;He<arguments.length;He++)fe[He-2]=arguments[He];return g.prototype[H].apply(w,fe)}}function O(u){const g=u.length;if(0<g){const _=Array(g);for(let w=0;w<g;w++)_[w]=u[w];return _}return[]}function k(u,g){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(y(w)){const H=u.length||0,J=w.length||0;u.length=H+J;for(let fe=0;fe<J;fe++)u[H+fe]=w[fe]}else u.push(w)}}class K{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var de=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ge(u,g,_){for(const w in u)g.call(_,u[w],w,u)}function P(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function R(u){const g={};for(const _ in u)g[_]=u[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let _,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(_ in w)u[_]=w[_];for(let J=0;J<C.length;J++)_=C[J],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function L(u){p.setTimeout(()=>{throw u},0)}function A(){var u=ce;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class pe{constructor(){this.h=this.g=null}add(g,_){const w=ue.get();w.set(g,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ue=new K(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,oe=!1,ce=new pe,M=()=>{const u=p.Promise.resolve(void 0);ne=()=>{u.then(ee)}};var ee=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){L(_)}var g=ue;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}oe=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,g),p.removeEventListener("test",_,g)}catch{}return u})();function Te(u,g){if(Q.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(de){e:{try{he(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ye[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}j(Te,Q);var ye={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Pe(u,g,_,w,H){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!w,this.ha=H,this.key=++Ae,this.da=this.fa=!1}function Ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ft(u){this.src=u,this.g={},this.h=0}ft.prototype.add=function(u,g,_,w,H){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var fe=On(u,g,w,H);return-1<fe?(g=u[fe],_||(g.fa=!1)):(g=new Pe(g,this.src,J,!!w,H),g.fa=_,u.push(g)),g};function Dt(u,g){var _=g.type;if(_ in u.g){var w=u.g[_],H=Array.prototype.indexOf.call(w,g,void 0),J;(J=0<=H)&&Array.prototype.splice.call(w,H,1),J&&(Ye(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function On(u,g,_,w){for(var H=0;H<u.length;++H){var J=u[H];if(!J.da&&J.listener==g&&J.capture==!!_&&J.ha==w)return H}return-1}var yn="closure_lm_"+(1e6*Math.random()|0),Mn={};function Kn(u,g,_,w,H){if(Array.isArray(g)){for(var J=0;J<g.length;J++)Kn(u,g[J],_,w,H);return null}return _=we(_),u&&u[Ze]?u.K(g,_,m(w)?!!w.capture:!1,H):_t(u,g,_,!1,w,H)}function _t(u,g,_,w,H,J){if(!g)throw Error("Invalid event type");var fe=m(H)?!!H.capture:!!H,He=ba(u);if(He||(u[yn]=He=new ft(u)),_=He.add(g,_,w,fe,J),_.proxy)return _;if(w=Xn(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)le||(H=fe),H===void 0&&(H=!1),u.addEventListener(g.toString(),w,H);else if(u.attachEvent)u.attachEvent(Bi(g.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xn(){function u(_){return g.call(u.src,u.listener,_)}const g=po;return u}function vn(u,g,_,w,H){if(Array.isArray(g))for(var J=0;J<g.length;J++)vn(u,g[J],_,w,H);else w=m(w)?!!w.capture:!!w,_=we(_),u&&u[Ze]?(u=u.i,g=String(g).toString(),g in u.g&&(J=u.g[g],_=On(J,_,w,H),-1<_&&(Ye(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete u.g[g],u.h--)))):u&&(u=ba(u))&&(g=u.g[g.toString()],u=-1,g&&(u=On(g,_,w,H)),(_=-1<u?g[u]:null)&&Zn(_))}function Zn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ze])Dt(g.i,u);else{var _=u.type,w=u.proxy;g.removeEventListener?g.removeEventListener(_,w,u.capture):g.detachEvent?g.detachEvent(Bi(_),w):g.addListener&&g.removeListener&&g.removeListener(w),(_=ba(g))?(Dt(_,u),_.h==0&&(_.src=null,g[yn]=null)):Ye(u)}}}function Bi(u){return u in Mn?Mn[u]:Mn[u]="on"+u}function po(u,g){if(u.da)u=!0;else{g=new Te(g,this);var _=u.listener,w=u.ha||u.src;u.fa&&Zn(u),u=_.call(w,g)}return u}function ba(u){return u=u[yn],u instanceof ft?u:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(u){return typeof u=="function"?u:(u[me]||(u[me]=function(g){return u.handleEvent(g)}),u[me])}function Me(){q.call(this),this.i=new ft(this),this.M=this,this.F=null}j(Me,q),Me.prototype[Ze]=!0,Me.prototype.removeEventListener=function(u,g,_,w){vn(this,u,g,_,w)};function De(u,g){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=g.type||g,typeof g=="string")g=new Q(g,u);else if(g instanceof Q)g.target=g.target||u;else{var H=g;g=new Q(w,u),V(g,H)}if(H=!0,_)for(var J=_.length-1;0<=J;J--){var fe=g.g=_[J];H=st(fe,w,!0,g)&&H}if(fe=g.g=u,H=st(fe,w,!0,g)&&H,H=st(fe,w,!1,g)&&H,_)for(J=0;J<_.length;J++)fe=g.g=_[J],H=st(fe,w,!1,g)&&H}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],w=0;w<_.length;w++)Ye(_[w]);delete u.g[g],u.h--}}this.F=null},Me.prototype.K=function(u,g,_,w){return this.i.add(String(u),g,!1,_,w)},Me.prototype.L=function(u,g,_,w){return this.i.add(String(u),g,!0,_,w)};function st(u,g,_,w){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,J=0;J<g.length;++J){var fe=g[J];if(fe&&!fe.da&&fe.capture==_){var He=fe.listener,Ut=fe.ha||fe.src;fe.fa&&Dt(u.i,fe),H=He.call(Ut,w)!==!1&&H}}return H&&!w.defaultPrevented}function bt(u,g,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(u,g||0)}function Wn(u){u.g=bt(()=>{u.g=null,u.i&&(u.i=!1,Wn(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class ur extends q{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Wn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(u){q.call(this),this.h=u,this.g={}}j(Jn,q);var ei=[];function Vn(u){ge(u.g,function(g,_){this.g.hasOwnProperty(_)&&Zn(g)},u),u.g={}}Jn.prototype.N=function(){Jn.aa.N.call(this),Vn(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var un=p.JSON.stringify,di=p.JSON.parse,ti=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function qi(){}qi.prototype.h=null;function hr(u){return u.h||(u.h=u.i())}function mo(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){Q.call(this,"d")}j(Fi,Q);function go(){Q.call(this,"c")}j(go,Q);var pi={},yo=null;function xa(){return yo=yo||new Me}pi.La="serverreachability";function ts(u){Q.call(this,pi.La,u)}j(ts,Q);function Ea(u){const g=xa();De(g,new ts(g))}pi.STAT_EVENT="statevent";function Wl(u,g){Q.call(this,pi.STAT_EVENT,u),this.stat=g}j(Wl,Q);function dt(u){const g=xa();De(g,new Wl(g,u))}pi.Ma="timingevent";function jt(u,g){Q.call(this,pi.Ma,u),this.size=g}j(jt,Q);function Nt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},g)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function vo(u,g,_,w,H,J){u.info(function(){if(u.g)if(J)for(var fe="",He=J.split("&"),Ut=0;Ut<He.length;Ut++){var Fe=He[Ut].split("=");if(1<Fe.length){var Ft=Fe[0];Fe=Fe[1];var Lt=Ft.split("_");fe=2<=Lt.length&&Lt[1]=="type"?fe+(Ft+"="+Fe+"&"):fe+(Ft+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+g+`
`+_+`
`+fe})}function Rh(u,g,_,w,H,J,fe){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+g+`
`+_+`
`+J+" "+fe})}function Ta(u,g,_,w){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+fr(u,_)+(w?" "+w:"")})}function Jl(u,g){u.info(function(){return"TIMEOUT: "+g})}kn.prototype.info=function(){};function fr(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<H.length;fe++)H[fe]=""}}}}return un(_)}catch{return g}}var wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function gi(){}j(gi,qi),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},mi=new gi;function hn(u,g,_,w){this.j=u,this.i=g,this.l=_,this.R=w||1,this.U=new Jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var _o={},ns={};function ni(u,g,_){u.L=1,u.v=yr(Tn(g)),u.m=_,u.P=!0,$i(u,null)}function $i(u,g){u.F=Date.now(),dr(u),u.A=Tn(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Ao(_.i,"t",w),u.C=0,_=u.j.J,u.h=new At,u.g=mc(u.j,_?g:null,!u.m),0<u.O&&(u.M=new ur(S(u.Y,u,u.g),u.O)),g=u.U,_=u.g,w=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(ei[0]=H.toString()),H=ei);for(var J=0;J<H.length;J++){var fe=Kn(_,H[J],w||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ea(),vo(u.i,u.u,u.A,u.l,u.R,u.m)}hn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Ln(u)==3?g.j():this.Y(u)},hn.prototype.Y=function(u){try{if(u==this.g)e:{const Lt=Ln(this.g);var g=this.g.Ba();const ea=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Lt!=4||g==7||(g==8||0>=ea?Ea(3):Ea(2)),Aa(this);var _=this.g.Z();this.X=_;t:if(ec(this)){var w=oc(this.g);u="";var H=w.length,J=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xt(this),yi(this);var fe="";break t}this.h.i=new p.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,u+=this.h.i.decode(w[g],{stream:!(J&&g==H-1)});w.length=0,this.h.g+=u,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,Rh(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ut=this.g;if((He=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(He)){var Fe=He;break t}}Fe=null}if(_=Fe)Ta(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,_);else{this.o=!1,this.s=3,dt(12),Xt(this),yi(this);break e}}if(this.P){_=!0;let Zt;for(;!this.J&&this.C<fe.length;)if(Zt=tc(this,fe),Zt==ns){Lt==4&&(this.s=4,dt(14),_=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==_o){this.s=4,dt(15),Ta(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Ta(this.i,this.l,Zt,null),pr(this,Zt);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||fe.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Ta(this.i,this.l,fe,"[Invalid Chunked Response]"),Xt(this),yi(this);else if(0<fe.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Ar(Ft),Ft.M=!0,dt(11))}}else Ta(this.i,this.l,fe,null),pr(this,fe);Lt==4&&Xt(this),this.o&&!this.J&&(Lt==4?fc(this.j,this):(this.o=!1,dr(this)))}else Oh(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Xt(this),yi(this)}}}catch{}finally{}};function ec(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tc(u,g){var _=u.C,w=g.indexOf(`
`,_);return w==-1?ns:(_=Number(g.substring(_,w)),isNaN(_)?_o:(w+=1,w+_>g.length?ns:(g=g.slice(w,w+_),u.C=w+_,g)))}hn.prototype.cancel=function(){this.J=!0,Xt(this)};function dr(u){u.S=Date.now()+u.I,nc(u,u.I)}function nc(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nt(S(u.ba,u),g)}function Aa(u){u.B&&(p.clearTimeout(u.B),u.B=null)}hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jl(this.i,this.A),this.L!=2&&(Ea(),dt(17)),Xt(this),this.s=2,yi(this)):nc(this,this.S-u)};function yi(u){u.j.G==0||u.J||fc(u.j,u)}function Xt(u){Aa(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Vn(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function pr(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||bo(_.h,u))){if(!u.K&&bo(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ps(_),fs(_);else break e;No(_),dt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Nt(S(_.Za,_),6e3));if(1>=as(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ji(_,11)}else if((u.K||_.g==u)&&ps(_),!Z(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let Fe=H[g];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const Ft=Fe[3];Ft!=null&&(_.la=Ft,_.j.info("VER="+_.la));const Lt=Fe[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const ea=Fe[5];ea!=null&&typeof ea=="number"&&0<ea&&(w=1.5*ea,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Zt=u.g;if(Zt){const wi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var J=w.h;J.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(rs(J,J.h),J.h=null))}if(w.D){const Oo=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(w.ya=Oo,nt(w.I,w.D,Oo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var fe=u;if(w.qa=pc(w,w.J?w.ia:null,w.W),fe.K){fn(w.h,fe);var He=fe,Ut=w.L;Ut&&(He.I=Ut),He.B&&(Aa(He),dr(He)),w.g=fe}else uc(w);0<_.i.length&&ds(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Ji(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ji(_,7):Co(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}Ea(4)}catch{}}var ic=class{constructor(u,g){this.g=u,this.map=g}};function Qi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function is(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function as(u){return u.h?1:u.g?u.g.size:0}function bo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function rs(u,g){u.g?u.g.add(g):u.h=g}function fn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Qi.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return O(u.i)}function Ch(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var g=[],_=u.length,w=0;w<_;w++)g.push(u[w]);return g}g=[],_=0;for(w in u)g[_++]=u[w];return g}function ss(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const w in u)g[_++]=w;return g}}}function Eo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=ss(u),w=Ch(u),H=w.length,J=0;J<H;J++)g.call(void 0,w[J],_&&_[J],u)}var mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),H=null;if(0<=w){var J=u[_].substring(0,w);H=u[_].substring(w+1)}else J=u[_];g(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function It(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof It){this.h=u.h,gr(this,u.j),this.o=u.o,this.g=u.g,Sa(this,u.s),this.l=u.l;var g=u.i,_=new Ki;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Yi(this,_),this.m=u.m}else u&&(g=String(u).match(mr))?(this.h=!1,gr(this,g[1]||"",!0),this.o=Pn(g[2]||""),this.g=Pn(g[3]||"",!0),Sa(this,g[4]),this.l=Pn(g[5]||"",!0),Yi(this,g[6]||"",!0),this.m=Pn(g[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}It.prototype.toString=function(){var u=[],g=this.j;g&&u.push(vr(g,To,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(vr(g,To,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(vr(_,_.charAt(0)=="/"?Nh:wo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",vr(_,os)),u.join("")};function Tn(u){return new It(u)}function gr(u,g,_){u.j=_?Pn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Sa(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Yi(u,g,_){g instanceof Ki?(u.i=g,rc(u.i,u.h)):(_||(g=vr(g,Ih)),u.i=new Ki(g,u.h))}function nt(u,g,_){u.i.set(g,_)}function yr(u){return nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,ac),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ac(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var To=/[#\/\?@]/g,wo=/[#\?:]/g,Nh=/[#\?]/g,Ih=/[#\?@]/g,os=/#/g;function Ki(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function jn(u){u.g||(u.g=new Map,u.h=0,u.i&&Dh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=Ki.prototype,a.add=function(u,g){jn(this),this.i=null,u=vi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Xi(u,g){jn(u),g=vi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Zi(u,g){return jn(u),g=vi(u,g),u.g.has(g)}a.forEach=function(u,g){jn(this),this.g.forEach(function(_,w){_.forEach(function(H){u.call(g,H,w,this)},this)},this)},a.na=function(){jn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let w=0;w<g.length;w++){const H=u[w];for(let J=0;J<H.length;J++)_.push(g[w])}return _},a.V=function(u){jn(this);let g=[];if(typeof u=="string")Zi(this,u)&&(g=g.concat(this.g.get(vi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},a.set=function(u,g){return jn(this),this.i=null,u=vi(this,u),Zi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ao(u,g,_){Xi(u,g),0<_.length&&(u.i=null,u.g.set(vi(u,g),O(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var w=g[_];const J=encodeURIComponent(String(w)),fe=this.V(w);for(w=0;w<fe.length;w++){var H=J;fe[w]!==""&&(H+="="+encodeURIComponent(String(fe[w]))),u.push(H)}}return this.i=u.join("&")};function vi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function rc(u,g){g&&!u.j&&(jn(u),u.i=null,u.g.forEach(function(_,w){var H=w.toLowerCase();w!=H&&(Xi(this,w),Ao(this,H,_))},u)),u.j=g}function _r(u,g){const _=new kn;if(p.Image){const w=new Image;w.onload=D(Un,_,"TestLoadImage: loaded",!0,g,w),w.onerror=D(Un,_,"TestLoadImage: error",!1,g,w),w.onabort=D(Un,_,"TestLoadImage: abort",!1,g,w),w.ontimeout=D(Un,_,"TestLoadImage: timeout",!1,g,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else g(!1)}function ii(u,g){const _=new kn,w=new AbortController,H=setTimeout(()=>{w.abort(),Un(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:w.signal}).then(J=>{clearTimeout(H),J.ok?Un(_,"TestPingServer: ok",!0,g):Un(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Un(_,"TestPingServer: error",!1,g)})}function Un(u,g,_,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(_)}catch{}}function br(){this.g=new ti}function _i(u,g,_){const w=_||"";try{Eo(u,function(H,J){let fe=H;m(H)&&(fe=un(H)),g.push(w+J+"="+encodeURIComponent(fe))})}catch(H){throw g.push(w+"type="+encodeURIComponent("_badmap")),H}}function Ra(u){this.l=u.Ub||null,this.j=u.eb||!1}j(Ra,qi),Ra.prototype.g=function(){return new Wi(this.l,this.j)},Ra.prototype.i=(function(u){return function(){return u}})({});function Wi(u,g){Me.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Wi,Me),a=Wi.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,xi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?bi(this):xi(this),this.readyState==3&&So(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,bi(this))},a.Qa=function(u){this.g&&(this.response=u,bi(this))},a.ga=function(){this.g&&bi(this)};function bi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xi(u)}a.setRequestHeader=function(u,g){this.u.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function xi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ro(u){let g="";return ge(u,function(_,w){g+=w,g+=":",g+=_,g+=`\r
`}),g}function Ht(u,g,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Ro(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):nt(u,g,_))}function We(u){Me.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(We,Me);var ls=/^https?$/i,xr=["POST","PUT"];a=We.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,g,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?hr(this.o):hr(mi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(J){sc(this,J);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)_.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const J of w.keys())_.set(J,w.get(J));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),H=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(xr,g,void 0))||w||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of _)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Er(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){sc(this,J)}};function sc(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,cs(u),Ei(u)}function cs(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,De(this,"complete"),De(this,"abort"),Ei(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),We.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?us(this):this.bb())},a.bb=function(){us(this)};function us(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)bt(u.Ea,0,u);else if(De(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const fe=u.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var w;if(w=fe===0){var H=String(u.D).match(mr)[1]||null;!H&&p.self&&p.self.location&&(H=p.self.location.protocol.slice(0,-1)),w=!ls.test(H?H.toLowerCase():"")}_=w}if(_)De(u,"complete"),De(u,"success");else{u.m=6;try{var J=2<Ln(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",cs(u)}}finally{Ei(u)}}}}function Ei(u,g){if(u.g){Er(u);const _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||De(u,"ready");try{_.onreadystatechange=w}catch{}}}function Er(u){u.I&&(p.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),di(g)}};function oc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(u){const g={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(Z(u[w]))continue;var _=N(u[w]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=g[H]||[];g[H]=J,J.push(_)}P(g,function(w){return w.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function hs(u){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,u),this.cb=Tr("retryDelaySeedMs",1e4,u),this.Wa=Tr("forwardChannelMaxRetries",2,u),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(u&&u.concurrentRequestLimit),this.Da=new br,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=hs.prototype,a.la=8,a.G=1,a.connect=function(u,g,_,w){dt(0),this.W=u,this.H=g||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=pc(this,null,this.W),ds(this)};function Co(u){if(lc(u),u.G==3){var g=u.U++,_=Tn(u.I);if(nt(_,"SID",u.K),nt(_,"RID",g),nt(_,"TYPE","terminate"),wr(u,_),g=new hn(u,u.j,g),g.L=2,g.v=yr(Tn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=g.v,_=!0),_||(g.g=mc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),dr(g)}dc(u)}function fs(u){u.g&&(Ar(u),u.g.cancel(),u.g=null)}function lc(u){fs(u),u.u&&(p.clearTimeout(u.u),u.u=null),ps(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ds(u){if(!is(u.h)&&!u.s){u.s=!0;var g=u.Ga;ne||M(),oe||(ne(),oe=!0),ce.add(g,u),u.B=0}}function Mh(u,g){return as(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nt(S(u.Ga,u,g),Io(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new hn(this,this.j,u);let J=this.o;if(this.S&&(J?(J=R(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=cc(this,H,g),_=Tn(this.I),nt(_,"RID",u),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),wr(this,_),J&&(this.O?g="headers="+encodeURIComponent(String(Ro(J)))+"&"+g:this.m&&Ht(_,this.m,J)),rs(this.h,H),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",g),nt(_,"SID","null"),H.T=!0,ni(H,_,null)):ni(H,_,g),this.G=2}}else this.G==3&&(u?Do(this,u):this.i.length==0||is(this.h)||Do(this))};function Do(u,g){var _;g?_=g.l:_=u.U++;const w=Tn(u.I);nt(w,"SID",u.K),nt(w,"RID",_),nt(w,"AID",u.T),wr(u,w),u.m&&u.o&&Ht(w,u.m,u.o),_=new hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=cc(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),rs(u.h,_),ni(_,w,g)}function wr(u,g){u.H&&ge(u.H,function(_,w){nt(g,w,_)}),u.l&&Eo({},function(_,w){nt(g,w,_)})}function cc(u,g,_){_=Math.min(u.i.length,_);var w=u.l?S(u.l.Na,u.l,u):null;e:{var H=u.i;let J=-1;for(;;){const fe=["count="+_];J==-1?0<_?(J=H[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let He=!0;for(let Ut=0;Ut<_;Ut++){let Fe=H[Ut].g;const Ft=H[Ut].map;if(Fe-=J,0>Fe)J=Math.max(0,H[Ut].g-100),He=!1;else try{_i(Ft,fe,"req"+Fe+"_")}catch{w&&w(Ft)}}if(He){w=fe.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,w}function uc(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ne||M(),oe||(ne(),oe=!0),ce.add(g,u),u.v=0}}function No(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nt(S(u.Fa,u),Io(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nt(S(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),fs(this),hc(this))};function Ar(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function hc(u){u.g=new hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Tn(u.qa);nt(g,"RID","rpc"),nt(g,"SID",u.K),nt(g,"AID",u.T),nt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&nt(g,"TO",u.ja),nt(g,"TYPE","xmlhttp"),wr(u,g),u.m&&u.o&&Ht(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=yr(Tn(g)),_.m=null,_.P=!0,$i(_,u)}a.Za=function(){this.C!=null&&(this.C=null,fs(this),No(this),dt(19))};function ps(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function fc(u,g){var _=null;if(u.g==g){ps(u),Ar(u),u.g=null;var w=2}else if(bo(u.h,g))_=g.D,fn(u.h,g),w=1;else return;if(u.G!=0){if(g.o)if(w==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=u.B;w=xa(),De(w,new jt(w,_)),ds(u)}else uc(u);else if(H=g.s,H==3||H==0&&0<g.X||!(w==1&&Mh(u,g)||w==2&&No(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),H){case 1:Ji(u,5);break;case 4:Ji(u,10);break;case 3:Ji(u,6);break;default:Ji(u,2)}}}function Io(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Ji(u,g){if(u.j.info("Error code "+g),g==2){var _=S(u.fb,u),w=u.Xa;const H=!w;w=new It(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||gr(w,"https"),yr(w),H?_r(w.toString(),_):ii(w.toString(),_)}else dt(2);u.G=0,u.l&&u.l.sa(g),dc(u),lc(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function dc(u){if(u.G=0,u.ka=[],u.l){const g=xo(u.h);(g.length!=0||u.i.length!=0)&&(k(u.ka,g),k(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function pc(u,g,_){var w=_ instanceof It?Tn(_):new It(_);if(w.g!="")g&&(w.g=g+"."+w.g),Sa(w,w.s);else{var H=p.location;w=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var J=new It(null);w&&gr(J,w),g&&(J.g=g),H&&Sa(J,H),_&&(J.l=_),w=J}return _=u.D,g=u.ya,_&&g&&nt(w,_,g),nt(w,"VER",u.la),wr(u,w),w}function mc(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new We(new Ra({eb:_})):new We(u.pa),g.Ha(u.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}a=gc.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ms(){}ms.prototype.g=function(u,g){return new dn(u,g)};function dn(u,g){Me.call(this),this.g=new hs(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ti(this)}j(dn,Me),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Co(this.g)},dn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=un(u),u=_);g.i.push(new ic(g.Ya++,u)),g.G==3&&ds(g)},dn.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,dn.aa.N.call(this)};function yc(u){Fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}j(yc,Fi);function vc(){go.call(this),this.status=1}j(vc,go);function Ti(u){this.g=u}j(Ti,gc),Ti.prototype.ua=function(){De(this.g,"a")},Ti.prototype.ta=function(u){De(this.g,new yc(u))},Ti.prototype.sa=function(u){De(this.g,new vc)},Ti.prototype.ra=function(){De(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,qb=function(){return new ms},Bb=function(){return xa()},zb=pi,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,Vu=wa,Gi.COMPLETE="complete",Lb=Gi,mo.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",Me.prototype.listen=Me.prototype.K,El=mo,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Ub=We}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",V0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new pb("@firebase/firestore");function Fs(){return Qr.logLevel}function ve(a,...e){if(Qr.logLevel<=Qe.DEBUG){const i=e.map(Yp);Qr.debug(`Firestore (${lo}): ${a}`,...i)}}function va(a,...e){if(Qr.logLevel<=Qe.ERROR){const i=e.map(Yp);Qr.error(`Firestore (${lo}): ${a}`,...i)}}function Js(a,...e){if(Qr.logLevel<=Qe.WARN){const i=e.map(Yp);Qr.warn(`Firestore (${lo}): ${a}`,...i)}}function Yp(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Hb(a,r,i)}function Hb(a,e,i){let r=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw va(r),new Error(r)}function Je(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||Hb(e,o,r)}function Oe(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Xr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class v2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _2{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new nr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new nr)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new Fb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class b2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new b2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const r=c=>{c.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ve("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new k0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=T2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Be(a,e){return a<e?-1:a>e?1:0}function fp(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),c=e.charAt(r);if(o!==c)return Gd(o)===Gd(c)?Be(o,c):Gd(o)?1:-1}return Be(a.length,e.length)}const w2=55296,A2=57343;function Gd(a){const e=a.charCodeAt(0);return e>=w2&&e<=A2}function eo(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class Ii{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ce(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ce(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Ii.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const r=Ii.isNumericId(e),o=Ii.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(i)):fp(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}}class ut extends Ii{construct(e,i,r){return new ut(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ut(i)}static emptyPath(){return new ut([])}}const S2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ii{construct(e,i,r){return new nn(e,i,r)}static isValidIdentifier(e){return S2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new nn([P0])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(c(),o++)}if(c(),f)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(i)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ut.fromString(e))}static fromName(e){return new Ee(ut.fromString(e).popFirst(5))}static empty(){return new Ee(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ut.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(a,e,i){if(!i)throw new _e(re.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function R2(a,e,i,r){if(e===!0&&r===!0)throw new _e(re.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function j0(a){if(!Ee.isDocumentKey(a))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function U0(a){if(Ee.isDocumentKey(a))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function $b(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function dh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ce(12329,{type:typeof a})}function Ku(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(a);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(a,e){const i={typeString:a};return e&&(i.value=e),i}function $l(a,e){if(!$b(a))throw new _e(re.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const f=a[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new _e(re.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=-62135596800,z0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*z0);return new ht(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<L0)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Pt("string",ht._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ht(0,0))}static max(){return new Ie(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function C2(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new ht(i+1,0):new ht(i,r));return new ar(o,Ee.empty(),e)}function D2(a){return new ar(a.readTime,a.key,Pl)}class ar{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ar(Ie.min(),Ee.empty(),Pl)}static max(){return new ar(Ie.max(),Ee.empty(),Pl)}}function N2(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Ee.comparator(a.documentKey,e.documentKey),i!==0?i:Be(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(a){if(a.code!==re.FAILED_PRECONDITION||a.message!==I2)throw a;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new se(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof se?i:se.resolve(i)}catch(i){return se.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):se.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):se.reject(i)}static resolve(e){return new se(((i,r)=>{i(e)}))}static reject(e){return new se(((i,r)=>{r(e)}))}static waitFor(e){return new se(((i,r)=>{let o=0,c=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&i()}),(y=>r(y)))})),f=!0,c===o&&i()}))}static or(e){let i=se.resolve(!1);for(const r of e)i=i.next((o=>o?se.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new se(((r,o)=>{const c=e.length,f=new Array(c);let p=0;for(let y=0;y<c;y++){const m=y;i(e[m]).next((v=>{f[m]=v,++p,p===c&&r(f)}),(v=>o(v)))}}))}static doWhile(e,i){return new se(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function M2(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function mh(a){return a==null}function Xu(a){return a===0&&1/a==-1/0}function V2(a){return typeof a=="number"&&Number.isInteger(a)&&!Xu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="";function k2(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=B0(e)),e=P2(a.get(i),e);return B0(e)}function P2(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case Qb:i+="";break;default:i+=c}}return i}function B0(a){return a+Qb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Zr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Yb(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,i){this.comparator=e,this.root=i||tn.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Au(this.root,e,this.comparator,!1)}getReverseIterator(){return new Au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Au(this.root,e,this.comparator,!0)}}class Au{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??tn.RED,this.left=o??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new tn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new tn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new oi([])}unionWith(e){let i=new qt(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new oi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Kb("Invalid base64 string: "+c):c}})(e);return new an(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(a){if(Je(!!a,39018),typeof a=="string"){let e=0;const i=j2.exec(a);if(Je(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(a.seconds),nanos:Ct(a.nanos)}}function Ct(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function sr(a){return typeof a=="string"?an.fromBase64String(a):an.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="server_timestamp",Zb="__type__",Wb="__previous_value__",Jb="__local_write_time__";function Zp(a){return(a?.mapValue?.fields||{})[Zb]?.stringValue===Xb}function gh(a){const e=a.mapValue.fields[Wb];return Zp(e)?gh(e):e}function jl(a){const e=rr(a.mapValue.fields[Jb].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,i,r,o,c,f,p,y,m,v){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=m,this.isUsingEmulator=v}}const Zu="(default)";class Ul{constructor(e,i){this.projectId=e,this.database=i||Zu}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="__type__",L2="__max__",Su={mapValue:{}},tx="__vector__",Wu="value";function or(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Zp(a)?4:B2(a)?9007199254740991:z2(a)?10:11:Ce(28295,{value:a})}function Li(a,e){if(a===e)return!0;const i=or(a);if(i!==or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return jl(a).isEqual(jl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=rr(o.timestampValue),p=rr(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return sr(o.bytesValue).isEqual(sr(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ct(o.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ct(o.integerValue)===Ct(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Ct(o.doubleValue),p=Ct(c.doubleValue);return f===p?Xu(f)===Xu(p):isNaN(f)&&isNaN(p)}return!1})(a,e);case 9:return eo(a.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(q0(f)!==q0(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!Li(f[y],p[y])))return!1;return!0})(a,e);default:return Ce(52216,{left:a})}}function Ll(a,e){return(a.values||[]).find((i=>Li(i,e)))!==void 0}function to(a,e){if(a===e)return 0;const i=or(a),r=or(e);if(i!==r)return Be(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(a.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=Ct(c.integerValue||c.doubleValue),y=Ct(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,e);case 3:return F0(a.timestampValue,e.timestampValue);case 4:return F0(jl(a),jl(e));case 5:return fp(a.stringValue,e.stringValue);case 6:return(function(c,f){const p=sr(c),y=sr(f);return p.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),y=f.split("/");for(let m=0;m<p.length&&m<y.length;m++){const v=Be(p[m],y[m]);if(v!==0)return v}return Be(p.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=Be(Ct(c.latitude),Ct(f.latitude));return p!==0?p:Be(Ct(c.longitude),Ct(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return G0(a.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},y=f.fields||{},m=p[Wu]?.arrayValue,v=y[Wu]?.arrayValue,x=Be(m?.values?.length||0,v?.values?.length||0);return x!==0?x:G0(m,v)})(a.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Su.mapValue&&f===Su.mapValue)return 0;if(c===Su.mapValue)return 1;if(f===Su.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),m=f.fields||{},v=Object.keys(m);y.sort(),v.sort();for(let x=0;x<y.length&&x<v.length;++x){const S=fp(y[x],v[x]);if(S!==0)return S;const D=to(p[y[x]],m[v[x]]);if(D!==0)return D}return Be(y.length,v.length)})(a.mapValue,e.mapValue);default:throw Ce(23264,{he:i})}}function F0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Be(a,e);const i=rr(a),r=rr(e),o=Be(i.seconds,r.seconds);return o!==0?o:Be(i.nanos,r.nanos)}function G0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=to(i[o],r[o]);if(c)return c}return Be(i.length,r.length)}function no(a){return dp(a)}function dp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return sr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return Ee.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=dp(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${dp(i.fields[f])}`;return o+"}"})(a.mapValue):Ce(61005,{value:a})}function ku(a){switch(or(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(a);return e?16+ku(e):16;case 5:return 2*a.stringValue.length;case 6:return sr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+ku(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Zr(r.fields,((c,f)=>{o+=c.length+ku(f)})),o})(a.mapValue);default:throw Ce(13486,{value:a})}}function $0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function pp(a){return!!a&&"integerValue"in a}function Wp(a){return!!a&&"arrayValue"in a}function Q0(a){return!!a&&"nullValue"in a}function Y0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Pu(a){return!!a&&"mapValue"in a}function z2(a){return(a?.mapValue?.fields||{})[ex]?.stringValue===tx}function Rl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Zr(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Rl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Rl(a.arrayValue.values[i]);return e}return{...a}}function B2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===L2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Pu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(i)}setAll(e){let i=nn.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=p.popLast()}f?r[p.lastSegment()]=Rl(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Pu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Zr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Qn(Rl(this.value))}}function nx(a){const e=[];return Zr(a.fields,((i,r)=>{const o=new nn([i]);if(Pu(r)){const c=nx(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,i,r,o,c,f,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new cn(e,0,Ie.min(),Ie.min(),Ie.min(),Qn.empty(),0)}static newFoundDocument(e,i,r,o){return new cn(e,1,i,Ie.min(),r,o,0)}static newNoDocument(e,i){return new cn(e,2,i,Ie.min(),Ie.min(),Qn.empty(),0)}static newUnknownDocument(e,i){return new cn(e,3,i,Ie.min(),Ie.min(),Qn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,i){this.position=e,this.inclusive=i}}function K0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const c=e[o],f=a.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(f.referenceValue),i.key):r=to(f,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function X0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Li(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function q2(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{}class kt extends ix{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new F2(e,i,r):i==="array-contains"?new Q2(e,r):i==="in"?new Y2(e,r):i==="not-in"?new K2(e,r):i==="array-contains-any"?new X2(e,r):new kt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new G2(e,r):new $2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends ix{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ui(e,i)}matches(e){return ax(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ax(a){return a.op==="and"}function rx(a){return H2(a)&&ax(a)}function H2(a){for(const e of a.filters)if(e instanceof ui)return!1;return!0}function mp(a){if(a instanceof kt)return a.field.canonicalString()+a.op.toString()+no(a.value);if(rx(a))return a.filters.map((e=>mp(e))).join(",");{const e=a.filters.map((i=>mp(i))).join(",");return`${a.op}(${e})`}}function sx(a,e){return a instanceof kt?(function(r,o){return o instanceof kt&&r.op===o.op&&r.field.isEqual(o.field)&&Li(r.value,o.value)})(a,e):a instanceof ui?(function(r,o){return o instanceof ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,p)=>c&&sx(f,o.filters[p])),!0):!1})(a,e):void Ce(19439)}function ox(a){return a instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(a):a instanceof ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(ox).join(" ,")+"}"})(a):"Filter"}class F2 extends kt{constructor(e,i,r){super(e,i,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const i=Ee.comparator(e.key,this.key);return this.matchesComparison(i)}}class G2 extends kt{constructor(e,i){super(e,"in",i),this.keys=lx("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $2 extends kt{constructor(e,i){super(e,"not-in",i),this.keys=lx("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function lx(a,e){return(e.arrayValue?.values||[]).map((i=>Ee.fromName(i.referenceValue)))}class Q2 extends kt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wp(i)&&Ll(i.arrayValue,this.value)}}class Y2 extends kt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class K2 extends kt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class X2 extends kt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ll(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,i=null,r=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function Z0(a,e=null,i=[],r=[],o=null,c=null,f=null){return new Z2(a,e,i,r,o,c,f)}function Jp(a){const e=Oe(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>mp(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),mh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>no(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>no(r))).join(",")),e.Te=i}return e.Te}function em(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!q2(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!sx(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!X0(a.startAt,e.startAt)&&X0(a.endAt,e.endAt)}function gp(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,i=null,r=[],o=[],c=null,f="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W2(a,e,i,r,o,c,f,p){return new Ql(a,e,i,r,o,c,f,p)}function cx(a){return new Ql(a)}function W0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ux(a){return a.collectionGroup!==null}function Cl(a){const e=Oe(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new qt(nn.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eh(c,r))})),i.has(nn.keyField().canonicalString())||e.Ie.push(new eh(nn.keyField(),r))}return e.Ie}function ki(a){const e=Oe(a);return e.Ee||(e.Ee=J2(e,Cl(a))),e.Ee}function J2(a,e){if(a.limitType==="F")return Z0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const i=a.endAt?new Ju(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Ju(a.startAt.position,a.startAt.inclusive):null;return Z0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function yp(a,e){const i=a.filters.concat([e]);return new Ql(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function vp(a,e,i){return new Ql(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function yh(a,e){return em(ki(a),ki(e))&&a.limitType===e.limitType}function hx(a){return`${Jp(ki(a))}|lt:${a.limitType}`}function Gs(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>ox(o))).join(", ")}]`),mh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>no(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>no(o))).join(",")),`Target(${r})`})(ki(a))}; limitType=${a.limitType})`}function vh(a,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,e)&&(function(r,o){for(const c of Cl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,y){const m=K0(f,p,y);return f.inclusive?m<=0:m<0})(r.startAt,Cl(r),o)||r.endAt&&!(function(f,p,y){const m=K0(f,p,y);return f.inclusive?m>=0:m>0})(r.endAt,Cl(r),o))})(a,e)}function eC(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function fx(a){return(e,i)=>{let r=!1;for(const o of Cl(a)){const c=tC(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function tC(a,e,i){const r=a.field.isKeyField()?Ee.comparator(e.key,i.key):(function(c,f,p){const y=f.data.field(c),m=p.data.field(c);return y!==null&&m!==null?to(y,m):Ce(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Yb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new vt(Ee.comparator);function _a(){return nC}const dx=new vt(Ee.comparator);function Tl(...a){let e=dx;for(const i of a)e=e.insert(i.key,i);return e}function px(a){let e=dx;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Hr(){return Dl()}function mx(){return Dl()}function Dl(){return new Wr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const iC=new vt(Ee.comparator),aC=new qt(Ee.comparator);function qe(...a){let e=aC;for(const i of a)e=e.add(i);return e}const rC=new qt(Be);function sC(){return rC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xu(e)?"-0":e}}function gx(a){return{integerValue:""+a}}function oC(a,e){return V2(e)?gx(e):tm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function lC(a,e,i){return a instanceof th?(function(o,c){const f={fields:{[Zb]:{stringValue:Xb},[Jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zp(c)&&(c=gh(c)),c&&(f.fields[Wb]=c),{mapValue:f}})(i,e):a instanceof zl?vx(a,e):a instanceof Bl?_x(a,e):(function(o,c){const f=yx(o,c),p=J0(f)+J0(o.Ae);return pp(f)&&pp(o.Ae)?gx(p):tm(o.serializer,p)})(a,e)}function cC(a,e,i){return a instanceof zl?vx(a,e):a instanceof Bl?_x(a,e):i}function yx(a,e){return a instanceof nh?(function(r){return pp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class th extends _h{}class zl extends _h{constructor(e){super(),this.elements=e}}function vx(a,e){const i=bx(e);for(const r of a.elements)i.some((o=>Li(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Bl extends _h{constructor(e){super(),this.elements=e}}function _x(a,e){let i=bx(e);for(const r of a.elements)i=i.filter((o=>!Li(o,r)));return{arrayValue:{values:i}}}class nh extends _h{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function J0(a){return Ct(a.integerValue||a.doubleValue)}function bx(a){return Wp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function uC(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof zl&&o instanceof zl||r instanceof Bl&&o instanceof Bl?eo(r.elements,o.elements,Li):r instanceof nh&&o instanceof nh?Li(r.Ae,o.Ae):r instanceof th&&o instanceof th})(a.transform,e.transform)}class hC{constructor(e,i){this.version=e,this.transformResults=i}}class ma{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ma}static exists(e){return new ma(void 0,e)}static updateTime(e){return new ma(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ju(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class bh{}function xx(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Tx(a.key,ma.none()):new Yl(a.key,a.data,ma.none());{const i=a.data,r=Qn.empty();let o=new qt(nn.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Jr(a.key,r,new oi(o.toArray()),ma.none())}}function fC(a,e,i){a instanceof Yl?(function(o,c,f){const p=o.value.clone(),y=t_(o.fieldTransforms,c,f.transformResults);p.setAll(y),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,i):a instanceof Jr?(function(o,c,f){if(!ju(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=t_(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(Ex(o)),y.setAll(p),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(a,e,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Nl(a,e,i,r){return a instanceof Yl?(function(c,f,p,y){if(!ju(c.precondition,f))return p;const m=c.value.clone(),v=n_(c.fieldTransforms,y,f);return m.setAll(v),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(a,e,i,r):a instanceof Jr?(function(c,f,p,y){if(!ju(c.precondition,f))return p;const m=n_(c.fieldTransforms,y,f),v=f.data;return v.setAll(Ex(c)),v.setAll(m),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(a,e,i,r):(function(c,f,p){return ju(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,e,i)}function dC(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),c=yx(r.transform,o||null);c!=null&&(i===null&&(i=Qn.empty()),i.set(r.field,c))}return i||null}function e_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&eo(r,o,((c,f)=>uC(c,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Yl extends bh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends bh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Ex(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function t_(a,e,i){const r=new Map;Je(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],f=c.transform,p=e.data.field(c.field);r.set(c.field,cC(f,p,i[o]))}return r}function n_(a,e,i){const r=new Map;for(const o of a){const c=o.transform,f=i.data.field(o.field);r.set(o.field,lC(c,f,e))}return r}class Tx extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&fC(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Nl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Nl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=mx();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=i.has(o.key)?null:p;const y=xx(f,p);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,((i,r)=>e_(i,r)))&&eo(this.baseMutations,e.baseMutations,((i,r)=>e_(i,r)))}}class nm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return iC})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new nm(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,$e;function vC(a){switch(a){case re.OK:return Ce(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce(15467,{code:a})}}function wx(a){if(a===void 0)return va("GRPC error has no .code"),re.UNKNOWN;switch(a){case Vt.OK:return re.OK;case Vt.CANCELLED:return re.CANCELLED;case Vt.UNKNOWN:return re.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return re.INTERNAL;case Vt.UNAVAILABLE:return re.UNAVAILABLE;case Vt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Vt.NOT_FOUND:return re.NOT_FOUND;case Vt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Vt.ABORTED:return re.ABORTED;case Vt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Vt.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:a})}}($e=Vt||(Vt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new tr([4294967295,4294967295],0);function i_(a){const e=_C().encode(a),i=new jb;return i.update(e),new Uint8Array(i.digest())}function a_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new tr([i,r],0),new tr([o,c],0)]}class im{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=tr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(tr.fromNumber(r)));return o.compare(bC)===1&&(o=new tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=i_(e),[r,o]=a_(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new im(c,o,i);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=i_(e),[r,o]=a_(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.Se(f)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new xh(Ie.min(),o,new vt(Be),_a(),qe())}}class Kl{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Kl(r,i,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Ax{constructor(e,i){this.targetId=e,this.Ce=i}}class Sx{constructor(e,i,r=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class r_{constructor(){this.ve=0,this.Fe=s_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),r=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ce(38017,{changeType:c})}})),new Kl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=s_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xC{constructor(e){this.Ge=e,this.ze=new Map,this.je=_a(),this.Je=Ru(),this.He=Ru(),this.Ye=new vt(Be)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(gp(c))if(r===0){const f=new Ee(c.path);this.et(i,f,cn.newNoDocument(f,Ie.min()))}else Je(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const p=this.ut(e),y=p?this.ct(p,e,f):1;if(y!==0){this.it(i);const m=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,m)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let f,p;try{f=sr(r).toUint8Array()}catch(y){if(y instanceof Kb)return Js("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new im(f,o,c)}catch(y){return Js(y instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&gp(p.target)){const y=new Ee(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,cn.newNoDocument(y,e))}c.Be&&(i.set(f,c.ke()),c.qe())}}));let r=qe();this.He.forEach(((c,f)=>{let p=!0;f.forEachWhile((y=>{const m=this.ot(y);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new xh(e,i,this.Ye,this.je,r);return this.je=_a(),this.Je=Ru(),this.He=Ru(),this.Ye=new vt(Be),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new r_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new qt(Be),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new qt(Be),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ve("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ru(){return new vt(Ee.comparator)}function s_(){return new vt(Ee.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wC={and:"AND",or:"OR"};class AC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _p(a,e){return a.useProto3Json||mh(e)?e:{value:e}}function ih(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rx(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function SC(a,e){return ih(a,e.toTimestamp())}function Pi(a){return Je(!!a,49232),Ie.fromTimestamp((function(i){const r=rr(i);return new ht(r.seconds,r.nanos)})(a))}function am(a,e){return bp(a,e).canonicalString()}function bp(a,e){const i=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Cx(a){const e=ut.fromString(a);return Je(Mx(e),10190,{key:e.toString()}),e}function xp(a,e){return am(a.databaseId,e.path)}function $d(a,e){const i=Cx(e);if(i.get(1)!==a.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Ee(Nx(i))}function Dx(a,e){return am(a.databaseId,e)}function RC(a){const e=Cx(a);return e.length===4?ut.emptyPath():Nx(e)}function Ep(a){return new ut(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Nx(a){return Je(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function o_(a,e,i){return{name:xp(a,e),fields:i.value.mapValue.fields}}function CC(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(m,v){return m.useProto3Json?(Je(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(m){const v=m.code===void 0?re.UNKNOWN:wx(m.code);return new _e(v,m.message||"")})(f);i=new Sx(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=$d(a,r.document.name),c=Pi(r.document.updateTime),f=r.document.createTime?Pi(r.document.createTime):Ie.min(),p=new Qn({mapValue:{fields:r.document.fields}}),y=cn.newFoundDocument(o,c,f,p),m=r.targetIds||[],v=r.removedTargetIds||[];i=new Uu(m,v,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=$d(a,r.document),c=r.readTime?Pi(r.readTime):Ie.min(),f=cn.newNoDocument(o,c),p=r.removedTargetIds||[];i=new Uu([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=$d(a,r.document),c=r.removedTargetIds||[];i=new Uu([],c,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new yC(o,c),p=r.targetId;i=new Ax(p,f)}}return i}function DC(a,e){let i;if(e instanceof Yl)i={update:o_(a,e.key,e.value)};else if(e instanceof Tx)i={delete:xp(a,e.key)};else if(e instanceof Jr)i={update:o_(a,e.key,e.data),updateMask:UC(e.fieldMask)};else{if(!(e instanceof pC))return Ce(16599,{Vt:e.type});i={verify:xp(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const p=f.transform;if(p instanceof th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ce(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:SC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ce(27497)})(a,e.precondition)),i}function NC(a,e){return a&&a.length>0?(Je(e!==void 0,14353),a.map((i=>(function(o,c){let f=o.updateTime?Pi(o.updateTime):Pi(c);return f.isEqual(Ie.min())&&(f=Pi(c)),new hC(f,o.transformResults||[])})(i,e)))):[]}function IC(a,e){return{documents:[Dx(a,e.path)]}}function OC(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Dx(a,o);const c=(function(m){if(m.length!==0)return Ox(ui.create(m,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(m){if(m.length!==0)return m.map((v=>(function(S){return{field:$s(S.field),direction:kC(S.dir)}})(v)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=_p(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:i,parent:o}}function MC(a){let e=RC(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Je(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];i.where&&(c=(function(x){const S=Ix(x);return S instanceof ui&&rx(S)?S.getFilters():[S]})(i.where));let f=[];i.orderBy&&(f=(function(x){return x.map((S=>(function(j){return new eh(Qs(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let S;return S=typeof x=="object"?x.value:x,mh(S)?null:S})(i.limit));let y=null;i.startAt&&(y=(function(x){const S=!!x.before,D=x.values||[];return new Ju(D,S)})(i.startAt));let m=null;return i.endAt&&(m=(function(x){const S=!x.before,D=x.values||[];return new Ju(D,S)})(i.endAt)),W2(e,o,f,c,p,"F",y,m)}function VC(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Ix(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qs(i.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qs(i.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qs(i.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qs(i.unaryFilter.field);return kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(a):a.fieldFilter!==void 0?(function(i){return kt.create(Qs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ui.create(i.compositeFilter.filters.map((r=>Ix(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(i.compositeFilter.op))})(a):Ce(30097,{filter:a})}function kC(a){return EC[a]}function PC(a){return TC[a]}function jC(a){return wC[a]}function $s(a){return{fieldPath:a.canonicalString()}}function Qs(a){return nn.fromServerFormat(a.fieldPath)}function Ox(a){return a instanceof kt?(function(i){if(i.op==="=="){if(Y0(i.value))return{unaryFilter:{field:$s(i.field),op:"IS_NAN"}};if(Q0(i.value))return{unaryFilter:{field:$s(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y0(i.value))return{unaryFilter:{field:$s(i.field),op:"IS_NOT_NAN"}};if(Q0(i.value))return{unaryFilter:{field:$s(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(i.field),op:PC(i.op),value:i.value}}})(a):a instanceof ui?(function(i){const r=i.getFilters().map((o=>Ox(o)));return r.length===1?r[0]:{compositeFilter:{op:jC(i.op),filters:r}}})(a):Ce(54877,{filter:a})}function UC(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Mx(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,i,r,o,c=Ie.min(),f=Ie.min(),p=an.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.yt=e}}function zC(a){const e=MC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Cn=new qC}addToCollectionParentIndex(e,i){return this.Cn.add(i),se.resolve()}getCollectionParents(e,i){return se.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return se.resolve()}deleteFieldIndex(e,i){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,i){return se.resolve()}getDocumentsMatchingTarget(e,i){return se.resolve(null)}getIndexType(e,i){return se.resolve(0)}getFieldIndexes(e,i){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,i){return se.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,i){return se.resolve(ar.min())}updateCollectionGroup(e,i,r){return se.resolve()}updateIndexEntries(e,i){return se.resolve()}}class qC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new qt(ut.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vx=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(Vx,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LruGarbageCollector",HC=1048576;function u_([a,e],[i,r]){const o=Be(a,i);return o===0?Be(e,r):o}class FC{constructor(e){this.Ir=e,this.buffer=new qt(u_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();u_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(c_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?ve(c_,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Vr(3e5)}))}}class $C{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return se.resolve(ph.ce);const r=new FC(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(l_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,f,p,y,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,p=Date.now(),this.removeTargets(e,r,i)))).next((x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(m=Date.now(),Fs()<=Qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${x} documents in `+(m-y)+`ms
Total Duration: ${m-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function QC(a,e){return new $C(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.changes=new Wr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?se.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Nl(r.mutation,o,oi.empty(),ht.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=qe()){const o=Hr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let f=Tl();return c.forEach(((p,y)=>{f=f.insert(p,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const r=Hr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,qe())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,r,o){let c=_a();const f=Dl(),p=(function(){return Dl()})();return i.forEach(((y,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Jr)?c=c.insert(m.key,m):v!==void 0?(f.set(m.key,v.mutation.getFieldMask()),Nl(v.mutation,m,v.mutation.getFieldMask(),ht.now())):f.set(m.key,oi.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((m,v)=>f.set(m,v))),i.forEach(((m,v)=>p.set(m,new KC(v,f.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Dl();let o=new vt(((f,p)=>f-p)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((y=>{const m=i.get(y);if(m===null)return;let v=r.get(y)||oi.empty();v=p.applyToLocalView(m,v),r.set(y,v);const x=(o.get(p.batchId)||qe()).add(y);o=o.insert(p.batchId,x)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),m=y.key,v=y.value,x=mx();v.forEach((S=>{if(!c.has(S)){const D=xx(i.get(S),r.get(S));D!==null&&x.set(S,D),c=c.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,m,x))}return se.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ux(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):se.resolve(Hr());let p=Pl,y=c;return f.next((m=>se.forEach(m,((v,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{y=y.insert(v,S)}))))).next((()=>this.populateOverlays(e,m,c))).next((()=>this.computeViews(e,y,m,qe()))).next((v=>({batchId:p,changes:px(v)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ee(i)).next((r=>{let o=Tl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let f=Tl();return this.indexManager.getCollectionParents(e,c).next((p=>se.forEach(p,(y=>{const m=(function(x,S){return new Ql(S,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((v=>{v.forEach(((x,S)=>{f=f.insert(x,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((f=>{c.forEach(((y,m)=>{const v=m.getKey();f.get(v)===null&&(f=f.insert(v,cn.newInvalidDocument(v)))}));let p=Tl();return f.forEach(((y,m)=>{const v=c.get(y);v!==void 0&&Nl(v.mutation,m,oi.empty(),ht.now()),vh(i,m)&&(p=p.insert(y,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return se.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(i)),se.resolve()}getNamedQuery(e,i){return se.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:zC(o.bundledQuery),readTime:Pi(o.readTime)}})(i)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.overlays=new vt(Ee.comparator),this.qr=new Map}getOverlay(e,i){return se.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Hr();return se.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),se.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,i,r){const o=Hr(),c=i.length+1,f=new Ee(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,m=y.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return se.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new vt(((m,v)=>m-v));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>r){let v=c.get(m.largestBatchId);v===null&&(v=Hr(),c=c.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const p=Hr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((m,v)=>p.set(m,v))),!(p.size()>=o)););return se.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new gC(i,r));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.Qr=new qt(Yt.$r),this.Ur=new qt(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Yt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Yt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Ee(new ut([])),r=new Yt(i,e),o=new Yt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ee(new ut([])),r=new Yt(i,e),o=new Yt(i,e+1);let c=qe();return this.Ur.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new Yt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ee.comparator(e.key,i.key)||Be(e.Yr,i.Yr)}static Kr(e,i){return Be(e.Yr,i.Yr)||Ee.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Yt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new mC(c,i,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Yt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(f)}lookupMutationBatch(e,i){return se.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Xp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Yt(i,0),o=new Yt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);c.push(p)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qt(Be);return i.forEach((o=>{const c=new Yt(o,0),f=new Yt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(p=>{r=r.add(p.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const f=new Yt(new Ee(c),0);let p=new qt(Be);return this.Zr.forEachWhile((y=>{const m=y.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(y.Yr)),!0)}),f),se.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(i.mutations,(o=>{const c=new Yt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Yt(i,0),o=this.Zr.firstAfterOrEqual(r);return se.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.ri=e,this.docs=(function(){return new vt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return se.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(e,i){let r=_a();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():cn.newInvalidDocument(o))})),se.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=_a();const f=i.path,p=new Ee(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:m,value:{document:v}}=y.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||N2(D2(v),r)<=0||(o.has(v.key)||vh(i,v))&&(c=c.insert(v.key,v.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Ce(9500)}ii(e,i){return se.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new nD(this)}getSize(e){return se.resolve(this.size)}}class nD extends YC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),se.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.persistence=e,this.si=new Wr((i=>Jp(i)),em),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new rm,this.targetCount=0,this.ai=io.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),se.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new io(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,se.resolve()}updateTargetData(e,i){return this.Pr(i),se.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(c).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return se.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),se.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),se.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return se.resolve(r)}containsKey(e,i){return se.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new JC,this.referenceDelegate=e(this),this.Pi=new iD(this),this.indexManager=new BC,this.remoteDocumentCache=(function(o){return new tD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new LC(i),this.Ii=new ZC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new WC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new eD(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ve("MemoryPersistence","Starting transaction:",e);const o=new aD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class aD extends O2{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.Ri=new rm,this.Vi=null}static mi(e){return new sm(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),se.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),se.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ie.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return se.or([()=>se.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ah{constructor(e,i){this.persistence=e,this.pi=new Wr((r=>k2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=QC(this,i)}static mi(e,i){return new ah(e,i)}Ei(){}di(e){return se.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return se.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?se.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((p=>{p||(r++,c.removeEntry(f,Ie.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ku(e.data.value)),i}br(e,i,r){return se.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new om(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return UA()?8:M2(PA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new rD;return this.Ss(e,i,f).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(Fs()<=Qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Gs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Fs()<=Qe.DEBUG&&ve("QueryEngine","Query:",Gs(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Fs()<=Qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Gs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(i))):se.resolve())}ys(e,i){if(W0(i))return se.resolve(null);let r=ki(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=vp(i,null,"F"),r=ki(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=qe(...c);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const m=this.Ds(i,p);return this.Cs(i,m,f,y.readTime)?this.ys(e,vp(i,null,"F")):this.vs(e,m,i,y)}))))})))))}ws(e,i,r,o){return W0(i)||o.isEqual(Ie.min())?se.resolve(null):this.ps.getDocuments(e,r).next((c=>{const f=this.Ds(i,c);return this.Cs(i,f,r,o)?se.resolve(null):(Fs()<=Qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(i)),this.vs(e,f,i,C2(o,Pl)).next((p=>p)))}))}Ds(e,i){let r=new qt(fx(e));return i.forEach(((o,c)=>{vh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return Fs()<=Qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Gs(i)),this.ps.getDocumentsMatchingQuery(e,i,ar.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LocalStore",oD=3e8;class lD{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new vt(Be),this.xs=new Wr((c=>Jp(c)),em),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function cD(a,e,i,r){return new lD(a,e,i,r)}async function Px(a,e){const i=Oe(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],p=[];let y=qe();for(const m of o){f.push(m.batchId);for(const v of m.mutations)y=y.add(v.key)}for(const m of c){p.push(m.batchId);for(const v of m.mutations)y=y.add(v.key)}return i.localDocuments.getDocuments(r,y).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:p})))}))}))}function uD(a,e){const i=Oe(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,m,v){const x=m.batch,S=x.keys();let D=se.resolve();return S.forEach((j=>{D=D.next((()=>v.getEntry(y,j))).next((O=>{const k=m.docVersions.get(j);Je(k!==null,48541),O.version.compareTo(k)<0&&(x.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),v.addEntry(O)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(y,x)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=qe();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(y=y.add(p.batch.mutations[m].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function jx(a){const e=Oe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function hD(a,e){const i=Oe(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((v,x)=>{const S=o.get(x);if(!S)return;p.push(i.Pi.removeMatchingKeys(c,v.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,v.addedDocuments,x))));let D=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?D=D.withResumeToken(an.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,r)),o=o.insert(x,D),(function(O,k,K){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=oD?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,D,v)&&p.push(i.Pi.updateTargetData(c,D))}));let y=_a(),m=qe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,v))})),p.push(fD(c,f,e.documentUpdates).next((v=>{y=v.ks,m=v.qs}))),!r.isEqual(Ie.min())){const v=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(v)}return se.waitFor(p).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,m))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function fD(a,e,i){let r=qe(),o=qe();return i.forEach((c=>r=r.add(c))),e.getEntries(a,r).next((c=>{let f=_a();return i.forEach(((p,y)=>{const m=c.get(p);y.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ie.min())?(e.removeEntry(p,y.readTime),f=f.insert(p,y)):!m.isValidDocument()||y.version.compareTo(m.version)>0||y.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(y),f=f.insert(p,y)):ve(lm,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function dD(a,e){const i=Oe(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pD(a,e){const i=Oe(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,se.resolve(o)):i.Pi.allocateTargetId(r).next((f=>(o=new Za(e,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Tp(a,e,i){const r=Oe(a),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!uo(f))throw f;ve(lm,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function h_(a,e,i){const r=Oe(a);let o=Ie.min(),c=qe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,m,v){const x=Oe(y),S=x.xs.get(v);return S!==void 0?se.resolve(x.Ms.get(S)):x.Pi.getTargetData(m,v)})(r,f,ki(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,i?o:Ie.min(),i?c:qe()))).next((p=>(mD(r,eC(e),p),{documents:p,Qs:c})))))}function mD(a,e,i){let r=a.Os.get(e)||Ie.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(e,r)}class f_{constructor(){this.activeTargetIds=sC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gD{constructor(){this.Mo=new f_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="ConnectivityMonitor";class p_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(d_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(d_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu=null;function wp(){return Cu===null?Cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cu++,"0x"+Cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",vD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _D{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Zu?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const f=wp(),p=this.zo(e,i.toUriEncodedString());ve(Qd,`Sending RPC '${e}' ${f}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:m}=new URL(p),v=Gl(m);return this.Jo(e,p,y,r,v).then((x=>(ve(Qd,`Received RPC '${e}' ${f}: `,x),x)),(x=>{throw Js(Qd,`RPC '${e}' ${f} failed with error: `,x,"url: ",p,"request:",r),x}))}Ho(e,i,r,o,c,f){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=vD[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class xD extends _D{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const f=wp();return new Promise(((p,y)=>{const m=new Ub;m.setWithCredentials(!0),m.listenOnce(Lb.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Vu.NO_ERROR:const x=m.getResponseJson();ve(on,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),p(x);break;case Vu.TIMEOUT:ve(on,`RPC '${e}' ${f} timed out`),y(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const S=m.getStatus();if(ve(on,`RPC '${e}' ${f} failed with status:`,S,"response text:",m.getResponseText()),S>0){let D=m.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const O=(function(K){const Z=K.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Z)>=0?Z:re.UNKNOWN})(j.status);y(new _e(O,j.message))}else y(new _e(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else y(new _e(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ve(on,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);ve(on,`RPC '${e}' ${f} sending request:`,o),m.send(i,"POST",v,r,15)}))}T_(e,i,r){const o=wp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=qb(),p=Bb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const v=c.join("");ve(on,`Creating RPC '${e}' stream ${o}: ${v}`,y);const x=f.createWebChannel(v,y);this.I_(x);let S=!1,D=!1;const j=new bD({Yo:k=>{D?ve(on,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(S||(ve(on,`Opening RPC '${e}' stream ${o} transport.`),x.open(),S=!0),ve(on,`RPC '${e}' stream ${o} sending:`,k),x.send(k))},Zo:()=>x.close()}),O=(k,K,Z)=>{k.listen(K,(W=>{try{Z(W)}catch(he){setTimeout((()=>{throw he}),0)}}))};return O(x,El.EventType.OPEN,(()=>{D||(ve(on,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),O(x,El.EventType.CLOSE,(()=>{D||(D=!0,ve(on,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(x))})),O(x,El.EventType.ERROR,(k=>{D||(D=!0,Js(on,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),j.a_(new _e(re.UNAVAILABLE,"The operation could not be completed")))})),O(x,El.EventType.MESSAGE,(k=>{if(!D){const K=k.data[0];Je(!!K,16349);const Z=K,W=Z?.error||Z[0]?.error;if(W){ve(on,`RPC '${e}' stream ${o} received error:`,W);const he=W.status;let de=(function(R){const C=Vt[R];if(C!==void 0)return wx(C)})(he),ge=W.message;de===void 0&&(de=re.INTERNAL,ge="Unknown error status: "+he+" with message "+W.message),D=!0,j.a_(new _e(de,ge)),x.close()}else ve(on,`RPC '${e}' stream ${o} received:`,K),j.u_(K)}})),O(p,zb.STAT_EVENT,(k=>{k.stat===hp.PROXY?ve(on,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===hp.NOPROXY&&ve(on,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(a){return new AC(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="PersistentStream";class Lx{constructor(e,i,r,o,c,f,p,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ux(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===re.RESOURCE_EXHAUSTED?(va(i.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new _e(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ve(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ED extends Lx{constructor(e,i,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=CC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ie.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?Pi(f.readTime):Ie.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Ep(this.serializer),i.addTarget=(function(c,f){let p;const y=f.target;if(p=gp(y)?{documents:IC(c,y)}:{query:OC(c,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Rx(c,f.resumeToken);const m=_p(c,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(Ie.min())>0){p.readTime=ih(c,f.snapshotVersion.toTimestamp());const m=_p(c,f.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const r=VC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Ep(this.serializer),i.removeTarget=e,this.q_(i)}}class TD extends Lx{constructor(e,i,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=NC(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Ep(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>DC(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{}class AD extends wD{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,bp(i,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(re.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,bp(i,r),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _e(re.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SD{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(va(i),this.aa=!1):ve("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="RemoteStore";class RD{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{es(this)&&(ve(Yr,"Restarting streams for network reachability change."),await(async function(y){const m=Oe(y);m.Ea.add(4),await Xl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Th(m)})(this))}))})),this.Ra=new SD(r,o)}}async function Th(a){if(es(a))for(const e of a.da)await e(!0)}async function Xl(a){for(const e of a.da)await e(!1)}function zx(a,e){const i=Oe(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),fm(i)?hm(i):ho(i).O_()&&um(i,e))}function cm(a,e){const i=Oe(a),r=ho(i);i.Ia.delete(e),r.O_()&&Bx(i,e),i.Ia.size===0&&(r.O_()?r.L_():es(i)&&i.Ra.set("Unknown"))}function um(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ho(a).Y_(e)}function Bx(a,e){a.Va.Ue(e),ho(a).Z_(e)}function hm(a){a.Va=new xC({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),ho(a).start(),a.Ra.ua()}function fm(a){return es(a)&&!ho(a).x_()&&a.Ia.size>0}function es(a){return Oe(a).Ea.size===0}function qx(a){a.Va=void 0}async function CD(a){a.Ra.set("Online")}async function DD(a){a.Ia.forEach(((e,i)=>{um(a,e)}))}async function ND(a,e){qx(a),fm(a)?(a.Ra.ha(e),hm(a)):a.Ra.set("Unknown")}async function ID(a,e,i){if(a.Ra.set("Online"),e instanceof Sx&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(r){ve(Yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(a,r)}else if(e instanceof Uu?a.Va.Ze(e):e instanceof Ax?a.Va.st(e):a.Va.tt(e),!i.isEqual(Ie.min()))try{const r=await jx(a.localStore);i.compareTo(r)>=0&&await(function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach(((y,m)=>{if(y.resumeToken.approximateByteSize()>0){const v=c.Ia.get(m);v&&c.Ia.set(m,v.withResumeToken(y.resumeToken,f))}})),p.targetMismatches.forEach(((y,m)=>{const v=c.Ia.get(y);if(!v)return;c.Ia.set(y,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),Bx(c,y);const x=new Za(v.target,y,m,v.sequenceNumber);um(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){ve(Yr,"Failed to raise snapshot:",r),await rh(a,r)}}async function rh(a,e,i){if(!uo(e))throw e;a.Ea.add(1),await Xl(a),a.Ra.set("Offline"),i||(i=()=>jx(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ve(Yr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Th(a)}))}function Hx(a,e){return e().catch((i=>rh(a,i,e)))}async function wh(a){const e=Oe(a),i=lr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xp;for(;OD(e);)try{const o=await dD(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,MD(e,o)}catch(o){await rh(e,o)}Fx(e)&&Gx(e)}function OD(a){return es(a)&&a.Ta.length<10}function MD(a,e){a.Ta.push(e);const i=lr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Fx(a){return es(a)&&!lr(a).x_()&&a.Ta.length>0}function Gx(a){lr(a).start()}async function VD(a){lr(a).ra()}async function kD(a){const e=lr(a);for(const i of a.Ta)e.ea(i.mutations)}async function PD(a,e,i){const r=a.Ta.shift(),o=nm.from(r,e,i);await Hx(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await wh(a)}async function jD(a,e){e&&lr(a).X_&&await(async function(r,o){if((function(f){return vC(f)&&f!==re.ABORTED})(o.code)){const c=r.Ta.shift();lr(r).B_(),await Hx(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await wh(r)}})(a,e),Fx(a)&&Gx(a)}async function g_(a,e){const i=Oe(a);i.asyncQueue.verifyOperationInProgress(),ve(Yr,"RemoteStore received new credentials");const r=es(i);i.Ea.add(3),await Xl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Th(i)}async function UD(a,e){const i=Oe(a);e?(i.Ea.delete(2),await Th(i)):e||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function ho(a){return a.ma||(a.ma=(function(i,r,o){const c=Oe(i);return c.sa(),new ED(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:CD.bind(null,a),t_:DD.bind(null,a),r_:ND.bind(null,a),H_:ID.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),fm(a)?hm(a):a.Ra.set("Unknown")):(await a.ma.stop(),qx(a))}))),a.ma}function lr(a){return a.fa||(a.fa=(function(i,r,o){const c=Oe(i);return c.sa(),new TD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:VD.bind(null,a),r_:jD.bind(null,a),ta:kD.bind(null,a),na:PD.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await wh(a)):(await a.fa.stop(),a.Ta.length>0&&(ve(Yr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const f=Date.now()+r,p=new dm(e,i,f,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(a,e){if(va("AsyncQueue",`${e}: ${a}`),uo(a))return new _e(re.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(e){return new Ys(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Ee.comparator(i.key,r.key):(i,r)=>Ee.comparator(i.key,r.key),this.keyedMap=Tl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.ga=new vt(Ee.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class ao{constructor(e,i,r,o,c,f,p,y,m){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=m}static fromInitialDocuments(e,i,r,o,c){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new ao(e,i,Ys.emptySet(i),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zD{constructor(){this.queries=v_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Oe(i),c=o.queries;o.queries=v_(),c.forEach(((f,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function v_(){return new Wr((a=>hx(a)),yh)}async function BD(a,e){const i=Oe(a);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new LD,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=pm(f,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mm(i)}async function qD(a,e){const i=Oe(a),r=e.query;let o=3;const c=i.queries.get(r);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HD(a,e){const i=Oe(a);let r=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&mm(i)}function FD(a,e,i){const r=Oe(a),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function mm(a){a.Ca.forEach((e=>{e.next()}))}var Ap,__;(__=Ap||(Ap={})).Ma="default",__.Cache="cache";class GD{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.key=e}}class Qx{constructor(e){this.key=e}}class $D{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=fx(e),this.tu=new Ys(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new y_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,x)=>{const S=o.get(v),D=vh(this.query,x)?x:null,j=!!S&&this.mutatedKeys.has(S.key),O=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;S&&D?S.data.isEqual(D.data)?j!==O&&(r.track({type:3,doc:D}),k=!0):this.su(S,D)||(r.track({type:2,doc:D}),k=!0,(y&&this.eu(D,y)>0||m&&this.eu(D,m)<0)&&(p=!0)):!S&&D?(r.track({type:0,doc:D}),k=!0):S&&!D&&(r.track({type:1,doc:S}),k=!0,(y||m)&&(p=!0)),k&&(D?(f=f.add(D),c=O?c.add(v):c.delete(v)):(f=f.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:f,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((v,x)=>(function(D,j){const O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:k})}};return O(D)-O(j)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,m=y!==this.Za;return this.Za=y,f.length!==0||m?{snapshot:new ao(this.query,e.tu,c,f,e.mutatedKeys,y===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Qx(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new $x(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gm="SyncEngine";class QD{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class YD{constructor(e){this.key=e,this.hu=!1}}class KD{constructor(e,i,r,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Wr((p=>hx(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(Ee.comparator),this.Au=new Map,this.Ru=new rm,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XD(a,e,i=!0){const r=Jx(a);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Yx(r,e,i,!0),o}async function ZD(a,e){const i=Jx(a);await Yx(i,e,!0,!1)}async function Yx(a,e,i,r){const o=await pD(a.localStore,ki(e)),c=o.targetId,f=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await WD(a,e,c,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&zx(a.remoteStore,o),p}async function WD(a,e,i,r,o){a.pu=(x,S,D)=>(async function(O,k,K,Z){let W=k.view.ru(K);W.Cs&&(W=await h_(O.localStore,k.query,!1).then((({documents:P})=>k.view.ru(P,W))));const he=Z&&Z.targetChanges.get(k.targetId),de=Z&&Z.targetMismatches.get(k.targetId)!=null,ge=k.view.applyChanges(W,O.isPrimaryClient,he,de);return x_(O,k.targetId,ge.au),ge.snapshot})(a,x,S,D);const c=await h_(a.localStore,e,!0),f=new $D(e,c.Qs),p=f.ru(c.documents),y=Kl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),m=f.applyChanges(p,a.isPrimaryClient,y);x_(a,i,m.au);const v=new QD(e,i,f);return a.Tu.set(e,v),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),m.snapshot}async function JD(a,e,i){const r=Oe(a),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!yh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&cm(r.remoteStore,o.targetId),Sp(r,o.targetId)})).catch(co)):(Sp(r,o.targetId),await Tp(r.localStore,o.targetId,!0))}async function eN(a,e){const i=Oe(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),cm(i.remoteStore,r.targetId))}async function tN(a,e,i){const r=lN(a);try{const o=await(function(f,p){const y=Oe(f),m=ht.now(),v=p.reduce(((D,j)=>D.add(j.key)),qe());let x,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let j=_a(),O=qe();return y.Ns.getEntries(D,v).next((k=>{j=k,j.forEach(((K,Z)=>{Z.isValidDocument()||(O=O.add(K))}))})).next((()=>y.localDocuments.getOverlayedDocuments(D,j))).next((k=>{x=k;const K=[];for(const Z of p){const W=dC(Z,x.get(Z.key).overlayedDocument);W!=null&&K.push(new Jr(Z.key,W,nx(W.value.mapValue),ma.exists(!0)))}return y.mutationQueue.addMutationBatch(D,m,K,p)})).next((k=>{S=k;const K=k.applyToLocalDocumentSet(x,O);return y.documentOverlayCache.saveOverlays(D,k.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:px(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,y){let m=f.Vu[f.currentUser.toKey()];m||(m=new vt(Be)),m=m.insert(p,y),f.Vu[f.currentUser.toKey()]=m})(r,o.batchId,i),await Zl(r,o.changes),await wh(r.remoteStore)}catch(o){const c=pm(o,"Failed to persist write");i.reject(c)}}async function Kx(a,e){const i=Oe(a);try{const r=await hD(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Je(f.hu,14607):o.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await Zl(i,r,e)}catch(r){await co(r)}}function b_(a,e,i){const r=Oe(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const y=Oe(f);y.onlineState=p;let m=!1;y.queries.forEach(((v,x)=>{for(const S of x.Sa)S.va(p)&&(m=!0)})),m&&mm(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nN(a,e,i){const r=Oe(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new vt(Ee.comparator);f=f.insert(c,cn.newNoDocument(c,Ie.min()));const p=qe().add(c),y=new xh(Ie.min(),new Map,new vt(Be),f,p);await Kx(r,y),r.du=r.du.remove(c),r.Au.delete(e),ym(r)}else await Tp(r.localStore,e,!1).then((()=>Sp(r,e,i))).catch(co)}async function iN(a,e){const i=Oe(a),r=e.batch.batchId;try{const o=await uD(i.localStore,e);Zx(i,r,null),Xx(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(i,o)}catch(o){await co(o)}}async function aN(a,e,i){const r=Oe(a);try{const o=await(function(f,p){const y=Oe(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return y.mutationQueue.lookupMutationBatch(m,p).next((x=>(Je(x!==null,37113),v=x.keys(),y.mutationQueue.removeMutationBatch(m,x)))).next((()=>y.mutationQueue.performConsistencyCheck(m))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(m,v,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>y.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);Zx(r,e,i),Xx(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Zl(r,o)}catch(o){await co(o)}}function Xx(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Zx(a,e,i){const r=Oe(a);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Sp(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||Wx(a,r)}))}function Wx(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(cm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),ym(a))}function x_(a,e,i){for(const r of i)r instanceof $x?(a.Ru.addReference(r.key,e),rN(a,r)):r instanceof Qx?(ve(gm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||Wx(a,r.key)):Ce(19791,{wu:r})}function rN(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ve(gm,"New document in limbo: "+i),a.Eu.add(r),ym(a))}function ym(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Ee(ut.fromString(e)),r=a.fu.next();a.Au.set(r,new YD(i)),a.du=a.du.insert(i,r),zx(a.remoteStore,new Za(ki(cx(i.path)),r,"TargetPurposeLimboResolution",ph.ce))}}async function Zl(a,e,i){const r=Oe(a),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{f.push(r.pu(y,e,i).then((m=>{if((m||i)&&r.isPrimaryClient){const v=m?!m.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,v?"current":"not-current")}if(m){o.push(m);const v=om.As(y.targetId,m);c.push(v)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,m){const v=Oe(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>se.forEach(m,(S=>se.forEach(S.Es,(D=>v.persistence.referenceDelegate.addReference(x,S.targetId,D))).next((()=>se.forEach(S.ds,(D=>v.persistence.referenceDelegate.removeReference(x,S.targetId,D)))))))))}catch(x){if(!uo(x))throw x;ve(lm,"Failed to update sequence numbers: "+x)}for(const x of m){const S=x.targetId;if(!x.fromCache){const D=v.Ms.get(S),j=D.snapshotVersion,O=D.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(S,O)}}})(r.localStore,c))}async function sN(a,e){const i=Oe(a);if(!i.currentUser.isEqual(e)){ve(gm,"User change. New user:",e.toKey());const r=await Px(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new _e(re.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zl(i,r.Ls)}}function oN(a,e){const i=Oe(a),r=i.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Jx(a){const e=Oe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nN.bind(null,e),e.Pu.H_=HD.bind(null,e.eventManager),e.Pu.yu=FD.bind(null,e.eventManager),e}function lN(a){const e=Oe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return cD(this.persistence,new sD,e.initialUser,this.serializer)}Cu(e){return new kx(sm.mi,this.serializer)}Du(e){return new gD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class cN extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new kx((r=>ah.mi(r,i)),this.serializer)}}class Rp{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await UD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zD})()}createDatastore(e){const i=Eh(e.databaseInfo.databaseId),r=(function(c){return new xD(c)})(e.databaseInfo);return(function(c,f,p,y){return new AD(c,f,p,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,f,p){return new RD(r,o,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>b_(this.syncEngine,i,0)),(function(){return p_.v()?new p_:new yD})())}createSyncEngine(e,i){return(function(o,c,f,p,y,m,v){const x=new KD(o,c,f,p,y,m);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Oe(i);ve(Yr,"RemoteStore shutting down."),r.Ea.add(5),await Xl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):va("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="FirestoreClient";class hN{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{ve(cr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ve(cr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=pm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kd(a,e){a.asyncQueue.verifyOperationInProgress(),ve(cr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Px(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function E_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await fN(a);ve(cr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>g_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>g_(e.remoteStore,o))),a._onlineComponents=e}async function fN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ve(cr,"Using user provided OfflineComponentProvider");try{await Kd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Js("Error using user provided cache. Falling back to memory cache: "+i),await Kd(a,new sh)}}else ve(cr,"Using default OfflineComponentProvider"),await Kd(a,new cN(void 0));return a._offlineComponents}async function eE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ve(cr,"Using user provided OnlineComponentProvider"),await E_(a,a._uninitializedComponentsProvider._online)):(ve(cr,"Using default OnlineComponentProvider"),await E_(a,new Rp))),a._onlineComponents}function dN(a){return eE(a).then((e=>e.syncEngine))}async function pN(a){const e=await eE(a),i=e.eventManager;return i.onListen=XD.bind(null,e.syncEngine),i.onUnlisten=JD.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ZD.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eN.bind(null,e.syncEngine),i}function mN(a,e,i={}){const r=new nr;return a.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,y,m){const v=new uN({next:S=>{v.Nu(),f.enqueueAndForget((()=>qD(c,x))),S.fromCache&&y.source==="server"?m.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),x=new GD(p,v,{includeMetadataChanges:!0,qa:!0});return BD(c,x)})(await pN(a),a.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firestore.googleapis.com",w_=!0;class A_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nE,this.ssl=w_}else this.host=e.host,this.ssl=e.ssl??w_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HC)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new y2;switch(r.type){case"firstParty":return new x2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=T_.get(i);r&&(ve("ComponentProvider","Removing Datastore"),T_.delete(i),r.terminate())})(this),Promise.resolve()}}function gN(a,e,i,r={}){a=Ku(a,Ah);const o=Gl(e),c=a._getSettings(),f={...c,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(ub(`https://${p}`),fb("Firestore",!0)),c.host!==nE&&c.host!==p&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:r};if(!Qu(y,f)&&(a._setSettings(y),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=ln.MOCK_USER;else{m=hb(r.mockUserToken,a._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ln(x)}a._authCredentials=new v2(new Fb(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class Kt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if($l(i,Kt._jsonSchema))return new Kt(e,r||null,new Ee(ut.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Pt("string",Kt._jsonSchemaVersion),referencePath:Pt("string")};class ir extends fo{constructor(e,i,r){super(e,i,cx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ee(e))}withConverter(e){return new ir(this.firestore,e,this._path)}}function Lu(a,e,...i){if(a=ci(a),Gb("collection","path",e),a instanceof Ah){const r=ut.fromString(e,...i);return U0(r),new ir(a,null,r)}{if(!(a instanceof Kt||a instanceof ir))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ut.fromString(e,...i));return U0(r),new ir(a.firestore,null,r)}}function yN(a,e,...i){if(a=ci(a),arguments.length===1&&(e=Kp.newId()),Gb("doc","path",e),a instanceof Ah){const r=ut.fromString(e,...i);return j0(r),new Kt(a,null,new Ee(r))}{if(!(a instanceof Kt||a instanceof ir))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ut.fromString(e,...i));return j0(r),new Kt(a.firestore,a instanceof ir?a.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ux(this,"async_queue_retry"),this._c=()=>{const r=Yd();r&&ve(S_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uo(e))throw e;ve(S_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,va("INTERNAL UNHANDLED ERROR: ",C_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=dm.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:C_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function C_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class vm extends Ah{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new R_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function vN(a,e){const i=typeof a=="object"?a:xb(),r=typeof a=="string"?a:Zu,o=yb(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=lb("firestore");c&&gN(o,...c)}return o}function iE(a){if(a._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||_N(a),a._firestoreClient}function _N(a){const e=a._freezeSettings(),i=(function(o,c,f,p){return new U2(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new hN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(an.fromBase64String(e))}catch(i){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Yn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Pt("string",Yn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if($l(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Pt("string",ji._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new _e(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Pt("string",Ui._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=/^__.*__$/;class xN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}function rE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:a})}}class bm{constructor(e,i,r,o,c,f){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rE(this.Ac)&&bN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Eh(e)}Cc(e,i,r,o=!1){return new bm({Ac:e,methodName:i,Dc:r,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sE(a){const e=a._freezeSettings(),i=Eh(a._databaseId);return new EN(a._databaseId,!!e.ignoreUndefinedProperties,i)}function TN(a,e,i,r,o,c={}){const f=a.Cc(c.merge||c.mergeFields?2:0,e,i,o);cE("Data must be an object, but it was:",f,r);const p=oE(r,f);let y,m;if(c.merge)y=new oi(f.fieldMask),m=f.fieldTransforms;else if(c.mergeFields){const v=[];for(const x of c.mergeFields){const S=AN(e,x,i);if(!f.contains(S))throw new _e(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);RN(v,S)||v.push(S)}y=new oi(v),m=f.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,m=f.fieldTransforms;return new xN(new Qn(p),y,m)}function wN(a,e,i,r=!1){return xm(i,a.Cc(r?4:3,e))}function xm(a,e){if(lE(a=ci(a)))return cE("Unsupported field value:",e,a),oE(a,e);if(a instanceof aE)return(function(r,o){if(!rE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const p of r){let y=xm(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(a,e)}return(function(r,o){if((r=ci(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ht.fromDate(r);return{timestampValue:ih(o.serializer,c)}}if(r instanceof ht){const c=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:Rx(o.serializer,r._byteString)};if(r instanceof Kt){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:am(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ui)return(function(f,p){return{mapValue:{fields:{[ex]:{stringValue:tx},[Wu]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return tm(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${dh(r)}`)})(a,e)}function oE(a,e){const i={};return Yb(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(a,((r,o)=>{const c=xm(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function lE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ht||a instanceof ji||a instanceof Yn||a instanceof Kt||a instanceof aE||a instanceof Ui)}function cE(a,e,i){if(!lE(i)||!$b(i)){const r=dh(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function AN(a,e,i){if((e=ci(e))instanceof _m)return e._internalPath;if(typeof e=="string")return uE(a,e);throw oh("Field path arguments must be of type string or ",a,!1,void 0,i)}const SN=new RegExp("[~\\*/\\[\\]]");function uE(a,e,i){if(e.search(SN)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new _m(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function oh(a,e,i,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new _e(re.INVALID_ARGUMENT,p+a+y)}function RN(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Em("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CN extends hE{data(){return super.data()}}function Em(a,e){return typeof e=="string"?uE(a,e):e instanceof _m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tm{}class NN extends Tm{}function D_(a,e,...i){let r=[];e instanceof Tm&&r.push(e),r=r.concat(i),(function(c){const f=c.filter((y=>y instanceof wm)).length,p=c.filter((y=>y instanceof Sh)).length;if(f>1||f>0&&p>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class Sh extends NN{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Sh(e,i,r)}_apply(e){const i=this._parse(e);return fE(e._query,i),new fo(e.firestore,e.converter,yp(e._query,i))}_parse(e){const i=sE(e.firestore);return(function(c,f,p,y,m,v,x){let S;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){I_(x,v);const j=[];for(const O of x)j.push(N_(y,c,O));S={arrayValue:{values:j}}}else S=N_(y,c,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||I_(x,v),S=wN(p,f,x,v==="in"||v==="not-in");return kt.create(m,v,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Du(a,e,i){const r=e,o=Em("where",a);return Sh._create(o,r,i)}class wm extends Tm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new wm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ui.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const y of p)fE(f,y),f=yp(f,y)})(e._query,i),new fo(e.firestore,e.converter,yp(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N_(a,e,i){if(typeof(i=ci(i))=="string"){if(i==="")throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ux(e)&&i.indexOf("/")!==-1)throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ut.fromString(i));if(!Ee.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $0(a,new Ee(r))}if(i instanceof Kt)return $0(a,i._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function I_(a,e){if(!Array.isArray(a)||a.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fE(a,e){const i=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class IN{convertValue(e,i="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Zr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Wu].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new Ui(i)}convertGeoPoint(e){return new ji(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=gh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=rr(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ut.fromString(e);Je(Mx(r),9688,{name:e});const o=new Ul(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(i)||va(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class Nu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends hE{constructor(e,i,r,o,c,f){super(e,i,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ks._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Pt("string",Ks._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class zu extends Ks{data(e={}){return super.data(e)}}class Xs{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Nu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new zu(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const y=new zu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Nu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new zu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Nu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:MN(p.type),doc:y,oldIndex:m,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:a})}}Xs._jsonSchemaVersion="firestore/querySnapshot/1.0",Xs._jsonSchema={type:Pt("string",Xs._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class VN extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function O_(a){a=Ku(a,fo);const e=Ku(a.firestore,vm),i=iE(e),r=new VN(e);return DN(a._query),mN(i,a._query).then((o=>new Xs(e,r,a,o)))}function dE(a,e){const i=Ku(a.firestore,vm),r=yN(a),o=ON(a.converter,e);return kN(i,[TN(sE(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,ma.exists(!1))]).then((()=>r))}function kN(a,e){return(function(r,o){const c=new nr;return r.asyncQueue.enqueueAndForget((async()=>tN(await dN(r),o,c))),c.promise})(iE(a),e)}(function(e,i=!0){(function(o){lo=o})(_b),Vl(new Ws("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),p=new vm(new _2(r.getProvider("auth-internal")),new E2(f,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(m.options.projectId,v)})(f,o),f);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),er(M0,V0,e),er(M0,V0,"esm2020")})();var PN="firebase",jN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(PN,jN,"app");const UN={apiKey:"AIzaSyDnKX4BJsQRgv9tjl7R9l6edfLb2Pk6au4",authDomain:"nouhin-bolt-test-202508.firebaseapp.com",projectId:"nouhin-bolt-test-202508",storageBucket:"nouhin-bolt-test-202508.firebasestorage.app",messagingSenderId:"143363676790",appId:"1:143363676790:web:193dc5843f55ba891d1d57",measurementId:"G-4PWQ11BFWF"},pE=bb(UN),Xd=d2(pE),Bu=vN(pE),LN=()=>{const[a,e]=U.useState(!1),[i,r]=U.useState(null),o=async(f,p,y)=>{const m=`${f}-${p}-${y}`,v=Fd(Xd,m);try{const x=await I0(v);if(x.items.length===0&&x.prefixes.length===0)return m;let S=2;for(;;){const D=`${m}-ver${S}`,j=Fd(Xd,D);try{const O=await I0(j);if(O.items.length===0&&O.prefixes.length===0)return D;S++}catch{return D}}}catch{return m}};return{uploading:a,uploadProgress:i,uploadPhotos:async(f,p)=>{e(!0),r({current:0,total:f.length,percentage:0});try{const y=await o(p.receptionNumber,p.photographerName,p.customerName),m=[];for(let v=0;v<f.length;v++){const x=f[v],S=`${String(v+1).padStart(3,"0")}`,D=Fd(Xd,`${y}/${S}`),j=await h2(D,x.file),O=await f2(j.ref),k={...p,id:x.id,number:v+1,originalName:x.originalName,storageUrl:O,deliveryDate:new Date};await dE(Lu(Bu,"photos"),{...k,shootingDate:new Date(p.shootingDate)}),m.push(k);const K=v+1,Z=Math.round(K/f.length*100);r({current:K,total:f.length,percentage:Z})}return m}finally{e(!1),r(null)}}}},zN=a=>{const e={};return a.photographerName.trim()||(e.photographerName="カメラマン名は必須です"),a.shootingDate||(e.shootingDate="撮影日は必須です"),a.receptionNumber.trim()?/^\d+$/.test(a.receptionNumber)||(e.receptionNumber="受付番号は数字で入力してください"):e.receptionNumber="受付番号は必須です",a.customerName.trim()||(e.customerName="お客様氏名は必須です"),e},BN=()=>{const[a,e]=U.useState([]),[i,r]=U.useState({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),[o,c]=U.useState({}),[f,p]=U.useState(!1),{uploading:y,uploadProgress:m,uploadPhotos:v}=LN(),x=U.useCallback(O=>{e(k=>[...k,...O].map((Z,W)=>({...Z,number:W+1}))),p(!1)},[]),S=U.useCallback(O=>{e(k=>k.filter(Z=>Z.id!==O).map((Z,W)=>({...Z,number:W+1})))},[]),D=U.useCallback(O=>{r(O),c({})},[]),j=async()=>{const O=zN(i);if(Object.keys(O).length>0){c(O);return}if(a.length===0){alert("アップロードする写真を選択してください。");return}try{await v(a,i),p(!0),e([]),r({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),alert("写真のアップロードが完了しました！")}catch(k){console.error("Upload error:",k),alert("アップロード中にエラーが発生しました。")}};return T.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[T.jsx("header",{className:"bg-white shadow-sm mb-8",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:T.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ToruTora"})})}),T.jsx("div",{className:"max-w-6xl mx-auto px-4",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-8 text-center",children:"写真納品システム"}),T.jsx("div",{className:"mb-8",children:T.jsx(bA,{onFilesAdded:x})}),T.jsx(xA,{photos:a,onRemove:S}),T.jsx("div",{className:"mt-8",children:T.jsx(EA,{metaInfo:i,onChange:D,errors:o})}),T.jsxs("div",{className:"mt-8 text-center",children:[m&&T.jsxs("div",{className:"mb-4",children:[T.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-2",children:[T.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:[m.percentage,"% 進捗中"]}),T.jsxs("span",{className:"text-sm text-gray-600",children:[m.current,"枚 / ",m.total,"枚"]})]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:T.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${m.percentage}%`}})})]}),T.jsx("button",{onClick:j,disabled:y||a.length===0,className:`px-8 py-3 rounded-lg font-semibold text-white transition-colors ${y||a.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:y?"アップロード中...":"アップロード実行"})]}),f&&T.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:"写真のアップロードが正常に完了しました。"})]})})]})},qN=()=>{const a=Hl(),[e,i]=U.useState({receptionNumber:"",shootingDate:"",customerName:""}),[r,o]=U.useState({}),c=(y,m)=>{i(v=>({...v,[y]:m})),o(v=>({...v,[y]:""}))},f=()=>{const y={};return e.receptionNumber.trim()||(y.receptionNumber="受付番号を入力してください"),e.shootingDate||(y.shootingDate="撮影日を入力してください"),e.customerName.trim()||(y.customerName="お客様氏名を入力してください"),o(y),Object.keys(y).length===0},p=()=>{f()&&a("/photo-select",{state:{searchInfo:e}})};return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx("header",{className:"bg-white shadow-sm",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),T.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),T.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"受付番号と確認番号を入力してください"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号"}),T.jsx("input",{type:"text",value:e.receptionNumber,onChange:y=>c("receptionNumber",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),r.receptionNumber&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.receptionNumber})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日"}),T.jsx("input",{type:"date",value:e.shootingDate,onChange:y=>c("shootingDate",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.shootingDate?"border-red-500":"border-gray-300"}`}),r.shootingDate&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.shootingDate})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ）"}),T.jsx("input",{type:"text",value:e.customerName,onChange:y=>c("customerName",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),r.customerName&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.customerName})]}),T.jsx("button",{onClick:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"写真を表示する"})]})]})})]})},Am=()=>{const[a,e]=U.useState(!1),[i,r]=U.useState([]),[o,c]=U.useState(null),f=U.useCallback(async m=>{e(!0),c(null),console.log("Starting gallery photo search with:",m);try{const v=Lu(Bu,"gallery"),x=D_(v,Du("receptionNumber","==",m.receptionNumber),Du("customerName","==",m.customerName));console.log("Executing Firestore query on gallery collection...");const S=await O_(x);console.log("Query completed, documents found:",S.size);const D=[];return S.forEach(j=>{const O=j.data();try{console.log("Processing document:",j.id,"shootingDate:",O.shootingDate);let k;if(O.shootingDate&&typeof O.shootingDate.toDate=="function")k=O.shootingDate.toDate();else if(O.shootingDate instanceof Date)k=O.shootingDate;else if(typeof O.shootingDate=="string"){if(k=new Date(O.shootingDate),isNaN(k.getTime())){console.warn("Invalid date string:",O.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",j.id,O.shootingDate);return}let K;O.deliveryDate&&typeof O.deliveryDate.toDate=="function"?K=O.deliveryDate.toDate():O.deliveryDate instanceof Date?K=O.deliveryDate:(console.warn("Invalid deliveryDate format for document:",j.id,O.deliveryDate),K=new Date);const Z=new Date(m.shootingDate);console.log("Comparing dates - doc:",k,"search:",Z),k.getFullYear()===Z.getFullYear()&&k.getMonth()===Z.getMonth()&&k.getDate()===Z.getDate()&&(D.push({...O,id:j.id,number:O.number,photographerName:O.photographerName,shootingDate:k,receptionNumber:O.receptionNumber,customerName:O.customerName,storageUrl:O.storageUrl,deliveryDate:K}),console.log("Photo added to results:",O.number))}catch(k){console.error("Error processing document:",j.id,k)}}),console.log("Total photos found:",D.length),D.sort((j,O)=>j.number-O.number),r(D),D}catch(v){return console.error("Error searching gallery photos:",v),c("写真の検索中にエラーが発生しました"),r([]),[]}finally{console.log("Gallery search completed, setting loading to false"),e(!1)}},[]),p=U.useCallback(async m=>{e(!0),c(null),console.log("Starting photo search with:",m);try{const v=Lu(Bu,"photos"),x=D_(v,Du("receptionNumber","==",m.receptionNumber),Du("customerName","==",m.customerName));console.log("Executing Firestore query...");const S=await O_(x);console.log("Query completed, documents found:",S.size);const D=[];return S.forEach(j=>{const O=j.data();try{console.log("Processing document:",j.id,"shootingDate:",O.shootingDate);let k;if(O.shootingDate&&typeof O.shootingDate.toDate=="function")k=O.shootingDate.toDate();else if(O.shootingDate instanceof Date)k=O.shootingDate;else if(typeof O.shootingDate=="string"){if(k=new Date(O.shootingDate),isNaN(k.getTime())){console.warn("Invalid date string:",O.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",j.id,O.shootingDate);return}let K;O.deliveryDate&&typeof O.deliveryDate.toDate=="function"?K=O.deliveryDate.toDate():O.deliveryDate instanceof Date?K=O.deliveryDate:(console.warn("Invalid deliveryDate format for document:",j.id,O.deliveryDate),K=new Date);const Z=new Date(m.shootingDate);console.log("Comparing dates - doc:",k,"search:",Z),k.getFullYear()===Z.getFullYear()&&k.getMonth()===Z.getMonth()&&k.getDate()===Z.getDate()&&(D.push({...O,id:j.id,number:O.number,photographerName:O.photographerName,shootingDate:k,receptionNumber:O.receptionNumber,customerName:O.customerName,storageUrl:O.storageUrl,deliveryDate:K}),console.log("Photo added to results:",O.number))}catch(k){console.error("Error processing document:",j.id,k)}}),console.log("Total photos found:",D.length),D.sort((j,O)=>j.number-O.number),r(D),D}catch(v){return console.error("Error searching photos:",v),c("写真の検索中にエラーが発生しました"),r([]),[]}finally{console.log("Search completed, setting loading to false"),e(!1)}},[]),y=U.useCallback(async(m,v)=>{e(!0);try{const x=Lu(Bu,"gallery");for(const S of m){const D={customerName:S.customerName,deliveryDate:new Date,id:S.id,number:S.number,photographerName:S.photographerName,receptionNumber:S.receptionNumber,shootingDate:S.shootingDate,storageUrl:S.storageUrl,all_photo_flg:v?1:0};await dE(x,D)}}finally{e(!1)}},[]);return{loading:a,error:o,photos:i,searchGalleryPhotos:f,searchPhotos:p,purchasePhotos:y}},ze=new Map,lh=3600*1e3,Gr=20,mE=()=>{const a=Date.now();for(const[e,i]of ze.entries())a-i.timestamp>lh&&ze.delete(e)},Sm=()=>{if(ze.size<=Gr)return;const a=Array.from(ze.entries());a.sort((i,r)=>i[1].timestamp-r[1].timestamp);const e=a.slice(0,a.length-Gr);e.forEach(([i])=>{const r=ze.get(i);if(r){const o=r.canvas.getContext("2d");o&&o.clearRect(0,0,r.canvas.width,r.canvas.height)}ze.delete(i)}),console.log(`🧹 Cache cleanup: removed ${e.length} OLD images, current size: ${ze.size}`),console.log("🧹 Deleted keys:",e.map(([i])=>i)),console.log("🧹 Deleted timestamps:",e.map(([i,r])=>({key:i,timestamp:new Date(r.timestamp).toLocaleString()})))},Il=(a,e)=>`${a}|${e}`,Oi=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Mi=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),HN=()=>{if(Oi&&Mi){const a=ze.size;if(a>Gr*.8)console.log("🚨 Safari: Emergency cache cleanup (80% threshold)"),Sm(),window.gc&&window.gc();else if(a>Gr*.6){console.log("⚠️ Safari: Moderate cache cleanup (60% threshold)");const e=Array.from(ze.entries());e.sort((r,o)=>r[1].timestamp-o[1].timestamp);const i=e.slice(0,Math.floor(e.length*.5));i.forEach(([r])=>{const o=ze.get(r);if(o){const c=o.canvas.getContext("2d");c&&c.clearRect(0,0,o.canvas.width,o.canvas.height)}ze.delete(r)}),console.log(`🧹 Safari: Moderate cleanup removed ${i.length} OLD images, current size: ${ze.size}`),console.log("🧹 Safari deleted keys:",i.map(([r])=>r)),console.log("🧹 Safari deleted timestamps:",i.map(([r,o])=>({key:r,timestamp:new Date(o.timestamp).toLocaleString()})))}else if(a>Gr*.4){console.log("🧹 Safari: Light cache cleanup (40% threshold)");const e=Array.from(ze.entries());e.sort((r,o)=>r[1].timestamp-o[1].timestamp);const i=e.slice(0,Math.floor(e.length*.3));i.forEach(([r])=>{const o=ze.get(r);if(o){const c=o.canvas.getContext("2d");c&&c.clearRect(0,0,o.canvas.width,o.canvas.height)}ze.delete(r)}),console.log(`🧹 Safari: Light cleanup removed ${i.length} OLD images, current size: ${ze.size}`),console.log("🧹 Safari deleted keys:",i.map(([r])=>r)),console.log("🧹 Safari deleted timestamps:",i.map(([r,o])=>({key:r,timestamp:new Date(o.timestamp).toLocaleString()})))}}};window.debugImageCache=()=>{console.log("=== Image Cache Debug Info ==="),console.log("Cache size:",ze.size),console.log("Max size:",Gr),console.log("Expiry time:",lh);for(const[a,e]of ze.entries())console.log(`Key: ${a}`),console.log(`  Size: ${e.canvas.width}x${e.canvas.height}`),console.log(`  Timestamp: ${new Date(e.timestamp).toLocaleString()}`),console.log(`  Age: ${Date.now()-e.timestamp}ms`);console.log("===============================")};window.imageCache=ze;const In=new Map,gE=(a,e,i)=>{const r=Il(a,e);if(console.log("🔍 PRIORITY LOAD DEBUG START:",{src:a,alt:e,cacheKey:r,isSafari:Oi,isMobile:Mi,cacheSize:ze.size,maxCacheSize:Gr,memoryPressure:Oi&&Mi?"Safari Mobile":"Other"}),ze.has(r))return console.log("✅ Priority image already cached:",r),Promise.resolve();if(In.has(r))return console.log("⏳ Priority image already preloading, using existing promise:",r),In.get(r);console.log("🚀 Starting PRIORITY load for:",r,"src:",a);const o=new Promise((c,f)=>{console.log("🔧 Creating priority Promise for:",r);const p=new Image;p.crossOrigin="anonymous",console.log("🖼️ Priority Image object created:",{src:p.src,crossOrigin:p.crossOrigin,cacheKey:r});const y=setTimeout(()=>{console.error("⏰ Priority load timeout for:",a,"after 8 seconds"),console.log("🔍 Timeout debug info:",{imgComplete:p.complete,imgNaturalWidth:p.naturalWidth,imgNaturalHeight:p.naturalHeight,imgSrc:p.src,onloadCalled:p.onloadCalled,onerrorCalled:p.onerrorCalled,cacheKey:r}),!p.onloadCalled&&!p.onerrorCalled&&(p.onerrorCalled=!0,p.onerror?.(new Event("error")))},8e3);if(p.onload=()=>{if(console.log("🎉 Priority onload event triggered for:",r),clearTimeout(y),p.onloadCalled){console.log("🚫 Duplicate priority onload event, ignoring");return}p.onloadCalled=!0,console.log("🔍 Priority onload debug info:",{imgComplete:p.complete,imgNaturalWidth:p.naturalWidth,imgNaturalHeight:p.naturalHeight,imgSrc:p.src,cacheKey:r});try{const m=document.createElement("canvas"),v=m.getContext("2d");if(!v){f(new Error("Failed to get priority canvas context"));return}const x=1024,S=1024*1024,D=(ge,P)=>{let R=ge,C=P;if(R>x||C>x){const V=Math.min(x/R,x/C);R=Math.floor(R*V),C=Math.floor(C*V)}if(R*C>S){const V=Math.sqrt(S/(R*C));R=Math.floor(R*V),C=Math.floor(C*V)}return{width:R,height:C}},{width:j,height:O}=D(p.width,p.height);m.width=j,m.height=O,v.drawImage(p,0,0,j,O),v.font=`bold ${Math.max(j*.05,24)}px serif`,v.fillStyle="rgba(255, 255, 255, 0.4)",v.strokeStyle="rgba(0, 0, 0, 0.3)",v.lineWidth=3,v.textAlign="center";const k="ToruTora",K=-Math.PI/6,Z=v.measureText(k+"     ").width,W=Math.max(O*.15,80),he=Math.sqrt(j*j+O*O),de=Math.ceil(he/W)+6;for(let ge=-Math.floor(de/2);ge<=Math.floor(de/2);ge++){const P=j/2,R=O/2,C=ge*W*Math.cos(K+Math.PI/2),V=ge*W*Math.sin(K+Math.PI/2),N=he*1.5,L=Math.floor(N/Z)+2;for(let A=0;A<L;A++){const pe=(A-L/2)/L,ue=P+C+pe*N*Math.cos(K),X=R+V+pe*N*Math.sin(K);ue>=-100&&ue<=j+100&&X>=-100&&X<=O+100&&(v.save(),v.translate(ue,X),v.rotate(K),v.strokeText(k,0,0),v.fillText(k,0,0),v.restore())}}ze.set(r,{canvas:m,timestamp:Date.now()}),mE(),Sm(),console.log("✅ Priority image loaded and cached:",r,"Size:",j,"x",O),In.delete(r),c()}catch(m){console.error("Priority canvas drawing error:",m),In.delete(r),f(m)}},p.onerror=()=>{if(console.log("❌ Priority onerror event triggered for:",r),clearTimeout(y),p.onerrorCalled){console.log("🚫 Duplicate priority onerror event, ignoring");return}if(p.onerrorCalled=!0,console.error("Priority image loading error for:",a),console.log("🔍 Priority onerror debug info:",{imgComplete:p.complete,imgNaturalWidth:p.naturalWidth,imgNaturalHeight:p.naturalHeight,imgSrc:p.src,cacheKey:r}),i&&a!==i){console.log("Trying fallback for priority load:",i),gE(i,e).then(c).catch(f);return}In.delete(r),f(new Error(`Failed to load priority image: ${a}`))},p.src=a,Oi&&Mi){console.log("🍎 Safari: Starting priority polling check for:",r);const m=setInterval(()=>{console.log("🔍 Safari priority polling check:",{imgComplete:p.complete,imgNaturalWidth:p.naturalWidth,imgNaturalHeight:p.naturalHeight,imgSrc:p.src,cacheKey:r}),p.complete&&(clearInterval(m),p.naturalWidth>0&&p.naturalHeight>0?(console.log("✅ Safari: Priority image loaded via polling check"),!p.onloadCalled&&!p.onerrorCalled&&(p.onloadCalled=!0,p.onload?.(new Event("load")))):(console.log("❌ Safari: Priority image failed via polling check"),!p.onloadCalled&&!p.onerrorCalled&&(p.onerrorCalled=!0,p.onerror?.(new Event("error")))))},50);setTimeout(()=>{clearInterval(m),!p.onloadCalled&&!p.onerrorCalled&&(console.log("⏰ Safari: Priority polling timeout, treating as error"),p.onerrorCalled||(p.onerrorCalled=!0,p.onerror?.(new Event("error"))))},6e3)}});return In.set(r,o),o};window.loadImageWithPriority=gE;const FN=(a,e,i)=>{const r=Il(a,e);if(ze.has(r))return console.log("Image already cached, skipping preload:",r),Promise.resolve();if(In.has(r))return console.log("Image already preloading, returning existing promise:",r),In.get(r);console.log("🔄 Starting preload for:",r,"src:",a);const o=1024,c=1024*1024,f=(m,v)=>{let x=m,S=v;if(x>o||S>o){const D=Math.min(o/x,o/S);x=Math.floor(x*D),S=Math.floor(S*D)}if(x*S>c){const D=Math.sqrt(c/(x*S));x=Math.floor(x*D),S=Math.floor(S*D)}return{width:x,height:S}},p=m=>m,y=new Promise((m,v)=>{const x=new Image;x.crossOrigin="anonymous";const S=setTimeout(()=>{console.error("⏰ Preload timeout for:",a),!x.onloadCalled&&!x.onerrorCalled&&(x.onerrorCalled=!0,x.onerror?.(new Event("error")))},1e4);if(x.onload=()=>{if(clearTimeout(S),x.onloadCalled||x.onerrorCalled){console.log("🚫 Duplicate preload onload event, ignoring");return}x.onloadCalled=!0;try{const D=document.createElement("canvas"),j=D.getContext("2d");if(!j){v(new Error("Failed to get preload canvas context"));return}const{width:O,height:k}=f(x.width,x.height);D.width=O,D.height=k,j.drawImage(x,0,0,O,k),j.font=`bold ${Math.max(O*.05,24)}px Arial`,j.font=`bold ${Math.max(O*.05,24)}px serif`,j.fillStyle="rgba(255, 255, 255, 0.4)",j.strokeStyle="rgba(0, 0, 0, 0.3)",j.lineWidth=3,j.textAlign="center";const K="ToruTora",Z=-Math.PI/6,W=j.measureText(K+"     ").width,he=Math.max(k*.15,80),de=Math.sqrt(O*O+k*k),ge=Math.ceil(de/he)+6;for(let P=-Math.floor(ge/2);P<=Math.floor(ge/2);P++){const R=O/2,C=k/2,V=P*he*Math.cos(Z+Math.PI/2),N=P*he*Math.sin(Z+Math.PI/2),L=de*1.5,A=Math.floor(L/W)+2;for(let pe=0;pe<A;pe++){const ue=(pe-A/2)/A,X=R+V+ue*L*Math.cos(Z),ne=C+N+ue*L*Math.sin(Z);X>=-100&&X<=O+100&&ne>=-100&&ne<=k+100&&(j.save(),j.translate(X,ne),j.rotate(Z),j.strokeText(K,0,0),j.fillText(K,0,0),j.restore())}}ze.set(r,{canvas:D,timestamp:Date.now()}),mE(),Sm(),console.log("✅ Image preloaded and cached (completely isolated):",r,"Size:",O,"x",k,"Cache size:",ze.size),console.log("🔒 Preload completed - no impact on current display"),console.log("📊 Preload cache details:",{cacheKey:r,src:a,alt:e,canvasSize:`${O}x${k}`,totalCacheSize:ze.size}),In.delete(r),m()}catch(D){console.error("Preload canvas drawing error:",D),v(D)}},x.onerror=D=>{if(clearTimeout(S),x.onloadCalled||x.onerrorCalled){console.log("🚫 Duplicate preload onerror event, ignoring");return}x.onerrorCalled=!0,console.error("Preload image loading error for:",a),console.error("Preload error details:",D),In.delete(r),v(new Error(`Failed to load image: ${a}`))},x.src=p(a),Oi&&Mi){const D=setInterval(()=>{x.complete&&(clearInterval(D),x.naturalWidth>0&&x.naturalHeight>0?(console.log("✅ Safari: Preload image loaded via polling check"),x.onloadCalled||(x.onloadCalled=!0,x.onload?.(new Event("load")))):(console.log("❌ Safari: Preload image failed via polling check"),x.onerrorCalled||(x.onerrorCalled=!0,x.onerror?.(new Event("error")))))},100);setTimeout(()=>{clearInterval(D),!x.onloadCalled&&!x.onerrorCalled&&(console.log("⏰ Safari: Preload polling timeout, treating as error"),x.onerrorCalled||(x.onerrorCalled=!0,x.onerror?.(new Event("error"))))},8e3)}});return In.set(r,y),y},Rm=({src:a,alt:e,className:i="",style:r,objectFit:o="cover",onLoadComplete:c,onLoadError:f,hideInternalLoader:p=!1,externalLoading:y=!1,fallbackSrc:m,imageId:v,useCssWatermark:x=!1})=>{const S=U.useRef(null),[D,j]=U.useState(!0),[O,k]=U.useState(!1),[K,Z]=U.useState(a),[W,he]=U.useState(v),de=1024,ge=1024*1024,P=(N,L)=>{let A=N,pe=L;if(A>de||pe>de){const ue=Math.min(de/A,de/pe);A=Math.floor(A*ue),pe=Math.floor(pe*ue)}if(A*pe>ge){const ue=Math.sqrt(ge/(A*pe));A=Math.floor(A*ue),pe=Math.floor(pe*ue)}return{width:A,height:pe}},R=N=>N.includes("firebasestorage.googleapis.com")?`${N}&q=30`:N,C=U.useCallback((N,L=!1)=>{if(console.log("🔍 getCachedOrCreateImage called for:",N,"ImageId:",v,"CurrentImageId:",W),HN(),N.includes("?t=")){console.log("🔄 Reload detected, bypassing cache for:",N);const ne=Il(N,e);if(ze.delete(ne),Oi&&Mi){console.log("🧹 Safari: Clearing all related cache entries for reload");const oe=N.split("?")[0];for(const[ce]of ze.entries())ce.includes(oe)&&ce.includes(e)&&(ze.delete(ce),console.log("🗑️ Safari: Cleared related cache for reload:",ce))}}const pe=Il(N,e),ue=ze.get(pe);if(ue&&Oi&&Mi){const ne=ue.canvas;if(ne&&ne.width>0&&ne.height>0){const oe=ne.getContext("2d");if(oe){const M=oe.getImageData(0,0,Math.min(ne.width,10),Math.min(ne.height,10)).data;let ee=!0;for(let q=0;q<M.length;q+=4){const Q=M[q],le=M[q+1],Te=M[q+2];if(Q!==le||le!==Te){ee=!1;break}}ee&&(console.log("🚫 Safari: Detected gray background cache, removing:",pe),ze.delete(pe))}}}if(ue&&Date.now()-ue.timestamp<lh){console.log("✅ Using cached image:",pe,"Size:",ue.canvas.width,"x",ue.canvas.height,"Current src:",K,"Requested src:",N);const ne=S.current;if(ne){const oe=ne.getContext("2d");oe&&(ne.width=ue.canvas.width,ne.height=ue.canvas.height,oe.clearRect(0,0,ne.width,ne.height),oe.drawImage(ue.canvas,0,0),j(!1),k(!1),console.log("🚀 Cached image displayed immediately, loading state cleared"),c&&setTimeout(()=>c(),50))}return}if(console.log("❌ Cache miss for:",pe,"Available cache keys:",Array.from(ze.keys())),console.log("🔍 Cache check details:",{requestedSrc:N,requestedAlt:e,cacheKey:pe,hasCached:!!ue,isExpired:ue?Date.now()-ue.timestamp>lh:"N/A",currentSrc:K}),!ue){if(console.log("🚫 Image was deleted from cache, loading fresh from storage:",N),console.log("💡 This might be due to memory cleanup - loading fresh image"),In.has(pe)){console.log("⏳ Image is currently preloading, waiting for completion:",pe);const ne=setTimeout(()=>{console.log("⏰ Preload wait timeout, but keeping preload active:",pe),console.log("🔄 Starting parallel direct load while preload continues:",pe),console.log("🚀 Bypassing preload wait, proceeding to direct load"),X()},5e3);In.get(pe).then(()=>{clearTimeout(ne),console.log("✅ Preload completed, retrying display:",pe),C(N,L)}).catch(oe=>{clearTimeout(ne),console.error("❌ Preload failed, falling back to direct load:",oe),console.log("🚀 Preload failed, proceeding to direct load"),X()});return}if(Oi&&Mi){console.log("🍎 Safari: Memory pressure detected, using aggressive cleanup");const ne=Array.from(ze.entries());if(ne.length>5){ne.sort((ce,M)=>ce[1].timestamp-M[1].timestamp);const oe=ne.slice(0,ne.length-5);oe.forEach(([ce])=>{const M=ze.get(ce);if(M){const ee=M.canvas.getContext("2d");ee&&ee.clearRect(0,0,M.canvas.width,M.canvas.height)}ze.delete(ce)}),console.log(`🧹 Safari: Aggressive cleanup removed ${oe.length} images, current size: ${ze.size}`)}}}const X=()=>{console.log("🔄 Loading directly from storage (no cache):",N);const ne=S.current;if(!ne)return;const oe=ne.getContext("2d");if(!oe)return;const ce=new Image;ce.crossOrigin="anonymous";const M=setTimeout(()=>{if(console.error("⏰ Image load timeout for:",N),v&&W&&v!==W){console.log("🚫 Ignoring timeout for outdated image:",v,"Current:",W);return}console.log("❌ Timeout: Setting error state for:",N),k(!0),j(!1),f&&f()},12e3);if(ce.onload=()=>{if(clearTimeout(M),ce.onloadCalled){console.log("🚫 Duplicate onload event, ignoring");return}ce.onloadCalled=!0;try{if(console.log("🖼️ Image onload triggered for:",N,"ImageId:",v,"CurrentImageId:",W),console.log("🖼️ Image dimensions:",ce.width,"x",ce.height),console.log("🖼️ User Agent:",navigator.userAgent),v&&W&&v!==W){console.log("🚫 Ignoring load completion for outdated image:",v,"Current:",W);return}ce.alt=e,console.log("🎨 Starting canvas drawing for:",N,"Dimensions:",ce.width,"x",ce.height);const{width:ee,height:q}=P(ce.width,ce.height);ne.width=ee,ne.height=q,oe.drawImage(ce,0,0,ee,q),oe.font=`bold ${Math.max(ee*.05,24)}px Arial`,oe.font=`bold ${Math.max(ee*.05,24)}px serif`,oe.fillStyle="rgba(255, 255, 255, 0.4)",oe.strokeStyle="rgba(0, 0, 0, 0.3)",oe.lineWidth=3,oe.textAlign="center";const Q="ToruTora",le=-Math.PI/6,Te=oe.measureText(Q+"     ").width,ye=Math.max(q*.15,80),Ze=Math.sqrt(ee*ee+q*q),Ae=Math.ceil(Ze/ye)+6;for(let Pe=-Math.floor(Ae/2);Pe<=Math.floor(Ae/2);Pe++){const Ye=ee/2,ft=q/2,Dt=Pe*ye*Math.cos(le+Math.PI/2),On=Pe*ye*Math.sin(le+Math.PI/2),yn=Ze*1.5,Mn=Math.floor(yn/Te)+2;for(let Kn=0;Kn<Mn;Kn++){const _t=(Kn-Mn/2)/Mn,Xn=Ye+Dt+_t*yn*Math.cos(le),vn=ft+On+_t*yn*Math.sin(le);Xn>=-100&&Xn<=ee+100&&vn>=-100&&vn<=q+100&&(oe.save(),oe.translate(Xn,vn),oe.rotate(le),oe.strokeText(Q,0,0),oe.fillText(Q,0,0),oe.restore())}}if(console.log("✅ Image loaded directly from storage (no cache):",N),console.log("🎨 Canvas drawing completed, size:",ee,"x",q),v&&W&&v!==W){console.log("🚫 Ignoring load completion for outdated image:",v,"Current:",W);return}console.log("🔄 Setting loading state to false for:",N),j(!1),console.log("✅ Image load completed successfully:",N,"ImageId:",v),c&&setTimeout(()=>{console.log("📞 Calling onLoadComplete callback"),c()},100)}catch(ee){console.error("Canvas drawing error:",ee),k(!0),j(!1),f&&f()}},ce.onerror=ee=>{if(clearTimeout(M),ce.onerrorCalled){console.log("🚫 Duplicate onerror event, ignoring");return}if(ce.onerrorCalled=!0,console.error("Image loading error for:",N),console.error("Error details:",ee),console.error("User Agent:",navigator.userAgent),console.error("Image src:",ce.src),Oi&&Mi){const q=Il(N,e);ze.delete(q),console.log("🗑️ Safari: Cleared error cache for:",q)}if(v&&W&&v!==W){console.log("🚫 Ignoring load error for outdated image:",v,"Current:",W);return}if(console.log("❌ Image onerror triggered for:",N,"ImageId:",v,"CurrentImageId:",W),m&&!L&&N!==m){console.log("Trying fallback image:",m),C(m,!0);return}console.log("❌ Image load failed, setting error state"),k(!0),j(!1),f&&f()},console.log("🚀 Starting image load for:",N,"ImageId:",v),ce.src=R(N),Oi&&Mi){const ee=setInterval(()=>{ce.complete&&(clearInterval(ee),ce.naturalWidth>0&&ce.naturalHeight>0?(console.log("✅ Safari: Direct storage image loaded via polling check"),!ce.onloadCalled&&!ce.onerrorCalled&&(ce.onloadCalled=!0,ce.onload?.(new Event("load")))):(console.log("❌ Safari: Direct storage image failed via polling check"),!ce.onloadCalled&&!ce.onerrorCalled&&(ce.onerrorCalled=!0,ce.onerror?.(new Event("error")))))},100);setTimeout(()=>{clearInterval(ee),!ce.onloadCalled&&!ce.onerrorCalled&&(console.log("⏰ Safari: Polling timeout, treating as error"),ce.onerrorCalled||(ce.onerrorCalled=!0,ce.onerror?.(new Event("error"))))},8e3)}};X()},[e,c,f,m,v,W]);if(U.useEffect(()=>{console.log("🔄 Image src changed from",K,"to",a,"ImageId:",v),console.log("🔄 User Agent:",navigator.userAgent),console.log("🔄 Is Mobile:",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),Z(a),he(v),j(!0),k(!1),console.log("🔄 Reset loading state for new image:",a),console.log("🖼️ Loading image for display:",a,"ImageId:",v),C(a)},[a,v]),U.useEffect(()=>{if(x&&a){console.log("🔍 Safari image load detection for:",a);const N=new Image;N.onload=()=>{console.log("✅ Safari pre-check: Image already loaded:",a),j(!1),k(!1),c&&c()},N.onerror=()=>{console.log("❌ Safari pre-check: Image load failed:",a),m&&a!==m?(console.log("Trying fallback for Safari pre-check:",m),Z(m)):(k(!0),j(!1),f&&f())},N.src=a}},[a,x,m,c,f]),O)return T.jsx("div",{className:`flex items-center justify-center bg-gray-200 ${i}`,style:r,children:T.jsx("span",{className:"text-gray-500",children:"画像を読み込めませんでした"})});const V=!p&&D&&!y;return x?T.jsxs("div",{className:`relative ${i}`,style:r,children:[V&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),T.jsx("img",{src:K,alt:e,className:`w-full h-full object-${o}`,style:{display:"block",opacity:D&&!y?0:1,transition:"opacity 0.3s ease",visibility:"visible"},onLoad:()=>{console.log("✅ CSS Image loaded:",K,"FallbackSrc:",m),j(!1),k(!1),c&&c()},onError:()=>{console.log("❌ CSS Image load error:",K,"FallbackSrc:",m),m&&K!==m?(console.log("Trying fallback for CSS image:",m),Z(m)):(console.log("No fallback available, showing error"),k(!0),j(!1),f&&f())},onLoadStart:()=>{console.log("🔄 CSS Image load started:",K)}}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:T.jsx("div",{className:"text-white font-bold text-2xl md:text-4xl opacity-40 select-none",style:{textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)",transform:"rotate(-30deg)",letterSpacing:"0.2em"},children:"ToruTora"})})]}):T.jsxs("div",{className:`relative ${i}`,style:r,children:[V&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),T.jsx("canvas",{ref:S,className:`w-full h-full object-${o}`,style:{display:"block",opacity:D&&!y?0:1,transition:"opacity 0.3s ease"}})]})},GN=a=>{if(!a.includes("firebasestorage.googleapis.com"))return{src:a};try{const e=a.split("/o/");if(e.length<2)return{src:a};const i=e[1],r=i.split("?")[0],o=i.includes("?")?"?"+i.split("?")[1]:"",c=decodeURIComponent(r),f=c.split("/");if(f.length<2)return{src:a};const p=f[0],y=f[f.length-1],m=`${y}_200x200`,v=`${p}/thumbs/${m}`,x=`${e[0]}/o/${encodeURIComponent(v)}${o}`;return console.log("Optimal image URL selection:",{original:a,decodedPath:c,folderName:p,fileName:y,thumbnailFileName:m,thumbnailPath:v,thumbnail:x,userAgent:navigator.userAgent,isMobile:$N()}),{src:x,fallbackSrc:a}}catch(e){return console.error("Failed to convert to optimal image URL:",e),{src:a}}},$N=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Iu=a=>a.includes("firebasestorage.googleapis.com")?a.includes("?")?`${a}&quality=5&w=200`:`${a}?quality=5&w=200`:a,QN=(a={})=>{const[e,i]=U.useState(!1),r=U.useRef(null);return U.useEffect(()=>{const o=new IntersectionObserver(([c])=>{i(c.isIntersecting)},{rootMargin:"200px",threshold:.01,...a});return r.current&&o.observe(r.current),()=>o.disconnect()},[]),[r,e]},YN=({photo:a,isSelected:e,onToggleSelection:i,onPhotoClick:r,allPhotoOption:o})=>{const[c,f]=QN(),[p,y]=U.useState(e);return U.useEffect(()=>{y(e)},[e]),T.jsx("div",{ref:c,className:"relative",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>r(a),children:[T.jsxs("div",{className:"relative aspect-square bg-gray-200",children:[f?(()=>{const{src:m,fallbackSrc:v}=GN(a.storageUrl);return T.jsx(Rm,{src:m,alt:`写真 ${a.number}`,className:"w-full h-full",objectFit:"cover",fallbackSrc:v,useCssWatermark:!0})})():T.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:T.jsxs("div",{className:"text-center text-gray-400",children:[T.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),T.jsx("span",{className:"text-xs",children:"画像を準備中"})]})}),T.jsx("button",{onClick:m=>{m.stopPropagation(),y(!p),i(a.id)},disabled:o,className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${p?"bg-blue-600 border-blue-600":"bg-white border-gray-300"} ${o?"cursor-not-allowed opacity-75":"cursor-pointer"} shadow-sm`,children:p&&T.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),T.jsx("div",{className:"p-2 text-center",children:T.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(a.number).padStart(3,"0")})})]})})},KN=()=>{const a=fi(),e=Hl(),{loading:i,error:r,photos:o,searchPhotos:c,searchGalleryPhotos:f}=Am(),[p,y]=U.useState(new Set),[m,v]=U.useState(!1),[x,S]=U.useState(new Set),[D,j]=U.useState(null),[O,k]=U.useState(0),[K,Z]=U.useState(!1),[W,he]=U.useState(!1),[de,ge]=U.useState(!1),[P,R]=U.useState(0),C=a.state?.searchInfo,V=a.state?.forceAllPhotoOption;U.useEffect(()=>{if(!C){e("/photo-info");return}console.log("PhotoSelectPage: Starting purchase check...");const q={receptionNumber:C.receptionNumber,shootingDate:C.shootingDate,customerName:C.customerName};f(q).then(Q=>{if(Q.length>0)console.log("PhotoSelectPage: Already purchased photos found:",Q.length),Z(!0);else return console.log("PhotoSelectPage: No purchased photos found, proceeding with photo search..."),c(C)}).then(()=>{console.log("PhotoSelectPage: Search completed")}).catch(Q=>{console.error("PhotoSelectPage: Search failed:",Q)})},[C,e,c,f]),U.useEffect(()=>{if(V&&o.length>0){v(!0);const q=new Set(o.map(Q=>Q.id));y(q)}},[V,o]);const N=U.useCallback(q=>{m||(y(Q=>{const le=new Set(Q);return le.has(q)?le.delete(q):le.add(q),le}),S(Q=>{const le=new Set(Q);return le.has(q)?le.delete(q):le.add(q),le}))},[m]),L=U.useCallback(q=>{const le=`${Iu(q.storageUrl)}|写真 ${q.number}`,Te=window.imageCache;if(!Te)return console.log("❌ Image cache not available"),!1;const ye=Te.get(le);return ye&&Date.now()-ye.timestamp<3600*1e3?(console.log("✅ Image found in cache:",le,"Size:",ye.canvas?.width,"x",ye.canvas?.height),!0):(console.log("❌ Image not in cache:",le),!1)},[]),A=U.useCallback(q=>{console.log(`🚀 Starting preload for index ${q}, total photos: ${o.length}`);const Q=[],le=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Te=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let ye=5;if(le&&Te){const Ae=window.imageCache;if(Ae){const Pe=Ae.size;console.log("🍎 Safari preload strategy check:",{currentIndex:q,cacheSize:Pe,maxCacheSize:20,threshold80:16,threshold60:12,threshold40:8}),Pe>16?(ye=0,console.log("🚨 Safari: Emergency preload stop (80% threshold)")):Pe>12?(ye=1,console.log("⚠️ Safari: Minimal preload (60% threshold)")):Pe>8?(ye=2,console.log("🧹 Safari: Moderate preload (40% threshold)")):(ye=3,console.log("✅ Safari: Normal preload (<40% threshold)"))}else ye=2,console.log("⚠️ Safari: Fallback preload (no cache info)")}const Ze=Array.from({length:ye},(Ae,Pe)=>q+Pe+1).filter(Ae=>Ae>=0&&Ae<o.length);if(console.log("📋 Indices to preload:",Ze),Ze.length===0){console.log(`⚠️ No images to preload for index ${q}`);return}for(const Ae of Ze){const Pe=o[Ae],Ye=Iu(Pe.storageUrl);console.log(`🔄 Preloading modal image ${Ae}: ${Pe.number}, src: ${Ye}`),console.log("🔍 Preload URL details:",{originalUrl:Pe.storageUrl,highResUrl:Ye,hasQuery:Ye.includes("?"),quality:Ye.includes("quality="),width:Ye.includes("w=")}),Q.push(FN(Ye,`写真 ${Pe.number}`).then(()=>{console.log(`✅ Successfully preloaded modal image ${Ae}: ${Pe.number}`);const ft=`${Ye}|写真 ${Pe.number}`,Dt=window.imageCache?.get?.(ft);console.log(`📊 Preload cache verification for ${Pe.number}:`,Dt?"CACHED":"NOT CACHED","Key:",ft)}).catch(ft=>console.warn(`❌ Failed to preload modal image ${Ae}:`,ft)))}Promise.allSettled(Q).then(Ae=>{const Pe=Ae.filter(Ye=>Ye.status==="fulfilled").length;console.log(`🎯 Preload completed: ${Pe}/${Q.length} adjacent modal images`),setTimeout(()=>{console.log("🔍 Post-preload cache verification:"),Ze.forEach(Ye=>{const ft=o[Ye],Dt=L(ft);console.log(`  - Photo ${ft.number} (index ${Ye}): ${Dt?"CACHED":"NOT CACHED"}`)})},1e3)})},[o,L]),pe=U.useCallback(q=>{console.log(`✅ Image load complete for index ${q}`),setTimeout(()=>{console.log(`🔄 Preload status check for index ${q}`);const Q=q+1;if(Q<o.length){const le=o[Q],Te=L(le);console.log(`📊 Next image (${le.number}) cache status:`,Te?"CACHED":"NOT CACHED")}},2e3)},[o,L]),ue=U.useCallback(q=>{const Q=o.findIndex(Ae=>Ae.id===q.id);console.log(`🖼️ Photo clicked: ${q.number}, index: ${Q}`);const le=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Te=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),ye=window.imageCache;if(console.log("🔍 PHOTO CLICK DEBUG:",{photoNumber:q.number,photoIndex:Q,totalPhotos:o.length,isSafari:le,isMobile:Te,cacheSize:ye?.size||0,maxCacheSize:20,userAgent:navigator.userAgent,storageUrl:q.storageUrl}),k(Q),j(q),R(0),L(q))console.log(`✅ Photo ${q.number} is cached, displaying immediately`),he(!1),ge(!1);else{console.log(`🚀 Photo ${q.number} not cached, starting PRIORITY load`),he(!0),ge(!1);const Ae=window.loadImageWithPriority;if(Ae){const Pe=Iu(q.storageUrl);console.log("🔍 PRIORITY LOAD START DEBUG:",{photoNumber:q.number,originalUrl:q.storageUrl,highResUrl:Pe,alt:`写真 ${q.number}`,priorityLoadFunction:typeof Ae}),Ae(Pe,`写真 ${q.number}`).then(()=>{console.log(`✅ Priority load completed for photo ${q.number}`),he(!1),ge(!1)}).catch(Ye=>{console.error(`❌ Priority load failed for photo ${q.number}:`,Ye),console.log("🔍 PRIORITY LOAD ERROR DEBUG:",{photoNumber:q.number,error:Ye,errorMessage:Ye?.message,errorStack:Ye?.stack}),ge(!0),he(!1)})}else console.error("❌ Priority load function not available"),ge(!0),he(!1)}console.log(`🚀 Starting preload for adjacent images from index ${Q} in parallel`),A(Q)},[o,L,A]),X=U.useCallback(()=>{if(O>0){const q=O-1,Q=o[q];console.log(`⬅️ Going to previous photo: ${O} -> ${q}`),k(q),j(Q),R(0),L(Q)?(console.log(`✅ Photo ${Q.number} is cached, displaying immediately`),he(!1),ge(!1)):(console.log(`⏳ Photo ${Q.number} not cached, starting load`),he(!0),ge(!1),setTimeout(()=>{W&&(console.log("⚠️ Image load timeout, forcing modal to close"),he(!1),ge(!0))},1e4)),console.log(`🚀 Starting preload for index ${q} in parallel`),A(q)}},[O,o,L,W,A]),ne=U.useCallback(()=>{if(O<o.length-1){const q=O+1,Q=o[q];console.log(`➡️ Going to next photo: ${O} -> ${q}`),k(q),j(Q),R(0),L(Q)?(console.log(`✅ Photo ${Q.number} is cached, displaying immediately`),he(!1),ge(!1)):(console.log(`⏳ Photo ${Q.number} not cached, starting load`),he(!0),ge(!1),setTimeout(()=>{W&&(console.log("⚠️ Image load timeout, forcing modal to close"),he(!1),ge(!0))},1e4)),console.log(`🚀 Starting preload for index ${q} in parallel`),A(q)}},[O,o,L,W,A]);U.useEffect(()=>{},[O,o,D]),U.useEffect(()=>{const q=Q=>{D&&(Q.key==="ArrowLeft"?X():Q.key==="ArrowRight"?ne():Q.key==="Escape"&&j(null))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[D,X,ne]);const oe=U.useCallback(q=>{if(v(q),q){const Q=new Set(o.map(le=>le.id));y(Q)}else y(new Set(x))},[o,x]),ce=U.useCallback(()=>{const q=o.filter(Q=>p.has(Q.id));e("/photo-check",{state:{selectedPhotos:q,allPhotoOption:m,searchInfo:C}})},[o,p,m,C,e]),M=U.useMemo(()=>{if(!D)return"";const q=Iu(D.storageUrl),Q=P>0?`${q}?t=${Date.now()}`:q;return console.log(`🖼️ Displaying image ${D.number}, src: ${Q}, reloadKey: ${P}`),console.log("🔍 Display URL details:",{originalUrl:D.storageUrl,baseUrl:q,finalUrl:Q,isReload:P>0,hasTimestamp:Q.includes("?t="),hasQuery:Q.includes("?"),quality:Q.includes("quality="),width:Q.includes("w=")}),Q},[D?.storageUrl,D?.number,P]),ee=U.useMemo(()=>o.map(q=>T.jsx(YN,{photo:q,isSelected:p.has(q.id),onToggleSelection:N,onPhotoClick:ue,allPhotoOption:m},q.id)),[o,p,N,ue,m]);return i?T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"写真を検索中..."}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"写真が多い場合、時間がかかることがあります"}),r&&T.jsx("p",{className:"text-red-600 mt-2",children:r})]})}):r?T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[T.jsx("p",{className:"text-lg text-red-600 mb-4",children:"エラーが発生しました"}),T.jsx("p",{className:"text-gray-600 mb-4",children:r}),T.jsx("button",{onClick:()=>e("/photo-info"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"戻る"})]})}):T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx("header",{className:"bg-white shadow-sm",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),T.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),T.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:K?T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("svg",{className:"w-16 h-16 text-blue-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"写真選択済み"})]}),T.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"すでに写真を選択済みです。"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"変更がある場合にはLineにてお問い合わせください。"}),T.jsx("button",{onClick:()=>e("/photo-info"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"戻る"})]}):o.length===0?T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[T.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"一致する写真が存在しませんでした。"}),T.jsx("p",{className:"text-gray-600",children:"Lineにてお問い合わせください"})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:T.jsxs("p",{className:"text-blue-800 font-medium",children:[o.length,"枚の写真が見つかりました"]})}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:ee}),T.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:T.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:m,onChange:q=>oe(q.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-800 font-medium",children:"全データ購入オプション（+5500円）を適用"}),T.jsx("p",{className:"text-sm text-red-600",children:"19枚以上選択する場合はこちらがおすすめ"})]})]})}),T.jsxs("div",{className:"text-center",children:[T.jsxs("button",{onClick:ce,disabled:p.size===0&&!m,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["確認画面へ進む（",m?o.length:p.size,"枚選択中）"]}),T.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※3枚までは追加料金なしで選択可能"}),T.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※写真購入後にウォーターマークなし/高解像度のお写真を再納品します"})]})]})}),D&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white rounded-lg flex flex-col relative",style:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh"},children:[T.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 overflow-hidden",style:{height:"calc(90vh - 120px)"},children:[T.jsxs("div",{className:"absolute top-4 left-0 right-0 flex items-center justify-between px-4 z-50",children:[T.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium",children:[O+1," / ",o.length]}),T.jsx("button",{onClick:()=>j(null),className:"bg-black bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all text-lg font-bold",children:"×"})]}),W&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:T.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}),de&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[T.jsx("div",{className:"w-16 h-16 text-red-500 mx-auto mb-4",children:T.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),T.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:"画像の読み込みに失敗しました"}),T.jsx("button",{onClick:()=>{ge(!1),he(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"再試行"})]})}),T.jsx(Rm,{src:M,alt:`写真 ${D.number}`,className:"max-w-full max-h-full",objectFit:"contain",style:{maxWidth:"100%",maxHeight:"100%"},imageId:D.id,onLoadComplete:()=>{console.log("🎉 onLoadComplete called for photo:",D?.number,"index:",O),he(!1),ge(!1),console.log("✅ Modal loading state cleared"),pe(O)},onLoadError:()=>{console.log("❌ onLoadError called for photo:",D?.number,"index:",O),he(!1),ge(!0),console.log("✅ Modal loading state cleared due to error")},hideInternalLoader:!0,externalLoading:W},`${D.id}-${P}`),O>0&&T.jsx("button",{onClick:X,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),O<o.length-1&&T.jsx("button",{onClick:ne,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),T.jsx("div",{className:"border-t border-gray-200 bg-white flex flex-col justify-center",style:{height:"120px",flexShrink:0},children:T.jsxs("div",{className:"p-3 text-center",children:[T.jsxs("label",{className:"flex items-center justify-center space-x-2 cursor-pointer mb-2",children:[T.jsx("input",{type:"checkbox",checked:p.has(D.id),onChange:()=>N(D.id),disabled:m,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),T.jsx("span",{className:`font-medium ${m?"text-gray-400":"text-blue-600"}`,children:m?"全データ購入オプション適用中":"選択する"}),T.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:["(",String(D.number).padStart(3,"0"),")"]})]}),T.jsx("button",{onClick:ce,disabled:p.size===0&&!m,className:`w-full py-2 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"確認画面へ進む"}),T.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※3枚までは基本料金に含まれます"}),T.jsx("p",{className:"text-xs text-gray-500",children:"← → キーで写真切り替え、ESCで閉じる"})]})})]})})]})},XN=()=>{const a=fi(),e=Hl(),{loading:i,purchasePhotos:r}=Am(),o=a.state?.selectedPhotos||[],c=a.state?.allPhotoOption||!1,f=a.state?.searchInfo,p=()=>c?5500:o.length<=3?0:(o.length-3)*330,y=async()=>{try{await r(o,c),e("/photo-collect",{state:{selectedPhotos:o,allPhotoOption:c}})}catch(v){console.error("Purchase error:",v),alert("購入処理中にエラーが発生しました。")}};if(!o.length)return e("/photo-info"),null;const m=p();return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx("header",{className:"bg-white shadow-sm",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),T.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:o.map(v=>T.jsx("div",{className:"relative",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[T.jsxs("div",{className:"relative aspect-square",children:[T.jsx(Rm,{src:v.storageUrl,alt:`写真 ${v.number}`,className:"w-full h-full"}),T.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:T.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),T.jsx("div",{className:"p-2 text-center",children:T.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(v.number).padStart(3,"0")})})]})},v.id))}),T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[T.jsxs("div",{className:"text-center mb-6",children:[T.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["支払い合計：",m.toLocaleString(),"円"]}),!c&&o.length>3&&T.jsxs("p",{className:"text-gray-600",children:["追加写真",o.length-3,"枚 × 単価330円"]})]}),!c&&T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:T.jsxs("div",{className:"flex items-start space-x-2",children:[T.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5",children:"i"}),T.jsx("div",{className:"flex-1",children:T.jsxs("p",{className:"text-blue-800 font-medium mb-2",children:["5500円のお支払いで",T.jsx("button",{onClick:()=>e("/photo-select",{state:{searchInfo:f,forceAllPhotoOption:!0}}),className:"text-blue-600 underline mx-1",children:"こちら"}),"から全てのお写真をご購入することができます"]})})]})}),T.jsx("button",{onClick:y,disabled:i,className:`w-full py-4 rounded-lg font-semibold text-white transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?"処理中...":"購入完了"}),T.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"※お支払い完了後にウォーターマークなしの高品質画像をお届けします"})]})]})]})},ZN=()=>{const e=fi().state?.selectedPhotos||[],i=()=>e.map(r=>String(r.number).padStart(3,"0")).join("/");return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx("header",{className:"bg-white shadow-sm",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),T.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),T.jsx("div",{className:"max-w-md mx-auto px-4 py-16",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[T.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"ご購入ありがとうございます"}),e.length>0&&T.jsxs("div",{className:"mb-6",children:[T.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"購入した写真番号:"}),T.jsx("p",{className:"text-lg font-bold text-blue-600 mb-4",children:i()})]}),T.jsx("p",{className:"text-gray-600 leading-relaxed",children:"※お支払い確認後、ウォーターマークなしの画像を再納品させて頂きます"}),T.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:T.jsx("p",{className:"text-sm text-yellow-800",children:"控えとして本画面をスクリーンショットで保存していただくことをおすすめします"})})]})})]})},WN=()=>{const{loading:a,photos:e,searchGalleryPhotos:i}=Am(),[r,o]=U.useState(!0),[c,f]=U.useState(new Set),[p,y]=U.useState(!1),[m,v]=U.useState(null),[x,S]=U.useState(!1),[D,j]=U.useState(0),[O,k]=U.useState(!1),[K,Z]=U.useState({receptionNumber:"",shootingDate:"",customerName:"",password:""}),[W,he]=U.useState({}),de=(A,pe)=>{Z(ue=>({...ue,[A]:pe})),he(ue=>({...ue,[A]:""}))},ge=()=>{const A={};return K.receptionNumber.trim()||(A.receptionNumber="受付番号を入力してください"),K.shootingDate||(A.shootingDate="撮影日を入力してください"),K.customerName.trim()||(A.customerName="お客様氏名を入力してください"),!K.password||!K.password.trim()?A.password="パスワードを入力してください":K.password&&K.password!=="torutora0820"&&(A.password="パスワードが正しくありません"),he(A),Object.keys(A).length===0},P=async()=>{ge()&&(await i(K),o(!1))},R=A=>{f(pe=>{const ue=new Set(pe);return ue.has(A)?ue.delete(A):ue.add(A),ue})},C=A=>{if(y(A),A){const pe=new Set(e.map(ue=>ue.id));f(pe)}else f(new Set)},V=async(A,pe)=>{try{const X=await(await fetch(A)).blob(),ne=window.URL.createObjectURL(X),oe=document.createElement("a");oe.href=ne,oe.download=pe,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),window.URL.revokeObjectURL(ne)}catch(ue){console.error("Download failed:",ue)}},N=async A=>{S(!0),j(0);const pe=setInterval(()=>{j(ue=>ue>=100?(clearInterval(pe),100):ue+10)},100);try{await V(A.storageUrl,`photo_${A.number}.jpg`),setTimeout(()=>{S(!1),k(!0),j(0)},1200)}catch{S(!1),j(0),alert("ダウンロードに失敗しました")}},L=async()=>{if(c.size===0)return;S(!0),j(0);const A=e.filter(ue=>c.has(ue.id));let pe=0;for(const ue of A)try{await V(ue.storageUrl,`photo_${ue.number}.jpg`),pe++,j(pe/A.length*100)}catch{console.error("Download failed for photo:",ue.number)}setTimeout(()=>{S(!1),k(!0),j(0)},500)};return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx("header",{className:"bg-white shadow-sm",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),T.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),T.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),r&&T.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50 p-4",children:r&&T.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"受付番号と確認番号を入力してください"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号"}),T.jsx("input",{type:"text",value:K.receptionNumber,onChange:A=>de("receptionNumber",A.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${W.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),W.receptionNumber&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.receptionNumber})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日"}),T.jsx("input",{type:"date",value:K.shootingDate,onChange:A=>de("shootingDate",A.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${W.shootingDate?"border-red-500":"border-gray-300"}`}),W.shootingDate&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.shootingDate})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ）"}),T.jsx("input",{type:"text",value:K.customerName,onChange:A=>de("customerName",A.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${W.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),W.customerName&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.customerName})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"パスワード"}),T.jsx("input",{type:"password",value:K.password,onChange:A=>de("password",A.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${W.password?"border-red-500":"border-gray-300"}`,placeholder:""}),W.password&&T.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.password})]}),T.jsx("button",{onClick:P,disabled:a,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${a?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:a?"検索中...":"写真を表示する"})]})]})}),x&&T.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:T.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 shadow-lg pointer-events-auto",children:[T.jsx("div",{className:"text-center mb-4",children:T.jsxs("span",{className:"text-lg font-medium",children:[Math.round(D),"%"]})}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:T.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${D}%`}})})]})}),O&&T.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:T.jsxs("div",{className:"bg-white rounded-lg p-8 text-center shadow-lg pointer-events-auto",children:[T.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),T.jsx("p",{className:"text-lg font-medium text-gray-800 mb-4",children:"ダウンロードが完了しました"}),T.jsx("button",{onClick:()=>k(!1),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:"閉じる"})]})}),!r&&T.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.length===0?T.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[T.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"写真が登録されていません。"}),T.jsx("p",{className:"text-gray-600",children:"Lineにてお問い合わせください"}),T.jsx("button",{onClick:()=>o(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"再検索"})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:e.map(A=>T.jsx("div",{className:"relative",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(A),children:[T.jsxs("div",{className:"relative aspect-square",children:[T.jsx("img",{src:A.storageUrl,alt:`写真 ${A.number}`,className:"w-full h-full object-cover"}),T.jsx("button",{onClick:pe=>{pe.stopPropagation(),R(A.id)},className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${c.has(A.id)?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:c.has(A.id)&&T.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),T.jsx("div",{className:"p-2 text-center",children:T.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(A.number).padStart(3,"0")})})]})},A.id))}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[T.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mb-4",children:[T.jsx("input",{type:"checkbox",checked:p,onChange:A=>C(A.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),T.jsx("span",{className:"text-gray-800 font-medium",children:"全ての写真を選択する"})]}),T.jsxs("button",{onClick:L,disabled:c.size===0||x,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${c.size===0||x?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["選択した写真をダウンロード (",c.size,"枚)"]})]})]})}),m&&T.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:1e3},children:[T.jsxs("div",{className:"flex items-center justify-between bg-white text-gray-800 p-4 shadow-sm",children:[T.jsx("button",{onClick:()=>v(null),className:"text-gray-800 hover:text-gray-600",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),T.jsx("span",{className:"font-medium",children:String(m.number).padStart(3,"0")}),T.jsx("button",{onClick:()=>R(m.id),className:`w-8 h-8 rounded flex items-center justify-center ${c.has(m.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:c.has(m.id)&&T.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),T.jsx("div",{className:"flex items-center justify-center bg-black",style:{height:"calc(100vh - 140px)"},children:T.jsx("img",{src:m.storageUrl,alt:`写真 ${m.number}`,className:"max-w-full max-h-full object-contain"})}),T.jsx("div",{className:"p-4 bg-white border-t border-gray-200",style:{height:"80px"},children:T.jsxs("button",{onClick:()=>N(m),disabled:x,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors flex items-center justify-center ${x?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),x?"ダウンロード中...":"ダウンロード"]})})]})]})};function JN(){return T.jsxs(qT,{children:[T.jsx(Ka,{path:"/nouhin",element:T.jsx(BN,{})}),T.jsx(Ka,{path:"/photo-info",element:T.jsx(qN,{})}),T.jsx(Ka,{path:"/photo-select",element:T.jsx(KN,{})}),T.jsx(Ka,{path:"/photo-check",element:T.jsx(XN,{})}),T.jsx(Ka,{path:"/photo-collect",element:T.jsx(ZN,{})}),T.jsx(Ka,{path:"/gallery",element:T.jsx(WN,{})}),T.jsx(Ka,{path:"/",element:T.jsx(zT,{to:"/photo-info",replace:!0})})]})}Z1.createRoot(document.getElementById("root")).render(T.jsx(M_.StrictMode,{children:T.jsx(hw,{children:T.jsx(JN,{})})}));
