(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function ch(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ad={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function L1(){if(Pv)return pl;Pv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:r,key:f,ref:o!==void 0?o:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var Uv;function z1(){return Uv||(Uv=1,Ad.exports=L1()),Ad.exports}var E=z1(),Sd={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function B1(){if(Lv)return Vt;Lv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function V(D,J,ot){this.props=D,this.context=J,this.refs=k,this.updater=ot||O}V.prototype.isReactComponent={},V.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},V.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Y(){}Y.prototype=V.prototype;function Z(D,J,ot){this.props=D,this.context=J,this.refs=k,this.updater=ot||O}var K=Z.prototype=new Y;K.constructor=Z,U(K,V.prototype),K.isPureReactComponent=!0;var dt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function P(D,J,ot,G,rt,pt){return ot=pt.ref,{$$typeof:a,type:D,key:J,ref:ot!==void 0?ot:null,props:pt}}function R(D,J){return P(D.type,J,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function M(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ot){return J[ot]})}var I=/\/+/g;function z(D,J){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):J.toString(36)}function S(){}function ft(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(S,S):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ct(D,J,ot,G,rt){var pt=typeof D;(pt==="undefined"||pt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(pt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case a:case t:vt=!0;break;case v:return vt=D._init,ct(vt(D._payload),J,ot,G,rt)}}if(vt)return rt=rt(D),vt=G===""?"."+z(D,0):G,dt(rt)?(ot="",vt!=null&&(ot=vt.replace(I,"$&/")+"/"),ct(rt,J,ot,"",function(ae){return ae})):rt!=null&&(C(rt)&&(rt=R(rt,ot+(rt.key==null||D&&D.key===rt.key?"":(""+rt.key).replace(I,"$&/")+"/")+vt)),J.push(rt)),1;vt=0;var Bt=G===""?".":G+":";if(dt(D))for(var Mt=0;Mt<D.length;Mt++)G=D[Mt],pt=Bt+z(G,Mt),vt+=ct(G,J,ot,pt,rt);else if(Mt=A(D),typeof Mt=="function")for(D=Mt.call(D),Mt=0;!(G=D.next()).done;)G=G.value,pt=Bt+z(G,Mt++),vt+=ct(G,J,ot,pt,rt);else if(pt==="object"){if(typeof D.then=="function")return ct(ft(D),J,ot,G,rt);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return vt}function W(D,J,ot){if(D==null)return D;var G=[],rt=0;return ct(D,G,"","",function(pt){return J.call(ot,pt,rt++)}),G}function st(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(ot){(D._status===0||D._status===-1)&&(D._status=1,D._result=ot)},function(ot){(D._status===0||D._status===-1)&&(D._status=2,D._result=ot)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function wt(){}return Vt.Children={map:W,forEach:function(D,J,ot){W(D,function(){J.apply(this,arguments)},ot)},count:function(D){var J=0;return W(D,function(){J++}),J},toArray:function(D){return W(D,function(J){return J})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Vt.Component=V,Vt.Fragment=i,Vt.Profiler=o,Vt.PureComponent=Z,Vt.StrictMode=r,Vt.Suspense=y,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ht.H.useMemoCache(D)}},Vt.cache=function(D){return function(){return D.apply(null,arguments)}},Vt.cloneElement=function(D,J,ot){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var G=U({},D.props),rt=D.key,pt=void 0;if(J!=null)for(vt in J.ref!==void 0&&(pt=void 0),J.key!==void 0&&(rt=""+J.key),J)!bt.call(J,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&J.ref===void 0||(G[vt]=J[vt]);var vt=arguments.length-2;if(vt===1)G.children=ot;else if(1<vt){for(var Bt=Array(vt),Mt=0;Mt<vt;Mt++)Bt[Mt]=arguments[Mt+2];G.children=Bt}return P(D.type,rt,void 0,void 0,pt,G)},Vt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Vt.createElement=function(D,J,ot){var G,rt={},pt=null;if(J!=null)for(G in J.key!==void 0&&(pt=""+J.key),J)bt.call(J,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(rt[G]=J[G]);var vt=arguments.length-2;if(vt===1)rt.children=ot;else if(1<vt){for(var Bt=Array(vt),Mt=0;Mt<vt;Mt++)Bt[Mt]=arguments[Mt+2];rt.children=Bt}if(D&&D.defaultProps)for(G in vt=D.defaultProps,vt)rt[G]===void 0&&(rt[G]=vt[G]);return P(D,pt,void 0,void 0,null,rt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(D){return{$$typeof:p,render:D}},Vt.isValidElement=C,Vt.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:st}},Vt.memo=function(D,J){return{$$typeof:m,type:D,compare:J===void 0?null:J}},Vt.startTransition=function(D){var J=ht.T,ot={};ht.T=ot;try{var G=D(),rt=ht.S;rt!==null&&rt(ot,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(wt,lt)}catch(pt){lt(pt)}finally{ht.T=J}},Vt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Vt.use=function(D){return ht.H.use(D)},Vt.useActionState=function(D,J,ot){return ht.H.useActionState(D,J,ot)},Vt.useCallback=function(D,J){return ht.H.useCallback(D,J)},Vt.useContext=function(D){return ht.H.useContext(D)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(D,J){return ht.H.useDeferredValue(D,J)},Vt.useEffect=function(D,J,ot){var G=ht.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(D,J)},Vt.useId=function(){return ht.H.useId()},Vt.useImperativeHandle=function(D,J,ot){return ht.H.useImperativeHandle(D,J,ot)},Vt.useInsertionEffect=function(D,J){return ht.H.useInsertionEffect(D,J)},Vt.useLayoutEffect=function(D,J){return ht.H.useLayoutEffect(D,J)},Vt.useMemo=function(D,J){return ht.H.useMemo(D,J)},Vt.useOptimistic=function(D,J){return ht.H.useOptimistic(D,J)},Vt.useReducer=function(D,J,ot){return ht.H.useReducer(D,J,ot)},Vt.useRef=function(D){return ht.H.useRef(D)},Vt.useState=function(D){return ht.H.useState(D)},Vt.useSyncExternalStore=function(D,J,ot){return ht.H.useSyncExternalStore(D,J,ot)},Vt.useTransition=function(){return ht.H.useTransition()},Vt.version="19.1.1",Vt}var zv;function Cp(){return zv||(zv=1,Sd.exports=B1()),Sd.exports}var j=Cp();const O_=ch(j);var Rd={exports:{}},ml={},Cd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function q1(){return Bv||(Bv=1,(function(a){function t(W,st){var lt=W.length;W.push(st);t:for(;0<lt;){var wt=lt-1>>>1,D=W[wt];if(0<o(D,st))W[wt]=st,W[lt]=D,lt=wt;else break t}}function i(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var st=W[0],lt=W.pop();if(lt!==st){W[0]=lt;t:for(var wt=0,D=W.length,J=D>>>1;wt<J;){var ot=2*(wt+1)-1,G=W[ot],rt=ot+1,pt=W[rt];if(0>o(G,lt))rt<D&&0>o(pt,G)?(W[wt]=pt,W[rt]=lt,wt=rt):(W[wt]=G,W[ot]=lt,wt=ot);else if(rt<D&&0>o(pt,lt))W[wt]=pt,W[rt]=lt,wt=rt;else break t}}return st}function o(W,st){var lt=W.sortIndex-st.sortIndex;return lt!==0?lt:W.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var y=[],m=[],v=1,T=null,A=3,O=!1,U=!1,k=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function dt(W){for(var st=i(m);st!==null;){if(st.callback===null)r(m);else if(st.startTime<=W)r(m),st.sortIndex=st.expirationTime,t(y,st);else break;st=i(m)}}function ht(W){if(k=!1,dt(W),!U)if(i(y)!==null)U=!0,bt||(bt=!0,z());else{var st=i(m);st!==null&&ct(ht,st.startTime-W)}}var bt=!1,P=-1,R=5,C=-1;function M(){return V?!0:!(a.unstable_now()-C<R)}function I(){if(V=!1,bt){var W=a.unstable_now();C=W;var st=!0;try{t:{U=!1,k&&(k=!1,Z(P),P=-1),O=!0;var lt=A;try{e:{for(dt(W),T=i(y);T!==null&&!(T.expirationTime>W&&M());){var wt=T.callback;if(typeof wt=="function"){T.callback=null,A=T.priorityLevel;var D=wt(T.expirationTime<=W);if(W=a.unstable_now(),typeof D=="function"){T.callback=D,dt(W),st=!0;break e}T===i(y)&&r(y),dt(W)}else r(y);T=i(y)}if(T!==null)st=!0;else{var J=i(m);J!==null&&ct(ht,J.startTime-W),st=!1}}break t}finally{T=null,A=lt,O=!1}st=void 0}}finally{st?z():bt=!1}}}var z;if(typeof K=="function")z=function(){K(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ft=S.port2;S.port1.onmessage=I,z=function(){ft.postMessage(null)}}else z=function(){Y(I,0)};function ct(W,st){P=Y(function(){W(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(W){W.callback=null},a.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(W){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var lt=A;A=st;try{return W()}finally{A=lt}},a.unstable_requestPaint=function(){V=!0},a.unstable_runWithPriority=function(W,st){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var lt=A;A=W;try{return st()}finally{A=lt}},a.unstable_scheduleCallback=function(W,st,lt){var wt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?wt+lt:wt):lt=wt,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,W={id:v++,callback:st,priorityLevel:W,startTime:lt,expirationTime:D,sortIndex:-1},lt>wt?(W.sortIndex=lt,t(m,W),i(y)===null&&W===i(m)&&(k?(Z(P),P=-1):k=!0,ct(ht,lt-wt))):(W.sortIndex=D,t(y,W),U||O||(U=!0,bt||(bt=!0,z()))),W},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(W){var st=A;return function(){var lt=A;A=st;try{return W.apply(this,arguments)}finally{A=lt}}}})(Dd)),Dd}var qv;function H1(){return qv||(qv=1,Cd.exports=q1()),Cd.exports}var Nd={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function F1(){if(Hv)return on;Hv=1;var a=Cp();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(y,m,null,v)},on.flushSync=function(y){var m=f.T,v=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=m,r.p=v,r.d.f()}},on.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},on.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},on.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=p(v,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:O}):v==="script"&&r.d.X(y,{crossOrigin:T,integrity:A,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},on.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=p(v,m.crossOrigin);r.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},on.requestFormReset=function(y){r.d.r(y)},on.unstable_batchedUpdates=function(y,m){return y(m)},on.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.1.1",on}var Fv;function G1(){if(Fv)return Nd.exports;Fv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nd.exports=F1(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function $1(){if(Gv)return ml;Gv=1;var a=H1(),t=Cp(),i=G1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),e;if(d===l)return p(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=d;else{for(var b=!1,x=h.child;x;){if(x===s){b=!0,s=h,l=d;break}if(x===l){b=!0,l=h,s=d;break}x=x.sibling}if(!b){for(x=d.child;x;){if(x===s){b=!0,s=d,l=h;break}if(x===l){b=!0,l=d,s=h;break}x=x.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),K=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case ht:return"Suspense";case bt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case K:return(e.displayName||"Context")+".Provider";case Z:return(e._context.displayName||"Context")+".Consumer";case dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var ct=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},wt=[],D=-1;function J(e){return{current:e}}function ot(e){0>D||(e.current=wt[D],wt[D]=null,D--)}function G(e,n){D++,wt[D]=e.current,e.current=n}var rt=J(null),pt=J(null),vt=J(null),Bt=J(null);function Mt(e,n){switch(G(vt,n),G(pt,e),G(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hv(n),e=fv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(rt),G(rt,e)}function ae(){ot(rt),ot(pt),ot(vt)}function Zt(e){e.memoizedState!==null&&G(Bt,e);var n=rt.current,s=fv(n,e.type);n!==s&&(G(pt,e),G(rt,s))}function ue(e){pt.current===e&&(ot(rt),ot(pt)),Bt.current===e&&(ot(Bt),cl._currentValue=lt)}var fe=Object.prototype.hasOwnProperty,rn=a.unstable_scheduleCallback,On=a.unstable_cancelCallback,Mn=a.unstable_shouldYield,Kn=a.unstable_requestPaint,ge=a.unstable_now,hi=a.unstable_getCurrentPriorityLevel,_n=a.unstable_ImmediatePriority,hn=a.unstable_UserBlockingPriority,Ui=a.unstable_NormalPriority,co=a.unstable_LowPriority,ya=a.unstable_IdlePriority,mt=a.log,Tt=a.unstable_setDisableYieldValue,Ot=null,Ct=null;function re(e){if(typeof mt=="function"&&Tt(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Ot,e)}catch{}}var be=Math.clz32?Math.clz32:Zn,Xn=Math.log,or=Math.LN2;function Zn(e){return e>>>=0,e===0?32:31-(Xn(e)/or|0)|0}var Wn=256,Vn=4194304;function fn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=fn(l):(b&=x,b!==0?h=fn(b):s||(s=x&~e,s!==0&&(h=fn(s))))):(x=l&~d,x!==0?h=fn(x):b!==0?h=fn(b):s||(s=l&~e,s!==0&&(h=fn(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Li(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(){var e=Wn;return Wn<<=1,(Wn&4194048)===0&&(Wn=256),e}function uo(){var e=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),e}function zi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Bi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ho(e,n,s,l,h,d){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var x=e.entanglements,N=e.expirationTimes,F=e.hiddenUpdates;for(s=b&~s;0<s;){var tt=31-be(s),nt=1<<tt;x[tt]=0,N[tt]=-1;var $=F[tt];if($!==null)for(F[tt]=null,tt=0;tt<$.length;tt++){var Q=$[tt];Q!==null&&(Q.lane&=-536870913)}s&=~nt}l!==0&&di(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~n))}function di(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-be(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function fo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-be(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function va(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _a(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Iv(e.type))}function Ql(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var de=Math.random().toString(36).slice(2),Pe="__reactFiber$"+de,Ne="__reactProps$"+de,kn="__reactContainer$"+de,po="__reactEvents$"+de,Rh="__reactListeners$"+de,ba="__reactHandles$"+de,Yl="__reactResources$"+de,cr="__reactMarker$"+de;function xa(e){delete e[Pe],delete e[Ne],delete e[po],delete e[Rh],delete e[ba]}function qi(e){var n=e[Pe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[kn]||s[Pe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=gv(e);e!==null;){if(s=e[Pe])return s;e=gv(e)}return n}e=s,s=e.parentNode}return null}function pi(e){if(e=e[Pe]||e[kn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function mi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function dn(e){var n=e[Yl];return n||(n=e[Yl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[cr]=!0}var mo=new Set,Wr={};function ti(e,n){Hi(e,n),Hi(e+"Capture",n)}function Hi(e,n){for(Wr[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},ur={};function Zl(e){return fe.call(ur,e)?!0:fe.call(Xl,e)?!1:Kl.test(e)?ur[e]=!0:(Xl[e]=!0,!1)}function Ea(e,n,s){if(Zl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gi(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Xe(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}var hr,Wl;function Fi(e){if(hr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);hr=n&&n[1]||"",Wl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+e+Wl}var Jr=!1;function ts(e,n){if(!e||Jr)return"";Jr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var $=Q}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(Q){$=Q}e.call(nt.prototype)}}else{try{throw Error()}catch(Q){$=Q}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],x=d[1];if(b&&x){var N=b.split(`
`),F=x.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===F.length)for(l=N.length-1,h=F.length-1;1<=l&&0<=h&&N[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==F[h]){var tt=`
`+N[l].replace(" at new "," at ");return e.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",e.displayName)),tt}while(1<=l&&0<=h);break}}}finally{Jr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Fi(s):""}function go(e){switch(e.tag){case 26:case 27:case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return Fi("Activity");default:return""}}function es(e){try{var n="";do n+=go(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ch(e){var n=yo(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){e._valueTracker||(e._valueTracker=Ch(e))}function vo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=yo(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dh=/[\n"\\]/g;function Ie(e){return e.replace(Dh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wn(e,n,s,l,h,d,b,x){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+pn(n)):e.value!==""+pn(n)&&(e.value=""+pn(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?Ta(e,b,pn(n)):s!=null?Ta(e,b,pn(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+pn(x):e.removeAttribute("name")}function dr(e,n,s,l,h,d,b,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+pn(s):"",n=n!=null?""+pn(n):s,x||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function Ta(e,n,s){n==="number"&&fr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Gi(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+pn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function te(e,n,s){if(n!=null&&(n=""+pn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+pn(s):""}function pr(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ct(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=pn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function jn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||mr.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function _o(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Jl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Jl(e,d,n[d])}function bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(e){return Ih.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var $i=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,Yi=null;function xo(e){var n=pi(e);if(n&&(e=n.stateNode)){var s=e[Ne]||null;t:switch(e=n.stateNode,n.type){case"input":if(wn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ie(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ne]||null;if(!h)throw Error(r(90));wn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&vo(l)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Gi(e,!!s.multiple,n,!1)}}}var yi=!1;function tc(e,n,s){if(yi)return e(n,s);yi=!0;try{var l=e(n);return l}finally{if(yi=!1,(Qi!==null||Yi!==null)&&(Qc(),Qi&&(n=Qi,e=Yi,Yi=Qi=null,xo(n),e)))for(n=0;n<e.length;n++)xo(e[n])}}function gr(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ne]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(ei)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Un=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Un=!1}var vi=null,wa=null,Ki=null;function Eo(){if(Ki)return Ki;var e,n=wa,s=n.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var b=s-e;for(l=1;l<=b&&n[s-l]===h[d-l];l++);return Ki=h.slice(e,1<l?1-l:void 0)}function _i(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function To(){return!1}function He(e){function n(s,l,h,d,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bi:To,this.isPropagationStopped=To,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=He(Kt),vr=v({},Kt,{view:0,detail:0}),ec=He(vr),rs,ss,xi,_r=v({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(rs=e.screenX-xi.screenX,ss=e.screenY-xi.screenY):ss=rs=0,xi=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:ss}}),Ln=He(_r),nc=v({},_r,{dataTransfer:0}),Oh=He(nc),br=v({},vr,{relatedTarget:0}),os=He(br),wo=v({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=He(wo),ic=v({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cs=He(ic),Mh=v({},Kt,{data:0}),Ao=He(Mh),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=rc[e])?!!n[e]:!1}function Er(){return So}var sc=v({},vr,{key:function(e){if(e.key){var n=xr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ac[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),us=He(sc),oc=v({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=He(oc),Xi=v({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),lc=He(Xi),cc=v({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),uc=He(cc),hc=v({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hs=He(hc),mn=v({},Kt,{newState:0,oldState:0}),fc=He(mn),dc=[9,13,27,32],Ei=ei&&"CompositionEvent"in window,u=null;ei&&"documentMode"in document&&(u=document.documentMode);var g=ei&&"TextEvent"in window&&!u,_=ei&&(!Ei||u&&8<u&&11>=u),w=" ",q=!1;function X(e,n){switch(e){case"keyup":return dc.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qt=!1;function Ue(e,n){switch(e){case"compositionend":return ut(n);case"keypress":return n.which!==32?null:(q=!0,w);case"textInput":return e=n.data,e===w&&q?null:e;default:return null}}function Ht(e,n){if(qt)return e==="compositionend"||!Ei&&X(e,n)?(e=Eo(),Ki=wa=vi=null,qt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fe[e.type]:n==="textarea"}function Zi(e,n,s,l){Qi?Yi?Yi.push(l):Yi=[l]:Qi=l,n=Jc(n,"onChange"),0<n.length&&(s=new as("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ze=null,Ti=null;function Co(e){sv(e,0)}function pc(e){var n=mi(e);if(vo(n))return e}function Rm(e,n){if(e==="change")return n}var Cm=!1;if(ei){var Vh;if(ei){var kh="oninput"in document;if(!kh){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),kh=typeof Dm.oninput=="function"}Vh=kh}else Vh=!1;Cm=Vh&&(!document.documentMode||9<document.documentMode)}function Nm(){Ze&&(Ze.detachEvent("onpropertychange",Im),Ti=Ze=null)}function Im(e){if(e.propertyName==="value"&&pc(Ti)){var n=[];Zi(n,Ti,e,Pn(e)),tc(Co,n)}}function mE(e,n,s){e==="focusin"?(Nm(),Ze=n,Ti=s,Ze.attachEvent("onpropertychange",Im)):e==="focusout"&&Nm()}function gE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pc(Ti)}function yE(e,n){if(e==="click")return pc(n)}function vE(e,n){if(e==="input"||e==="change")return pc(n)}function _E(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:_E;function Do(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!fe.call(n,h)||!An(e[h],n[h]))return!1}return!0}function Om(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mm(e,n){var s=Om(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Om(s)}}function Vm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fr(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var bE=ei&&"documentMode"in document&&11>=document.documentMode,fs=null,Ph=null,No=null,Uh=!1;function jm(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uh||fs==null||fs!==fr(l)||(l=fs,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),No&&Do(No,l)||(No=l,l=Jc(Ph,"onSelect"),0<l.length&&(n=new as("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=fs)))}function Tr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ds={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Lh={},Pm={};ei&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function wr(e){if(Lh[e])return Lh[e];if(!ds[e])return e;var n=ds[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pm)return Lh[e]=n[s];return e}var Um=wr("animationend"),Lm=wr("animationiteration"),zm=wr("animationstart"),xE=wr("transitionrun"),EE=wr("transitionstart"),TE=wr("transitioncancel"),Bm=wr("transitionend"),qm=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ni(e,n){qm.set(e,n),ti(n,[e])}var Hm=new WeakMap;function zn(e,n){if(typeof e=="object"&&e!==null){var s=Hm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:es(n)},Hm.set(e,n),n)}return{value:e,source:n,stack:es(n)}}var Bn=[],ps=0,Bh=0;function mc(){for(var e=ps,n=Bh=ps=0;n<e;){var s=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var d=Bn[n];if(Bn[n++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}d!==0&&Fm(s,h,d)}}function gc(e,n,s,l){Bn[ps++]=e,Bn[ps++]=n,Bn[ps++]=s,Bn[ps++]=l,Bh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qh(e,n,s,l){return gc(e,n,s,l),yc(e)}function ms(e,n){return gc(e,null,null,n),yc(e)}function Fm(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-be(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function yc(e){if(50<el)throw el=0,Kf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gs={};function wE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,s,l){return new wE(e,n,s,l)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wi(e,n){var s=e.alternate;return s===null?(s=Sn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Gm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vc(e,n,s,l,h,d){var b=0;if(l=e,typeof e=="function")Hh(e)&&(b=1);else if(typeof e=="string")b=S1(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,s,n,h),e.elementType=C,e.lanes=d,e;case U:return Ar(s.children,h,d,n);case k:b=8,h|=24;break;case V:return e=Sn(12,s,n,h|2),e.elementType=V,e.lanes=d,e;case ht:return e=Sn(13,s,n,h),e.elementType=ht,e.lanes=d,e;case bt:return e=Sn(19,s,n,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:case K:b=10;break t;case Z:b=9;break t;case dt:b=11;break t;case P:b=14;break t;case R:b=16,l=null;break t}b=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Sn(b,s,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Ar(e,n,s,l){return e=Sn(7,e,l,n),e.lanes=s,e}function Fh(e,n,s){return e=Sn(6,e,null,n),e.lanes=s,e}function Gh(e,n,s){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ys=[],vs=0,_c=null,bc=0,qn=[],Hn=0,Sr=null,Ji=1,ta="";function Rr(e,n){ys[vs++]=bc,ys[vs++]=_c,_c=e,bc=n}function $m(e,n,s){qn[Hn++]=Ji,qn[Hn++]=ta,qn[Hn++]=Sr,Sr=e;var l=Ji;e=ta;var h=32-be(l)-1;l&=~(1<<h),s+=1;var d=32-be(n)+h;if(30<d){var b=h-h%5;d=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Ji=1<<32-be(n)+h|s<<h|l,ta=d+e}else Ji=1<<d|s<<h|l,ta=e}function $h(e){e.return!==null&&(Rr(e,1),$m(e,1,0))}function Qh(e){for(;e===_c;)_c=ys[--vs],ys[vs]=null,bc=ys[--vs],ys[vs]=null;for(;e===Sr;)Sr=qn[--Hn],qn[Hn]=null,ta=qn[--Hn],qn[Hn]=null,Ji=qn[--Hn],qn[Hn]=null}var gn=null,xe=null,Yt=!1,Cr=null,wi=!1,Yh=Error(r(519));function Dr(e){var n=Error(r(418,""));throw Mo(zn(n,e)),Yh}function Qm(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Pe]=e,n[Ne]=l,s){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(s=0;s<il.length;s++)Ut(il[s],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),dr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(n);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),pr(n,l.value,l.defaultValue,l.children),ns(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||uv(n.textContent,s)?(l.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),l.onScroll!=null&&Ut("scroll",n),l.onScrollEnd!=null&&Ut("scrollend",n),l.onClick!=null&&(n.onclick=tu),n=!0):n=!1,n||Dr(e)}function Ym(e){for(gn=e.return;gn;)switch(gn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:gn=gn.return}}function Io(e){if(e!==gn)return!1;if(!Yt)return Ym(e),Yt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||hd(e.type,e.memoizedProps)),s=!s),s&&xe&&Dr(e),Ym(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){xe=ai(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}xe=null}}else n===27?(n=xe,za(e.type)?(e=md,md=null,xe=e):xe=n):xe=gn?ai(e.stateNode.nextSibling):null;return!0}function Oo(){xe=gn=null,Yt=!1}function Km(){var e=Cr;return e!==null&&(En===null?En=e:En.push.apply(En,e),Cr=null),e}function Mo(e){Cr===null?Cr=[e]:Cr.push(e)}var Kh=J(null),Nr=null,ea=null;function Aa(e,n,s){G(Kh,n._currentValue),n._currentValue=s}function na(e){e._currentValue=Kh.current,ot(Kh)}function Xh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var b=h.child;d=d.firstContext;t:for(;d!==null;){var x=d;d=h;for(var N=0;N<n.length;N++)if(x.context===n[N]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),Xh(d.return,s,e),l||(b=null);break t}d=x.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=s,d=b.alternate,d!==null&&(d.lanes|=s),Xh(b,s,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Vo(e,n,s,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=h.type;An(h.pendingProps.value,b.value)||(e!==null?e.push(x):e=[x])}}else if(h===Bt.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Zh(n,e,s,l),n.flags|=262144}function xc(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Nr=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return Xm(Nr,e)}function Ec(e,n){return Nr===null&&Ir(e),Xm(e,n)}function Xm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ea===null){if(e===null)throw Error(r(308));ea=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ea=ea.next=n;return s}var AE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},SE=a.unstable_scheduleCallback,RE=a.unstable_NormalPriority,ze={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new AE,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&SE(RE,function(){e.controller.abort()})}var jo=null,Jh=0,_s=0,bs=null;function CE(e,n){if(jo===null){var s=jo=[];Jh=0,_s=nd(),bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jh++,n.then(Zm,Zm),n}function Zm(){if(--Jh===0&&jo!==null){bs!==null&&(bs.status="fulfilled");var e=jo;jo=null,_s=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function DE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Wm=W.S;W.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&CE(e,n),Wm!==null&&Wm(e,n)};var Or=J(null);function tf(){var e=Or.current;return e!==null?e:le.pooledCache}function Tc(e,n){n===null?G(Or,Or.current):G(Or,n.pool)}function Jm(){var e=tf();return e===null?null:{parent:ze._currentValue,pool:e}}var Po=Error(r(460)),tg=Error(r(474)),wc=Error(r(542)),ef={then:function(){}};function eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ac(){}function ng(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Ac,Ac),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e;default:if(typeof n.status=="string")n.then(Ac,Ac);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e}throw Uo=n,Po}}var Uo=null;function ig(){if(Uo===null)throw Error(r(459));var e=Uo;return Uo=null,e}function ag(e){if(e===Po||e===wc)throw Error(r(483))}var Sa=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=yc(e),Fm(e,null,s),n}return gc(e,l,n,s),yc(e)}function Lo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fo(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=b:d=d.next=b,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var sf=!1;function zo(){if(sf){var e=bs;if(e!==null)throw e}}function Bo(e,n,s,l){sf=!1;var h=e.updateQueue;Sa=!1;var d=h.firstBaseUpdate,b=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var N=x,F=N.next;N.next=null,b===null?d=F:b.next=F,b=N;var tt=e.alternate;tt!==null&&(tt=tt.updateQueue,x=tt.lastBaseUpdate,x!==b&&(x===null?tt.firstBaseUpdate=F:x.next=F,tt.lastBaseUpdate=N))}if(d!==null){var nt=h.baseState;b=0,tt=F=N=null,x=d;do{var $=x.lane&-536870913,Q=$!==x.lane;if(Q?(Ft&$)===$:(l&$)===$){$!==0&&$===_s&&(sf=!0),tt!==null&&(tt=tt.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Dt=e,At=x;$=n;var ie=s;switch(At.tag){case 1:if(Dt=At.payload,typeof Dt=="function"){nt=Dt.call(ie,nt,$);break t}nt=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=At.payload,$=typeof Dt=="function"?Dt.call(ie,nt,$):Dt,$==null)break t;nt=v({},nt,$);break t;case 2:Sa=!0}}$=x.callback,$!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[$]:Q.push($))}else Q={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},tt===null?(F=tt=Q,N=nt):tt=tt.next=Q,b|=$;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);tt===null&&(N=nt),h.baseState=N,h.firstBaseUpdate=F,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),ja|=b,e.lanes=b,e.memoizedState=nt}}function rg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function sg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)rg(s[e],n)}var xs=J(null),Sc=J(0);function og(e,n){e=ca,G(Sc,e),G(xs,n),ca=e|n.baseLanes}function of(){G(Sc,ca),G(xs,xs.current)}function lf(){ca=Sc.current,ot(xs),ot(Sc)}var Da=0,kt=null,ee=null,Oe=null,Rc=!1,Es=!1,Mr=!1,Cc=0,qo=0,Ts=null,NE=0;function Re(){throw Error(r(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function uf(e,n,s,l,h,d){return Da=d,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=e===null||e.memoizedState===null?Fg:Gg,Mr=!1,d=s(l,h),Mr=!1,Es&&(d=cg(n,s,l,h)),lg(e),d}function lg(e){W.H=Vc;var n=ee!==null&&ee.next!==null;if(Da=0,Oe=ee=kt=null,Rc=!1,qo=0,Ts=null,n)throw Error(r(300));e===null||Ge||(e=e.dependencies,e!==null&&xc(e)&&(Ge=!0))}function cg(e,n,s,l){kt=e;var h=0;do{if(Es&&(Ts=null),qo=0,Es=!1,25<=h)throw Error(r(301));if(h+=1,Oe=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=PE,d=n(s,l)}while(Es);return d}function IE(){var e=W.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(kt.flags|=1024),n}function hf(){var e=Cc!==0;return Cc=0,e}function ff(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function df(e){if(Rc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Rc=!1}Da=0,Oe=ee=kt=null,Es=!1,qo=Cc=0,Ts=null}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?kt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Me(){if(ee===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Oe===null?kt.memoizedState:Oe.next;if(n!==null)Oe=n,ee=e;else{if(e===null)throw kt.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Oe===null?kt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,Ts===null&&(Ts=[]),e=ng(Ts,e,n),n=kt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?Fg:Gg),e}function Dc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===K)return sn(e)}throw Error(r(438,String(e)))}function mf(e){var n=null,s=kt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=pf(),kt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function ia(e,n){return typeof n=="function"?n(e):n}function Nc(e){var n=Me();return gf(n,ee,e)}function gf(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var b=h.next;h.next=d.next,d.next=b}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var x=b=null,N=null,F=n,tt=!1;do{var nt=F.lane&-536870913;if(nt!==F.lane?(Ft&nt)===nt:(Da&nt)===nt){var $=F.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),nt===_s&&(tt=!0);else if((Da&$)===$){F=F.next,$===_s&&(tt=!0);continue}else nt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(x=N=nt,b=d):N=N.next=nt,kt.lanes|=$,ja|=$;nt=F.action,Mr&&s(d,nt),d=F.hasEagerState?F.eagerState:s(d,nt)}else $={lane:nt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(x=N=$,b=d):N=N.next=$,kt.lanes|=nt,ja|=nt;F=F.next}while(F!==null&&F!==n);if(N===null?b=d:N.next=x,!An(d,e.memoizedState)&&(Ge=!0,tt&&(s=bs,s!==null)))throw s;e.memoizedState=d,e.baseState=b,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yf(e){var n=Me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do d=e(d,b.action),b=b.next;while(b!==h);An(d,n.memoizedState)||(Ge=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function ug(e,n,s){var l=kt,h=Me(),d=Yt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var b=!An((ee||h).memoizedState,s);b&&(h.memoizedState=s,Ge=!0),h=h.queue;var x=dg.bind(null,l,h,e);if(Fo(2048,8,x,[e]),h.getSnapshot!==n||b||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,ws(9,Ic(),fg.bind(null,l,h,s,n),null),le===null)throw Error(r(349));d||(Da&124)!==0||hg(l,n,s)}return s}function hg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=kt.updateQueue,n===null?(n=pf(),kt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function fg(e,n,s,l){n.value=s,n.getSnapshot=l,pg(n)&&mg(e)}function dg(e,n,s){return s(function(){pg(n)&&mg(e)})}function pg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function mg(e){var n=ms(e,2);n!==null&&In(n,e,2)}function vf(e){var n=bn();if(typeof e=="function"){var s=e;if(e=s(),Mr){re(!0);try{s()}finally{re(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},n}function gg(e,n,s,l){return e.baseState=s,gf(e,ee,typeof l=="function"?l:ia)}function OE(e,n,s,l,h){if(Mc(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};W.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,yg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function yg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=W.T,b={};W.T=b;try{var x=s(h,l),N=W.S;N!==null&&N(b,x),vg(e,n,x)}catch(F){_f(e,n,F)}finally{W.T=d}}else try{d=s(h,l),vg(e,n,d)}catch(F){_f(e,n,F)}}function vg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){_g(e,n,l)},function(l){return _f(e,n,l)}):_g(e,n,s)}function _g(e,n,s){n.status="fulfilled",n.value=s,bg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,yg(e,s)))}function _f(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,bg(n),n=n.next;while(n!==l)}e.action=null}function bg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xg(e,n){return n}function Eg(e,n){if(Yt){var s=le.formState;if(s!==null){t:{var l=kt;if(Yt){if(xe){e:{for(var h=xe,d=wi;h.nodeType!==8;){if(!d){h=null;break e}if(h=ai(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xe=ai(h.nextSibling),l=h.data==="F!";break t}}Dr(l)}l=!1}l&&(n=s[0])}}return s=bn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},s.queue=l,s=Bg.bind(null,kt,l),l.dispatch=s,l=vf(!1),d=wf.bind(null,kt,!1,l.queue),l=bn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=OE.bind(null,kt,h,d,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Tg(e){var n=Me();return wg(n,ee,e)}function wg(e,n,s){if(n=gf(e,n,xg)[0],e=Nc(ia)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ho(n)}catch(b){throw b===Po?wc:b}else l=n;n=Me();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(kt.flags|=2048,ws(9,Ic(),ME.bind(null,h,s),null)),[l,d,e]}function ME(e,n){e.action=n}function Ag(e){var n=Me(),s=ee;if(s!==null)return wg(n,s,e);Me(),n=n.memoizedState,s=Me();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ws(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=kt.updateQueue,n===null&&(n=pf(),kt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Ic(){return{destroy:void 0,resource:void 0}}function Sg(){return Me().memoizedState}function Oc(e,n,s,l){var h=bn();l=l===void 0?null:l,kt.flags|=e,h.memoizedState=ws(1|n,Ic(),s,l)}function Fo(e,n,s,l){var h=Me();l=l===void 0?null:l;var d=h.memoizedState.inst;ee!==null&&l!==null&&cf(l,ee.memoizedState.deps)?h.memoizedState=ws(n,d,s,l):(kt.flags|=e,h.memoizedState=ws(1|n,d,s,l))}function Rg(e,n){Oc(8390656,8,e,n)}function Cg(e,n){Fo(2048,8,e,n)}function Dg(e,n){return Fo(4,2,e,n)}function Ng(e,n){return Fo(4,4,e,n)}function Ig(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Og(e,n,s){s=s!=null?s.concat([e]):null,Fo(4,4,Ig.bind(null,n,e),s)}function bf(){}function Mg(e,n){var s=Me();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Vg(e,n){var s=Me();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=e(),Mr){re(!0);try{e()}finally{re(!1)}}return s.memoizedState=[l,n],l}function xf(e,n,s){return s===void 0||(Da&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Py(),kt.lanes|=e,ja|=e,s)}function kg(e,n,s,l){return An(s,n)?s:xs.current!==null?(e=xf(e,s,l),An(e,n)||(Ge=!0),e):(Da&42)===0?(Ge=!0,e.memoizedState=s):(e=Py(),kt.lanes|=e,ja|=e,n)}function jg(e,n,s,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var b=W.T,x={};W.T=x,wf(e,!1,n,s);try{var N=h(),F=W.S;if(F!==null&&F(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var tt=DE(N,l);Go(e,n,tt,Nn(e))}else Go(e,n,l,Nn(e))}catch(nt){Go(e,n,{then:function(){},status:"rejected",reason:nt},Nn())}finally{st.p=d,W.T=b}}function VE(){}function Ef(e,n,s,l){if(e.tag!==5)throw Error(r(476));var h=Pg(e).queue;jg(e,h,n,lt,s===null?VE:function(){return Ug(e),s(l)})}function Pg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:lt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ug(e){var n=Pg(e).next.queue;Go(e,n,{},Nn())}function Tf(){return sn(cl)}function Lg(){return Me().memoizedState}function zg(){return Me().memoizedState}function kE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Nn();e=Ra(s);var l=Ca(n,e,s);l!==null&&(In(l,n,s),Lo(l,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function jE(e,n,s){var l=Nn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Mc(e)?qg(n,s):(s=qh(e,n,s,l),s!==null&&(In(s,e,l),Hg(s,n,l)))}function Bg(e,n,s){var l=Nn();Go(e,n,s,l)}function Go(e,n,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mc(e))qg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,x=d(b,s);if(h.hasEagerState=!0,h.eagerState=x,An(x,b))return gc(e,n,h,0),le===null&&mc(),!1}catch{}finally{}if(s=qh(e,n,h,l),s!==null)return In(s,e,l),Hg(s,n,l),!0}return!1}function wf(e,n,s,l){if(l={lane:2,revertLane:nd(),action:l,hasEagerState:!1,eagerState:null,next:null},Mc(e)){if(n)throw Error(r(479))}else n=qh(e,s,l,2),n!==null&&In(n,e,2)}function Mc(e){var n=e.alternate;return e===kt||n!==null&&n===kt}function qg(e,n){Es=Rc=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Hg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fo(e,s)}}var Vc={readContext:sn,use:Dc,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re},Fg={readContext:sn,use:Dc,useCallback:function(e,n){return bn().memoizedState=[e,n===void 0?null:n],e},useContext:sn,useEffect:Rg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Oc(4194308,4,Ig.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Oc(4194308,4,e,n)},useInsertionEffect:function(e,n){Oc(4,2,e,n)},useMemo:function(e,n){var s=bn();n=n===void 0?null:n;var l=e();if(Mr){re(!0);try{e()}finally{re(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=bn();if(s!==void 0){var h=s(n);if(Mr){re(!0);try{s(n)}finally{re(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=jE.bind(null,kt,e),[l.memoizedState,e]},useRef:function(e){var n=bn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Bg.bind(null,kt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=bn();return xf(s,e,n)},useTransition:function(){var e=vf(!1);return e=jg.bind(null,kt,e.queue,!0,!1),bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=kt,h=bn();if(Yt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),le===null)throw Error(r(349));(Ft&124)!==0||hg(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,Rg(dg.bind(null,l,d,e),[e]),l.flags|=2048,ws(9,Ic(),fg.bind(null,l,d,s,n),null),s},useId:function(){var e=bn(),n=le.identifierPrefix;if(Yt){var s=ta,l=Ji;s=(l&~(1<<32-be(l)-1)).toString(32)+s,n=""+n+"R"+s,s=Cc++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=NE++,n=""+n+"r"+s.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:Eg,useActionState:Eg,useOptimistic:function(e){var n=bn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,kt,!0,s),s.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return bn().memoizedState=kE.bind(null,kt)}},Gg={readContext:sn,use:Dc,useCallback:Mg,useContext:sn,useEffect:Cg,useImperativeHandle:Og,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:Vg,useReducer:Nc,useRef:Sg,useState:function(){return Nc(ia)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Me();return kg(s,ee.memoizedState,e,n)},useTransition:function(){var e=Nc(ia)[0],n=Me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:ug,useId:Lg,useHostTransitionStatus:Tf,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,n){var s=Me();return gg(s,ee,e,n)},useMemoCache:mf,useCacheRefresh:zg},PE={readContext:sn,use:Dc,useCallback:Mg,useContext:sn,useEffect:Cg,useImperativeHandle:Og,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:Vg,useReducer:yf,useRef:Sg,useState:function(){return yf(ia)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Me();return ee===null?xf(s,e,n):kg(s,ee.memoizedState,e,n)},useTransition:function(){var e=yf(ia)[0],n=Me().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:ug,useId:Lg,useHostTransitionStatus:Tf,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,n){var s=Me();return ee!==null?gg(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:zg},As=null,$o=0;function kc(e){var n=$o;return $o+=1,As===null&&(As=[]),ng(As,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function jc(e,n){throw n.$$typeof===T?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $g(e){var n=e._init;return n(e._payload)}function Qg(e){function n(B,L){if(e){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function s(B,L){if(!e)return null;for(;L!==null;)n(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=Wi(B,L),B.index=0,B.sibling=null,B}function d(B,L,H){return B.index=H,e?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function b(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function x(B,L,H,et){return L===null||L.tag!==6?(L=Fh(H,B.mode,et),L.return=B,L):(L=h(L,H),L.return=B,L)}function N(B,L,H,et){var _t=H.type;return _t===U?tt(B,L,H.props.children,et,H.key):L!==null&&(L.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&$g(_t)===L.type)?(L=h(L,H.props),Qo(L,H),L.return=B,L):(L=vc(H.type,H.key,H.props,null,B.mode,et),Qo(L,H),L.return=B,L)}function F(B,L,H,et){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Gh(H,B.mode,et),L.return=B,L):(L=h(L,H.children||[]),L.return=B,L)}function tt(B,L,H,et,_t){return L===null||L.tag!==7?(L=Ar(H,B.mode,et,_t),L.return=B,L):(L=h(L,H),L.return=B,L)}function nt(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Fh(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return H=vc(L.type,L.key,L.props,null,B.mode,H),Qo(H,L),H.return=B,H;case O:return L=Gh(L,B.mode,H),L.return=B,L;case R:var et=L._init;return L=et(L._payload),nt(B,L,H)}if(ct(L)||z(L))return L=Ar(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return nt(B,kc(L),H);if(L.$$typeof===K)return nt(B,Ec(B,L),H);jc(B,L)}return null}function $(B,L,H,et){var _t=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _t!==null?null:x(B,L,""+H,et);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===_t?N(B,L,H,et):null;case O:return H.key===_t?F(B,L,H,et):null;case R:return _t=H._init,H=_t(H._payload),$(B,L,H,et)}if(ct(H)||z(H))return _t!==null?null:tt(B,L,H,et,null);if(typeof H.then=="function")return $(B,L,kc(H),et);if(H.$$typeof===K)return $(B,L,Ec(B,H),et);jc(B,H)}return null}function Q(B,L,H,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(H)||null,x(L,B,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return B=B.get(et.key===null?H:et.key)||null,N(L,B,et,_t);case O:return B=B.get(et.key===null?H:et.key)||null,F(L,B,et,_t);case R:var jt=et._init;return et=jt(et._payload),Q(B,L,H,et,_t)}if(ct(et)||z(et))return B=B.get(H)||null,tt(L,B,et,_t,null);if(typeof et.then=="function")return Q(B,L,H,kc(et),_t);if(et.$$typeof===K)return Q(B,L,H,Ec(L,et),_t);jc(L,et)}return null}function Dt(B,L,H,et){for(var _t=null,jt=null,xt=L,St=L=0,Qe=null;xt!==null&&St<H.length;St++){xt.index>St?(Qe=xt,xt=null):Qe=xt.sibling;var Qt=$(B,xt,H[St],et);if(Qt===null){xt===null&&(xt=Qe);break}e&&xt&&Qt.alternate===null&&n(B,xt),L=d(Qt,L,St),jt===null?_t=Qt:jt.sibling=Qt,jt=Qt,xt=Qe}if(St===H.length)return s(B,xt),Yt&&Rr(B,St),_t;if(xt===null){for(;St<H.length;St++)xt=nt(B,H[St],et),xt!==null&&(L=d(xt,L,St),jt===null?_t=xt:jt.sibling=xt,jt=xt);return Yt&&Rr(B,St),_t}for(xt=l(xt);St<H.length;St++)Qe=Q(xt,B,St,H[St],et),Qe!==null&&(e&&Qe.alternate!==null&&xt.delete(Qe.key===null?St:Qe.key),L=d(Qe,L,St),jt===null?_t=Qe:jt.sibling=Qe,jt=Qe);return e&&xt.forEach(function(Ga){return n(B,Ga)}),Yt&&Rr(B,St),_t}function At(B,L,H,et){if(H==null)throw Error(r(151));for(var _t=null,jt=null,xt=L,St=L=0,Qe=null,Qt=H.next();xt!==null&&!Qt.done;St++,Qt=H.next()){xt.index>St?(Qe=xt,xt=null):Qe=xt.sibling;var Ga=$(B,xt,Qt.value,et);if(Ga===null){xt===null&&(xt=Qe);break}e&&xt&&Ga.alternate===null&&n(B,xt),L=d(Ga,L,St),jt===null?_t=Ga:jt.sibling=Ga,jt=Ga,xt=Qe}if(Qt.done)return s(B,xt),Yt&&Rr(B,St),_t;if(xt===null){for(;!Qt.done;St++,Qt=H.next())Qt=nt(B,Qt.value,et),Qt!==null&&(L=d(Qt,L,St),jt===null?_t=Qt:jt.sibling=Qt,jt=Qt);return Yt&&Rr(B,St),_t}for(xt=l(xt);!Qt.done;St++,Qt=H.next())Qt=Q(xt,B,St,Qt.value,et),Qt!==null&&(e&&Qt.alternate!==null&&xt.delete(Qt.key===null?St:Qt.key),L=d(Qt,L,St),jt===null?_t=Qt:jt.sibling=Qt,jt=Qt);return e&&xt.forEach(function(U1){return n(B,U1)}),Yt&&Rr(B,St),_t}function ie(B,L,H,et){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:t:{for(var _t=H.key;L!==null;){if(L.key===_t){if(_t=H.type,_t===U){if(L.tag===7){s(B,L.sibling),et=h(L,H.props.children),et.return=B,B=et;break t}}else if(L.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&$g(_t)===L.type){s(B,L.sibling),et=h(L,H.props),Qo(et,H),et.return=B,B=et;break t}s(B,L);break}else n(B,L);L=L.sibling}H.type===U?(et=Ar(H.props.children,B.mode,et,H.key),et.return=B,B=et):(et=vc(H.type,H.key,H.props,null,B.mode,et),Qo(et,H),et.return=B,B=et)}return b(B);case O:t:{for(_t=H.key;L!==null;){if(L.key===_t)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){s(B,L.sibling),et=h(L,H.children||[]),et.return=B,B=et;break t}else{s(B,L);break}else n(B,L);L=L.sibling}et=Gh(H,B.mode,et),et.return=B,B=et}return b(B);case R:return _t=H._init,H=_t(H._payload),ie(B,L,H,et)}if(ct(H))return Dt(B,L,H,et);if(z(H)){if(_t=z(H),typeof _t!="function")throw Error(r(150));return H=_t.call(H),At(B,L,H,et)}if(typeof H.then=="function")return ie(B,L,kc(H),et);if(H.$$typeof===K)return ie(B,L,Ec(B,H),et);jc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(s(B,L.sibling),et=h(L,H),et.return=B,B=et):(s(B,L),et=Fh(H,B.mode,et),et.return=B,B=et),b(B)):s(B,L)}return function(B,L,H,et){try{$o=0;var _t=ie(B,L,H,et);return As=null,_t}catch(xt){if(xt===Po||xt===wc)throw xt;var jt=Sn(29,xt,null,B.mode);return jt.lanes=et,jt.return=B,jt}finally{}}}var Ss=Qg(!0),Yg=Qg(!1),Fn=J(null),Ai=null;function Na(e){var n=e.alternate;G(Be,Be.current&1),G(Fn,e),Ai===null&&(n===null||xs.current!==null||n.memoizedState!==null)&&(Ai=e)}function Kg(e){if(e.tag===22){if(G(Be,Be.current),G(Fn,e),Ai===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ai=e)}}else Ia()}function Ia(){G(Be,Be.current),G(Fn,Fn.current)}function aa(e){ot(Fn),Ai===e&&(Ai=null),ot(Be)}var Be=J(0);function Pc(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||pd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Af(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:v({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Sf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Nn(),h=Ra(l);h.payload=n,s!=null&&(h.callback=s),n=Ca(e,h,l),n!==null&&(In(n,e,l),Lo(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Nn(),h=Ra(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ca(e,h,l),n!==null&&(In(n,e,l),Lo(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Nn(),l=Ra(s);l.tag=2,n!=null&&(l.callback=n),n=Ca(e,l,s),n!==null&&(In(n,e,s),Lo(n,e,s))}};function Xg(e,n,s,l,h,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!Do(s,l)||!Do(h,d):!0}function Zg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Sf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=v({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Uc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Wg(e){Uc(e)}function Jg(e){console.error(e)}function ty(e){Uc(e)}function Lc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ey(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,s){return s=Ra(s),s.tag=3,s.payload={element:null},s.callback=function(){Lc(e,n)},s}function ny(e){return e=Ra(e),e.tag=3,e}function iy(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){ey(n,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){ey(n,s,l),typeof h!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function UE(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Vo(n,s,h,!0),s=Fn.current,s!==null){switch(s.tag){case 13:return Ai===null?Zf():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ef?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Jf(e,l,h)),!1;case 22:return s.flags|=65536,l===ef?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Jf(e,l,h)),!1}throw Error(r(435,s.tag))}return Jf(e,l,h),Zf(),!1}if(Yt)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(e=Error(r(422),{cause:l}),Mo(zn(e,s)))):(l!==Yh&&(n=Error(r(423),{cause:l}),Mo(zn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=zn(l,s),h=Rf(e.stateNode,l,h),rf(e,h),Ee!==4&&(Ee=2)),!1;var d=Error(r(520),{cause:l});if(d=zn(d,s),tl===null?tl=[d]:tl.push(d),Ee!==4&&(Ee=2),n===null)return!0;l=zn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Rf(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pa===null||!Pa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ny(h),iy(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var ay=Error(r(461)),Ge=!1;function We(e,n,s,l){n.child=e===null?Yg(n,null,s,l):Ss(n,e.child,s,l)}function ry(e,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var b={};for(var x in l)x!=="ref"&&(b[x]=l[x])}else b=l;return Ir(n),l=uf(e,n,s,b,d,h),x=hf(),e!==null&&!Ge?(ff(e,n,h),ra(e,n,h)):(Yt&&x&&$h(n),n.flags|=1,We(e,n,l,h),n.child)}function sy(e,n,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!Hh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,oy(e,n,d,l,h)):(e=vc(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!kf(e,h)){var b=d.memoizedProps;if(s=s.compare,s=s!==null?s:Do,s(b,l)&&e.ref===n.ref)return ra(e,n,h)}return n.flags|=1,e=Wi(d,l),e.ref=n.ref,e.return=n,n.child=e}function oy(e,n,s,l,h){if(e!==null){var d=e.memoizedProps;if(Do(d,l)&&e.ref===n.ref)if(Ge=!1,n.pendingProps=l=d,kf(e,h))(e.flags&131072)!==0&&(Ge=!0);else return n.lanes=e.lanes,ra(e,n,h)}return Cf(e,n,s,l,h)}function ly(e,n,s){var l=n.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return cy(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tc(n,d!==null?d.cachePool:null),d!==null?og(n,d):of(),Kg(n);else return n.lanes=n.childLanes=536870912,cy(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(Tc(n,d.cachePool),og(n,d),Ia(),n.memoizedState=null):(e!==null&&Tc(n,null),of(),Ia());return We(e,n,h,s),n.child}function cy(e,n,s,l){var h=tf();return h=h===null?null:{parent:ze._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&Tc(n,null),of(),Kg(n),e!==null&&Vo(e,n,l,!0),null}function zc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Cf(e,n,s,l,h){return Ir(n),s=uf(e,n,s,l,void 0,h),l=hf(),e!==null&&!Ge?(ff(e,n,h),ra(e,n,h)):(Yt&&l&&$h(n),n.flags|=1,We(e,n,s,h),n.child)}function uy(e,n,s,l,h,d){return Ir(n),n.updateQueue=null,s=cg(n,l,s,h),lg(e),l=hf(),e!==null&&!Ge?(ff(e,n,d),ra(e,n,d)):(Yt&&l&&$h(n),n.flags|=1,We(e,n,s,d),n.child)}function hy(e,n,s,l,h){if(Ir(n),n.stateNode===null){var d=gs,b=s.contextType;typeof b=="object"&&b!==null&&(d=sn(b)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},nf(n),b=s.contextType,d.context=typeof b=="object"&&b!==null?sn(b):gs,d.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Af(n,s,b,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Sf.enqueueReplaceState(d,d.state,null),Bo(n,l,d,h),zo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var x=n.memoizedProps,N=Vr(s,x);d.props=N;var F=d.context,tt=s.contextType;b=gs,typeof tt=="object"&&tt!==null&&(b=sn(tt));var nt=s.getDerivedStateFromProps;tt=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||F!==b)&&Zg(n,d,l,b),Sa=!1;var $=n.memoizedState;d.state=$,Bo(n,l,d,h),zo(),F=n.memoizedState,x||$!==F||Sa?(typeof nt=="function"&&(Af(n,s,nt,l),F=n.memoizedState),(N=Sa||Xg(n,s,N,l,$,F,b))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=b,l=N):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,af(e,n),b=n.memoizedProps,tt=Vr(s,b),d.props=tt,nt=n.pendingProps,$=d.context,F=s.contextType,N=gs,typeof F=="object"&&F!==null&&(N=sn(F)),x=s.getDerivedStateFromProps,(F=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==nt||$!==N)&&Zg(n,d,l,N),Sa=!1,$=n.memoizedState,d.state=$,Bo(n,l,d,h),zo();var Q=n.memoizedState;b!==nt||$!==Q||Sa||e!==null&&e.dependencies!==null&&xc(e.dependencies)?(typeof x=="function"&&(Af(n,s,x,l),Q=n.memoizedState),(tt=Sa||Xg(n,s,tt,l,$,Q,N)||e!==null&&e.dependencies!==null&&xc(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=tt):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,zc(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ss(n,e.child,null,h),n.child=Ss(n,null,s,h)):We(e,n,s,h),n.memoizedState=d.state,e=n.child):e=ra(e,n,h),e}function fy(e,n,s,l){return Oo(),n.flags|=256,We(e,n,s,l),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:Jm()}}function If(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Gn),e}function dy(e,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Yt){if(h?Na(n):Ia(),Yt){var x=xe,N;if(N=x){t:{for(N=x,x=wi;N.nodeType!==8;){if(!x){x=null;break t}if(N=ai(N.nextSibling),N===null){x=null;break t}}x=N}x!==null?(n.memoizedState={dehydrated:x,treeContext:Sr!==null?{id:Ji,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},N=Sn(18,null,null,0),N.stateNode=x,N.return=n,n.child=N,gn=n,xe=null,N=!0):N=!1}N||Dr(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return pd(x)?n.lanes=32:n.lanes=536870912,null;aa(n)}return x=l.children,l=l.fallback,h?(Ia(),h=n.mode,x=Bc({mode:"hidden",children:x},h),l=Ar(l,h,s,null),x.return=n,l.return=n,x.sibling=l,n.child=x,h=n.child,h.memoizedState=Nf(s),h.childLanes=If(e,b,s),n.memoizedState=Df,l):(Na(n),Of(n,x))}if(N=e.memoizedState,N!==null&&(x=N.dehydrated,x!==null)){if(d)n.flags&256?(Na(n),n.flags&=-257,n=Mf(e,n,s)):n.memoizedState!==null?(Ia(),n.child=e.child,n.flags|=128,n=null):(Ia(),h=l.fallback,x=n.mode,l=Bc({mode:"visible",children:l.children},x),h=Ar(h,x,s,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Ss(n,e.child,null,s),l=n.child,l.memoizedState=Nf(s),l.childLanes=If(e,b,s),n.memoizedState=Df,n=h);else if(Na(n),pd(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(r(419)),l.stack="",l.digest=b,Mo({value:l,source:null,stack:null}),n=Mf(e,n,s)}else if(Ge||Vo(e,n,s,!1),b=(s&e.childLanes)!==0,Ge||b){if(b=le,b!==null&&(l=s&-s,l=(l&42)!==0?1:va(l),l=(l&(b.suspendedLanes|s))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,ms(e,l),In(b,e,l),ay;x.data==="$?"||Zf(),n=Mf(e,n,s)}else x.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,xe=ai(x.nextSibling),gn=n,Yt=!0,Cr=null,wi=!1,e!==null&&(qn[Hn++]=Ji,qn[Hn++]=ta,qn[Hn++]=Sr,Ji=e.id,ta=e.overflow,Sr=n),n=Of(n,l.children),n.flags|=4096);return n}return h?(Ia(),h=l.fallback,x=n.mode,N=e.child,F=N.sibling,l=Wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?h=Wi(F,h):(h=Ar(h,x,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,x=e.child.memoizedState,x===null?x=Nf(s):(N=x.cachePool,N!==null?(F=ze._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=Jm(),x={baseLanes:x.baseLanes|s,cachePool:N}),h.memoizedState=x,h.childLanes=If(e,b,s),n.memoizedState=Df,l):(Na(n),s=e.child,e=s.sibling,s=Wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Bc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bc(e,n){return e=Sn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mf(e,n,s){return Ss(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function py(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Xh(e.return,n,s)}function Vf(e,n,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function my(e,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(We(e,n,l.children,s),l=Be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,s,n);else if(e.tag===19)py(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(G(Be,l),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Pc(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Vf(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pc(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Vf(n,!0,s,null,d);break;case"together":Vf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ra(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ja|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Vo(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Wi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Wi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xc(e)))}function LE(e,n,s){switch(n.tag){case 3:Mt(n,n.stateNode.containerInfo),Aa(n,ze,e.memoizedState.cache),Oo();break;case 27:case 5:Zt(n);break;case 4:Mt(n,n.stateNode.containerInfo);break;case 10:Aa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Na(n),n.flags|=128,null):(s&n.child.childLanes)!==0?dy(e,n,s):(Na(n),e=ra(e,n,s),e!==null?e.sibling:null);Na(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Vo(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return my(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(Be,Be.current),l)break;return null;case 22:case 23:return n.lanes=0,ly(e,n,s);case 24:Aa(n,ze,e.memoizedState.cache)}return ra(e,n,s)}function gy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ge=!0;else{if(!kf(e,s)&&(n.flags&128)===0)return Ge=!1,LE(e,n,s);Ge=(e.flags&131072)!==0}else Ge=!1,Yt&&(n.flags&1048576)!==0&&$m(n,bc,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Hh(l)?(e=Vr(l,e),n.tag=1,n=hy(null,n,l,e,s)):(n.tag=0,n=Cf(null,n,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===dt){n.tag=11,n=ry(null,n,l,e,s);break t}else if(h===P){n.tag=14,n=sy(null,n,l,e,s);break t}}throw n=ft(l)||l,Error(r(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Vr(l,n.pendingProps),hy(e,n,l,h,s);case 3:t:{if(Mt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,af(e,n),Bo(n,l,null,s);var b=n.memoizedState;if(l=b.cache,Aa(n,ze,l),l!==d.cache&&Zh(n,[ze],s,!0),zo(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=fy(e,n,l,s);break t}else if(l!==h){h=zn(Error(r(424)),n),Mo(h),n=fy(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xe=ai(e.firstChild),gn=n,Yt=!0,Cr=null,wi=!0,s=Yg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oo(),l===h){n=ra(e,n,s);break t}We(e,n,l,s)}n=n.child}return n;case 26:return zc(e,n),e===null?(s=bv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Yt||(s=n.type,e=n.pendingProps,l=eu(vt.current).createElement(s),l[Pe]=n,l[Ne]=e,tn(l,s,e),Se(l),n.stateNode=l):n.memoizedState=bv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zt(n),e===null&&Yt&&(l=n.stateNode=yv(n.type,n.pendingProps,vt.current),gn=n,wi=!0,h=xe,za(n.type)?(md=h,xe=ai(l.firstChild)):xe=h),We(e,n,n.pendingProps.children,s),zc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Yt&&((h=l=xe)&&(l=d1(l,n.type,n.pendingProps,wi),l!==null?(n.stateNode=l,gn=n,xe=ai(l.firstChild),wi=!1,h=!0):h=!1),h||Dr(n)),Zt(n),h=n.type,d=n.pendingProps,b=e!==null?e.memoizedProps:null,l=d.children,hd(h,d)?l=null:b!==null&&hd(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,IE,null,null,s),cl._currentValue=h),zc(e,n),We(e,n,l,s),n.child;case 6:return e===null&&Yt&&((e=s=xe)&&(s=p1(s,n.pendingProps,wi),s!==null?(n.stateNode=s,gn=n,xe=null,e=!0):e=!1),e||Dr(n)),null;case 13:return dy(e,n,s);case 4:return Mt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ss(n,null,l,s):We(e,n,l,s),n.child;case 11:return ry(e,n,n.type,n.pendingProps,s);case 7:return We(e,n,n.pendingProps,s),n.child;case 8:return We(e,n,n.pendingProps.children,s),n.child;case 12:return We(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Aa(n,n.type,l.value),We(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=sn(h),l=l(h),n.flags|=1,We(e,n,l,s),n.child;case 14:return sy(e,n,n.type,n.pendingProps,s);case 15:return oy(e,n,n.type,n.pendingProps,s);case 19:return my(e,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},e===null?(s=Bc(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Wi(e.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return ly(e,n,s);case 24:return Ir(n),l=sn(ze),e===null?(h=tf(),h===null&&(h=le,d=Wh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},nf(n),Aa(n,ze,h)):((e.lanes&s)!==0&&(af(e,n),Bo(n,null,null,s),zo()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Aa(n,ze,l)):(l=d.cache,Aa(n,ze,l),l!==h.cache&&Zh(n,[ze],s,!0))),We(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function sa(e){e.flags|=4}function yy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Av(n)){if(n=Fn.current,n!==null&&((Ft&4194048)===Ft?Ai!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||n!==Ai))throw Uo=ef,tg;e.flags|=8192}}function qc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uo():536870912,e.lanes|=n,Ns|=n)}function Yo(e,n){if(!Yt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function zE(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(n),null;case 1:return ye(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),na(ze),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Io(n)?sa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Km())),ye(n),null;case 26:return s=n.memoizedState,e===null?(sa(n),s!==null?(ye(n),yy(n,s)):(ye(n),n.flags&=-16777217)):s?s!==e.memoizedState?(sa(n),ye(n),yy(n,s)):(ye(n),n.flags&=-16777217):(e.memoizedProps!==l&&sa(n),ye(n),n.flags&=-16777217),null;case 27:ue(n),s=vt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ye(n),null}e=rt.current,Io(n)?Qm(n):(e=yv(h,l,s),n.stateNode=e,sa(n))}return ye(n),null;case 5:if(ue(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ye(n),null}if(e=rt.current,Io(n))Qm(n);else{switch(h=eu(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[Pe]=n,e[Ne]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(tn(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&sa(n)}}return ye(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=vt.current,Io(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=gn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Pe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||uv(e.nodeValue,s)),e||Dr(n)}else e=eu(e).createTextNode(l),e[Pe]=n,n.stateNode=e}return ye(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Io(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Pe]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ye(n),h=!1}else h=Km(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(aa(n),n):(aa(n),null)}if(aa(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),qc(n,n.updateQueue),ye(n),null;case 4:return ae(),e===null&&sd(n.stateNode.containerInfo),ye(n),null;case 10:return na(n.type),ye(n),null;case 19:if(ot(Be),h=n.memoizedState,h===null)return ye(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Yo(h,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Pc(e),d!==null){for(n.flags|=128,Yo(h,!1),e=d.updateQueue,n.updateQueue=e,qc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Gm(s,e),s=s.sibling;return G(Be,Be.current&1|2),n.child}e=e.sibling}h.tail!==null&&ge()>Gc&&(n.flags|=128,l=!0,Yo(h,!1),n.lanes=4194304)}else{if(!l)if(e=Pc(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,qc(n,e),Yo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Yt)return ye(n),null}else 2*ge()-h.renderingStartTime>Gc&&s!==536870912&&(n.flags|=128,l=!0,Yo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=ge(),n.sibling=null,e=Be.current,G(Be,l?e&1|2:e&1),n):(ye(n),null);case 22:case 23:return aa(n),lf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ye(n),n.subtreeFlags&6&&(n.flags|=8192)):ye(n),s=n.updateQueue,s!==null&&qc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&ot(Or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),na(ze),ye(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function BE(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return na(ze),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ue(n),null;case 13:if(aa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Oo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ot(Be),null;case 4:return ae(),null;case 10:return na(n.type),null;case 22:case 23:return aa(n),lf(),e!==null&&ot(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return na(ze),null;case 25:return null;default:return null}}function vy(e,n){switch(Qh(n),n.tag){case 3:na(ze),ae();break;case 26:case 27:case 5:ue(n);break;case 4:ae();break;case 13:aa(n);break;case 19:ot(Be);break;case 10:na(n.type);break;case 22:case 23:aa(n),lf(),e!==null&&ot(Or);break;case 24:na(ze)}}function Ko(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,b=s.inst;l=d(),b.destroy=l}s=s.next}while(s!==h)}}catch(x){se(n,n.return,x)}}function Oa(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var b=l.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,h=n;var N=s,F=x;try{F()}catch(tt){se(h,N,tt)}}}l=l.next}while(l!==d)}}catch(tt){se(n,n.return,tt)}}function _y(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{sg(n,s)}catch(l){se(e,e.return,l)}}}function by(e,n,s){s.props=Vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){se(e,n,l)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){se(e,n,h)}}function Si(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){se(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){se(e,n,h)}else s.current=null}function xy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){se(e,e.return,h)}}function jf(e,n,s){try{var l=e.stateNode;l1(l,e.type,s,n),l[Ne]=n}catch(h){se(e,e.return,h)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&za(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&za(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=tu));else if(l!==4&&(l===27&&za(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,s),e=e.sibling;e!==null;)Uf(e,n,s),e=e.sibling}function Hc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&za(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hc(e,n,s),e=e.sibling;e!==null;)Hc(e,n,s),e=e.sibling}function Ty(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,l,s),n[Pe]=e,n[Ne]=s}catch(d){se(e,e.return,d)}}var oa=!1,Ce=!1,Lf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,$e=null;function qE(e,n){if(e=e.containerInfo,cd=ou,e=km(e),jh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var b=0,x=-1,N=-1,F=0,tt=0,nt=e,$=null;e:for(;;){for(var Q;nt!==s||h!==0&&nt.nodeType!==3||(x=b+h),nt!==d||l!==0&&nt.nodeType!==3||(N=b+l),nt.nodeType===3&&(b+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)$=nt,nt=Q;for(;;){if(nt===e)break e;if($===s&&++F===h&&(x=b),$===d&&++tt===l&&(N=b),(Q=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=Q}s=x===-1||N===-1?null:{start:x,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(ud={focusedElem:e,selectionRange:s},ou=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Dt=Vr(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(Dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){se(s,s.return,At)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function Ay(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ma(e,s),l&4&&Ko(5,s);break;case 1:if(Ma(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(b){se(s,s.return,b)}else{var h=Vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){se(s,s.return,b)}}l&64&&_y(s),l&512&&Xo(s,s.return);break;case 3:if(Ma(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{sg(e,n)}catch(b){se(s,s.return,b)}}break;case 27:n===null&&l&4&&Ty(s);case 26:case 5:Ma(e,s),n===null&&l&4&&xy(s),l&512&&Xo(s,s.return);break;case 12:Ma(e,s);break;case 13:Ma(e,s),l&4&&Cy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ZE.bind(null,s),m1(e,s))));break;case 22:if(l=s.memoizedState!==null||oa,!l){n=n!==null&&n.memoizedState!==null||Ce,h=oa;var d=Ce;oa=l,(Ce=n)&&!d?Va(e,s,(s.subtreeFlags&8772)!==0):Ma(e,s),oa=h,Ce=d}break;case 30:break;default:Ma(e,s)}}function Sy(e){var n=e.alternate;n!==null&&(e.alternate=null,Sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&xa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,xn=!1;function la(e,n,s){for(s=s.child;s!==null;)Ry(e,n,s),s=s.sibling}function Ry(e,n,s){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Ot,s)}catch{}switch(s.tag){case 26:Ce||Si(s,n),la(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||Si(s,n);var l=pe,h=xn;za(s.type)&&(pe=s.stateNode,xn=!1),la(e,n,s),rl(s.stateNode),pe=l,xn=h;break;case 5:Ce||Si(s,n);case 6:if(l=pe,h=xn,pe=null,la(e,n,s),pe=l,xn=h,pe!==null)if(xn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(d){se(s,n,d)}else try{pe.removeChild(s.stateNode)}catch(d){se(s,n,d)}break;case 18:pe!==null&&(xn?(e=pe,mv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),dl(e)):mv(pe,s.stateNode));break;case 4:l=pe,h=xn,pe=s.stateNode.containerInfo,xn=!0,la(e,n,s),pe=l,xn=h;break;case 0:case 11:case 14:case 15:Ce||Oa(2,s,n),Ce||Oa(4,s,n),la(e,n,s);break;case 1:Ce||(Si(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&by(s,n,l)),la(e,n,s);break;case 21:la(e,n,s);break;case 22:Ce=(l=Ce)||s.memoizedState!==null,la(e,n,s),Ce=l;break;default:la(e,n,s)}}function Cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(s){se(n,n.return,s)}}function HE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wy),n;default:throw Error(r(435,e.tag))}}function zf(e,n){var s=HE(e);n.forEach(function(l){var h=WE.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function Rn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,b=n,x=b;t:for(;x!==null;){switch(x.tag){case 27:if(za(x.type)){pe=x.stateNode,xn=!1;break t}break;case 5:pe=x.stateNode,xn=!1;break t;case 3:case 4:pe=x.stateNode.containerInfo,xn=!0;break t}x=x.return}if(pe===null)throw Error(r(160));Ry(d,b,h),pe=null,xn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dy(n,e),n=n.sibling}var ii=null;function Dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(n,e),Cn(e),l&4&&(Oa(3,e,e.return),Ko(3,e),Oa(5,e,e.return));break;case 1:Rn(n,e),Cn(e),l&512&&(Ce||s===null||Si(s,s.return)),l&64&&oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ii;if(Rn(n,e),Cn(e),l&512&&(Ce||s===null||Si(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cr]||d[Pe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,s),d[Pe]=e,Se(d),l=d;break t;case"link":var b=Tv("link","href",h).get(l+(s.href||""));if(b){for(var x=0;x<b.length;x++)if(d=b[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(x,1);break e}}d=h.createElement(l),tn(d,l,s),h.head.appendChild(d);break;case"meta":if(b=Tv("meta","content",h).get(l+(s.content||""))){for(x=0;x<b.length;x++)if(d=b[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(x,1);break e}}d=h.createElement(l),tn(d,l,s),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Pe]=e,Se(d),l=d}e.stateNode=l}else wv(h,e.type,e.stateNode);else e.stateNode=Ev(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?wv(h,e.type,e.stateNode):Ev(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:Rn(n,e),Cn(e),l&512&&(Ce||s===null||Si(s,s.return)),s!==null&&l&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Rn(n,e),Cn(e),l&512&&(Ce||s===null||Si(s,s.return)),e.flags&32){h=e.stateNode;try{jn(h,"")}catch(Q){se(e,e.return,Q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Lf=!0);break;case 6:if(Rn(n,e),Cn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Q){se(e,e.return,Q)}}break;case 3:if(au=null,h=ii,ii=nu(n.containerInfo),Rn(n,e),ii=h,Cn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{dl(n.containerInfo)}catch(Q){se(e,e.return,Q)}Lf&&(Lf=!1,Ny(e));break;case 4:l=ii,ii=nu(e.stateNode.containerInfo),Rn(n,e),Cn(e),ii=l;break;case 12:Rn(n,e),Cn(e);break;case 13:Rn(n,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($f=ge()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zf(e,l)));break;case 22:h=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,F=oa,tt=Ce;if(oa=F||h,Ce=tt||N,Rn(n,e),Ce=tt,oa=F,Cn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||N||oa||Ce||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(d=N.stateNode,h)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=N.stateNode;var nt=N.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){se(N,N.return,Q)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(Q){se(N,N.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,zf(e,s))));break;case 19:Rn(n,e),Cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zf(e,l)));break;case 30:break;case 21:break;default:Rn(n,e),Cn(e)}}function Cn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Ey(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=Pf(e);Hc(e,d,h);break;case 5:var b=s.stateNode;s.flags&32&&(jn(b,""),s.flags&=-33);var x=Pf(e);Hc(e,x,b);break;case 3:case 4:var N=s.stateNode.containerInfo,F=Pf(e);Uf(e,F,N);break;default:throw Error(r(161))}}catch(tt){se(e,e.return,tt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ma(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Oa(4,n,n.return),kr(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&by(n,n.return,s),kr(n);break;case 27:rl(n.stateNode);case 26:case 5:Si(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Va(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Va(h,d,s),Ko(4,d);break;case 1:if(Va(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){se(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)rg(N[h],x)}catch(F){se(l,l.return,F)}}s&&b&64&&_y(d),Xo(d,d.return);break;case 27:Ty(d);case 26:case 5:Va(h,d,s),s&&l===null&&b&4&&xy(d),Xo(d,d.return);break;case 12:Va(h,d,s);break;case 13:Va(h,d,s),s&&b&4&&Cy(h,d);break;case 22:d.memoizedState===null&&Va(h,d,s),Xo(d,d.return);break;case 30:break;default:Va(h,d,s)}n=n.sibling}}function Bf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ko(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function Ri(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(e,n,s,l),n=n.sibling}function Iy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ri(e,n,s,l),h&2048&&Ko(9,n);break;case 1:Ri(e,n,s,l);break;case 3:Ri(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){Ri(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,b=d.id,x=d.onPostCommit;typeof x=="function"&&x(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){se(n,n.return,N)}}else Ri(e,n,s,l);break;case 13:Ri(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Ri(e,n,s,l):Zo(e,n):d._visibility&2?Ri(e,n,s,l):(d._visibility|=2,Rs(e,n,s,l,(n.subtreeFlags&10256)!==0)),h&2048&&Bf(b,n);break;case 24:Ri(e,n,s,l),h&2048&&qf(n.alternate,n);break;default:Ri(e,n,s,l)}}function Rs(e,n,s,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,b=n,x=s,N=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:Rs(d,b,x,N,h),Ko(8,b);break;case 23:break;case 22:var tt=b.stateNode;b.memoizedState!==null?tt._visibility&2?Rs(d,b,x,N,h):Zo(d,b):(tt._visibility|=2,Rs(d,b,x,N,h)),h&&F&2048&&Bf(b.alternate,b);break;case 24:Rs(d,b,x,N,h),h&&F&2048&&qf(b.alternate,b);break;default:Rs(d,b,x,N,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Zo(s,l),h&2048&&Bf(l.alternate,l);break;case 24:Zo(s,l),h&2048&&qf(l.alternate,l);break;default:Zo(s,l)}n=n.sibling}}var Wo=8192;function Cs(e){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 26:Cs(e),e.flags&Wo&&e.memoizedState!==null&&C1(ii,e.memoizedState,e.memoizedProps);break;case 5:Cs(e);break;case 3:case 4:var n=ii;ii=nu(e.stateNode.containerInfo),Cs(e),ii=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Wo,Wo=16777216,Cs(e),Wo=n):Cs(e));break;default:Cs(e)}}function My(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];$e=l,ky(l,e)}My(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vy(e),e=e.sibling}function Vy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Oa(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fc(e)):Jo(e);break;default:Jo(e)}}function Fc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];$e=l,ky(l,e)}My(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Oa(8,n,n.return),Fc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fc(n));break;default:Fc(n)}e=e.sibling}}function ky(e,n){for(;$e!==null;){var s=$e;switch(s.tag){case 0:case 11:case 15:Oa(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ko(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,$e=l;else t:for(s=e;$e!==null;){l=$e;var h=l.sibling,d=l.return;if(Sy(l),l===s){$e=null;break t}if(h!==null){h.return=d,$e=h;break t}$e=d}}}var FE={getCacheForType:function(e){var n=sn(ze),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},GE=typeof WeakMap=="function"?WeakMap:Map,Wt=0,le=null,Pt=null,Ft=0,Jt=0,Dn=null,ka=!1,Ds=!1,Hf=!1,ca=0,Ee=0,ja=0,jr=0,Ff=0,Gn=0,Ns=0,tl=null,En=null,Gf=!1,$f=0,Gc=1/0,$c=null,Pa=null,Je=0,Ua=null,Is=null,Os=0,Qf=0,Yf=null,jy=null,el=0,Kf=null;function Nn(){if((Wt&2)!==0&&Ft!==0)return Ft&-Ft;if(W.T!==null){var e=_s;return e!==0?e:nd()}return _a()}function Py(){Gn===0&&(Gn=(Ft&536870912)===0||Yt?lr():536870912);var e=Fn.current;return e!==null&&(e.flags|=32),Gn}function In(e,n,s){(e===le&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),La(e,Ft,Gn,!1)),Bi(e,s),((Wt&2)===0||e!==le)&&(e===le&&((Wt&2)===0&&(jr|=s),Ee===4&&La(e,Ft,Gn,!1)),Ci(e))}function Uy(e,n,s){if((Wt&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Jn(e,n),h=l?YE(e,n):Wf(e,n,!0),d=l;do{if(h===0){Ds&&!l&&La(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!$E(s)){h=Wf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;t:{var x=e;h=tl;var N=x.current.memoizedState.isDehydrated;if(N&&(Ms(x,b).flags|=256),b=Wf(x,b,!1),b!==2){if(Hf&&!N){x.errorRecoveryDisabledLanes|=d,jr|=d,h=4;break t}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=b}if(d=!1,h!==2)continue}}if(h===1){Ms(e,0),La(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:La(l,n,Gn,!ka);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=$f+300-ge(),10<h)){if(La(l,n,Gn,!ka),fi(l,0,!0)!==0)break t;l.timeoutHandle=dv(Ly.bind(null,l,s,En,$c,Gf,n,Gn,jr,Ns,ka,d,2,-0,0),h);break t}Ly(l,s,En,$c,Gf,n,Gn,jr,Ns,ka,d,0,-0,0)}}break}while(!0);Ci(e)}function Ly(e,n,s,l,h,d,b,x,N,F,tt,nt,$,Q){if(e.timeoutHandle=-1,nt=n.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:R1},Oy(n),nt=D1(),nt!==null)){e.cancelPendingCommit=nt($y.bind(null,e,n,d,s,l,h,b,x,N,tt,1,$,Q)),La(e,d,b,!F);return}$y(e,n,d,s,l,h,b,x,N)}function $E(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function La(e,n,s,l){n&=~Ff,n&=~jr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-be(h),b=1<<d;l[d]=-1,h&=~b}s!==0&&di(e,s,n)}function Qc(){return(Wt&6)===0?(nl(0),!1):!0}function Xf(){if(Pt!==null){if(Jt===0)var e=Pt.return;else e=Pt,ea=Nr=null,df(e),As=null,$o=0,e=Pt;for(;e!==null;)vy(e.alternate,e),e=e.return;Pt=null}}function Ms(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,u1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Xf(),le=e,Pt=s=Wi(e.current,null),Ft=n,Jt=0,Dn=null,ka=!1,Ds=Jn(e,n),Hf=!1,Ns=Gn=Ff=jr=ja=Ee=0,En=tl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-be(l),d=1<<h;n|=e[h],l&=~d}return ca=n,mc(),s}function zy(e,n){kt=null,W.H=Vc,n===Po||n===wc?(n=ig(),Jt=3):n===tg?(n=ig(),Jt=4):Jt=n===ay?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,Pt===null&&(Ee=1,Lc(e,zn(n,e.current)))}function By(){var e=W.H;return W.H=Vc,e===null?Vc:e}function qy(){var e=W.A;return W.A=FE,e}function Zf(){Ee=4,ka||(Ft&4194048)!==Ft&&Fn.current!==null||(Ds=!0),(ja&134217727)===0&&(jr&134217727)===0||le===null||La(le,Ft,Gn,!1)}function Wf(e,n,s){var l=Wt;Wt|=2;var h=By(),d=qy();(le!==e||Ft!==n)&&($c=null,Ms(e,n)),n=!1;var b=Ee;t:do try{if(Jt!==0&&Pt!==null){var x=Pt,N=Dn;switch(Jt){case 8:Xf(),b=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var F=Jt;if(Jt=0,Dn=null,Vs(e,x,N,F),s&&Ds){b=0;break t}break;default:F=Jt,Jt=0,Dn=null,Vs(e,x,N,F)}}QE(),b=Ee;break}catch(tt){zy(e,tt)}while(!0);return n&&e.shellSuspendCounter++,ea=Nr=null,Wt=l,W.H=h,W.A=d,Pt===null&&(le=null,Ft=0,mc()),b}function QE(){for(;Pt!==null;)Hy(Pt)}function YE(e,n){var s=Wt;Wt|=2;var l=By(),h=qy();le!==e||Ft!==n?($c=null,Gc=ge()+500,Ms(e,n)):Ds=Jn(e,n);t:do try{if(Jt!==0&&Pt!==null){n=Pt;var d=Dn;e:switch(Jt){case 1:Jt=0,Dn=null,Vs(e,n,d,1);break;case 2:case 9:if(eg(d)){Jt=0,Dn=null,Fy(n);break}n=function(){Jt!==2&&Jt!==9||le!==e||(Jt=7),Ci(e)},d.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:eg(d)?(Jt=0,Dn=null,Fy(n)):(Jt=0,Dn=null,Vs(e,n,d,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var x=Pt;if(!b||Av(b)){Jt=0,Dn=null;var N=x.sibling;if(N!==null)Pt=N;else{var F=x.return;F!==null?(Pt=F,Yc(F)):Pt=null}break e}}Jt=0,Dn=null,Vs(e,n,d,5);break;case 6:Jt=0,Dn=null,Vs(e,n,d,6);break;case 8:Xf(),Ee=6;break t;default:throw Error(r(462))}}KE();break}catch(tt){zy(e,tt)}while(!0);return ea=Nr=null,W.H=l,W.A=h,Wt=s,Pt!==null?0:(le=null,Ft=0,mc(),Ee)}function KE(){for(;Pt!==null&&!Mn();)Hy(Pt)}function Hy(e){var n=gy(e.alternate,e,ca);e.memoizedProps=e.pendingProps,n===null?Yc(e):Pt=n}function Fy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=uy(s,n,n.pendingProps,n.type,void 0,Ft);break;case 11:n=uy(s,n,n.pendingProps,n.type.render,n.ref,Ft);break;case 5:df(n);default:vy(s,n),n=Pt=Gm(n,ca),n=gy(s,n,ca)}e.memoizedProps=e.pendingProps,n===null?Yc(e):Pt=n}function Vs(e,n,s,l){ea=Nr=null,df(n),As=null,$o=0;var h=n.return;try{if(UE(e,h,n,s,Ft)){Ee=1,Lc(e,zn(s,e.current)),Pt=null;return}}catch(d){if(h!==null)throw Pt=h,d;Ee=1,Lc(e,zn(s,e.current)),Pt=null;return}n.flags&32768?(Yt||l===1?e=!0:Ds||(Ft&536870912)!==0?e=!1:(ka=e=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gy(n,e)):Yc(n)}function Yc(e){var n=e;do{if((n.flags&32768)!==0){Gy(n,ka);return}e=n.return;var s=zE(n.alternate,n,ca);if(s!==null){Pt=s;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=e}while(n!==null);Ee===0&&(Ee=5)}function Gy(e,n){do{var s=BE(e.alternate,e);if(s!==null){s.flags&=32767,Pt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Pt=e;return}Pt=e=s}while(e!==null);Ee=6,Pt=null}function $y(e,n,s,l,h,d,b,x,N){e.cancelPendingCommit=null;do Kc();while(Je!==0);if((Wt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Bh,ho(e,s,d,b,x,N),e===le&&(Pt=le=null,Ft=0),Is=n,Ua=e,Os=s,Qf=d,Yf=h,jy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,JE(Ui,function(){return Zy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=st.p,st.p=2,b=Wt,Wt|=4;try{qE(e,n,s)}finally{Wt=b,st.p=h,W.T=l}}Je=1,Qy(),Yy(),Ky()}}function Qy(){if(Je===1){Je=0;var e=Ua,n=Is,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var l=st.p;st.p=2;var h=Wt;Wt|=4;try{Dy(n,e);var d=ud,b=km(e.containerInfo),x=d.focusedElem,N=d.selectionRange;if(b!==x&&x&&x.ownerDocument&&Vm(x.ownerDocument.documentElement,x)){if(N!==null&&jh(x)){var F=N.start,tt=N.end;if(tt===void 0&&(tt=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(tt,x.value.length);else{var nt=x.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var Q=$.getSelection(),Dt=x.textContent.length,At=Math.min(N.start,Dt),ie=N.end===void 0?At:Math.min(N.end,Dt);!Q.extend&&At>ie&&(b=ie,ie=At,At=b);var B=Mm(x,At),L=Mm(x,ie);if(B&&L&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var H=nt.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),At>ie?(Q.addRange(H),Q.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Q.addRange(H))}}}}for(nt=[],Q=x;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<nt.length;x++){var et=nt[x];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}ou=!!cd,ud=cd=null}finally{Wt=h,st.p=l,W.T=s}}e.current=n,Je=2}}function Yy(){if(Je===2){Je=0;var e=Ua,n=Is,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var l=st.p;st.p=2;var h=Wt;Wt|=4;try{Ay(e,n.alternate,n)}finally{Wt=h,st.p=l,W.T=s}}Je=3}}function Ky(){if(Je===4||Je===3){Je=0,Kn();var e=Ua,n=Is,s=Os,l=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Je=5:(Je=0,Is=Ua=null,Xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pa=null),Zr(s),n=n.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Ot,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=W.T,h=st.p,st.p=2,W.T=null;try{for(var d=e.onRecoverableError,b=0;b<l.length;b++){var x=l[b];d(x.value,{componentStack:x.stack})}}finally{W.T=n,st.p=h}}(Os&3)!==0&&Kc(),Ci(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Kf?el++:(el=0,Kf=e):el=0,nl(0)}}function Xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function Kc(e){return Qy(),Yy(),Ky(),Zy()}function Zy(){if(Je!==5)return!1;var e=Ua,n=Qf;Qf=0;var s=Zr(Os),l=W.T,h=st.p;try{st.p=32>s?32:s,W.T=null,s=Yf,Yf=null;var d=Ua,b=Os;if(Je=0,Is=Ua=null,Os=0,(Wt&6)!==0)throw Error(r(331));var x=Wt;if(Wt|=4,Vy(d.current),Iy(d,d.current,b,s),Wt=x,nl(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Ot,d)}catch{}return!0}finally{st.p=h,W.T=l,Xy(e,n)}}function Wy(e,n,s){n=zn(s,n),n=Rf(e.stateNode,n,2),e=Ca(e,n,2),e!==null&&(Bi(e,2),Ci(e))}function se(e,n,s){if(e.tag===3)Wy(e,e,s);else for(;n!==null;){if(n.tag===3){Wy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pa===null||!Pa.has(l))){e=zn(s,e),s=ny(2),l=Ca(n,s,2),l!==null&&(iy(s,l,n,e),Bi(l,2),Ci(l));break}}n=n.return}}function Jf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new GE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Hf=!0,h.add(s),e=XE.bind(null,e,n,s),n.then(e,e))}function XE(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Ft&s)===s&&(Ee===4||Ee===3&&(Ft&62914560)===Ft&&300>ge()-$f?(Wt&2)===0&&Ms(e,0):Ff|=s,Ns===Ft&&(Ns=0)),Ci(e)}function Jy(e,n){n===0&&(n=uo()),e=ms(e,n),e!==null&&(Bi(e,n),Ci(e))}function ZE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Jy(e,s)}function WE(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Jy(e,s)}function JE(e,n){return rn(e,n)}var Xc=null,ks=null,td=!1,Zc=!1,ed=!1,Pr=0;function Ci(e){e!==ks&&e.next===null&&(ks===null?Xc=ks=e:ks=ks.next=e),Zc=!0,td||(td=!0,e1())}function nl(e,n){if(!ed&&Zc){ed=!0;do for(var s=!1,l=Xc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var b=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-be(42|e)+1)-1,d&=h&~(b&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,iv(l,d))}else d=Ft,d=fi(l,l===le?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(s=!0,iv(l,d));l=l.next}while(s);ed=!1}}function t1(){tv()}function tv(){Zc=td=!1;var e=0;Pr!==0&&(c1()&&(e=Pr),Pr=0);for(var n=ge(),s=null,l=Xc;l!==null;){var h=l.next,d=ev(l,n);d===0?(l.next=null,s===null?Xc=h:s.next=h,h===null&&(ks=s)):(s=l,(e!==0||(d&3)!==0)&&(Zc=!0)),l=h}nl(e)}function ev(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-be(d),x=1<<b,N=h[b];N===-1?((x&s)===0||(x&l)!==0)&&(h[b]=Li(x,n)):N<=n&&(e.expiredLanes|=x),d&=~x}if(n=le,s=Ft,s=fi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&On(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&On(l),Zr(s)){case 2:case 8:s=hn;break;case 32:s=Ui;break;case 268435456:s=ya;break;default:s=Ui}return l=nv.bind(null,e),s=rn(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&On(l),e.callbackPriority=2,e.callbackNode=null,2}function nv(e,n){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Kc()&&e.callbackNode!==s)return null;var l=Ft;return l=fi(e,e===le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Uy(e,l,n),ev(e,ge()),e.callbackNode!=null&&e.callbackNode===s?nv.bind(null,e):null)}function iv(e,n){if(Kc())return null;Uy(e,n,!0)}function e1(){h1(function(){(Wt&6)!==0?rn(_n,t1):tv()})}function nd(){return Pr===0&&(Pr=lr()),Pr}function av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:is(""+e)}function rv(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function n1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=av((h[Ne]||null).action),b=l.submitter;b&&(n=(n=b[Ne]||null)?av(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var x=new as("action","action",null,l,h);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pr!==0){var N=b?rv(h,b):new FormData(h);Ef(s,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(x.preventDefault(),N=b?rv(h,b):new FormData(h),Ef(s,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var id=0;id<zh.length;id++){var ad=zh[id],i1=ad.toLowerCase(),a1=ad[0].toUpperCase()+ad.slice(1);ni(i1,"on"+a1)}ni(Um,"onAnimationEnd"),ni(Lm,"onAnimationIteration"),ni(zm,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(xE,"onTransitionRun"),ni(EE,"onTransitionStart"),ni(TE,"onTransitionCancel"),ni(Bm,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function sv(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var x=l[b],N=x.instance,F=x.currentTarget;if(x=x.listener,N!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=F;try{d(h)}catch(tt){Uc(tt)}h.currentTarget=null,d=N}else for(b=0;b<l.length;b++){if(x=l[b],N=x.instance,F=x.currentTarget,x=x.listener,N!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=F;try{d(h)}catch(tt){Uc(tt)}h.currentTarget=null,d=N}}}}function Ut(e,n){var s=n[po];s===void 0&&(s=n[po]=new Set);var l=e+"__bubble";s.has(l)||(ov(n,e,2,!1),s.add(l))}function rd(e,n,s){var l=0;n&&(l|=4),ov(s,e,l,n)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[Wc]){e[Wc]=!0,mo.forEach(function(s){s!=="selectionchange"&&(r1.has(s)||rd(s,!1,e),rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wc]||(n[Wc]=!0,rd("selectionchange",!1,n))}}function ov(e,n,s,l){switch(Iv(n)){case 2:var h=O1;break;case 8:h=M1;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!Un||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var x=l.stateNode.containerInfo;if(x===h)break;if(b===4)for(b=l.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;x!==null;){if(b=qi(x),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){l=d=b;continue t}x=x.parentNode}}l=l.return}tc(function(){var F=d,tt=Pn(s),nt=[];t:{var $=qm.get(e);if($!==void 0){var Q=as,Dt=e;switch(e){case"keypress":if(_i(s)===0)break t;case"keydown":case"keyup":Q=us;break;case"focusin":Dt="focus",Q=os;break;case"focusout":Dt="blur",Q=os;break;case"beforeblur":case"afterblur":Q=os;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=lc;break;case Um:case Lm:case zm:Q=ls;break;case Bm:Q=uc;break;case"scroll":case"scrollend":Q=ec;break;case"wheel":Q=hs;break;case"copy":case"cut":case"paste":Q=cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ro;break;case"toggle":case"beforetoggle":Q=fc}var At=(n&4)!==0,ie=!At&&(e==="scroll"||e==="scrollend"),B=At?$!==null?$+"Capture":null:$;At=[];for(var L=F,H;L!==null;){var et=L;if(H=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||H===null||B===null||(et=gr(L,B),et!=null&&At.push(al(L,et,H))),ie)break;L=L.return}0<At.length&&($=new Q($,Dt,null,s,tt),nt.push({event:$,listeners:At}))}}if((n&7)===0){t:{if($=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",$&&s!==$i&&(Dt=s.relatedTarget||s.fromElement)&&(qi(Dt)||Dt[kn]))break t;if((Q||$)&&($=tt.window===tt?tt:($=tt.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Dt=s.relatedTarget||s.toElement,Q=F,Dt=Dt?qi(Dt):null,Dt!==null&&(ie=c(Dt),At=Dt.tag,Dt!==ie||At!==5&&At!==27&&At!==6)&&(Dt=null)):(Q=null,Dt=F),Q!==Dt)){if(At=Ln,et="onMouseLeave",B="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(At=Ro,et="onPointerLeave",B="onPointerEnter",L="pointer"),ie=Q==null?$:mi(Q),H=Dt==null?$:mi(Dt),$=new At(et,L+"leave",Q,s,tt),$.target=ie,$.relatedTarget=H,et=null,qi(tt)===F&&(At=new At(B,L+"enter",Dt,s,tt),At.target=H,At.relatedTarget=ie,et=At),ie=et,Q&&Dt)e:{for(At=Q,B=Dt,L=0,H=At;H;H=js(H))L++;for(H=0,et=B;et;et=js(et))H++;for(;0<L-H;)At=js(At),L--;for(;0<H-L;)B=js(B),H--;for(;L--;){if(At===B||B!==null&&At===B.alternate)break e;At=js(At),B=js(B)}At=null}else At=null;Q!==null&&lv(nt,$,Q,At,!1),Dt!==null&&ie!==null&&lv(nt,ie,Dt,At,!0)}}t:{if($=F?mi(F):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var _t=Rm;else if(Le($))if(Cm)_t=vE;else{_t=gE;var jt=mE}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&bo(F.elementType)&&(_t=Rm):_t=yE;if(_t&&(_t=_t(e,F))){Zi(nt,_t,s,tt);break t}jt&&jt(e,$,F),e==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&Ta($,"number",$.value)}switch(jt=F?mi(F):window,e){case"focusin":(Le(jt)||jt.contentEditable==="true")&&(fs=jt,Ph=F,No=null);break;case"focusout":No=Ph=fs=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,jm(nt,s,tt);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":jm(nt,s,tt)}var xt;if(Ei)t:{switch(e){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else qt?X(e,s)&&(St="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(St="onCompositionStart");St&&(_&&s.locale!=="ko"&&(qt||St!=="onCompositionStart"?St==="onCompositionEnd"&&qt&&(xt=Eo()):(vi=tt,wa="value"in vi?vi.value:vi.textContent,qt=!0)),jt=Jc(F,St),0<jt.length&&(St=new Ao(St,e,null,s,tt),nt.push({event:St,listeners:jt}),xt?St.data=xt:(xt=ut(s),xt!==null&&(St.data=xt)))),(xt=g?Ue(e,s):Ht(e,s))&&(St=Jc(F,"onBeforeInput"),0<St.length&&(jt=new Ao("onBeforeInput","beforeinput",null,s,tt),nt.push({event:jt,listeners:St}),jt.data=xt)),n1(nt,e,F,s,tt)}sv(nt,n)})}function al(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Jc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gr(e,s),h!=null&&l.unshift(al(e,h,d)),h=gr(e,n),h!=null&&l.push(al(e,h,d))),e.tag===3)return l;e=e.return}return[]}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lv(e,n,s,l,h){for(var d=n._reactName,b=[];s!==null&&s!==l;){var x=s,N=x.alternate,F=x.stateNode;if(x=x.tag,N!==null&&N===l)break;x!==5&&x!==26&&x!==27||F===null||(N=F,h?(F=gr(s,d),F!=null&&b.unshift(al(s,F,N))):h||(F=gr(s,d),F!=null&&b.push(al(s,F,N)))),s=s.return}b.length!==0&&e.push({event:n,listeners:b})}var s1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function cv(e){return(typeof e=="string"?e:""+e).replace(s1,`
`).replace(o1,"")}function uv(e,n){return n=cv(n),cv(e)===n}function tu(){}function ne(e,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||jn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&jn(e,""+l);break;case"className":gi(e,"class",l);break;case"tabIndex":gi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,s,l);break;case"style":_o(e,l,d);break;case"data":if(n!=="object"){gi(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=is(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=is(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=tu);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=is(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),Ea(e,"popover",l);break;case"xlinkActuate":Xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Nh.get(s)||s,Ea(e,s,l))}}function ld(e,n,s,l,h,d){switch(s){case"style":_o(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?jn(e,l):(typeof l=="number"||typeof l=="bigint")&&jn(e,""+l);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[Ne]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Ea(e,s,l)}}}function tn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var b=s[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,d,b,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),l&&ne(e,n,"src",s.src,s,null);return;case"input":Ut("invalid",e);var x=d=b=h=null,N=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var tt=s[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":b=tt;break;case"checked":N=tt;break;case"defaultChecked":F=tt;break;case"value":d=tt;break;case"defaultValue":x=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,n));break;default:ne(e,n,l,tt,s,null)}}dr(e,d,x,N,F,b,h,!1),ns(e);return;case"select":Ut("invalid",e),l=b=d=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":b=x;break;case"multiple":l=x;default:ne(e,n,h,x,s,null)}n=d,s=b,e.multiple=!!l,n!=null?Gi(e,!!l,n,!1):s!=null&&Gi(e,!!l,s,!0);return;case"textarea":Ut("invalid",e),d=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(x=s[b],x!=null))switch(b){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:ne(e,n,b,x,s,null)}pr(e,l,h,d),ns(e);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ne(e,n,N,l,s,null)}return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(l=0;l<il.length;l++)Ut(il[l],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,F,l,s,null)}return;default:if(bo(n)){for(tt in s)s.hasOwnProperty(tt)&&(l=s[tt],l!==void 0&&ld(e,n,tt,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&ne(e,n,x,l,s,null))}function l1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,b=null,x=null,N=null,F=null,tt=null;for(Q in s){var nt=s[Q];if(s.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=nt;default:l.hasOwnProperty(Q)||ne(e,n,Q,null,l,nt)}}for(var $ in l){var Q=l[$];if(nt=s[$],l.hasOwnProperty($)&&(Q!=null||nt!=null))switch($){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":tt=Q;break;case"value":b=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==nt&&ne(e,n,$,Q,l,nt)}}wn(e,b,x,N,F,tt,d,h);return;case"select":Q=b=x=$=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||ne(e,n,d,null,l,N)}for(h in l)if(d=l[h],N=s[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":$=d;break;case"defaultValue":x=d;break;case"multiple":b=d;default:d!==N&&ne(e,n,h,d,l,N)}n=x,s=b,l=Q,$!=null?Gi(e,!!s,$,!1):!!l!=!!s&&(n!=null?Gi(e,!!s,n,!0):Gi(e,!!s,s?[]:"",!1));return;case"textarea":Q=$=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ne(e,n,x,null,l,h)}for(b in l)if(h=l[b],d=s[b],l.hasOwnProperty(b)&&(h!=null||d!=null))switch(b){case"value":$=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&ne(e,n,b,h,l,d)}te(e,$,Q);return;case"option":for(var Dt in s)if($=s[Dt],s.hasOwnProperty(Dt)&&$!=null&&!l.hasOwnProperty(Dt))switch(Dt){case"selected":e.selected=!1;break;default:ne(e,n,Dt,null,l,$)}for(N in l)if($=l[N],Q=s[N],l.hasOwnProperty(N)&&$!==Q&&($!=null||Q!=null))switch(N){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ne(e,n,N,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)$=s[At],s.hasOwnProperty(At)&&$!=null&&!l.hasOwnProperty(At)&&ne(e,n,At,null,l,$);for(F in l)if($=l[F],Q=s[F],l.hasOwnProperty(F)&&$!==Q&&($!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,n));break;default:ne(e,n,F,$,l,Q)}return;default:if(bo(n)){for(var ie in s)$=s[ie],s.hasOwnProperty(ie)&&$!==void 0&&!l.hasOwnProperty(ie)&&ld(e,n,ie,void 0,l,$);for(tt in l)$=l[tt],Q=s[tt],!l.hasOwnProperty(tt)||$===Q||$===void 0&&Q===void 0||ld(e,n,tt,$,l,Q);return}}for(var B in s)$=s[B],s.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&ne(e,n,B,null,l,$);for(nt in l)$=l[nt],Q=s[nt],!l.hasOwnProperty(nt)||$===Q||$==null&&Q==null||ne(e,n,nt,$,l,Q)}var cd=null,ud=null;function eu(e){return e.nodeType===9?e:e.ownerDocument}function hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function c1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,h1=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(e){return pv.resolve(null).then(e).catch(f1)}:dv;function f1(e){setTimeout(function(){throw e})}function za(e){return e==="head"}function mv(e,n){var s=n,l=0,h=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var b=e.ownerDocument;if(s&1&&rl(b.documentElement),s&2&&rl(b.body),s&4)for(s=b.head,rl(s),b=s.firstChild;b;){var x=b.nextSibling,N=b.nodeName;b[cr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=x}}if(h===0){e.removeChild(d),dl(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);dl(n)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),xa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function d1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[cr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ai(e.nextSibling),e===null)break}return null}function p1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ai(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function m1(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ai(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var md=null;function gv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function yv(e,n,s){switch(n=eu(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);xa(e)}var $n=new Map,vv=new Set;function nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ua=st.d;st.d={f:g1,r:y1,D:v1,C:_1,L:b1,m:x1,X:T1,S:E1,M:w1};function g1(){var e=ua.f(),n=Qc();return e||n}function y1(e){var n=pi(e);n!==null&&n.tag===5&&n.type==="form"?Ug(n):ua.r(e)}var Ps=typeof document>"u"?null:document;function _v(e,n,s){var l=Ps;if(l&&typeof n=="string"&&n){var h=Ie(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),vv.has(h)||(vv.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),tn(n,"link",e),Se(n),l.head.appendChild(n)))}}function v1(e){ua.D(e),_v("dns-prefetch",e,null)}function _1(e,n){ua.C(e,n),_v("preconnect",e,n)}function b1(e,n,s){ua.L(e,n,s);var l=Ps;if(l&&e&&n){var h='link[rel="preload"][as="'+Ie(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ie(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ie(s.imageSizes)+'"]')):h+='[href="'+Ie(e)+'"]';var d=h;switch(n){case"style":d=Us(e);break;case"script":d=Ls(e)}$n.has(d)||(e=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),$n.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(sl(d))||n==="script"&&l.querySelector(ol(d))||(n=l.createElement("link"),tn(n,"link",e),Se(n),l.head.appendChild(n)))}}function x1(e,n){ua.m(e,n);var s=Ps;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ie(l)+'"][href="'+Ie(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ls(e)}if(!$n.has(d)&&(e=v({rel:"modulepreload",href:e},n),$n.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ol(d)))return}l=s.createElement("link"),tn(l,"link",e),Se(l),s.head.appendChild(l)}}}function E1(e,n,s){ua.S(e,n,s);var l=Ps;if(l&&e){var h=dn(l).hoistableStyles,d=Us(e);n=n||"default";var b=h.get(d);if(!b){var x={loading:0,preload:null};if(b=l.querySelector(sl(d)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},s),(s=$n.get(d))&&gd(e,s);var N=b=l.createElement("link");Se(N),tn(N,"link",e),N._p=new Promise(function(F,tt){N.onload=F,N.onerror=tt}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,iu(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:x},h.set(d,b)}}}function T1(e,n){ua.X(e,n);var s=Ps;if(s&&e){var l=dn(s).hoistableScripts,h=Ls(e),d=l.get(h);d||(d=s.querySelector(ol(h)),d||(e=v({src:e,async:!0},n),(n=$n.get(h))&&yd(e,n),d=s.createElement("script"),Se(d),tn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function w1(e,n){ua.M(e,n);var s=Ps;if(s&&e){var l=dn(s).hoistableScripts,h=Ls(e),d=l.get(h);d||(d=s.querySelector(ol(h)),d||(e=v({src:e,async:!0,type:"module"},n),(n=$n.get(h))&&yd(e,n),d=s.createElement("script"),Se(d),tn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bv(e,n,s,l){var h=(h=vt.current)?nu(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Us(s.href),s=dn(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Us(s.href);var d=dn(h).hoistableStyles,b=d.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=h.querySelector(sl(e)))&&!d._p&&(b.instance=d,b.state.loading=5),$n.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$n.set(e,s),d||A1(h,e,s,b.state))),n&&l===null)throw Error(r(528,""));return b}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ls(s),s=dn(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Us(e){return'href="'+Ie(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function xv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function A1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),tn(n,"link",s),Se(n),e.head.appendChild(n))}function Ls(e){return'[src="'+Ie(e)+'"]'}function ol(e){return"script[async]"+e}function Ev(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Ie(s.href)+'"]');if(l)return n.instance=l,Se(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),tn(l,"style",h),iu(l,s.precedence,e),n.instance=l;case"stylesheet":h=Us(s.href);var d=e.querySelector(sl(h));if(d)return n.state.loading|=4,n.instance=d,Se(d),d;l=xv(s),(h=$n.get(h))&&gd(l,h),d=(e.ownerDocument||e).createElement("link"),Se(d);var b=d;return b._p=new Promise(function(x,N){b.onload=x,b.onerror=N}),tn(d,"link",l),n.state.loading|=4,iu(d,s.precedence,e),n.instance=d;case"script":return d=Ls(s.src),(h=e.querySelector(ol(d)))?(n.instance=h,Se(h),h):(l=s,(h=$n.get(d))&&(l=v({},s),yd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),tn(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,iu(l,s.precedence,e));return n.instance}function iu(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,b=0;b<l.length;b++){var x=l[b];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var au=null;function Tv(e,n,s){if(au===null){var l=new Map,h=au=new Map;h.set(s,l)}else h=au,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[cr]||d[Pe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=e+b;var x=l.get(b);x?x.push(d):l.set(b,[d])}}return l}function wv(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function S1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Av(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ll=null;function R1(){}function C1(e,n,s){if(ll===null)throw Error(r(475));var l=ll;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Us(s.href),d=e.querySelector(sl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ru.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,Se(d);return}d=e.ownerDocument||e,s=xv(s),(h=$n.get(h))&&gd(s,h),d=d.createElement("link"),Se(d);var b=d;b._p=new Promise(function(x,N){b.onload=x,b.onerror=N}),tn(d,"link",s),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ru.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function D1(){if(ll===null)throw Error(r(475));var e=ll;return e.stylesheets&&e.count===0&&vd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&vd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function ru(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var su=null;function vd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,su=new Map,n.forEach(N1,e),su=null,ru.call(e))}function N1(e,n){if(!(n.state.loading&4)){var s=su.get(e);if(s)var l=s.get(null);else{s=new Map,su.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var b=h[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=n.instance,b=h.getAttribute("data-precedence"),d=s.get(b)||l,d===l&&s.set(null,h),s.set(b,h),this.count++,l=ru.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:K,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function I1(e,n,s,l,h,d,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Sv(e,n,s,l,h,d,b,x,N,F,tt,nt){return e=new I1(e,n,s,b,x,N,F,nt),n=1,d===!0&&(n|=24),d=Sn(3,null,null,n),e.current=d,d.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},nf(d),e}function Rv(e){return e?(e=gs,e):gs}function Cv(e,n,s,l,h,d){h=Rv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ra(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ca(e,l,n),s!==null&&(In(s,e,n),Lo(s,e,n))}function Dv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _d(e,n){Dv(e,n),(e=e.alternate)&&Dv(e,n)}function Nv(e){if(e.tag===13){var n=ms(e,67108864);n!==null&&In(n,e,67108864),_d(e,67108864)}}var ou=!0;function O1(e,n,s,l){var h=W.T;W.T=null;var d=st.p;try{st.p=2,bd(e,n,s,l)}finally{st.p=d,W.T=h}}function M1(e,n,s,l){var h=W.T;W.T=null;var d=st.p;try{st.p=8,bd(e,n,s,l)}finally{st.p=d,W.T=h}}function bd(e,n,s,l){if(ou){var h=xd(l);if(h===null)od(e,n,l,lu,s),Ov(e,l);else if(k1(h,e,n,s,l))l.stopPropagation();else if(Ov(e,l),n&4&&-1<V1.indexOf(e)){for(;h!==null;){var d=pi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=fn(d.pendingLanes);if(b!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var N=1<<31-be(b);x.entanglements[1]|=N,b&=~N}Ci(d),(Wt&6)===0&&(Gc=ge()+500,nl(0))}}break;case 13:x=ms(d,2),x!==null&&In(x,d,2),Qc(),_d(d,2)}if(d=xd(l),d===null&&od(e,n,l,lu,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else od(e,n,l,null,s)}}function xd(e){return e=Pn(e),Ed(e)}var lu=null;function Ed(e){if(lu=null,e=qi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lu=e,null}function Iv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case _n:return 2;case hn:return 8;case Ui:case co:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Td=!1,Ba=null,qa=null,Ha=null,ul=new Map,hl=new Map,Fa=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(e,n){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=pi(n),n!==null&&Nv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function k1(e,n,s,l,h){switch(n){case"focusin":return Ba=fl(Ba,e,n,s,l,h),!0;case"dragenter":return qa=fl(qa,e,n,s,l,h),!0;case"mouseover":return Ha=fl(Ha,e,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return ul.set(d,fl(ul.get(d)||null,e,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,hl.set(d,fl(hl.get(d)||null,e,n,s,l,h)),!0}return!1}function Mv(e){var n=qi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,Ql(e.priority,function(){if(s.tag===13){var l=Nn();l=va(l);var h=ms(s,l);h!==null&&In(h,s,l),_d(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=xd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);$i=l,s.target.dispatchEvent(l),$i=null}else return n=pi(s),n!==null&&Nv(n),e.blockedOn=s,!1;n.shift()}return!0}function Vv(e,n,s){cu(e)&&s.delete(n)}function j1(){Td=!1,Ba!==null&&cu(Ba)&&(Ba=null),qa!==null&&cu(qa)&&(qa=null),Ha!==null&&cu(Ha)&&(Ha=null),ul.forEach(Vv),hl.forEach(Vv)}function uu(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,j1)))}var hu=null;function kv(e){hu!==e&&(hu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hu===e&&(hu=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ed(l||s)===null)continue;break}var d=pi(s);d!==null&&(e.splice(n,3),n-=3,Ef(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function dl(e){function n(N){return uu(N,e)}Ba!==null&&uu(Ba,e),qa!==null&&uu(qa,e),Ha!==null&&uu(Ha,e),ul.forEach(n),hl.forEach(n);for(var s=0;s<Fa.length;s++){var l=Fa[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Fa.length&&(s=Fa[0],s.blockedOn===null);)Mv(s),s.blockedOn===null&&Fa.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],b=h[Ne]||null;if(typeof d=="function")b||kv(s);else if(b){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,b=d[Ne]||null)x=b.formAction;else if(Ed(h)!==null)continue}else x=b.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),kv(s)}}}function wd(e){this._internalRoot=e}fu.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Nn();Cv(s,l,e,n,null,null)},fu.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Cv(e.current,2,null,e,null,null),Qc(),n[kn]=null}};function fu(e){this._internalRoot=e}fu.prototype.unstable_scheduleHydration=function(e){if(e){var n=_a();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Fa.length&&n!==0&&n<Fa[s].priority;s++);Fa.splice(s,0,e),s===0&&Mv(e)}};var jv=t.version;if(jv!=="19.1.1")throw Error(r(527,jv,"19.1.1"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var P1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Ot=du.inject(P1),Ct=du}catch{}}return ml.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",h=Wg,d=Jg,b=ty,x=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=Sv(e,1,!1,null,null,s,l,h,d,b,x,null),e[kn]=n.current,sd(e),new wd(n)},ml.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,h="",d=Wg,b=Jg,x=ty,N=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),n=Sv(e,1,!0,n,s??null,l,h,d,b,x,N,F),n.context=Rv(null),s=n.current,l=Nn(),l=va(l),h=Ra(l),h.callback=null,Ca(s,h,l),s=l,n.current.lanes=s,Bi(n,s),Ci(n),e[kn]=n.current,sd(e),new fu(n)},ml.version="19.1.1",ml}var $v;function Q1(){if($v)return Rd.exports;$v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Rd.exports=$1(),Rd.exports}var Y1=Q1();const K1=ch(Y1);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function X1(a={}){function t(r,o){let{pathname:c,search:f,hash:p}=r.location;return Zd("",{pathname:c,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Rl(o)}return W1(t,i,null,a)}function me(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function si(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Z1(){return Math.random().toString(36).substring(2,10)}function Yv(a,t){return{usr:a.state,key:a.key,idx:t}}function Zd(a,t,i=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?eo(t):t,state:i,key:t&&t.key||r||Z1()}}function Rl({pathname:a="/",search:t="",hash:i=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function eo(a){let t={};if(a){let i=a.indexOf("#");i>=0&&(t.hash=a.substring(i),a=a.substring(0,i));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function W1(a,t,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,f=o.history,p="POP",y=null,m=v();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function v(){return(f.state||{idx:null}).idx}function T(){p="POP";let V=v(),Y=V==null?null:V-m;m=V,y&&y({action:p,location:k.location,delta:Y})}function A(V,Y){p="PUSH";let Z=Zd(k.location,V,Y);m=v()+1;let K=Yv(Z,m),dt=k.createHref(Z);try{f.pushState(K,"",dt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(dt)}c&&y&&y({action:p,location:k.location,delta:1})}function O(V,Y){p="REPLACE";let Z=Zd(k.location,V,Y);m=v();let K=Yv(Z,m),dt=k.createHref(Z);f.replaceState(K,"",dt),c&&y&&y({action:p,location:k.location,delta:0})}function U(V){return J1(V)}let k={get action(){return p},get location(){return a(o,f)},listen(V){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,T),y=V,()=>{o.removeEventListener(Qv,T),y=null}},createHref(V){return t(o,V)},createURL:U,encodeLocation(V){let Y=U(V);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:O,go(V){return f.go(V)}};return k}function J1(a,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),me(i,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Rl(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function M_(a,t,i="/"){return tT(a,t,i,!1)}function tT(a,t,i,r){let o=typeof t=="string"?eo(t):t,c=da(o.pathname||"/",i);if(c==null)return null;let f=V_(a);eT(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let m=fT(c);p=uT(f[y],m,r)}return p}function V_(a,t=[],i=[],r="",o=!1){let c=(f,p,y=o,m)=>{let v={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&y)return;me(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=ha([r,v.relativePath]),A=i.concat(v);f.children&&f.children.length>0&&(me(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),V_(f.children,t,A,T,y)),!(f.path==null&&!f.index)&&t.push({path:T,score:lT(T,f.index),routesMeta:A})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let y of k_(f.path))c(f,p,!0,y)}),t}function k_(a){let t=a.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let f=k_(r.join("/")),p=[];return p.push(...f.map(y=>y===""?c:[c,y].join("/"))),o&&p.push(...f),p.map(y=>a.startsWith("/")&&y===""?"/":y)}function eT(a){a.sort((t,i)=>t.score!==i.score?i.score-t.score:cT(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var nT=/^:[\w-]+$/,iT=3,aT=2,rT=1,sT=10,oT=-2,Kv=a=>a==="*";function lT(a,t){let i=a.split("/"),r=i.length;return i.some(Kv)&&(r+=oT),t&&(r+=aT),i.filter(o=>!Kv(o)).reduce((o,c)=>o+(nT.test(c)?iT:c===""?rT:sT),r)}function cT(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function uT(a,t,i=!1){let{routesMeta:r}=a,o={},c="/",f=[];for(let p=0;p<r.length;++p){let y=r[p],m=p===r.length-1,v=c==="/"?t:t.slice(c.length)||"/",T=zu({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),A=y.route;if(!T&&m&&i&&!r[r.length-1].route.index&&(T=zu({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ha([c,T.pathname]),pathnameBase:gT(ha([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=ha([c,T.pathnameBase]))}return f}function zu(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,r]=hT(a.path,a.caseSensitive,a.end),o=t.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:T},A)=>{if(v==="*"){let U=p[A]||"";f=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const O=p[A];return T&&!O?m[v]=void 0:m[v]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:f,pattern:a}}function hT(a,t=!1,i=!0){si(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function fT(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function da(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=a.charAt(i);return r&&r!=="/"?null:a.slice(i)||"/"}function dT(a,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof a=="string"?eo(a):a;return{pathname:i?i.startsWith("/")?i:pT(i,t):t,search:yT(r),hash:vT(o)}}function pT(a,t){let i=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Id(a,t,i,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mT(a){return a.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Dp(a){let t=mT(a);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Np(a,t,i,r=!1){let o;typeof a=="string"?o=eo(a):(o={...a},me(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),me(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),me(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let c=a===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=i;else{let T=t.length-1;if(!r&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}p=T>=0?t[T]:"/"}let y=dT(o,p),m=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var ha=a=>a.join("/").replace(/\/\/+/g,"/"),gT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),yT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,vT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function _T(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var j_=["POST","PUT","PATCH","DELETE"];new Set(j_);var bT=["GET",...j_];new Set(bT);var no=j.createContext(null);no.displayName="DataRouter";var uh=j.createContext(null);uh.displayName="DataRouterState";j.createContext(!1);var P_=j.createContext({isTransitioning:!1});P_.displayName="ViewTransition";var xT=j.createContext(new Map);xT.displayName="Fetchers";var ET=j.createContext(null);ET.displayName="Await";var ci=j.createContext(null);ci.displayName="Navigation";var Pl=j.createContext(null);Pl.displayName="Location";var Pi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Ip=j.createContext(null);Ip.displayName="RouteError";function TT(a,{relative:t}={}){me(io(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=j.useContext(ci),{hash:o,pathname:c,search:f}=Ll(a,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:ha([i,c])),r.createHref({pathname:p,search:f,hash:o})}function io(){return j.useContext(Pl)!=null}function ui(){return me(io(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Pl).location}var U_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(a){j.useContext(ci).static||j.useLayoutEffect(a)}function Ul(){let{isDataRoute:a}=j.useContext(Pi);return a?jT():wT()}function wT(){me(io(),"useNavigate() may be used only in the context of a <Router> component.");let a=j.useContext(no),{basename:t,navigator:i}=j.useContext(ci),{matches:r}=j.useContext(Pi),{pathname:o}=ui(),c=JSON.stringify(Dp(r)),f=j.useRef(!1);return L_(()=>{f.current=!0}),j.useCallback((y,m={})=>{if(si(f.current,U_),!f.current)return;if(typeof y=="number"){i.go(y);return}let v=Np(y,JSON.parse(c),o,m.relative==="path");a==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ha([t,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[t,i,c,o,a])}j.createContext(null);function Ll(a,{relative:t}={}){let{matches:i}=j.useContext(Pi),{pathname:r}=ui(),o=JSON.stringify(Dp(i));return j.useMemo(()=>Np(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function AT(a,t){return z_(a,t)}function z_(a,t,i,r,o){me(io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(ci),{matches:f}=j.useContext(Pi),p=f[f.length-1],y=p?p.params:{},m=p?p.pathname:"/",v=p?p.pathnameBase:"/",T=p&&p.route;{let Z=T&&T.path||"";B_(m,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=ui(),O;if(t){let Z=typeof t=="string"?eo(t):t;me(v==="/"||Z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),O=Z}else O=A;let U=O.pathname||"/",k=U;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");k="/"+U.replace(/^\//,"").split("/").slice(Z.length).join("/")}let V=M_(a,{pathname:k});si(T||V!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),si(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=NT(V&&V.map(Z=>Object.assign({},Z,{params:Object.assign({},y,Z.params),pathname:ha([v,c.encodeLocation?c.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:ha([v,c.encodeLocation?c.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,i,r,o);return t&&Y?j.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function ST(){let a=kT(),t=_T(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),i?j.createElement("pre",{style:o},i):null,f)}var RT=j.createElement(ST,null),CT=class extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?j.createElement(Pi.Provider,{value:this.props.routeContext},j.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DT({routeContext:a,match:t,children:i}){let r=j.useContext(no);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Pi.Provider,{value:a},i)}function NT(a,t=[],i=null,r=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let c=a,f=i?.errors;if(f!=null){let m=c.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);me(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let p=!1,y=-1;if(i)for(let m=0;m<c.length;m++){let v=c[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=m),v.route.id){let{loaderData:T,errors:A}=i,O=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||O){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((m,v,T)=>{let A,O=!1,U=null,k=null;i&&(A=f&&v.route.id?f[v.route.id]:void 0,U=v.route.errorElement||RT,p&&(y<0&&T===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):y===T&&(O=!0,k=v.route.hydrateFallbackElement||null)));let V=t.concat(c.slice(0,T+1)),Y=()=>{let Z;return A?Z=U:O?Z=k:v.route.Component?Z=j.createElement(v.route.Component,null):v.route.element?Z=v.route.element:Z=m,j.createElement(DT,{match:v,routeContext:{outlet:m,matches:V,isDataRoute:i!=null},children:Z})};return i&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?j.createElement(CT,{location:i.location,revalidation:i.revalidation,component:U,error:A,children:Y(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:r}):Y()},null)}function Op(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(a){let t=j.useContext(no);return me(t,Op(a)),t}function OT(a){let t=j.useContext(uh);return me(t,Op(a)),t}function MT(a){let t=j.useContext(Pi);return me(t,Op(a)),t}function Mp(a){let t=MT(a),i=t.matches[t.matches.length-1];return me(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function VT(){return Mp("useRouteId")}function kT(){let a=j.useContext(Ip),t=OT("useRouteError"),i=Mp("useRouteError");return a!==void 0?a:t.errors?.[i]}function jT(){let{router:a}=IT("useNavigate"),t=Mp("useNavigate"),i=j.useRef(!1);return L_(()=>{i.current=!0}),j.useCallback(async(o,c={})=>{si(i.current,U_),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:t,...c}))},[a,t])}var Xv={};function B_(a,t,i){!t&&!Xv[a]&&(Xv[a]=!0,si(!1,i))}j.memo(PT);function PT({routes:a,future:t,state:i,unstable_onError:r}){return z_(a,void 0,i,r,t)}function UT({to:a,replace:t,state:i,relative:r}){me(io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(ci);si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(Pi),{pathname:f}=ui(),p=Ul(),y=Np(a,Dp(c),f,r==="path"),m=JSON.stringify(y);return j.useEffect(()=>{p(JSON.parse(m),{replace:t,state:i,relative:r})},[p,m,r,t,i]),null}function $a(a){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LT({basename:a="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){me(!io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=eo(i));let{pathname:y="/",search:m="",hash:v="",state:T=null,key:A="default"}=i,O=j.useMemo(()=>{let U=da(y,f);return U==null?null:{location:{pathname:U,search:m,hash:v,state:T,key:A},navigationType:r}},[f,y,m,v,T,A,r]);return si(O!=null,`<Router basename="${f}"> is not able to match the URL "${y}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(ci.Provider,{value:p},j.createElement(Pl.Provider,{children:t,value:O}))}function zT({children:a,location:t}){return AT(Wd(a),t)}function Wd(a,t=[]){let i=[];return j.Children.forEach(a,(r,o)=>{if(!j.isValidElement(r))return;let c=[...t,o];if(r.type===j.Fragment){i.push.apply(i,Wd(r.props.children,c));return}me(r.type===$a,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Wd(r.props.children,c)),i.push(f)}),i}var Ru="get",Cu="application/x-www-form-urlencoded";function hh(a){return a!=null&&typeof a.tagName=="string"}function BT(a){return hh(a)&&a.tagName.toLowerCase()==="button"}function qT(a){return hh(a)&&a.tagName.toLowerCase()==="form"}function HT(a){return hh(a)&&a.tagName.toLowerCase()==="input"}function FT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function GT(a,t){return a.button===0&&(!t||t==="_self")&&!FT(a)}var pu=null;function $T(){if(pu===null)try{new FormData(document.createElement("form"),0),pu=!1}catch{pu=!0}return pu}var QT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(a){return a!=null&&!QT.has(a)?(si(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cu}"`),null):a}function YT(a,t){let i,r,o,c,f;if(qT(a)){let p=a.getAttribute("action");r=p?da(p,t):null,i=a.getAttribute("method")||Ru,o=Od(a.getAttribute("enctype"))||Cu,c=new FormData(a)}else if(BT(a)||HT(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||p.getAttribute("action");if(r=y?da(y,t):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||Ru,o=Od(a.getAttribute("formenctype"))||Od(p.getAttribute("enctype"))||Cu,c=new FormData(p,a),!$T()){let{name:m,type:v,value:T}=a;if(v==="image"){let A=m?`${m}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else m&&c.append(m,T)}}else{if(hh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ru,r=null,o=Cu,f=a}return c&&o==="text/plain"&&(f=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function KT(a,t,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&da(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function XT(a,t){if(a.id in t)return t[a.id];try{let i=await import(a.module);return t[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function WT(a,t,i){let r=await Promise.all(a.map(async o=>{let c=t.routes[o.route.id];if(c){let f=await XT(c,i);return f.links?f.links():[]}return[]}));return nw(r.flat(1).filter(ZT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(a,t,i,r,o,c){let f=(y,m)=>i[m]?y.route.id!==i[m].route.id:!0,p=(y,m)=>i[m].pathname!==y.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==y.params["*"];return c==="assets"?t.filter((y,m)=>f(y,m)||p(y,m)):c==="data"?t.filter((y,m)=>{let v=r.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(f(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function JT(a,t,{includeHydrateFallback:i}={}){return tw(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function tw(a){return[...new Set(a)]}function ew(a){let t={},i=Object.keys(a).sort();for(let r of i)t[r]=a[r];return t}function nw(a,t){let i=new Set;return new Set(t),a.reduce((r,o)=>{let c=JSON.stringify(ew(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function q_(){let a=j.useContext(no);return Vp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function iw(){let a=j.useContext(uh);return Vp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var kp=j.createContext(void 0);kp.displayName="FrameworkContext";function H_(){let a=j.useContext(kp);return Vp(a,"You must render this element inside a <HydratedRouter> element"),a}function aw(a,t){let i=j.useContext(kp),[r,o]=j.useState(!1),[c,f]=j.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=t,A=j.useRef(null);j.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let k=Y=>{Y.forEach(Z=>{f(Z.isIntersecting)})},V=new IntersectionObserver(k,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[a]),j.useEffect(()=>{if(r){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[r]);let O=()=>{o(!0)},U=()=>{o(!1),f(!1)};return i?a!=="intent"?[c,A,{}]:[c,A,{onFocus:gl(p,O),onBlur:gl(y,U),onMouseEnter:gl(m,O),onMouseLeave:gl(v,U),onTouchStart:gl(T,O)}]:[!1,A,{}]}function gl(a,t){return i=>{a&&a(i),i.defaultPrevented||t(i)}}function rw({page:a,...t}){let{router:i}=q_(),r=j.useMemo(()=>M_(i.routes,a,i.basename),[i.routes,a,i.basename]);return r?j.createElement(ow,{page:a,matches:r,...t}):null}function sw(a){let{manifest:t,routeModules:i}=H_(),[r,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return WT(a,t,i).then(f=>{c||o(f)}),()=>{c=!0}},[a,t,i]),r}function ow({page:a,matches:t,...i}){let r=ui(),{manifest:o,routeModules:c}=H_(),{basename:f}=q_(),{loaderData:p,matches:y}=iw(),m=j.useMemo(()=>Zv(a,t,y,o,r,"data"),[a,t,y,o,r]),v=j.useMemo(()=>Zv(a,t,y,o,r,"assets"),[a,t,y,o,r]),T=j.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let U=new Set,k=!1;if(t.forEach(Y=>{let Z=o.routes[Y.route.id];!Z||!Z.hasLoader||(!m.some(K=>K.route.id===Y.route.id)&&Y.route.id in p&&c[Y.route.id]?.shouldRevalidate||Z.hasClientLoader?k=!0:U.add(Y.route.id))}),U.size===0)return[];let V=KT(a,f,"data");return k&&U.size>0&&V.searchParams.set("_routes",t.filter(Y=>U.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[V.pathname+V.search]},[f,p,r,o,m,t,a,c]),A=j.useMemo(()=>JT(v,o),[v,o]),O=sw(v);return j.createElement(j.Fragment,null,T.map(U=>j.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...i})),A.map(U=>j.createElement("link",{key:U,rel:"modulepreload",href:U,...i})),O.map(({key:U,link:k})=>j.createElement("link",{key:U,nonce:i.nonce,...k})))}function lw(...a){return t=>{a.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var F_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F_&&(window.__reactRouterVersion="7.8.2")}catch{}function cw({basename:a,children:t,window:i}){let r=j.useRef();r.current==null&&(r.current=X1({window:i,v5Compat:!0}));let o=r.current,[c,f]=j.useState({action:o.action,location:o.location}),p=j.useCallback(y=>{j.startTransition(()=>f(y))},[f]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.createElement(LT,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:o})}var G_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=j.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:f,state:p,target:y,to:m,preventScrollReset:v,viewTransition:T,...A},O){let{basename:U}=j.useContext(ci),k=typeof m=="string"&&G_.test(m),V,Y=!1;if(typeof m=="string"&&k&&(V=m,F_))try{let C=new URL(window.location.href),M=m.startsWith("//")?new URL(C.protocol+m):new URL(m),I=da(M.pathname,U);M.origin===C.origin&&I!=null?m=I+M.search+M.hash:Y=!0}catch{si(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=TT(m,{relative:o}),[K,dt,ht]=aw(r,A),bt=dw(m,{replace:f,state:p,target:y,preventScrollReset:v,relative:o,viewTransition:T});function P(C){t&&t(C),C.defaultPrevented||bt(C)}let R=j.createElement("a",{...A,...ht,href:V||Z,onClick:Y||c?t:P,ref:lw(O,dt),target:y,"data-discover":!k&&i==="render"?"true":void 0});return K&&!k?j.createElement(j.Fragment,null,R,j.createElement(rw,{page:Z})):R});$_.displayName="Link";var uw=j.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:f,viewTransition:p,children:y,...m},v){let T=Ll(f,{relative:m.relative}),A=ui(),O=j.useContext(uh),{navigator:U,basename:k}=j.useContext(ci),V=O!=null&&vw(T)&&p===!0,Y=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,Z=A.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(Z=Z.toLowerCase(),K=K?K.toLowerCase():null,Y=Y.toLowerCase()),K&&k&&(K=da(K,k)||K);const dt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ht=Z===Y||!o&&Z.startsWith(Y)&&Z.charAt(dt)==="/",bt=K!=null&&(K===Y||!o&&K.startsWith(Y)&&K.charAt(Y.length)==="/"),P={isActive:ht,isPending:bt,isTransitioning:V},R=ht?t:void 0,C;typeof r=="function"?C=r(P):C=[r,ht?"active":null,bt?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(P):c;return j.createElement($_,{...m,"aria-current":R,className:C,ref:v,style:M,to:f,viewTransition:p},typeof y=="function"?y(P):y)});uw.displayName="NavLink";var hw=j.forwardRef(({discover:a="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:c,method:f=Ru,action:p,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:T,...A},O)=>{let U=gw(),k=yw(p,{relative:m}),V=f.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&G_.test(p),Z=K=>{if(y&&y(K),K.defaultPrevented)return;K.preventDefault();let dt=K.nativeEvent.submitter,ht=dt?.getAttribute("formmethod")||f;U(dt||K.currentTarget,{fetcherKey:t,method:ht,navigate:i,replace:o,state:c,relative:m,preventScrollReset:v,viewTransition:T})};return j.createElement("form",{ref:O,method:V,action:k,onSubmit:r?y:Z,...A,"data-discover":!Y&&a==="render"?"true":void 0})});hw.displayName="Form";function fw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q_(a){let t=j.useContext(no);return me(t,fw(a)),t}function dw(a,{target:t,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:f}={}){let p=Ul(),y=ui(),m=Ll(a,{relative:c});return j.useCallback(v=>{if(GT(v,t)){v.preventDefault();let T=i!==void 0?i:Rl(y)===Rl(m);p(a,{replace:T,state:r,preventScrollReset:o,relative:c,viewTransition:f})}},[y,p,m,i,r,t,a,o,c,f])}var pw=0,mw=()=>`__${String(++pw)}__`;function gw(){let{router:a}=Q_("useSubmit"),{basename:t}=j.useContext(ci),i=VT();return j.useCallback(async(r,o={})=>{let{action:c,method:f,encType:p,formData:y,body:m}=YT(r,t);if(o.navigate===!1){let v=o.fetcherKey||mw();await a.fetch(v,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,t,i])}function yw(a,{relative:t}={}){let{basename:i}=j.useContext(ci),r=j.useContext(Pi);me(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Ll(a||".",{relative:t})},f=ui();if(a==null){c.search=f.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(T=>T).forEach(T=>p.append("index",T));let v=p.toString();c.search=v?`?${v}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ha([i,c.pathname])),Rl(c)}function vw(a,{relative:t}={}){let i=j.useContext(P_);me(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Q_("useViewTransitionState"),o=Ll(a,{relative:t});if(!i.isTransitioning)return!1;let c=da(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=da(i.nextLocation.pathname,r)||i.nextLocation.pathname;return zu(o.pathname,f)!=null||zu(o.pathname,c)!=null}var Md={exports:{}},Vd,Wv;function _w(){if(Wv)return Vd;Wv=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vd=a,Vd}var kd,Jv;function bw(){if(Jv)return kd;Jv=1;var a=_w();function t(){}function i(){}return i.resetWarningCache=t,kd=function(){function r(f,p,y,m,v,T){if(T!==a){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}r.isRequired=r;function o(){return r}var c={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:t};return c.PropTypes=c,c},kd}var t0;function xw(){return t0||(t0=1,Md.exports=bw()()),Md.exports}var Ew=xw();const oe=ch(Ew);function Gr(a,t,i,r){function o(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function p(v){try{m(r.next(v))}catch(T){f(T)}}function y(v){try{m(r.throw(v))}catch(T){f(T)}}function m(v){v.done?c(v.value):o(v.value).then(p,y)}m((r=r.apply(a,t||[])).next())})}const Tw=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Qs(a,t,i){const r=ww(a),{webkitRelativePath:o}=a,c=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${a.name}`;return typeof r.path!="string"&&e0(r,"path",c),e0(r,"relativePath",c),r}function ww(a){const{name:t}=a;if(t&&t.lastIndexOf(".")!==-1&&!a.type){const r=t.split(".").pop().toLowerCase(),o=Tw.get(r);o&&Object.defineProperty(a,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return a}function e0(a,t,i){Object.defineProperty(a,t,{value:i,writable:!1,configurable:!1,enumerable:!0})}const Aw=[".DS_Store","Thumbs.db"];function Sw(a){return Gr(this,void 0,void 0,function*(){return Bu(a)&&Rw(a.dataTransfer)?Iw(a.dataTransfer,a.type):Cw(a)?Dw(a):Array.isArray(a)&&a.every(t=>"getFile"in t&&typeof t.getFile=="function")?Nw(a):[]})}function Rw(a){return Bu(a)}function Cw(a){return Bu(a)&&Bu(a.target)}function Bu(a){return typeof a=="object"&&a!==null}function Dw(a){return Jd(a.target.files).map(t=>Qs(t))}function Nw(a){return Gr(this,void 0,void 0,function*(){return(yield Promise.all(a.map(i=>i.getFile()))).map(i=>Qs(i))})}function Iw(a,t){return Gr(this,void 0,void 0,function*(){if(a.items){const i=Jd(a.items).filter(o=>o.kind==="file");if(t!=="drop")return i;const r=yield Promise.all(i.map(Ow));return n0(Y_(r))}return n0(Jd(a.files).map(i=>Qs(i)))})}function n0(a){return a.filter(t=>Aw.indexOf(t.name)===-1)}function Jd(a){if(a===null)return[];const t=[];for(let i=0;i<a.length;i++){const r=a[i];t.push(r)}return t}function Ow(a){if(typeof a.webkitGetAsEntry!="function")return i0(a);const t=a.webkitGetAsEntry();return t&&t.isDirectory?K_(t):i0(a,t)}function Y_(a){return a.reduce((t,i)=>[...t,...Array.isArray(i)?Y_(i):[i]],[])}function i0(a,t){return Gr(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof a.getAsFileSystemHandle=="function"){const c=yield a.getAsFileSystemHandle();if(c===null)throw new Error(`${a} is not a File`);if(c!==void 0){const f=yield c.getFile();return f.handle=c,Qs(f)}}const r=a.getAsFile();if(!r)throw new Error(`${a} is not a File`);return Qs(r,(i=t?.fullPath)!==null&&i!==void 0?i:void 0)})}function Mw(a){return Gr(this,void 0,void 0,function*(){return a.isDirectory?K_(a):Vw(a)})}function K_(a){const t=a.createReader();return new Promise((i,r)=>{const o=[];function c(){t.readEntries(f=>Gr(this,void 0,void 0,function*(){if(f.length){const p=Promise.all(f.map(Mw));o.push(p),c()}else try{const p=yield Promise.all(o);i(p)}catch(p){r(p)}}),f=>{r(f)})}c()})}function Vw(a){return Gr(this,void 0,void 0,function*(){return new Promise((t,i)=>{a.file(r=>{const o=Qs(r,a.fullPath);t(o)},r=>{i(r)})})})}var mu={},a0;function kw(){return a0||(a0=1,mu.__esModule=!0,mu.default=function(a,t){if(a&&t){var i=Array.isArray(t)?t:t.split(",");if(i.length===0)return!0;var r=a.name||"",o=(a.type||"").toLowerCase(),c=o.replace(/\/.*$/,"");return i.some(function(f){var p=f.trim().toLowerCase();return p.charAt(0)==="."?r.toLowerCase().endsWith(p):p.endsWith("/*")?c===p.replace(/\/.*$/,""):o===p})}return!0}),mu}var jw=kw();const jd=ch(jw);function r0(a){return Lw(a)||Uw(a)||Z_(a)||Pw()}function Pw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uw(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Lw(a){if(Array.isArray(a))return tp(a)}function s0(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function o0(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?s0(Object(i),!0).forEach(function(r){X_(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):s0(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function X_(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function Cl(a,t){return qw(a)||Bw(a,t)||Z_(a,t)||zw()}function zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_(a,t){if(a){if(typeof a=="string")return tp(a,t);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return tp(a,t)}}function tp(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=a[i];return r}function Bw(a,t){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,c=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(t&&r.length===t));o=!0);}catch(y){c=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw p}}return r}}function qw(a){if(Array.isArray(a))return a}var Hw=typeof jd=="function"?jd:jd.default,Fw="file-invalid-type",Gw="file-too-large",$w="file-too-small",Qw="too-many-files",Yw=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=t.split(","),r=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:Fw,message:"File type must be ".concat(r)}},l0=function(t){return{code:Gw,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},c0=function(t){return{code:$w,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Kw={code:Qw,message:"Too many files"};function W_(a,t){var i=a.type==="application/x-moz-file"||Hw(a,t);return[i,i?null:Yw(t)]}function J_(a,t,i){if(Lr(a.size))if(Lr(t)&&Lr(i)){if(a.size>i)return[!1,l0(i)];if(a.size<t)return[!1,c0(t)]}else{if(Lr(t)&&a.size<t)return[!1,c0(t)];if(Lr(i)&&a.size>i)return[!1,l0(i)]}return[!0,null]}function Lr(a){return a!=null}function Xw(a){var t=a.files,i=a.accept,r=a.minSize,o=a.maxSize,c=a.multiple,f=a.maxFiles,p=a.validator;return!c&&t.length>1||c&&f>=1&&t.length>f?!1:t.every(function(y){var m=W_(y,i),v=Cl(m,1),T=v[0],A=J_(y,r,o),O=Cl(A,1),U=O[0],k=p?p(y):null;return T&&U&&!k})}function qu(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function gu(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!a.target&&!!a.target.files}function u0(a){a.preventDefault()}function Zw(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function Ww(a){return a.indexOf("Edge/")!==-1}function Jw(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Zw(a)||Ww(a)}function Di(){for(var a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];return function(r){for(var o=arguments.length,c=new Array(o>1?o-1:0),f=1;f<o;f++)c[f-1]=arguments[f];return t.some(function(p){return!qu(r)&&p&&p.apply(void 0,[r].concat(c)),qu(r)})}}function tA(){return"showOpenFilePicker"in window}function eA(a){if(Lr(a)){var t=Object.entries(a).filter(function(i){var r=Cl(i,2),o=r[0],c=r[1],f=!0;return tb(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),f=!1),(!Array.isArray(c)||!c.every(eb))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),f=!1),f}).reduce(function(i,r){var o=Cl(r,2),c=o[0],f=o[1];return o0(o0({},i),{},X_({},c,f))},{});return[{description:"Files",accept:t}]}return a}function nA(a){if(Lr(a))return Object.entries(a).reduce(function(t,i){var r=Cl(i,2),o=r[0],c=r[1];return[].concat(r0(t),[o],r0(c))},[]).filter(function(t){return tb(t)||eb(t)}).join(",")}function iA(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function aA(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function tb(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||a==="application/*"||/\w+\/[-+.\w]+/g.test(a)}function eb(a){return/^.*\.[\w]+$/.test(a)}var rA=["children"],sA=["open"],oA=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],lA=["refKey","onChange","onClick"];function cA(a){return fA(a)||hA(a)||nb(a)||uA()}function uA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hA(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function fA(a){if(Array.isArray(a))return ep(a)}function Pd(a,t){return mA(a)||pA(a,t)||nb(a,t)||dA()}function dA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nb(a,t){if(a){if(typeof a=="string")return ep(a,t);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ep(a,t)}}function ep(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=a[i];return r}function pA(a,t){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,c=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(t&&r.length===t));o=!0);}catch(y){c=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw p}}return r}}function mA(a){if(Array.isArray(a))return a}function h0(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function ve(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?h0(Object(i),!0).forEach(function(r){np(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):h0(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function np(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function Hu(a,t){if(a==null)return{};var i=gA(a,t),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(o=0;o<c.length;o++)r=c[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(i[r]=a[r])}return i}function gA(a,t){if(a==null)return{};var i={},r=Object.keys(a),o,c;for(c=0;c<r.length;c++)o=r[c],!(t.indexOf(o)>=0)&&(i[o]=a[o]);return i}var jp=j.forwardRef(function(a,t){var i=a.children,r=Hu(a,rA),o=ab(r),c=o.open,f=Hu(o,sA);return j.useImperativeHandle(t,function(){return{open:c}},[c]),O_.createElement(j.Fragment,null,i(ve(ve({},f),{},{open:c})))});jp.displayName="Dropzone";var ib={disabled:!1,getFilesFromEvent:Sw,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};jp.defaultProps=ib;jp.propTypes={children:oe.func,accept:oe.objectOf(oe.arrayOf(oe.string)),multiple:oe.bool,preventDropOnDocument:oe.bool,noClick:oe.bool,noKeyboard:oe.bool,noDrag:oe.bool,noDragEventsBubbling:oe.bool,minSize:oe.number,maxSize:oe.number,maxFiles:oe.number,disabled:oe.bool,getFilesFromEvent:oe.func,onFileDialogCancel:oe.func,onFileDialogOpen:oe.func,useFsAccessApi:oe.bool,autoFocus:oe.bool,onDragEnter:oe.func,onDragLeave:oe.func,onDragOver:oe.func,onDrop:oe.func,onDropAccepted:oe.func,onDropRejected:oe.func,onError:oe.func,validator:oe.func};var ip={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ab(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ve(ve({},ib),a),i=t.accept,r=t.disabled,o=t.getFilesFromEvent,c=t.maxSize,f=t.minSize,p=t.multiple,y=t.maxFiles,m=t.onDragEnter,v=t.onDragLeave,T=t.onDragOver,A=t.onDrop,O=t.onDropAccepted,U=t.onDropRejected,k=t.onFileDialogCancel,V=t.onFileDialogOpen,Y=t.useFsAccessApi,Z=t.autoFocus,K=t.preventDropOnDocument,dt=t.noClick,ht=t.noKeyboard,bt=t.noDrag,P=t.noDragEventsBubbling,R=t.onError,C=t.validator,M=j.useMemo(function(){return nA(i)},[i]),I=j.useMemo(function(){return eA(i)},[i]),z=j.useMemo(function(){return typeof V=="function"?V:f0},[V]),S=j.useMemo(function(){return typeof k=="function"?k:f0},[k]),ft=j.useRef(null),ct=j.useRef(null),W=j.useReducer(yA,ip),st=Pd(W,2),lt=st[0],wt=st[1],D=lt.isFocused,J=lt.isFileDialogActive,ot=j.useRef(typeof window<"u"&&window.isSecureContext&&Y&&tA()),G=function(){!ot.current&&J&&setTimeout(function(){if(ct.current){var Tt=ct.current.files;Tt.length||(wt({type:"closeDialog"}),S())}},300)};j.useEffect(function(){return window.addEventListener("focus",G,!1),function(){window.removeEventListener("focus",G,!1)}},[ct,J,S,ot]);var rt=j.useRef([]),pt=function(Tt){ft.current&&ft.current.contains(Tt.target)||(Tt.preventDefault(),rt.current=[])};j.useEffect(function(){return K&&(document.addEventListener("dragover",u0,!1),document.addEventListener("drop",pt,!1)),function(){K&&(document.removeEventListener("dragover",u0),document.removeEventListener("drop",pt))}},[ft,K]),j.useEffect(function(){return!r&&Z&&ft.current&&ft.current.focus(),function(){}},[ft,Z,r]);var vt=j.useCallback(function(mt){R?R(mt):console.error(mt)},[R]),Bt=j.useCallback(function(mt){mt.preventDefault(),mt.persist(),hn(mt),rt.current=[].concat(cA(rt.current),[mt.target]),gu(mt)&&Promise.resolve(o(mt)).then(function(Tt){if(!(qu(mt)&&!P)){var Ot=Tt.length,Ct=Ot>0&&Xw({files:Tt,accept:M,minSize:f,maxSize:c,multiple:p,maxFiles:y,validator:C}),re=Ot>0&&!Ct;wt({isDragAccept:Ct,isDragReject:re,isDragActive:!0,type:"setDraggedFiles"}),m&&m(mt)}}).catch(function(Tt){return vt(Tt)})},[o,m,vt,P,M,f,c,p,y,C]),Mt=j.useCallback(function(mt){mt.preventDefault(),mt.persist(),hn(mt);var Tt=gu(mt);if(Tt&&mt.dataTransfer)try{mt.dataTransfer.dropEffect="copy"}catch{}return Tt&&T&&T(mt),!1},[T,P]),ae=j.useCallback(function(mt){mt.preventDefault(),mt.persist(),hn(mt);var Tt=rt.current.filter(function(Ct){return ft.current&&ft.current.contains(Ct)}),Ot=Tt.indexOf(mt.target);Ot!==-1&&Tt.splice(Ot,1),rt.current=Tt,!(Tt.length>0)&&(wt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gu(mt)&&v&&v(mt))},[ft,v,P]),Zt=j.useCallback(function(mt,Tt){var Ot=[],Ct=[];mt.forEach(function(re){var be=W_(re,M),Xn=Pd(be,2),or=Xn[0],Zn=Xn[1],Wn=J_(re,f,c),Vn=Pd(Wn,2),fn=Vn[0],fi=Vn[1],Jn=C?C(re):null;if(or&&fn&&!Jn)Ot.push(re);else{var Li=[Zn,fi];Jn&&(Li=Li.concat(Jn)),Ct.push({file:re,errors:Li.filter(function(lr){return lr})})}}),(!p&&Ot.length>1||p&&y>=1&&Ot.length>y)&&(Ot.forEach(function(re){Ct.push({file:re,errors:[Kw]})}),Ot.splice(0)),wt({acceptedFiles:Ot,fileRejections:Ct,isDragReject:Ct.length>0,type:"setFiles"}),A&&A(Ot,Ct,Tt),Ct.length>0&&U&&U(Ct,Tt),Ot.length>0&&O&&O(Ot,Tt)},[wt,p,M,f,c,y,A,O,U,C]),ue=j.useCallback(function(mt){mt.preventDefault(),mt.persist(),hn(mt),rt.current=[],gu(mt)&&Promise.resolve(o(mt)).then(function(Tt){qu(mt)&&!P||Zt(Tt,mt)}).catch(function(Tt){return vt(Tt)}),wt({type:"reset"})},[o,Zt,vt,P]),fe=j.useCallback(function(){if(ot.current){wt({type:"openDialog"}),z();var mt={multiple:p,types:I};window.showOpenFilePicker(mt).then(function(Tt){return o(Tt)}).then(function(Tt){Zt(Tt,null),wt({type:"closeDialog"})}).catch(function(Tt){iA(Tt)?(S(Tt),wt({type:"closeDialog"})):aA(Tt)?(ot.current=!1,ct.current?(ct.current.value=null,ct.current.click()):vt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):vt(Tt)});return}ct.current&&(wt({type:"openDialog"}),z(),ct.current.value=null,ct.current.click())},[wt,z,S,Y,Zt,vt,I,p]),rn=j.useCallback(function(mt){!ft.current||!ft.current.isEqualNode(mt.target)||(mt.key===" "||mt.key==="Enter"||mt.keyCode===32||mt.keyCode===13)&&(mt.preventDefault(),fe())},[ft,fe]),On=j.useCallback(function(){wt({type:"focus"})},[]),Mn=j.useCallback(function(){wt({type:"blur"})},[]),Kn=j.useCallback(function(){dt||(Jw()?setTimeout(fe,0):fe())},[dt,fe]),ge=function(Tt){return r?null:Tt},hi=function(Tt){return ht?null:ge(Tt)},_n=function(Tt){return bt?null:ge(Tt)},hn=function(Tt){P&&Tt.stopPropagation()},Ui=j.useMemo(function(){return function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tt=mt.refKey,Ot=Tt===void 0?"ref":Tt,Ct=mt.role,re=mt.onKeyDown,be=mt.onFocus,Xn=mt.onBlur,or=mt.onClick,Zn=mt.onDragEnter,Wn=mt.onDragOver,Vn=mt.onDragLeave,fn=mt.onDrop,fi=Hu(mt,oA);return ve(ve(np({onKeyDown:hi(Di(re,rn)),onFocus:hi(Di(be,On)),onBlur:hi(Di(Xn,Mn)),onClick:ge(Di(or,Kn)),onDragEnter:_n(Di(Zn,Bt)),onDragOver:_n(Di(Wn,Mt)),onDragLeave:_n(Di(Vn,ae)),onDrop:_n(Di(fn,ue)),role:typeof Ct=="string"&&Ct!==""?Ct:"presentation"},Ot,ft),!r&&!ht?{tabIndex:0}:{}),fi)}},[ft,rn,On,Mn,Kn,Bt,Mt,ae,ue,ht,bt,r]),co=j.useCallback(function(mt){mt.stopPropagation()},[]),ya=j.useMemo(function(){return function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tt=mt.refKey,Ot=Tt===void 0?"ref":Tt,Ct=mt.onChange,re=mt.onClick,be=Hu(mt,lA),Xn=np({accept:M,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ge(Di(Ct,ue)),onClick:ge(Di(re,co)),tabIndex:-1},Ot,ct);return ve(ve({},Xn),be)}},[ct,i,p,ue,r]);return ve(ve({},lt),{},{isFocused:D&&!r,getRootProps:Ui,getInputProps:ya,rootRef:ft,inputRef:ct,open:ge(fe)})}function yA(a,t){switch(t.type){case"focus":return ve(ve({},a),{},{isFocused:!0});case"blur":return ve(ve({},a),{},{isFocused:!1});case"openDialog":return ve(ve({},ip),{},{isFileDialogActive:!0});case"closeDialog":return ve(ve({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return ve(ve({},a),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ve(ve({},a),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return ve({},ip);default:return a}}function f0(){}const vA=({onFilesAdded:a})=>{const t=j.useCallback(c=>{const f=c.map((p,y)=>({id:crypto.randomUUID(),file:p,preview:URL.createObjectURL(p),originalName:p.name,number:y+1}));a(f)},[a]),{getRootProps:i,getInputProps:r,isDragActive:o}=ab({onDrop:t,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp"]},multiple:!0});return E.jsxs("div",{...i(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[E.jsx("input",{...r()}),E.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[E.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-lg font-medium text-gray-700",children:o?"":"&"}),E.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["",E.jsx("span",{className:"text-blue-500 underline",children:""})]})]})]})]})},_A=({photos:a,onRemove:t})=>a.length===0?null:E.jsxs("div",{className:"mt-6",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" (",a.length,")"]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(i=>E.jsx("div",{className:"relative group",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:i.preview,alt:i.originalName,className:"w-full h-32 object-cover"}),E.jsx("button",{onClick:()=>t(i.id),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""}),E.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:i.number})]}),E.jsx("div",{className:"p-3",children:E.jsx("p",{className:"text-xs text-gray-600 truncate",title:i.originalName,children:i.originalName})})]})},i.id))})]}),bA=({metaInfo:a,onChange:t,errors:i})=>{const r=(o,c)=>{t({...a,[o]:c})};return E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:""}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),E.jsx("input",{type:"text",value:a.photographerName,onChange:o=>r("photographerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.photographerName?"border-red-500":"border-gray-300"}`,placeholder:""}),i.photographerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.photographerName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),E.jsx("input",{type:"date",value:a.shootingDate,onChange:o=>r("shootingDate",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.shootingDate?"border-red-500":"border-gray-300"}`}),i.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),E.jsx("input",{type:"number",value:a.receptionNumber,onChange:o=>r("receptionNumber",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),i.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),E.jsx("input",{type:"text",value:a.customerName,onChange:o=>r("customerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),i.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.customerName})]})]})]})},xA=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},EA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],f=a[i++],p=a[i++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],f=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const c=a[o],f=o+1<a.length,p=f?a[o+1]:0,y=o+2<a.length,m=y?a[o+2]:0,v=c>>2,T=(c&3)<<4|p>>4;let A=(p&15)<<2|m>>6,O=m&63;y||(O=64,f||(A=64)),r.push(i[v],i[T],i[A],i[O])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(rb(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):EA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const m=o<a.length?i[a.charAt(o)]:64;++o;const T=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||p==null||m==null||T==null)throw new TA;const A=c<<2|p>>4;if(r.push(A),m!==64){const O=p<<4&240|m>>2;if(r.push(O),T!==64){const U=m<<6&192|T;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class TA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wA=function(a){const t=rb(a);return sb.encodeByteArray(t,!0)},Fu=function(a){return wA(a).replace(/\./g,"")},AA=function(a){try{return sb.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=()=>SA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof d0>"u")return;const a=d0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},DA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&AA(a[1]);return t&&JSON.parse(t)},Pp=()=>{try{return xA()||RA()||CA()||DA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},NA=a=>Pp()?.emulatorHosts?.[a],ob=a=>{const t=NA(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},lb=()=>Pp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cb(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Fu(JSON.stringify(i)),Fu(JSON.stringify(f)),""].join(".")}const xl={};function OA(){const a={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?a.emulator.push(t):a.prod.push(t);return a}function MA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let p0=!1;function hb(a,t){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||xl[a]===t||xl[a]||p0)return;xl[a]=t;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",c=OA().prod.length>0;function f(){const A=document.getElementById(r);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function m(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{p0=!0,f()},A}function v(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=MA(r),O=i("text"),U=document.getElementById(O)||document.createElement("span"),k=i("learnmore"),V=document.getElementById(k)||document.createElement("a"),Y=i("preprendIcon"),Z=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const K=A.element;p(K),v(V,k);const dt=m();y(Z,Y),K.append(Z,U,V,dt),document.body.appendChild(K)}c?(U.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kA(){const a=Pp()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return!kA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PA(){try{return typeof indexedDB=="object"}catch{return!1}}function UA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="FirebaseError";class $r extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=LA,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fb.prototype.create)}}class fb{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?zA(c,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new $r(o,p,r)}}function zA(a,t){return a.replace(BA,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const BA=/\{\$([^}]+)}/g;function Gu(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=a[o],f=t[o];if(m0(c)&&m0(f)){if(!Gu(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function m0(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(a){return a&&a._delegate?a._delegate:a}class Ys{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new IA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FA(t))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=Ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ur){return this.instances.has(t)}getOptions(t=Ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&f.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ur){return this.component?this.component.multipleInstances?t:Ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HA(a){return a===Ur?void 0:a}function FA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new qA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})($t||($t={}));const $A={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},QA=$t.INFO,YA={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},KA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=YA[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class db{constructor(t){this.name=t,this._logLevel=QA,this._logHandler=KA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$A[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const XA=(a,t)=>t.some(i=>a instanceof i);let g0,y0;function ZA(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WA(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pb=new WeakMap,ap=new WeakMap,mb=new WeakMap,Ud=new WeakMap,Up=new WeakMap;function JA(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",f)},c=()=>{i(Ka(a.result)),o()},f=()=>{r(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&pb.set(i,a)}).catch(()=>{}),Up.set(t,a),t}function tS(a){if(ap.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",f),a.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",f),a.addEventListener("abort",f)});ap.set(a,t)}let rp={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return ap.get(a);if(t==="objectStoreNames")return a.objectStoreNames||mb.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ka(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function eS(a){rp=a(rp)}function nS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Ld(this),t,...i);return mb.set(r,t.sort?t.sort():[t]),Ka(r)}:WA().includes(a)?function(...t){return a.apply(Ld(this),t),Ka(pb.get(this))}:function(...t){return Ka(a.apply(Ld(this),t))}}function iS(a){return typeof a=="function"?nS(a):(a instanceof IDBTransaction&&tS(a),XA(a,ZA())?new Proxy(a,rp):a)}function Ka(a){if(a instanceof IDBRequest)return JA(a);if(Ud.has(a))return Ud.get(a);const t=iS(a);return t!==a&&(Ud.set(a,t),Up.set(t,a)),t}const Ld=a=>Up.get(a);function aS(a,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(a,t),p=Ka(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Ka(f.result),y.oldVersion,y.newVersion,Ka(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const rS=["get","getKey","getAll","getAllKeys","count"],sS=["put","add","delete","clear"],zd=new Map;function v0(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=sS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||rS.includes(i)))return;const c=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let m=y.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),o&&y.done]))[0]};return zd.set(t,c),c}eS(a=>({...a,get:(t,i,r)=>v0(t,i)||a.get(t,i,r),has:(t,i)=>!!v0(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(lS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function lS(a){return a.getComponent()?.type==="VERSION"}const sp="@firebase/app",_0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new db("@firebase/app"),cS="@firebase/app-compat",uS="@firebase/analytics-compat",hS="@firebase/analytics",fS="@firebase/app-check-compat",dS="@firebase/app-check",pS="@firebase/auth",mS="@firebase/auth-compat",gS="@firebase/database",yS="@firebase/data-connect",vS="@firebase/database-compat",_S="@firebase/functions",bS="@firebase/functions-compat",xS="@firebase/installations",ES="@firebase/installations-compat",TS="@firebase/messaging",wS="@firebase/messaging-compat",AS="@firebase/performance",SS="@firebase/performance-compat",RS="@firebase/remote-config",CS="@firebase/remote-config-compat",DS="@firebase/storage",NS="@firebase/storage-compat",IS="@firebase/firestore",OS="@firebase/ai",MS="@firebase/firestore-compat",VS="firebase",kS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",jS={[sp]:"fire-core",[cS]:"fire-core-compat",[hS]:"fire-analytics",[uS]:"fire-analytics-compat",[dS]:"fire-app-check",[fS]:"fire-app-check-compat",[pS]:"fire-auth",[mS]:"fire-auth-compat",[gS]:"fire-rtdb",[yS]:"fire-data-connect",[vS]:"fire-rtdb-compat",[_S]:"fire-fn",[bS]:"fire-fn-compat",[xS]:"fire-iid",[ES]:"fire-iid-compat",[TS]:"fire-fcm",[wS]:"fire-fcm-compat",[AS]:"fire-perf",[SS]:"fire-perf-compat",[RS]:"fire-rc",[CS]:"fire-rc-compat",[DS]:"fire-gcs",[NS]:"fire-gcs-compat",[IS]:"fire-fst",[MS]:"fire-fst-compat",[OS]:"fire-vertex","fire-js":"fire-js",[VS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,PS=new Map,lp=new Map;function b0(a,t){try{a.container.addComponent(t)}catch(i){pa.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Dl(a){const t=a.name;if(lp.has(t))return pa.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,a);for(const i of $u.values())b0(i,a);for(const i of PS.values())b0(i,a);return!0}function gb(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function yb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new fb("app","Firebase",US);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=kS;function _b(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:op,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Xa.create("bad-app-name",{appName:String(o)});if(i||(i=lb()),!i)throw Xa.create("no-options");const c=$u.get(o);if(c){if(Gu(i,c.options)&&Gu(r,c.config))return c;throw Xa.create("duplicate-app",{appName:o})}const f=new GA(o);for(const y of lp.values())f.addComponent(y);const p=new LS(i,r,f);return $u.set(o,p),p}function bb(a=op){const t=$u.get(a);if(!t&&a===op&&lb())return _b();if(!t)throw Xa.create("no-app",{appName:a});return t}function Za(a,t,i){let r=jS[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pa.warn(f.join(" "));return}Dl(new Ys(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebase-heartbeat-database",BS=1,Nl="firebase-heartbeat-store";let Bd=null;function xb(){return Bd||(Bd=aS(zS,BS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Xa.create("idb-open",{originalErrorMessage:a.message})})),Bd}async function qS(a){try{const i=(await xb()).transaction(Nl),r=await i.objectStore(Nl).get(Eb(a));return await i.done,r}catch(t){if(t instanceof $r)pa.warn(t.message);else{const i=Xa.create("idb-get",{originalErrorMessage:t?.message});pa.warn(i.message)}}}async function x0(a,t){try{const r=(await xb()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(t,Eb(a)),await r.done}catch(i){if(i instanceof $r)pa.warn(i.message);else{const r=Xa.create("idb-set",{originalErrorMessage:i?.message});pa.warn(r.message)}}}function Eb(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=1024,FS=30;class GS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=E0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>FS){const o=YS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=E0(),{heartbeatsToSend:i,unsentEntries:r}=$S(this._heartbeatsCache.heartbeats),o=Fu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return pa.warn(t),""}}}function E0(){return new Date().toISOString().substring(0,10)}function $S(a,t=HS){const i=[];let r=a.slice();for(const o of a){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),T0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),T0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class QS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PA()?UA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function T0(a){return Fu(JSON.stringify({version:2,heartbeats:a})).length}function YS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(a){Dl(new Ys("platform-logger",t=>new oS(t),"PRIVATE")),Dl(new Ys("heartbeat",t=>new GS(t),"PRIVATE")),Za(sp,_0,a),Za(sp,_0,"esm2020"),Za("fire-js","")}KS("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebasestorage.googleapis.com",wb="storageBucket",XS=120*1e3,ZS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends $r{constructor(t,i,r=0){super(qd(t),`Firebase Storage: ${i} (${qd(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ae.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return qd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var we;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(we||(we={}));function qd(a){return"storage/"+a}function Lp(){const a="An unknown error occurred, please check the error payload for server response.";return new Ae(we.UNKNOWN,a)}function WS(a){return new Ae(we.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function JS(a){return new Ae(we.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function t2(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ae(we.UNAUTHENTICATED,a)}function e2(){return new Ae(we.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n2(a){return new Ae(we.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function i2(){return new Ae(we.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a2(){return new Ae(we.CANCELED,"User canceled the upload/download.")}function r2(a){return new Ae(we.INVALID_URL,"Invalid URL '"+a+"'.")}function s2(a){return new Ae(we.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function o2(){return new Ae(we.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wb+"' property when initializing the app?")}function l2(){return new Ae(we.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function c2(){return new Ae(we.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function u2(a){return new Ae(we.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cp(a){return new Ae(we.INVALID_ARGUMENT,a)}function Ab(){return new Ae(we.APP_DELETED,"The Firebase app was deleted.")}function h2(a){return new Ae(we.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function El(a,t){return new Ae(we.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function yl(a){throw new Ae(we.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=vn.makeFromUrl(t,i)}catch{return new vn(t,"")}if(r.path==="")return r;throw s2(t)}static makeFromUrl(t,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(dt){dt.path.charAt(dt.path.length-1)==="/"&&(dt.path_=dt.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function m(dt){dt.path_=decodeURIComponent(dt.path)}const v="v[A-Za-z0-9_]+",T=i.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${v}/b/${o}/o${A}`,"i"),U={bucket:1,path:3},k=i===Tb?"(?:storage.googleapis.com|storage.cloud.google.com)":i,V="([^?#]*)",Y=new RegExp(`^https?://${k}/${o}/${V}`,"i"),K=[{regex:p,indices:y,postModify:c},{regex:O,indices:U,postModify:m},{regex:Y,indices:{bucket:1,path:2},postModify:m}];for(let dt=0;dt<K.length;dt++){const ht=K[dt],bt=ht.regex.exec(t);if(bt){const P=bt[ht.indices.bucket];let R=bt[ht.indices.path];R||(R=""),r=new vn(P,R),ht.postModify(r);break}}if(r==null)throw r2(t);return r}}class f2{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(a,t,i){let r=1,o=null,c=null,f=!1,p=0;function y(){return p===2}let m=!1;function v(...V){m||(m=!0,t.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,a(O,y())},V)}function A(){c&&clearTimeout(c)}function O(V,...Y){if(m){A();return}if(V){A(),v.call(null,V,...Y);return}if(y()||f){A(),v.call(null,V,...Y);return}r<64&&(r*=2);let K;p===1?(p=2,K=0):K=(r+Math.random())*1e3,T(K)}let U=!1;function k(V){U||(U=!0,A(),!m&&(o!==null?(V||(p=2),clearTimeout(o),T(0)):V||(p=1)))}return T(0),c=setTimeout(()=>{f=!0,k(!0)},i),k}function p2(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(a){return a!==void 0}function g2(a){return typeof a=="object"&&!Array.isArray(a)}function zp(a){return typeof a=="string"||a instanceof String}function w0(a){return Bp()&&a instanceof Blob}function Bp(){return typeof Blob<"u"}function up(a,t,i,r){if(r<t)throw cp(`Invalid value for '${a}'. Expected ${t} or greater.`);if(r>i)throw cp(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(a,t,i){let r=t;return i==null&&(r=`https://${t}`),`${i}://${r}/v0${a}`}function Sb(a){const t=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const o=t(r)+"="+t(a[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Br;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Br||(Br={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(a,t){const i=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,c=t.indexOf(a)!==-1;return i||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,i,r,o,c,f,p,y,m,v,T,A=!0,O=!1){this.url_=t,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=y,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,k)=>{this.resolve_=U,this.reject_=k,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new yu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const y=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,m)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===Br.NO_ERROR,y=c.getStatus();if(!p||y2(y,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===Br.ABORT;r(!1,new yu(!1,null,v));return}const m=this.successCodes_.indexOf(y)!==-1;r(!0,new yu(m,c))})},i=(r,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());m2(y)?c(y):c()}catch(y){f(y)}else if(p!==null){const y=Lp();y.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,y)):f(y)}else if(o.canceled){const y=this.appDelete_?Ab():a2();f(y)}else{const y=i2();f(y)}};this.canceled_?i(!1,new yu(!1,null,!0)):this.backoffId_=d2(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&p2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yu{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function _2(a,t){t!==null&&t.length>0&&(a.Authorization="Firebase "+t)}function b2(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function x2(a,t){t&&(a["X-Firebase-GMPID"]=t)}function E2(a,t){t!==null&&(a["X-Firebase-AppCheck"]=t)}function T2(a,t,i,r,o,c,f=!0,p=!1){const y=Sb(a.urlParams),m=a.url+y,v=Object.assign({},a.headers);return x2(v,t),_2(v,i),b2(v,c),E2(v,r),new v2(m,a.method,v,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function A2(...a){const t=w2();if(t!==void 0){const i=new t;for(let r=0;r<a.length;r++)i.append(a[r]);return i.getBlob()}else{if(Bp())return new Blob(a);throw new Ae(we.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function S2(a,t,i){return a.webkitSlice?a.webkitSlice(t,i):a.mozSlice?a.mozSlice(t,i):a.slice?a.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(a){if(typeof atob>"u")throw u2("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hd{constructor(t,i){this.data=t,this.contentType=i||null}}function C2(a,t){switch(a){case Ii.RAW:return new Hd(Rb(t));case Ii.BASE64:case Ii.BASE64URL:return new Hd(Cb(a,t));case Ii.DATA_URL:return new Hd(N2(t),I2(t))}throw Lp()}function Rb(a){const t=[];for(let i=0;i<a.length;i++){let r=a.charCodeAt(i);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const c=r,f=a.charCodeAt(++i);r=65536|(c&1023)<<10|f&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function D2(a){let t;try{t=decodeURIComponent(a)}catch{throw El(Ii.DATA_URL,"Malformed data URL.")}return Rb(t)}function Cb(a,t){switch(a){case Ii.BASE64:{const o=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(o||c)throw El(a,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const o=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(o||c)throw El(a,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=R2(t)}catch(o){throw o.message.includes("polyfill")?o:El(a,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class Db{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw El(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=O2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function N2(a){const t=new Db(a);return t.base64?Cb(Ii.BASE64,t.rest):D2(t.rest)}function I2(a){return new Db(a).contentType}function O2(a,t){return a.length>=t.length?a.substring(a.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,i){let r=0,o="";w0(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,i){if(w0(this.data_)){const r=this.data_,o=S2(r,t,i);return o===null?null:new Qa(o)}else{const r=new Uint8Array(this.data_.buffer,t,i-t);return new Qa(r,!0)}}static getBlob(...t){if(Bp()){const i=t.map(r=>r instanceof Qa?r.data_:r);return new Qa(A2.apply(null,i))}else{const i=t.map(f=>zp(f)?C2(Ii.RAW,f).data:f.data_);let r=0;i.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let c=0;return i.forEach(f=>{for(let p=0;p<f.length;p++)o[c++]=f[p]}),new Qa(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(a){let t;try{t=JSON.parse(a)}catch{return null}return g2(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(a){if(a.length===0)return null;const t=a.lastIndexOf("/");return t===-1?"":a.slice(0,t)}function V2(a,t){const i=t.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function Nb(a){const t=a.lastIndexOf("/",a.length-2);return t===-1?a:a.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(a,t){return t}class yn{constructor(t,i,r,o){this.server=t,this.local=i||t,this.writable=!!r,this.xform=o||k2}}let vu=null;function j2(a){return!zp(a)||a.length<2?a:Nb(a)}function Ib(){if(vu)return vu;const a=[];a.push(new yn("bucket")),a.push(new yn("generation")),a.push(new yn("metageneration")),a.push(new yn("name","fullPath",!0));function t(c,f){return j2(f)}const i=new yn("name");i.xform=t,a.push(i);function r(c,f){return f!==void 0?Number(f):f}const o=new yn("size");return o.xform=r,a.push(o),a.push(new yn("timeCreated")),a.push(new yn("updated")),a.push(new yn("md5Hash",null,!0)),a.push(new yn("cacheControl",null,!0)),a.push(new yn("contentDisposition",null,!0)),a.push(new yn("contentEncoding",null,!0)),a.push(new yn("contentLanguage",null,!0)),a.push(new yn("contentType",null,!0)),a.push(new yn("metadata","customMetadata",!0)),vu=a,vu}function P2(a,t){function i(){const r=a.bucket,o=a.fullPath,c=new vn(r,o);return t._makeStorageReference(c)}Object.defineProperty(a,"ref",{get:i})}function U2(a,t,i){const r={};r.type="file";const o=i.length;for(let c=0;c<o;c++){const f=i[c];r[f.local]=f.xform(r,t[f.server])}return P2(r,a),r}function Ob(a,t,i){const r=qp(t);return r===null?null:U2(a,r,i)}function L2(a,t,i,r){const o=qp(t);if(o===null||!zp(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const f=encodeURIComponent;return c.split(",").map(m=>{const v=a.bucket,T=a.fullPath,A="/b/"+f(v)+"/o/"+f(T),O=fh(A,i,r),U=Sb({alt:"media",token:m});return O+U})[0]}function z2(a,t){const i={},r=t.length;for(let o=0;o<r;o++){const c=t[o];c.writable&&(i[c.server]=a[c.local])}return JSON.stringify(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="prefixes",S0="items";function B2(a,t,i){const r={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[A0])for(const o of i[A0]){const c=o.replace(/\/$/,""),f=a._makeStorageReference(new vn(t,c));r.prefixes.push(f)}if(i[S0])for(const o of i[S0]){const c=a._makeStorageReference(new vn(t,o.name));r.items.push(c)}return r}function q2(a,t,i){const r=qp(i);return r===null?null:B2(a,t,r)}class Hp{constructor(t,i,r,o){this.url=t,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(a){if(!a)throw Lp()}function H2(a,t){function i(r,o){const c=Ob(a,o,t);return Fp(c!==null),c}return i}function F2(a,t){function i(r,o){const c=q2(a,t,o);return Fp(c!==null),c}return i}function G2(a,t){function i(r,o){const c=Ob(a,o,t);return Fp(c!==null),L2(c,o,a.host,a._protocol)}return i}function Gp(a){function t(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=e2():o=t2():i.getStatus()===402?o=JS(a.bucket):i.getStatus()===403?o=n2(a.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return t}function $2(a){const t=Gp(a);function i(r,o){let c=t(r,o);return r.getStatus()===404&&(c=WS(a.path)),c.serverResponse=o.serverResponse,c}return i}function Q2(a,t,i,r,o){const c={};t.isRoot?c.prefix="":c.prefix=t.path+"/",i.length>0&&(c.delimiter=i),r&&(c.pageToken=r),o&&(c.maxResults=o);const f=t.bucketOnlyServerUrl(),p=fh(f,a.host,a._protocol),y="GET",m=a.maxOperationRetryTime,v=new Hp(p,y,F2(a,t.bucket),m);return v.urlParams=c,v.errorHandler=Gp(t),v}function Y2(a,t,i){const r=t.fullServerUrl(),o=fh(r,a.host,a._protocol),c="GET",f=a.maxOperationRetryTime,p=new Hp(o,c,G2(a,i),f);return p.errorHandler=$2(t),p}function K2(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}function X2(a,t,i){const r=Object.assign({},i);return r.fullPath=a.path,r.size=t.size(),r.contentType||(r.contentType=K2(null,t)),r}function Z2(a,t,i,r,o){const c=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let K="";for(let dt=0;dt<2;dt++)K=K+Math.random().toString().slice(2);return K}const y=p();f["Content-Type"]="multipart/related; boundary="+y;const m=X2(t,r,o),v=z2(m,i),T="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+y+`\r
Content-Type: `+m.contentType+`\r
\r
`,A=`\r
--`+y+"--",O=Qa.getBlob(T,r,A);if(O===null)throw l2();const U={name:m.fullPath},k=fh(c,a.host,a._protocol),V="POST",Y=a.maxUploadRetryTime,Z=new Hp(k,V,H2(a,i),Y);return Z.urlParams=U,Z.headers=f,Z.body=O.uploadData(),Z.errorHandler=Gp(t),Z}class W2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Br.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Br.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Br.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,r,o,c){if(this.sent_)throw yl("cannot .send() more than once");if(zl(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,t,!0),c!==void 0)for(const f in c)c.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,c[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class J2 extends W2{initXhr(){this.xhr_.responseType="text"}}function $p(){return new J2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i){this._service=t,i instanceof vn?this._location=i:this._location=vn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new qr(t,i)}get root(){const t=new vn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nb(this._location.path)}get storage(){return this._service}get parent(){const t=M2(this._location.path);if(t===null)return null;const i=new vn(this._location.bucket,t);return new qr(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw h2(t)}}function tR(a,t,i){a._throwIfRoot("uploadBytes");const r=Z2(a.storage,a._location,Ib(),new Qa(t,!0),i);return a.storage.makeRequestWithTokens(r,$p).then(o=>({metadata:o,ref:a}))}function eR(a){const t={prefixes:[],items:[]};return Mb(a,t).then(()=>t)}async function Mb(a,t,i){const o=await nR(a,{pageToken:i});t.prefixes.push(...o.prefixes),t.items.push(...o.items),o.nextPageToken!=null&&await Mb(a,t,o.nextPageToken)}function nR(a,t){t!=null&&typeof t.maxResults=="number"&&up("options.maxResults",1,1e3,t.maxResults);const i=t||{},r=Q2(a.storage,a._location,"/",i.pageToken,i.maxResults);return a.storage.makeRequestWithTokens(r,$p)}function iR(a){a._throwIfRoot("getDownloadURL");const t=Y2(a.storage,a._location,Ib());return a.storage.makeRequestWithTokens(t,$p).then(i=>{if(i===null)throw c2();return i})}function aR(a,t){const i=V2(a._location.path,t),r=new vn(a._location.bucket,i);return new qr(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(a){return/^[A-Za-z]+:\/\//.test(a)}function sR(a,t){return new qr(a,t)}function Vb(a,t){if(a instanceof Qp){const i=a;if(i._bucket==null)throw o2();const r=new qr(i,i._bucket);return t!=null?Vb(r,t):r}else return t!==void 0?aR(a,t):a}function oR(a,t){if(t&&rR(t)){if(a instanceof Qp)return sR(a,t);throw cp("To use ref(service, url), the first argument must be a Storage instance.")}else return Vb(a,t)}function R0(a,t){const i=t?.[wb];return i==null?null:vn.makeFromBucketSpec(i,a)}function lR(a,t,i,r={}){a.host=`${t}:${i}`;const o=zl(t);o&&(cb(`https://${a.host}/b`),hb("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(a._overrideAuthToken=typeof c=="string"?c:ub(c,a.app.options.projectId))}class Qp{constructor(t,i,r,o,c,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=Tb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XS,this._maxUploadRetryTime=ZS,this._requests=new Set,o!=null?this._bucket=vn.makeFromBucketSpec(o,this._host):this._bucket=R0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,t):this._bucket=R0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){up("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){up("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(yb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new qr(this,t)}_makeRequest(t,i,r,o,c=!0){if(this._deleted)return new f2(Ab());{const f=T2(t,this._appId,r,o,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,o).getPromise()}}const C0="@firebase/storage",D0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="storage";function cR(a,t,i){return a=oi(a),tR(a,t,i)}function N0(a){return a=oi(a),eR(a)}function uR(a){return a=oi(a),iR(a)}function Fd(a,t){return a=oi(a),oR(a,t)}function hR(a=bb(),t){a=oi(a);const r=gb(a,kb).getImmediate({identifier:t}),o=ob("storage");return o&&fR(r,...o),r}function fR(a,t,i,r={}){lR(a,t,i,r)}function dR(a,{instanceIdentifier:t}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new Qp(i,r,o,t,vb)}function pR(){Dl(new Ys(kb,dR,"PUBLIC").setMultipleInstances(!0)),Za(C0,D0,""),Za(C0,D0,"esm2020")}pR();var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,jb;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,R){function C(){}C.prototype=R.prototype,P.D=R.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(M,I,z){for(var S=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)S[ft-2]=arguments[ft];return R.prototype[I].apply(M,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)M[I]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(I=0;16>I;++I)M[I]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=P.g[0],C=P.g[1],I=P.g[2];var z=P.g[3],S=R+(z^C&(I^z))+M[0]+3614090360&4294967295;R=C+(S<<7&4294967295|S>>>25),S=z+(I^R&(C^I))+M[1]+3905402710&4294967295,z=R+(S<<12&4294967295|S>>>20),S=I+(C^z&(R^C))+M[2]+606105819&4294967295,I=z+(S<<17&4294967295|S>>>15),S=C+(R^I&(z^R))+M[3]+3250441966&4294967295,C=I+(S<<22&4294967295|S>>>10),S=R+(z^C&(I^z))+M[4]+4118548399&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(I^R&(C^I))+M[5]+1200080426&4294967295,z=R+(S<<12&4294967295|S>>>20),S=I+(C^z&(R^C))+M[6]+2821735955&4294967295,I=z+(S<<17&4294967295|S>>>15),S=C+(R^I&(z^R))+M[7]+4249261313&4294967295,C=I+(S<<22&4294967295|S>>>10),S=R+(z^C&(I^z))+M[8]+1770035416&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(I^R&(C^I))+M[9]+2336552879&4294967295,z=R+(S<<12&4294967295|S>>>20),S=I+(C^z&(R^C))+M[10]+4294925233&4294967295,I=z+(S<<17&4294967295|S>>>15),S=C+(R^I&(z^R))+M[11]+2304563134&4294967295,C=I+(S<<22&4294967295|S>>>10),S=R+(z^C&(I^z))+M[12]+1804603682&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(I^R&(C^I))+M[13]+4254626195&4294967295,z=R+(S<<12&4294967295|S>>>20),S=I+(C^z&(R^C))+M[14]+2792965006&4294967295,I=z+(S<<17&4294967295|S>>>15),S=C+(R^I&(z^R))+M[15]+1236535329&4294967295,C=I+(S<<22&4294967295|S>>>10),S=R+(I^z&(C^I))+M[1]+4129170786&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^I&(R^C))+M[6]+3225465664&4294967295,z=R+(S<<9&4294967295|S>>>23),S=I+(R^C&(z^R))+M[11]+643717713&4294967295,I=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(I^z))+M[0]+3921069994&4294967295,C=I+(S<<20&4294967295|S>>>12),S=R+(I^z&(C^I))+M[5]+3593408605&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^I&(R^C))+M[10]+38016083&4294967295,z=R+(S<<9&4294967295|S>>>23),S=I+(R^C&(z^R))+M[15]+3634488961&4294967295,I=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(I^z))+M[4]+3889429448&4294967295,C=I+(S<<20&4294967295|S>>>12),S=R+(I^z&(C^I))+M[9]+568446438&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^I&(R^C))+M[14]+3275163606&4294967295,z=R+(S<<9&4294967295|S>>>23),S=I+(R^C&(z^R))+M[3]+4107603335&4294967295,I=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(I^z))+M[8]+1163531501&4294967295,C=I+(S<<20&4294967295|S>>>12),S=R+(I^z&(C^I))+M[13]+2850285829&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^I&(R^C))+M[2]+4243563512&4294967295,z=R+(S<<9&4294967295|S>>>23),S=I+(R^C&(z^R))+M[7]+1735328473&4294967295,I=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(I^z))+M[12]+2368359562&4294967295,C=I+(S<<20&4294967295|S>>>12),S=R+(C^I^z)+M[5]+4294588738&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^I)+M[8]+2272392833&4294967295,z=R+(S<<11&4294967295|S>>>21),S=I+(z^R^C)+M[11]+1839030562&4294967295,I=z+(S<<16&4294967295|S>>>16),S=C+(I^z^R)+M[14]+4259657740&4294967295,C=I+(S<<23&4294967295|S>>>9),S=R+(C^I^z)+M[1]+2763975236&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^I)+M[4]+1272893353&4294967295,z=R+(S<<11&4294967295|S>>>21),S=I+(z^R^C)+M[7]+4139469664&4294967295,I=z+(S<<16&4294967295|S>>>16),S=C+(I^z^R)+M[10]+3200236656&4294967295,C=I+(S<<23&4294967295|S>>>9),S=R+(C^I^z)+M[13]+681279174&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^I)+M[0]+3936430074&4294967295,z=R+(S<<11&4294967295|S>>>21),S=I+(z^R^C)+M[3]+3572445317&4294967295,I=z+(S<<16&4294967295|S>>>16),S=C+(I^z^R)+M[6]+76029189&4294967295,C=I+(S<<23&4294967295|S>>>9),S=R+(C^I^z)+M[9]+3654602809&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^I)+M[12]+3873151461&4294967295,z=R+(S<<11&4294967295|S>>>21),S=I+(z^R^C)+M[15]+530742520&4294967295,I=z+(S<<16&4294967295|S>>>16),S=C+(I^z^R)+M[2]+3299628645&4294967295,C=I+(S<<23&4294967295|S>>>9),S=R+(I^(C|~z))+M[0]+4096336452&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~I))+M[7]+1126891415&4294967295,z=R+(S<<10&4294967295|S>>>22),S=I+(R^(z|~C))+M[14]+2878612391&4294967295,I=z+(S<<15&4294967295|S>>>17),S=C+(z^(I|~R))+M[5]+4237533241&4294967295,C=I+(S<<21&4294967295|S>>>11),S=R+(I^(C|~z))+M[12]+1700485571&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~I))+M[3]+2399980690&4294967295,z=R+(S<<10&4294967295|S>>>22),S=I+(R^(z|~C))+M[10]+4293915773&4294967295,I=z+(S<<15&4294967295|S>>>17),S=C+(z^(I|~R))+M[1]+2240044497&4294967295,C=I+(S<<21&4294967295|S>>>11),S=R+(I^(C|~z))+M[8]+1873313359&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~I))+M[15]+4264355552&4294967295,z=R+(S<<10&4294967295|S>>>22),S=I+(R^(z|~C))+M[6]+2734768916&4294967295,I=z+(S<<15&4294967295|S>>>17),S=C+(z^(I|~R))+M[13]+1309151649&4294967295,C=I+(S<<21&4294967295|S>>>11),S=R+(I^(C|~z))+M[4]+4149444226&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~I))+M[11]+3174756917&4294967295,z=R+(S<<10&4294967295|S>>>22),S=I+(R^(z|~C))+M[2]+718787259&4294967295,I=z+(S<<15&4294967295|S>>>17),S=C+(z^(I|~R))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(I+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var C=R-this.blockSize,M=this.B,I=this.h,z=0;z<R;){if(I==0)for(;z<=C;)o(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<R;)if(M[I++]=P.charCodeAt(z++),I==this.blockSize){o(this,M),I=0;break}}else for(;z<R;)if(M[I++]=P[z++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var C=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=C&255,C/=256;for(this.u(P),P=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)P[C++]=this.g[R]>>>M&255;return P};function c(P,R){var C=p;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=R(P)}function f(P,R){this.h=R;for(var C=[],M=!0,I=P.length-1;0<=I;I--){var z=P[I]|0;M&&z==R||(C[I]=z,M=!1)}this.g=C}var p={};function y(P){return-128<=P&&128>P?c(P,function(R){return new f([R|0],0>R?-1:0)}):new f([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return V(m(-P));for(var R=[],C=1,M=0;P>=C;M++)R[M]=P/C|0,C*=4294967296;return new f(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return V(v(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),M=T,I=0;I<P.length;I+=8){var z=Math.min(8,P.length-I),S=parseInt(P.substring(I,I+z),R);8>z?(z=m(Math.pow(R,z)),M=M.j(z).add(m(S))):(M=M.j(C),M=M.add(m(S)))}return M}var T=y(0),A=y(1),O=y(16777216);a=f.prototype,a.m=function(){if(k(this))return-V(this).m();for(var P=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);P+=(0<=M?M:4294967296+M)*R,R*=4294967296}return P},a.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(U(this))return"0";if(k(this))return"-"+V(this).toString(P);for(var R=m(Math.pow(P,6)),C=this,M="";;){var I=dt(C,R).g;C=Y(C,I.j(R));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=I,U(C))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},a.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function U(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function k(P){return P.h==-1}a.l=function(P){return P=Y(this,P),k(P)?-1:U(P)?0:1};function V(P){for(var R=P.g.length,C=[],M=0;M<R;M++)C[M]=~P.g[M];return new f(C,~P.h).add(A)}a.abs=function(){return k(this)?V(this):this},a.add=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],M=0,I=0;I<=R;I++){var z=M+(this.i(I)&65535)+(P.i(I)&65535),S=(z>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);M=S>>>16,z&=65535,S&=65535,C[I]=S<<16|z}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Y(P,R){return P.add(V(R))}a.j=function(P){if(U(this)||U(P))return T;if(k(this))return k(P)?V(this).j(V(P)):V(V(this).j(P));if(k(P))return V(this.j(V(P)));if(0>this.l(O)&&0>P.l(O))return m(this.m()*P.m());for(var R=this.g.length+P.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var I=0;I<P.g.length;I++){var z=this.i(M)>>>16,S=this.i(M)&65535,ft=P.i(I)>>>16,ct=P.i(I)&65535;C[2*M+2*I]+=S*ct,Z(C,2*M+2*I),C[2*M+2*I+1]+=z*ct,Z(C,2*M+2*I+1),C[2*M+2*I+1]+=S*ft,Z(C,2*M+2*I+1),C[2*M+2*I+2]+=z*ft,Z(C,2*M+2*I+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new f(C,0)};function Z(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function K(P,R){this.g=P,this.h=R}function dt(P,R){if(U(R))throw Error("division by zero");if(U(P))return new K(T,T);if(k(P))return R=dt(V(P),R),new K(V(R.g),V(R.h));if(k(R))return R=dt(P,V(R)),new K(V(R.g),R.h);if(30<P.g.length){if(k(P)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=R;0>=M.l(P);)C=ht(C),M=ht(M);var I=bt(C,1),z=bt(M,1);for(M=bt(M,2),C=bt(C,2);!U(M);){var S=z.add(M);0>=S.l(P)&&(I=I.add(C),z=S),M=bt(M,1),C=bt(C,1)}return R=Y(P,I.j(R)),new K(I,R)}for(I=T;0<=P.l(R);){for(C=Math.max(1,Math.floor(P.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=m(C),S=z.j(R);k(S)||0<S.l(P);)C-=M,z=m(C),S=z.j(R);U(z)&&(z=A),I=I.add(z),P=Y(P,S)}return new K(I,P)}a.A=function(P){return dt(this,P).h},a.and=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&P.i(M);return new f(C,this.h&P.h)},a.or=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|P.i(M);return new f(C,this.h|P.h)},a.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^P.i(M);return new f(C,this.h^P.h)};function ht(P){for(var R=P.g.length+1,C=[],M=0;M<R;M++)C[M]=P.i(M)<<1|P.i(M-1)>>>31;return new f(C,P.h)}function bt(P,R){var C=R>>5;R%=32;for(var M=P.g.length-C,I=[],z=0;z<M;z++)I[z]=0<R?P.i(z+C)>>>R|P.i(z+C+1)<<32-R:P.i(z+C);return new f(I,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=v,Wa=f}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pb,vl,Ub,Du,hp,Lb,zb,Bb;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,g){if(g)t:{var _=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var q=u[w];if(!(q in _))break t;_=_[q]}u=u[u.length-1],w=_[u],g=g(w),g!=w&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,w=!1,q={next:function(){if(!w&&_<u.length){var X=_++;return{value:g(X,u[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function y(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function T(u,g,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),u.apply(g,q)}}return function(){return u.apply(g,arguments)}}function A(u,g,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function O(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function U(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,q,X){for(var ut=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ut[qt-2]=arguments[qt];return g.prototype[q].apply(w,ut)}}function k(u){const g=u.length;if(0<g){const _=Array(g);for(let w=0;w<g;w++)_[w]=u[w];return _}return[]}function V(u,g){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(y(w)){const q=u.length||0,X=w.length||0;u.length=q+X;for(let ut=0;ut<X;ut++)u[q+ut]=w[ut]}else u.push(w)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function dt(u){return dt[" "](u),u}dt[" "]=function(){};var ht=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function bt(u,g,_){for(const w in u)g.call(_,u[w],w,u)}function P(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function R(u){const g={};for(const _ in u)g[_]=u[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,g){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)u[_]=w[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function I(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function z(u){p.setTimeout(()=>{throw u},0)}function S(){var u=wt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ft{constructor(){this.h=this.g=null}add(g,_){const w=ct.get();w.set(g,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ct=new Y(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,lt=!1,wt=new ft,D=()=>{const u=p.Promise.resolve(void 0);st=()=>{u.then(J)}};var J=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(_){z(_)}var g=ct;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}lt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var rt=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,g),p.removeEventListener("test",_,g)}catch{}return u})();function pt(u,g){if(G.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ht){t:{try{dt(g.nodeName);var q=!0;break t}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&pt.aa.h.call(this)}}U(pt,G);var vt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function ae(u,g,_,w,q){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!w,this.ha=q,this.key=++Mt,this.da=this.fa=!1}function Zt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,g,_,w,q){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var ut=rn(u,g,w,q);return-1<ut?(g=u[ut],_||(g.fa=!1)):(g=new ae(g,this.src,X,!!w,q),g.fa=_,u.push(g)),g};function fe(u,g){var _=g.type;if(_ in u.g){var w=u.g[_],q=Array.prototype.indexOf.call(w,g,void 0),X;(X=0<=q)&&Array.prototype.splice.call(w,q,1),X&&(Zt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function rn(u,g,_,w){for(var q=0;q<u.length;++q){var X=u[q];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==w)return q}return-1}var On="closure_lm_"+(1e6*Math.random()|0),Mn={};function Kn(u,g,_,w,q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)Kn(u,g[X],_,w,q);return null}return _=Tt(_),u&&u[Bt]?u.K(g,_,m(w)?!!w.capture:!1,q):ge(u,g,_,!1,w,q)}function ge(u,g,_,w,q,X){if(!g)throw Error("Invalid event type");var ut=m(q)?!!q.capture:!!q,qt=ya(u);if(qt||(u[On]=qt=new ue(u)),_=qt.add(g,_,w,ut,X),_.proxy)return _;if(w=hi(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)rt||(q=ut),q===void 0&&(q=!1),u.addEventListener(g.toString(),w,q);else if(u.attachEvent)u.attachEvent(Ui(g.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hi(){function u(_){return g.call(u.src,u.listener,_)}const g=co;return u}function _n(u,g,_,w,q){if(Array.isArray(g))for(var X=0;X<g.length;X++)_n(u,g[X],_,w,q);else w=m(w)?!!w.capture:!!w,_=Tt(_),u&&u[Bt]?(u=u.i,g=String(g).toString(),g in u.g&&(X=u.g[g],_=rn(X,_,w,q),-1<_&&(Zt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete u.g[g],u.h--)))):u&&(u=ya(u))&&(g=u.g[g.toString()],u=-1,g&&(u=rn(g,_,w,q)),(_=-1<u?g[u]:null)&&hn(_))}function hn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Bt])fe(g.i,u);else{var _=u.type,w=u.proxy;g.removeEventListener?g.removeEventListener(_,w,u.capture):g.detachEvent?g.detachEvent(Ui(_),w):g.addListener&&g.removeListener&&g.removeListener(w),(_=ya(g))?(fe(_,u),_.h==0&&(_.src=null,g[On]=null)):Zt(u)}}}function Ui(u){return u in Mn?Mn[u]:Mn[u]="on"+u}function co(u,g){if(u.da)u=!0;else{g=new pt(g,this);var _=u.listener,w=u.ha||u.src;u.fa&&hn(u),u=_.call(w,g)}return u}function ya(u){return u=u[On],u instanceof ue?u:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(u){return typeof u=="function"?u:(u[mt]||(u[mt]=function(g){return u.handleEvent(g)}),u[mt])}function Ot(){ot.call(this),this.i=new ue(this),this.M=this,this.F=null}U(Ot,ot),Ot.prototype[Bt]=!0,Ot.prototype.removeEventListener=function(u,g,_,w){_n(this,u,g,_,w)};function Ct(u,g){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=g.type||g,typeof g=="string")g=new G(g,u);else if(g instanceof G)g.target=g.target||u;else{var q=g;g=new G(w,u),M(g,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var ut=g.g=_[X];q=re(ut,w,!0,g)&&q}if(ut=g.g=u,q=re(ut,w,!0,g)&&q,q=re(ut,w,!1,g)&&q,_)for(X=0;X<_.length;X++)ut=g.g=_[X],q=re(ut,w,!1,g)&&q}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],w=0;w<_.length;w++)Zt(_[w]);delete u.g[g],u.h--}}this.F=null},Ot.prototype.K=function(u,g,_,w){return this.i.add(String(u),g,!1,_,w)},Ot.prototype.L=function(u,g,_,w){return this.i.add(String(u),g,!0,_,w)};function re(u,g,_,w){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,X=0;X<g.length;++X){var ut=g[X];if(ut&&!ut.da&&ut.capture==_){var qt=ut.listener,Ue=ut.ha||ut.src;ut.fa&&fe(u.i,ut),q=qt.call(Ue,w)!==!1&&q}}return q&&!w.defaultPrevented}function be(u,g,_){if(typeof u=="function")_&&(u=A(u,_));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(u,g||0)}function Xn(u){u.g=be(()=>{u.g=null,u.i&&(u.i=!1,Xn(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class or extends ot{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Xn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(u){ot.call(this),this.h=u,this.g={}}U(Zn,ot);var Wn=[];function Vn(u){bt(u.g,function(g,_){this.g.hasOwnProperty(_)&&hn(g)},u),u.g={}}Zn.prototype.N=function(){Zn.aa.N.call(this),Vn(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=p.JSON.stringify,fi=p.JSON.parse,Jn=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Li(){}Li.prototype.h=null;function lr(u){return u.h||(u.h=u.i())}function uo(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){G.call(this,"d")}U(Bi,G);function ho(){G.call(this,"c")}U(ho,G);var di={},fo=null;function va(){return fo=fo||new Ot}di.La="serverreachability";function Zr(u){G.call(this,di.La,u)}U(Zr,G);function _a(u){const g=va();Ct(g,new Zr(g))}di.STAT_EVENT="statevent";function Ql(u,g){G.call(this,di.STAT_EVENT,u),this.stat=g}U(Ql,G);function de(u){const g=va();Ct(g,new Ql(g,u))}di.Ma="timingevent";function Pe(u,g){G.call(this,di.Ma,u),this.size=g}U(Pe,G);function Ne(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},g)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function po(u,g,_,w,q,X){u.info(function(){if(u.g)if(X)for(var ut="",qt=X.split("&"),Ue=0;Ue<qt.length;Ue++){var Ht=qt[Ue].split("=");if(1<Ht.length){var Fe=Ht[0];Ht=Ht[1];var Le=Fe.split("_");ut=2<=Le.length&&Le[1]=="type"?ut+(Fe+"="+Ht+"&"):ut+(Fe+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+g+`
`+_+`
`+ut})}function Rh(u,g,_,w,q,X,ut){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+g+`
`+_+`
`+X+" "+ut})}function ba(u,g,_,w){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+cr(u,_)+(w?" "+w:"")})}function Yl(u,g){u.info(function(){return"TIMEOUT: "+g})}kn.prototype.info=function(){};function cr(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<q.length;ut++)q[ut]=""}}}}return fn(_)}catch{return g}}var xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pi;function mi(){}U(mi,Li),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},pi=new mi;function dn(u,g,_,w){this.j=u,this.i=g,this.l=_,this.R=w||1,this.U=new Zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Se}function Se(){this.i=null,this.g="",this.h=!1}var mo={},Wr={};function ti(u,g,_){u.L=1,u.v=pr(wn(g)),u.m=_,u.P=!0,Hi(u,null)}function Hi(u,g){u.F=Date.now(),ur(u),u.A=wn(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),xo(_.i,"t",w),u.C=0,_=u.j.J,u.h=new Se,u.g=uc(u.j,_?g:null,!u.m),0<u.O&&(u.M=new or(A(u.Y,u,u.g),u.O)),g=u.U,_=u.g,w=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Wn[0]=q.toString()),q=Wn);for(var X=0;X<q.length;X++){var ut=Kn(_,q[X],w||g.handleEvent,!1,g.h||g);if(!ut)break;g.g[ut.key]=ut}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),_a(),po(u.i,u.u,u.A,u.l,u.R,u.m)}dn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Ln(u)==3?g.j():this.Y(u)},dn.prototype.Y=function(u){try{if(u==this.g)t:{const Le=Ln(this.g);var g=this.g.Ba();const Zi=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Le!=4||g==7||(g==8||0>=Zi?_a(3):_a(2)),Ea(this);var _=this.g.Z();this.X=_;e:if(Kl(this)){var w=nc(this.g);u="";var q=w.length,X=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xe(this),gi(this);var ut="";break e}this.h.i=new p.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,u+=this.h.i.decode(w[g],{stream:!(X&&g==q-1)});w.length=0,this.h.g+=u,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=_==200,Rh(this.i,this.u,this.A,this.l,this.R,Le,_),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,Ue=this.g;if((qt=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(qt)){var Ht=qt;break e}}Ht=null}if(_=Ht)ba(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hr(this,_);else{this.o=!1,this.s=3,de(12),Xe(this),gi(this);break t}}if(this.P){_=!0;let Ze;for(;!this.J&&this.C<ut.length;)if(Ze=Xl(this,ut),Ze==Wr){Le==4&&(this.s=4,de(14),_=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==mo){this.s=4,de(15),ba(this.i,this.l,ut,"[Invalid Chunk]"),_=!1;break}else ba(this.i,this.l,Ze,null),hr(this,Ze);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||ut.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)ba(this.i,this.l,ut,"[Invalid Chunked Response]"),Xe(this),gi(this);else if(0<ut.length&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.ba&&!Fe.M&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Er(Fe),Fe.M=!0,de(11))}}else ba(this.i,this.l,ut,null),hr(this,ut);Le==4&&Xe(this),this.o&&!this.J&&(Le==4?oc(this.j,this):(this.o=!1,ur(this)))}else Oh(this.g),_==400&&0<ut.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),Xe(this),gi(this)}}}catch{}finally{}};function Kl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xl(u,g){var _=u.C,w=g.indexOf(`
`,_);return w==-1?Wr:(_=Number(g.substring(_,w)),isNaN(_)?mo:(w+=1,w+_>g.length?Wr:(g=g.slice(w,w+_),u.C=w+_,g)))}dn.prototype.cancel=function(){this.J=!0,Xe(this)};function ur(u){u.S=Date.now()+u.I,Zl(u,u.I)}function Zl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ne(A(u.ba,u),g)}function Ea(u){u.B&&(p.clearTimeout(u.B),u.B=null)}dn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Yl(this.i,this.A),this.L!=2&&(_a(),de(17)),Xe(this),this.s=2,gi(this)):Zl(this,this.S-u)};function gi(u){u.j.G==0||u.J||oc(u.j,u)}function Xe(u){Ea(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Vn(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function hr(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||go(_.h,u))){if(!u.K&&go(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)us(_),ls(_);else break t;So(_),de(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ne(A(_.Za,_),6e3));if(1>=ts(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xi(_,11)}else if((u.K||_.g==u)&&us(_),!Z(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let Ht=q[g];if(_.T=Ht[0],Ht=Ht[1],_.G==2)if(Ht[0]=="c"){_.K=Ht[1],_.ia=Ht[2];const Fe=Ht[3];Fe!=null&&(_.la=Fe,_.j.info("VER="+_.la));const Le=Ht[4];Le!=null&&(_.Aa=Le,_.j.info("SVER="+_.Aa));const Zi=Ht[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(w=1.5*Zi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ze=u.g;if(Ze){const Ti=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var X=w.h;X.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(es(X,X.h),X.h=null))}if(w.D){const Co=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(w.ya=Co,te(w.I,w.D,Co))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ut=u;if(w.qa=cc(w,w.J?w.ia:null,w.W),ut.K){pn(w.h,ut);var qt=ut,Ue=w.L;Ue&&(qt.I=Ue),qt.B&&(Ea(qt),ur(qt)),w.g=ut}else rc(w);0<_.i.length&&cs(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Xi(_,7);else _.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Xi(_,7):wo(_):Ht[0]!="noop"&&_.l&&_.l.ta(Ht),_.v=0)}}_a(4)}catch{}}var Wl=class{constructor(u,g){this.g=u,this.map=g}};function Fi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ts(u){return u.h?1:u.g?u.g.size:0}function go(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function es(u,g){u.g?u.g.add(g):u.h=g}function pn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Fi.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return k(u.i)}function Ch(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var g=[],_=u.length,w=0;w<_;w++)g.push(u[w]);return g}g=[],_=0;for(w in u)g[_++]=u[w];return g}function ns(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const w in u)g[_++]=w;return g}}}function vo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=ns(u),w=Ch(u),q=w.length,X=0;X<q;X++)g.call(void 0,w[X],_&&_[X],u)}var fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),q=null;if(0<=w){var X=u[_].substring(0,w);q=u[_].substring(w+1)}else X=u[_];g(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ie(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ie){this.h=u.h,dr(this,u.j),this.o=u.o,this.g=u.g,Ta(this,u.s),this.l=u.l;var g=u.i,_=new $i;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Gi(this,_),this.m=u.m}else u&&(g=String(u).match(fr))?(this.h=!1,dr(this,g[1]||"",!0),this.o=jn(g[2]||""),this.g=jn(g[3]||"",!0),Ta(this,g[4]),this.l=jn(g[5]||"",!0),Gi(this,g[6]||"",!0),this.m=jn(g[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Ie.prototype.toString=function(){var u=[],g=this.j;g&&u.push(mr(g,_o,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(mr(g,_o,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(mr(_,_.charAt(0)=="/"?Nh:bo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",mr(_,is)),u.join("")};function wn(u){return new Ie(u)}function dr(u,g,_){u.j=_?jn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ta(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Gi(u,g,_){g instanceof $i?(u.i=g,tc(u.i,u.h)):(_||(g=mr(g,Ih)),u.i=new $i(g,u.h))}function te(u,g,_){u.i.set(g,_)}function pr(u){return te(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function jn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Jl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _o=/[#\/\?@]/g,bo=/[#\?:]/g,Nh=/[#\?]/g,Ih=/[#\?@]/g,is=/#/g;function $i(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Dh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=$i.prototype,a.add=function(u,g){Pn(this),this.i=null,u=yi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Qi(u,g){Pn(u),g=yi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Yi(u,g){return Pn(u),g=yi(u,g),u.g.has(g)}a.forEach=function(u,g){Pn(this),this.g.forEach(function(_,w){_.forEach(function(q){u.call(g,q,w,this)},this)},this)},a.na=function(){Pn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let w=0;w<g.length;w++){const q=u[w];for(let X=0;X<q.length;X++)_.push(g[w])}return _},a.V=function(u){Pn(this);let g=[];if(typeof u=="string")Yi(this,u)&&(g=g.concat(this.g.get(yi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},a.set=function(u,g){return Pn(this),this.i=null,u=yi(this,u),Yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function xo(u,g,_){Qi(u,g),0<_.length&&(u.i=null,u.g.set(yi(u,g),k(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var w=g[_];const X=encodeURIComponent(String(w)),ut=this.V(w);for(w=0;w<ut.length;w++){var q=X;ut[w]!==""&&(q+="="+encodeURIComponent(String(ut[w]))),u.push(q)}}return this.i=u.join("&")};function yi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function tc(u,g){g&&!u.j&&(Pn(u),u.i=null,u.g.forEach(function(_,w){var q=w.toLowerCase();w!=q&&(Qi(this,w),xo(this,q,_))},u)),u.j=g}function gr(u,g){const _=new kn;if(p.Image){const w=new Image;w.onload=O(Un,_,"TestLoadImage: loaded",!0,g,w),w.onerror=O(Un,_,"TestLoadImage: error",!1,g,w),w.onabort=O(Un,_,"TestLoadImage: abort",!1,g,w),w.ontimeout=O(Un,_,"TestLoadImage: timeout",!1,g,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else g(!1)}function ei(u,g){const _=new kn,w=new AbortController,q=setTimeout(()=>{w.abort(),Un(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:w.signal}).then(X=>{clearTimeout(q),X.ok?Un(_,"TestPingServer: ok",!0,g):Un(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),Un(_,"TestPingServer: error",!1,g)})}function Un(u,g,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function yr(){this.g=new Jn}function vi(u,g,_){const w=_||"";try{vo(u,function(q,X){let ut=q;m(q)&&(ut=fn(q)),g.push(w+X+"="+encodeURIComponent(ut))})}catch(q){throw g.push(w+"type="+encodeURIComponent("_badmap")),q}}function wa(u){this.l=u.Ub||null,this.j=u.eb||!1}U(wa,Li),wa.prototype.g=function(){return new Ki(this.l,this.j)},wa.prototype.i=(function(u){return function(){return u}})({});function Ki(u,g){Ot.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ki,Ot),a=Ki.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,bi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?_i(this):bi(this),this.readyState==3&&Eo(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,_i(this))},a.Qa=function(u){this.g&&(this.response=u,_i(this))},a.ga=function(){this.g&&_i(this)};function _i(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bi(u)}a.setRequestHeader=function(u,g){this.u.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function bi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function To(u){let g="";return bt(u,function(_,w){g+=w,g+=":",g+=_,g+=`\r
`}),g}function He(u,g,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=To(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):te(u,g,_))}function Kt(u){Ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Kt,Ot);var as=/^https?$/i,vr=["POST","PUT"];a=Kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,g,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pi.g(),this.v=this.o?lr(this.o):lr(pi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(X){ec(this,X);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())_.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(vr,g,void 0))||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of _)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_r(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){ec(this,X)}};function ec(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,rs(u),xi(u)}function rs(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ct(this,"complete"),Ct(this,"abort"),xi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ss(this):this.bb())},a.bb=function(){ss(this)};function ss(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)be(u.Ea,0,u);else if(Ct(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const ut=u.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var w;if(w=ut===0){var q=String(u.D).match(fr)[1]||null;!q&&p.self&&p.self.location&&(q=p.self.location.protocol.slice(0,-1)),w=!as.test(q?q.toLowerCase():"")}_=w}if(_)Ct(u,"complete"),Ct(u,"success");else{u.m=6;try{var X=2<Ln(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",rs(u)}}finally{xi(u)}}}}function xi(u,g){if(u.g){_r(u);const _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ct(u,"ready");try{_.onreadystatechange=w}catch{}}}function _r(u){u.I&&(p.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),fi(g)}};function nc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(u){const g={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(Z(u[w]))continue;var _=I(u[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[q]||[];g[q]=X,X.push(_)}P(g,function(w){return w.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function os(u){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,u),this.cb=br("retryDelaySeedMs",1e4,u),this.Wa=br("forwardChannelMaxRetries",2,u),this.wa=br("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(u&&u.concurrentRequestLimit),this.Da=new yr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=os.prototype,a.la=8,a.G=1,a.connect=function(u,g,_,w){de(0),this.W=u,this.H=g||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=cc(this,null,this.W),cs(this)};function wo(u){if(ic(u),u.G==3){var g=u.U++,_=wn(u.I);if(te(_,"SID",u.K),te(_,"RID",g),te(_,"TYPE","terminate"),xr(u,_),g=new dn(u,u.j,g),g.L=2,g.v=pr(wn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=g.v,_=!0),_||(g.g=uc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ur(g)}lc(u)}function ls(u){u.g&&(Er(u),u.g.cancel(),u.g=null)}function ic(u){ls(u),u.u&&(p.clearTimeout(u.u),u.u=null),us(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function cs(u){if(!Jr(u.h)&&!u.s){u.s=!0;var g=u.Ga;st||D(),lt||(st(),lt=!0),wt.add(g,u),u.B=0}}function Mh(u,g){return ts(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ne(A(u.Ga,u,g),Ro(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new dn(this,this.j,u);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=ac(this,q,g),_=wn(this.I),te(_,"RID",u),te(_,"CVER",22),this.D&&te(_,"X-HTTP-Session-Id",this.D),xr(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(To(X)))+"&"+g:this.m&&He(_,this.m,X)),es(this.h,q),this.Ua&&te(_,"TYPE","init"),this.P?(te(_,"$req",g),te(_,"SID","null"),q.T=!0,ti(q,_,null)):ti(q,_,g),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||Jr(this.h)||Ao(this))};function Ao(u,g){var _;g?_=g.l:_=u.U++;const w=wn(u.I);te(w,"SID",u.K),te(w,"RID",_),te(w,"AID",u.T),xr(u,w),u.m&&u.o&&He(w,u.m,u.o),_=new dn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ac(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),es(u.h,_),ti(_,w,g)}function xr(u,g){u.H&&bt(u.H,function(_,w){te(g,w,_)}),u.l&&vo({},function(_,w){te(g,w,_)})}function ac(u,g,_){_=Math.min(u.i.length,_);var w=u.l?A(u.l.Na,u.l,u):null;t:{var q=u.i;let X=-1;for(;;){const ut=["count="+_];X==-1?0<_?(X=q[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let qt=!0;for(let Ue=0;Ue<_;Ue++){let Ht=q[Ue].g;const Fe=q[Ue].map;if(Ht-=X,0>Ht)X=Math.max(0,q[Ue].g-100),qt=!1;else try{vi(Fe,ut,"req"+Ht+"_")}catch{w&&w(Fe)}}if(qt){w=ut.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,w}function rc(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;st||D(),lt||(st(),lt=!0),wt.add(g,u),u.v=0}}function So(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ne(A(u.Fa,u),Ro(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ne(A(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),ls(this),sc(this))};function Er(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function sc(u){u.g=new dn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=wn(u.qa);te(g,"RID","rpc"),te(g,"SID",u.K),te(g,"AID",u.T),te(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&te(g,"TO",u.ja),te(g,"TYPE","xmlhttp"),xr(u,g),u.m&&u.o&&He(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=pr(wn(g)),_.m=null,_.P=!0,Hi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,ls(this),So(this),de(19))};function us(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function oc(u,g){var _=null;if(u.g==g){us(u),Er(u),u.g=null;var w=2}else if(go(u.h,g))_=g.D,pn(u.h,g),w=1;else return;if(u.G!=0){if(g.o)if(w==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=u.B;w=va(),Ct(w,new Pe(w,_)),cs(u)}else rc(u);else if(q=g.s,q==3||q==0&&0<g.X||!(w==1&&Mh(u,g)||w==2&&So(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),q){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function Ro(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Xi(u,g){if(u.j.info("Error code "+g),g==2){var _=A(u.fb,u),w=u.Xa;const q=!w;w=new Ie(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||dr(w,"https"),pr(w),q?gr(w.toString(),_):ei(w.toString(),_)}else de(2);u.G=0,u.l&&u.l.sa(g),lc(u),ic(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function lc(u){if(u.G=0,u.ka=[],u.l){const g=yo(u.h);(g.length!=0||u.i.length!=0)&&(V(u.ka,g),V(u.ka,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.ra()}}function cc(u,g,_){var w=_ instanceof Ie?wn(_):new Ie(_);if(w.g!="")g&&(w.g=g+"."+w.g),Ta(w,w.s);else{var q=p.location;w=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var X=new Ie(null);w&&dr(X,w),g&&(X.g=g),q&&Ta(X,q),_&&(X.l=_),w=X}return _=u.D,g=u.ya,_&&g&&te(w,_,g),te(w,"VER",u.la),xr(u,w),w}function uc(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Kt(new wa({eb:_})):new Kt(u.pa),g.Ha(u.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}a=hc.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function hs(){}hs.prototype.g=function(u,g){return new mn(u,g)};function mn(u,g){Ot.call(this),this.g=new os(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ei(this)}U(mn,Ot),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){wo(this.g)},mn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=fn(u),u=_);g.i.push(new Wl(g.Ya++,u)),g.G==3&&cs(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,mn.aa.N.call(this)};function fc(u){Bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}U(fc,Bi);function dc(){ho.call(this),this.status=1}U(dc,ho);function Ei(u){this.g=u}U(Ei,hc),Ei.prototype.ua=function(){Ct(this.g,"a")},Ei.prototype.ta=function(u){Ct(this.g,new fc(u))},Ei.prototype.sa=function(u){Ct(this.g,new dc)},Ei.prototype.ra=function(){Ct(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Bb=function(){return new hs},zb=function(){return va()},Lb=di,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Du=xa,qi.COMPLETE="complete",Ub=qi,uo.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,vl=uo,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,Pb=Kt}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new db("@firebase/firestore");function zs(){return Hr.logLevel}function gt(a,...t){if(Hr.logLevel<=$t.DEBUG){const i=t.map(Yp);Hr.debug(`Firestore (${ao}): ${a}`,...i)}}function ma(a,...t){if(Hr.logLevel<=$t.ERROR){const i=t.map(Yp);Hr.error(`Firestore (${ao}): ${a}`,...i)}}function Ks(a,...t){if(Hr.logLevel<=$t.WARN){const i=t.map(Yp);Hr.warn(`Firestore (${ao}): ${a}`,...i)}}function Yp(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,qb(a,r,i)}function qb(a,t,i){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ma(r),new Error(r)}function Xt(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||qb(t,o,r)}function It(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends $r{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class gR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class yR{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ja,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ja)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new Hb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class vR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _R{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=c=>{c.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,gt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const o=c=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=xR(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=t.charAt(o[c]%62))}return r}}function Lt(a,t){return a<t?-1:a>t?1:0}function fp(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),c=t.charAt(r);if(o!==c)return Gd(o)===Gd(c)?Lt(o,c):Gd(o)?1:-1}return Lt(a.length,t.length)}const ER=55296,TR=57343;function Gd(a){const t=a.charCodeAt(0);return t>=ER&&t<=TR}function Xs(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class Ni{constructor(t,i,r){i===void 0?i=0:i>t.length&&Rt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Rt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const c=Ni.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const r=Ni.isNumericId(t),o=Ni.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):fp(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wa.fromString(t.substring(4,t.length-2))}}class ce extends Ni{construct(t,i,r){return new ce(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new yt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ni{construct(t,i,r){return new nn(t,i,r)}static isValidIdentifier(t){return wR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new nn([k0])}static fromServerFormat(t){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new yt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new yt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new yt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(c(),o++)}if(c(),f)throw new yt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(i)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ce.fromString(t))}static fromName(t){return new Et(ce.fromString(t).popFirst(5))}static empty(){return new Et(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(a,t,i){if(!i)throw new yt(it.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function AR(a,t,i,r){if(t===!0&&r===!0)throw new yt(it.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function j0(a){if(!Et.isDocumentKey(a))throw new yt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function P0(a){if(Et.isDocumentKey(a))throw new yt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Gb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function dh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Rt(12329,{type:typeof a})}function Qu(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new yt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(a);throw new yt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(a,t){const i={typeString:a};return t&&(i.value=t),i}function Bl(a,t){if(!Gb(a))throw new yt(it.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const f=a[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new yt(it.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-62135596800,L0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*L0);return new he(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new yt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<U0)throw new yt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-U0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:je("string",he._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new he(0,0))}static max(){return new Nt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function SR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(r===1e9?new he(i+1,0):new he(i,r));return new er(o,Et.empty(),t)}function RR(a){return new er(a.readTime,a.key,Il)}class er{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new er(Nt.min(),Et.empty(),Il)}static max(){return new er(Nt.max(),Et.empty(),Il)}}function CR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(a.documentKey,t.documentKey),i!==0?i:Lt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(a){if(a.code!==it.FAILED_PRECONDITION||a.message!==DR)throw a;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new at(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):at.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):at.reject(i)}static resolve(t){return new at(((i,r)=>{i(t)}))}static reject(t){return new at(((i,r)=>{r(t)}))}static waitFor(t){return new at(((i,r)=>{let o=0,c=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&i()}),(y=>r(y)))})),f=!0,c===o&&i()}))}static or(t){let i=at.resolve(!1);for(const r of t)i=i.next((o=>o?at.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(t,i){return new at(((r,o)=>{const c=t.length,f=new Array(c);let p=0;for(let y=0;y<c;y++){const m=y;i(t[m]).next((v=>{f[m]=v,++p,p===c&&r(f)}),(v=>o(v)))}}))}static doWhile(t,i){return new at(((r,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):r()};c()}))}}function IR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function mh(a){return a==null}function Yu(a){return a===0&&1/a==-1/0}function OR(a){return typeof a=="number"&&Number.isInteger(a)&&!Yu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="";function MR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=z0(t)),t=VR(a.get(i),t);return z0(t)}function VR(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case $b:i+="";break;default:i+=c}}return i}function z0(a){return a+$b+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Qr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function Qb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,i){this.comparator=t,this.root=i||en.EMPTY}insert(t,i){return new _e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bu(this.root,t,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bu(this.root,t,this.comparator,!0)}}class bu{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,c){return new en(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,i,r,o,c){return this}insert(t,i,r){return new en(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(t){return new q0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class q0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new ri([])}unionWith(t){let i=new qe(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ri(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xs(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Yb("Invalid base64 string: "+c):c}})(t);return new an(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const kR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(a){if(Xt(!!a,39018),typeof a=="string"){let t=0;const i=kR.exec(a);if(Xt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:De(a.seconds),nanos:De(a.nanos)}}function De(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ir(a){return typeof a=="string"?an.fromBase64String(a):an.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="server_timestamp",Xb="__type__",Zb="__previous_value__",Wb="__local_write_time__";function Zp(a){return(a?.mapValue?.fields||{})[Xb]?.stringValue===Kb}function gh(a){const t=a.mapValue.fields[Zb];return Zp(t)?gh(t):t}function Ol(a){const t=nr(a.mapValue.fields[Wb].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,i,r,o,c,f,p,y,m,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=m,this.isUsingEmulator=v}}const Ku="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Ku}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Ku}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="__type__",PR="__max__",xu={mapValue:{}},tx="__vector__",Xu="value";function ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Zp(a)?4:LR(a)?9007199254740991:UR(a)?10:11:Rt(28295,{value:a})}function ji(a,t){if(a===t)return!0;const i=ar(a);if(i!==ar(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ol(a).isEqual(Ol(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=nr(o.timestampValue),p=nr(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,c){return ir(o.bytesValue).isEqual(ir(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,c){return De(o.geoPointValue.latitude)===De(c.geoPointValue.latitude)&&De(o.geoPointValue.longitude)===De(c.geoPointValue.longitude)})(a,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return De(o.integerValue)===De(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=De(o.doubleValue),p=De(c.doubleValue);return f===p?Yu(f)===Yu(p):isNaN(f)&&isNaN(p)}return!1})(a,t);case 9:return Xs(a.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(B0(f)!==B0(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!ji(f[y],p[y])))return!1;return!0})(a,t);default:return Rt(52216,{left:a})}}function Vl(a,t){return(a.values||[]).find((i=>ji(i,t)))!==void 0}function Zs(a,t){if(a===t)return 0;const i=ar(a),r=ar(t);if(i!==r)return Lt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(a.booleanValue,t.booleanValue);case 2:return(function(c,f){const p=De(c.integerValue||c.doubleValue),y=De(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return H0(a.timestampValue,t.timestampValue);case 4:return H0(Ol(a),Ol(t));case 5:return fp(a.stringValue,t.stringValue);case 6:return(function(c,f){const p=ir(c),y=ir(f);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,f){const p=c.split("/"),y=f.split("/");for(let m=0;m<p.length&&m<y.length;m++){const v=Lt(p[m],y[m]);if(v!==0)return v}return Lt(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,f){const p=Lt(De(c.latitude),De(f.latitude));return p!==0?p:Lt(De(c.longitude),De(f.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return F0(a.arrayValue,t.arrayValue);case 10:return(function(c,f){const p=c.fields||{},y=f.fields||{},m=p[Xu]?.arrayValue,v=y[Xu]?.arrayValue,T=Lt(m?.values?.length||0,v?.values?.length||0);return T!==0?T:F0(m,v)})(a.mapValue,t.mapValue);case 11:return(function(c,f){if(c===xu.mapValue&&f===xu.mapValue)return 0;if(c===xu.mapValue)return 1;if(f===xu.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),m=f.fields||{},v=Object.keys(m);y.sort(),v.sort();for(let T=0;T<y.length&&T<v.length;++T){const A=fp(y[T],v[T]);if(A!==0)return A;const O=Zs(p[y[T]],m[v[T]]);if(O!==0)return O}return Lt(y.length,v.length)})(a.mapValue,t.mapValue);default:throw Rt(23264,{he:i})}}function H0(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Lt(a,t);const i=nr(a),r=nr(t),o=Lt(i.seconds,r.seconds);return o!==0?o:Lt(i.nanos,r.nanos)}function F0(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Zs(i[o],r[o]);if(c)return c}return Lt(i.length,r.length)}function Ws(a){return dp(a)}function dp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=nr(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ir(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return Et.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=dp(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${dp(i.fields[f])}`;return o+"}"})(a.mapValue):Rt(61005,{value:a})}function Nu(a){switch(ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(a);return t?16+Nu(t):16;case 5:return 2*a.stringValue.length;case 6:return ir(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Nu(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Qr(r.fields,((c,f)=>{o+=c.length+Nu(f)})),o})(a.mapValue);default:throw Rt(13486,{value:a})}}function G0(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function pp(a){return!!a&&"integerValue"in a}function Wp(a){return!!a&&"arrayValue"in a}function $0(a){return!!a&&"nullValue"in a}function Q0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Iu(a){return!!a&&"mapValue"in a}function UR(a){return(a?.mapValue?.fields||{})[Jb]?.stringValue===tx}function Tl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Qr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Tl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(a.arrayValue.values[i]);return t}return{...a}}function LR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===PR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Iu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=nn.emptyPath(),r={},o=[];t.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=p.popLast()}f?r[p.lastSegment()]=Tl(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(t){const i=this.field(t.popLast());Iu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Iu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Qr(i,((o,c)=>t[o]=c));for(const o of r)delete t[o]}clone(){return new Qn(Tl(this.value))}}function ex(a){const t=[];return Qr(a.fields,((i,r)=>{const o=new nn([i]);if(Iu(r)){const c=ex(r.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)})),new ri(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,i,r,o,c,f,p){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(t){return new un(t,0,Nt.min(),Nt.min(),Nt.min(),Qn.empty(),0)}static newFoundDocument(t,i,r,o){return new un(t,1,i,Nt.min(),r,o,0)}static newNoDocument(t,i){return new un(t,2,i,Nt.min(),Nt.min(),Qn.empty(),0)}static newUnknownDocument(t,i){return new un(t,3,i,Nt.min(),Nt.min(),Qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,i){this.position=t,this.inclusive=i}}function Y0(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const c=t[o],f=a.position[o];if(c.field.isKeyField()?r=Et.comparator(Et.fromName(f.referenceValue),i.key):r=Zs(f,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function K0(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ji(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,i="asc"){this.field=t,this.dir=i}}function zR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{}class ke extends nx{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new qR(t,i,r):i==="array-contains"?new GR(t,r):i==="in"?new $R(t,r):i==="not-in"?new QR(t,r):i==="array-contains-any"?new YR(t,r):new ke(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new HR(t,r):new FR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Zs(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(Zs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends nx{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new li(t,i)}matches(t){return ix(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ix(a){return a.op==="and"}function ax(a){return BR(a)&&ix(a)}function BR(a){for(const t of a.filters)if(t instanceof li)return!1;return!0}function mp(a){if(a instanceof ke)return a.field.canonicalString()+a.op.toString()+Ws(a.value);if(ax(a))return a.filters.map((t=>mp(t))).join(",");{const t=a.filters.map((i=>mp(i))).join(",");return`${a.op}(${t})`}}function rx(a,t){return a instanceof ke?(function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&ji(r.value,o.value)})(a,t):a instanceof li?(function(r,o){return o instanceof li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,p)=>c&&rx(f,o.filters[p])),!0):!1})(a,t):void Rt(19439)}function sx(a){return a instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ws(i.value)}`})(a):a instanceof li?(function(i){return i.op.toString()+" {"+i.getFilters().map(sx).join(" ,")+"}"})(a):"Filter"}class qR extends ke{constructor(t,i,r){super(t,i,r),this.key=Et.fromName(r.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class HR extends ke{constructor(t,i){super(t,"in",i),this.keys=ox("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class FR extends ke{constructor(t,i){super(t,"not-in",i),this.keys=ox("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function ox(a,t){return(t.arrayValue?.values||[]).map((i=>Et.fromName(i.referenceValue)))}class GR extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Wp(i)&&Vl(i.arrayValue,this.value)}}class $R extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class QR extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class YR extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Wp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Vl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,i=null,r=[],o=[],c=null,f=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function X0(a,t=null,i=[],r=[],o=null,c=null,f=null){return new KR(a,t,i,r,o,c,f)}function Jp(a){const t=It(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>mp(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ws(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ws(r))).join(",")),t.Te=i}return t.Te}function tm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!zR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!rx(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!K0(a.startAt,t.startAt)&&K0(a.endAt,t.endAt)}function gp(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,i=null,r=[],o=[],c=null,f="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XR(a,t,i,r,o,c,f,p){return new ql(a,t,i,r,o,c,f,p)}function lx(a){return new ql(a)}function Z0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function cx(a){return a.collectionGroup!==null}function wl(a){const t=It(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new qe(nn.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Wu(c,r))})),i.has(nn.keyField().canonicalString())||t.Ie.push(new Wu(nn.keyField(),r))}return t.Ie}function Oi(a){const t=It(a);return t.Ee||(t.Ee=ZR(t,wl(a))),t.Ee}function ZR(a,t){if(a.limitType==="F")return X0(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Wu(o.field,c)}));const i=a.endAt?new Zu(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Zu(a.startAt.position,a.startAt.inclusive):null;return X0(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function yp(a,t){const i=a.filters.concat([t]);return new ql(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function vp(a,t,i){return new ql(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function yh(a,t){return tm(Oi(a),Oi(t))&&a.limitType===t.limitType}function ux(a){return`${Jp(Oi(a))}|lt:${a.limitType}`}function Bs(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>sx(o))).join(", ")}]`),mh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ws(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ws(o))).join(",")),`Target(${r})`})(Oi(a))}; limitType=${a.limitType})`}function vh(a,t){return t.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Et.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,o){for(const c of wl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(f,p,y){const m=Y0(f,p,y);return f.inclusive?m<=0:m<0})(r.startAt,wl(r),o)||r.endAt&&!(function(f,p,y){const m=Y0(f,p,y);return f.inclusive?m>=0:m>0})(r.endAt,wl(r),o))})(a,t)}function WR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function hx(a){return(t,i)=>{let r=!1;for(const o of wl(a)){const c=JR(o,t,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function JR(a,t,i){const r=a.field.isKeyField()?Et.comparator(t.key,i.key):(function(c,f,p){const y=f.data.field(c),m=p.data.field(c);return y!==null&&m!==null?Zs(y,m):Rt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Qr(this.inner,((i,r)=>{for(const[o,c]of r)t(o,c)}))}isEmpty(){return Qb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new _e(Et.comparator);function ga(){return tC}const fx=new _e(Et.comparator);function _l(...a){let t=fx;for(const i of a)t=t.insert(i.key,i);return t}function dx(a){let t=fx;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function zr(){return Al()}function px(){return Al()}function Al(){return new Yr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const eC=new _e(Et.comparator),nC=new qe(Et.comparator);function zt(...a){let t=nC;for(const i of a)t=t.add(i);return t}const iC=new qe(Lt);function aC(){return iC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(t)?"-0":t}}function mx(a){return{integerValue:""+a}}function rC(a,t){return OR(t)?mx(t):em(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function sC(a,t,i){return a instanceof Ju?(function(o,c){const f={fields:{[Xb]:{stringValue:Kb},[Wb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zp(c)&&(c=gh(c)),c&&(f.fields[Zb]=c),{mapValue:f}})(i,t):a instanceof kl?yx(a,t):a instanceof jl?vx(a,t):(function(o,c){const f=gx(o,c),p=W0(f)+W0(o.Ae);return pp(f)&&pp(o.Ae)?mx(p):em(o.serializer,p)})(a,t)}function oC(a,t,i){return a instanceof kl?yx(a,t):a instanceof jl?vx(a,t):i}function gx(a,t){return a instanceof th?(function(r){return pp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Ju extends _h{}class kl extends _h{constructor(t){super(),this.elements=t}}function yx(a,t){const i=_x(t);for(const r of a.elements)i.some((o=>ji(o,r)))||i.push(r);return{arrayValue:{values:i}}}class jl extends _h{constructor(t){super(),this.elements=t}}function vx(a,t){let i=_x(t);for(const r of a.elements)i=i.filter((o=>!ji(o,r)));return{arrayValue:{values:i}}}class th extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function W0(a){return De(a.integerValue||a.doubleValue)}function _x(a){return Wp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function lC(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof kl&&o instanceof kl||r instanceof jl&&o instanceof jl?Xs(r.elements,o.elements,ji):r instanceof th&&o instanceof th?ji(r.Ae,o.Ae):r instanceof Ju&&o instanceof Ju})(a.transform,t.transform)}class cC{constructor(t,i){this.version=t,this.transformResults=i}}class fa{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new fa}static exists(t){return new fa(void 0,t)}static updateTime(t){return new fa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ou(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class bh{}function bx(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Ex(a.key,fa.none()):new Hl(a.key,a.data,fa.none());{const i=a.data,r=Qn.empty();let o=new qe(nn.comparator);for(let c of t.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Kr(a.key,r,new ri(o.toArray()),fa.none())}}function uC(a,t,i){a instanceof Hl?(function(o,c,f){const p=o.value.clone(),y=t_(o.fieldTransforms,c,f.transformResults);p.setAll(y),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Kr?(function(o,c,f){if(!Ou(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=t_(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(xx(o)),y.setAll(p),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(a,t,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Sl(a,t,i,r){return a instanceof Hl?(function(c,f,p,y){if(!Ou(c.precondition,f))return p;const m=c.value.clone(),v=e_(c.fieldTransforms,y,f);return m.setAll(v),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(a,t,i,r):a instanceof Kr?(function(c,f,p,y){if(!Ou(c.precondition,f))return p;const m=e_(c.fieldTransforms,y,f),v=f.data;return v.setAll(xx(c)),v.setAll(m),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(a,t,i,r):(function(c,f,p){return Ou(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,t,i)}function hC(a,t){let i=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),c=gx(r.transform,o||null);c!=null&&(i===null&&(i=Qn.empty()),i.set(r.field,c))}return i||null}function J0(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Xs(r,o,((c,f)=>lC(c,f)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Hl extends bh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kr extends bh{constructor(t,i,r,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function xx(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function t_(a,t,i){const r=new Map;Xt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],f=c.transform,p=t.data.field(c.field);r.set(c.field,oC(f,p,i[o]))}return r}function e_(a,t,i){const r=new Map;for(const o of a){const c=o.transform,f=i.data.field(o.field);r.set(o.field,sC(c,f,t))}return r}class Ex extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&uC(c,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Sl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Sl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=px();return this.mutations.forEach((o=>{const c=t.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=i.has(o.key)?null:p;const y=bx(f,p);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Nt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Xs(this.mutations,t.mutations,((i,r)=>J0(i,r)))&&Xs(this.baseMutations,t.baseMutations,((i,r)=>J0(i,r)))}}class nm{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return eC})();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new nm(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Gt;function gC(a){switch(a){case it.OK:return Rt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Rt(15467,{code:a})}}function Tx(a){if(a===void 0)return ma("GRPC error has no .code"),it.UNKNOWN;switch(a){case Ve.OK:return it.OK;case Ve.CANCELLED:return it.CANCELLED;case Ve.UNKNOWN:return it.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return it.INTERNAL;case Ve.UNAVAILABLE:return it.UNAVAILABLE;case Ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ve.NOT_FOUND:return it.NOT_FOUND;case Ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ve.ABORTED:return it.ABORTED;case Ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ve.DATA_LOSS:return it.DATA_LOSS;default:return Rt(39323,{code:a})}}(Gt=Ve||(Ve={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Wa([4294967295,4294967295],0);function n_(a){const t=yC().encode(a),i=new jb;return i.update(t),new Uint8Array(i.digest())}function i_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Wa([i,r],0),new Wa([o,c],0)]}class im{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Wa.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Wa.fromNumber(r)));return o.compare(vC)===1&&(o=new Wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=n_(t),[r,o]=i_(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new im(c,o,i);return r.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const i=n_(t),[r,o]=i_(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.Se(f)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,i,r,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new xh(Nt.min(),o,new _e(Lt),ga(),zt())}}class Fl{constructor(t,i,r,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Fl(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class wx{constructor(t,i){this.targetId=t,this.Ce=i}}class Ax{constructor(t,i,r=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class a_{constructor(){this.ve=0,this.Fe=r_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Rt(38017,{changeType:c})}})),new Fl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=r_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _C{constructor(t){this.Ge=t,this.ze=new Map,this.je=ga(),this.Je=Eu(),this.He=Eu(),this.Ye=new _e(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(gp(c))if(r===0){const f=new Et(c.path);this.et(i,f,un.newNoDocument(f,Nt.min()))}else Xt(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const p=this.ut(t),y=p?this.ct(p,t,f):1;if(y!==0){this.it(i);const m=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,m)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let f,p;try{f=ir(r).toUint8Array()}catch(y){if(y instanceof Yb)return Ks("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new im(f,o,c)}catch(y){return Ks(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&gp(p.target)){const y=new Et(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,un.newNoDocument(y,t))}c.Be&&(i.set(f,c.ke()),c.qe())}}));let r=zt();this.He.forEach(((c,f)=>{let p=!0;f.forEachWhile((y=>{const m=this.ot(y);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(t)));const o=new xh(t,i,this.Ye,this.je,r);return this.je=ga(),this.Je=Eu(),this.He=Eu(),this.Ye=new _e(Lt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new a_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||gt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new a_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Eu(){return new _e(Et.comparator)}function r_(){return new _e(Et.comparator)}const bC={asc:"ASCENDING",desc:"DESCENDING"},xC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EC={and:"AND",or:"OR"};class TC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _p(a,t){return a.useProto3Json||mh(t)?t:{value:t}}function eh(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sx(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function wC(a,t){return eh(a,t.toTimestamp())}function Mi(a){return Xt(!!a,49232),Nt.fromTimestamp((function(i){const r=nr(i);return new he(r.seconds,r.nanos)})(a))}function am(a,t){return bp(a,t).canonicalString()}function bp(a,t){const i=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function Rx(a){const t=ce.fromString(a);return Xt(Ox(t),10190,{key:t.toString()}),t}function xp(a,t){return am(a.databaseId,t.path)}function $d(a,t){const i=Rx(t);if(i.get(1)!==a.databaseId.projectId)throw new yt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new yt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Et(Dx(i))}function Cx(a,t){return am(a.databaseId,t)}function AC(a){const t=Rx(a);return t.length===4?ce.emptyPath():Dx(t)}function Ep(a){return new ce(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Dx(a){return Xt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function s_(a,t,i){return{name:xp(a,t),fields:i.value.mapValue.fields}}function SC(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Rt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(m,v){return m.useProto3Json?(Xt(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(Xt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(a,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(m){const v=m.code===void 0?it.UNKNOWN:Tx(m.code);return new yt(v,m.message||"")})(f);i=new Ax(r,o,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=$d(a,r.document.name),c=Mi(r.document.updateTime),f=r.document.createTime?Mi(r.document.createTime):Nt.min(),p=new Qn({mapValue:{fields:r.document.fields}}),y=un.newFoundDocument(o,c,f,p),m=r.targetIds||[],v=r.removedTargetIds||[];i=new Mu(m,v,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=$d(a,r.document),c=r.readTime?Mi(r.readTime):Nt.min(),f=un.newNoDocument(o,c),p=r.removedTargetIds||[];i=new Mu([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=$d(a,r.document),c=r.removedTargetIds||[];i=new Mu([],c,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new mC(o,c),p=r.targetId;i=new wx(p,f)}}return i}function RC(a,t){let i;if(t instanceof Hl)i={update:s_(a,t.key,t.value)};else if(t instanceof Ex)i={delete:xp(a,t.key)};else if(t instanceof Kr)i={update:s_(a,t.key,t.data),updateMask:jC(t.fieldMask)};else{if(!(t instanceof fC))return Rt(16599,{Vt:t.type});i={verify:xp(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,f){const p=f.transform;if(p instanceof Ju)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof th)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Rt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:wC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Rt(27497)})(a,t.precondition)),i}function CC(a,t){return a&&a.length>0?(Xt(t!==void 0,14353),a.map((i=>(function(o,c){let f=o.updateTime?Mi(o.updateTime):Mi(c);return f.isEqual(Nt.min())&&(f=Mi(c)),new cC(f,o.transformResults||[])})(i,t)))):[]}function DC(a,t){return{documents:[Cx(a,t.path)]}}function NC(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Cx(a,o);const c=(function(m){if(m.length!==0)return Ix(li.create(m,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const f=(function(m){if(m.length!==0)return m.map((v=>(function(A){return{field:qs(A.field),direction:MC(A.dir)}})(v)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const p=_p(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:i,parent:o}}function IC(a){let t=AC(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Xt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let c=[];i.where&&(c=(function(T){const A=Nx(T);return A instanceof li&&ax(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(T){return T.map((A=>(function(U){return new Wu(Hs(U.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(T){let A;return A=typeof T=="object"?T.value:T,mh(A)?null:A})(i.limit));let y=null;i.startAt&&(y=(function(T){const A=!!T.before,O=T.values||[];return new Zu(O,A)})(i.startAt));let m=null;return i.endAt&&(m=(function(T){const A=!T.before,O=T.values||[];return new Zu(O,A)})(i.endAt)),XR(t,o,f,c,p,"F",y,m)}function OC(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Nx(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Hs(i.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Hs(i.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Hs(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Hs(i.unaryFilter.field);return ke.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return ke.create(Hs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return li.create(i.compositeFilter.filters.map((r=>Nx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(i.compositeFilter.op))})(a):Rt(30097,{filter:a})}function MC(a){return bC[a]}function VC(a){return xC[a]}function kC(a){return EC[a]}function qs(a){return{fieldPath:a.canonicalString()}}function Hs(a){return nn.fromServerFormat(a.fieldPath)}function Ix(a){return a instanceof ke?(function(i){if(i.op==="=="){if(Q0(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NAN"}};if($0(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q0(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NOT_NAN"}};if($0(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(i.field),op:VC(i.op),value:i.value}}})(a):a instanceof li?(function(i){const r=i.getFilters().map((o=>Ix(o)));return r.length===1?r[0]:{compositeFilter:{op:kC(i.op),filters:r}}})(a):Rt(54877,{filter:a})}function jC(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function Ox(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,i,r,o,c=Nt.min(),f=Nt.min(),p=an.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.yt=t}}function UC(a){const t=IC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?vp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Cn=new zC}addToCollectionParentIndex(t,i){return this.Cn.add(i),at.resolve()}getCollectionParents(t,i){return at.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return at.resolve()}deleteFieldIndex(t,i){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,i){return at.resolve()}getDocumentsMatchingTarget(t,i){return at.resolve(null)}getIndexType(t,i){return at.resolve(0)}getFieldIndexes(t,i){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,i){return at.resolve(er.min())}getMinOffsetFromCollectionGroup(t,i){return at.resolve(er.min())}updateCollectionGroup(t,i,r){return at.resolve()}updateIndexEntries(t,i){return at.resolve()}}class zC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new qe(ce.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new qe(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mx=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(Mx,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Js(0)}static cr(){return new Js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LruGarbageCollector",BC=1048576;function c_([a,t],[i,r]){const o=Lt(a,i);return o===0?Lt(t,r):o}class qC{constructor(t){this.Ir=t,this.buffer=new qe(c_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();c_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class HC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){gt(l_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?gt(l_,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class FC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return at.resolve(ph.ce);const r=new qC(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(o_)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,c,f,p,y,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(t,r,i)))).next((T=>(c=T,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(m=Date.now(),zs()<=$t.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${T} documents in `+(m-y)+`ms
Total Duration: ${m-v}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function GC(a,t){return new FC(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?at.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Sl(r.mutation,o,ri.empty(),he.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const o=zr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((c=>{let f=_l();return c.forEach(((p,y)=>{f=f.insert(p,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const r=zr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(t,i,r,o){let c=ga();const f=Al(),p=(function(){return Al()})();return i.forEach(((y,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Kr)?c=c.insert(m.key,m):v!==void 0?(f.set(m.key,v.mutation.getFieldMask()),Sl(v.mutation,m,v.mutation.getFieldMask(),he.now())):f.set(m.key,ri.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((m,v)=>f.set(m,v))),i.forEach(((m,v)=>p.set(m,new QC(v,f.get(m)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Al();let o=new _e(((f,p)=>f-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const p of f)p.keys().forEach((y=>{const m=i.get(y);if(m===null)return;let v=r.get(y)||ri.empty();v=p.applyToLocalView(m,v),r.set(y,v);const T=(o.get(p.batchId)||zt()).add(y);o=o.insert(p.batchId,T)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),m=y.key,v=y.value,T=px();v.forEach((A=>{if(!c.has(A)){const O=bx(i.get(A),r.get(A));O!==null&&T.set(A,O),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(t,m,T))}return at.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cx(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-c.size):at.resolve(zr());let p=Il,y=c;return f.next((m=>at.forEach(m,((v,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(v)?at.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{y=y.insert(v,A)}))))).next((()=>this.populateOverlays(t,m,c))).next((()=>this.computeViews(t,y,m,zt()))).next((v=>({batchId:p,changes:dx(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next((r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const c=i.collectionGroup;let f=_l();return this.indexManager.getCollectionParents(t,c).next((p=>at.forEach(p,(y=>{const m=(function(T,A){return new ql(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,m,r,o).next((v=>{v.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,o)))).next((f=>{c.forEach(((y,m)=>{const v=m.getKey();f.get(v)===null&&(f=f.insert(v,un.newInvalidDocument(v)))}));let p=_l();return f.forEach(((y,m)=>{const v=c.get(y);v!==void 0&&Sl(v.mutation,m,ri.empty(),he.now()),vh(i,m)&&(p=p.insert(y,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return at.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(i)),at.resolve()}getNamedQuery(t,i){return at.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:UC(o.bundledQuery),readTime:Mi(o.readTime)}})(i)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.overlays=new _e(Et.comparator),this.qr=new Map}getOverlay(t,i){return at.resolve(this.overlays.get(i))}getOverlays(t,i){const r=zr();return at.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,c)=>{this.St(t,i,c)})),at.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),at.resolve()}getOverlaysForCollection(t,i,r){const o=zr(),c=i.length+1,f=new Et(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,m=y.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return at.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let c=new _e(((m,v)=>m-v));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>r){let v=c.get(m.largestBatchId);v===null&&(v=zr(),c=c.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const p=zr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((m,v)=>p.set(m,v))),!(p.size()>=o)););return at.resolve(p)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new pC(i,r));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.Qr=new qe(Ye.$r),this.Ur=new qe(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ye(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ye(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new Et(new ce([])),r=new Ye(i,t),o=new Ye(i,t+1),c=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Et(new ce([])),r=new Ye(i,t),o=new Ye(i,t+1);let c=zt();return this.Ur.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(t){const i=new Ye(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ye{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Et.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||Et.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ye.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dC(c,i,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Ye(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return at.resolve(f)}lookupMutationBatch(t,i){return at.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return at.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?Xp:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ye(i,0),o=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);c.push(p)})),at.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new qe(Lt);return i.forEach((o=>{const c=new Ye(o,0),f=new Ye(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(p=>{r=r.add(p.Yr)}))})),at.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let c=r;Et.isDocumentKey(c)||(c=c.child(""));const f=new Ye(new Et(c),0);let p=new qe(Lt);return this.Zr.forEachWhile((y=>{const m=y.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(y.Yr)),!0)}),f),at.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return at.forEach(i.mutations,(o=>{const c=new Ye(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ye(i,0),o=this.Zr.firstAfterOrEqual(r);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.ri=t,this.docs=(function(){return new _e(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return at.resolve(r?r.document.mutableCopy():un.newInvalidDocument(i))}getEntries(t,i){let r=ga();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():un.newInvalidDocument(o))})),at.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let c=ga();const f=i.path,p=new Et(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:m,value:{document:v}}=y.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||CR(RR(v),r)<=0||(o.has(v.key)||vh(i,v))&&(c=c.insert(v.key,v.mutableCopy()))}return at.resolve(c)}getAllFromCollectionGroup(t,i,r,o){Rt(9500)}ii(t,i){return at.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new tD(this)}getSize(t){return at.resolve(this.size)}}class tD extends $C{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),at.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.persistence=t,this.si=new Yr((i=>Jp(i)),tm),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new rm,this.targetCount=0,this.ai=Js.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),at.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Js(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,at.resolve()}updateTargetData(t,i){return this.Pr(i),at.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,i,r){let o=0;const c=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),at.waitFor(c).next((()=>o))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return at.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),at.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(t,f))})),at.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),at.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return at.resolve(r)}containsKey(t,i){return at.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new ZC,this.referenceDelegate=t(this),this.Pi=new eD(this),this.indexManager=new LC,this.remoteDocumentCache=(function(o){return new JC(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PC(i),this.Ii=new KC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new XC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new WC(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){gt("MemoryPersistence","Starting transaction:",t);const o=new nD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return at.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class nD extends NR{constructor(t){super(),this.currentSequenceNumber=t}}class sm{constructor(t){this.persistence=t,this.Ri=new rm,this.Vi=null}static mi(t){return new sm(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),at.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),at.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),at.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(r=>{const o=Et.fromPath(r);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Nt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class nh{constructor(t,i){this.persistence=t,this.pi=new Yr((r=>MR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=GC(this,i)}static mi(t,i){return new nh(t,i)}Ei(){}di(t){return at.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return at.forEach(this.pi,((r,o)=>this.br(t,r,o).next((c=>c?at.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,i).next((p=>{p||(r++,c.removeEntry(f,Nt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),at.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nu(t.data.value)),i}br(t,i,r){return at.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return at.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new om(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jA()?8:IR(VA())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const c={result:null};return this.ys(t,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(t,i,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new iD;return this.Ss(t,i,f).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,f,p.size)}))})).next((()=>c.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(zs()<=$t.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Bs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(zs()<=$t.DEBUG&&gt("QueryEngine","Query:",Bs(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(zs()<=$t.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Bs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):at.resolve())}ys(t,i){if(Z0(i))return at.resolve(null);let r=Oi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=vp(i,null,"F"),r=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const f=zt(...c);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const m=this.Ds(i,p);return this.Cs(i,m,f,y.readTime)?this.ys(t,vp(i,null,"F")):this.vs(t,m,i,y)}))))})))))}ws(t,i,r,o){return Z0(i)||o.isEqual(Nt.min())?at.resolve(null):this.ps.getDocuments(t,r).next((c=>{const f=this.Ds(i,c);return this.Cs(i,f,r,o)?at.resolve(null):(zs()<=$t.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bs(i)),this.vs(t,f,i,SR(o,Il)).next((p=>p)))}))}Ds(t,i){let r=new qe(hx(t));return i.forEach(((o,c)=>{vh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,r){return zs()<=$t.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Bs(i)),this.ps.getDocumentsMatchingQuery(t,i,er.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LocalStore",rD=3e8;class sD{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new _e(Lt),this.xs=new Yr((c=>Jp(c)),tm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function oD(a,t,i,r){return new sD(a,t,i,r)}async function kx(a,t){const i=It(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],p=[];let y=zt();for(const m of o){f.push(m.batchId);for(const v of m.mutations)y=y.add(v.key)}for(const m of c){p.push(m.batchId);for(const v of m.mutations)y=y.add(v.key)}return i.localDocuments.getDocuments(r,y).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:p})))}))}))}function lD(a,t){const i=It(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,m,v){const T=m.batch,A=T.keys();let O=at.resolve();return A.forEach((U=>{O=O.next((()=>v.getEntry(y,U))).next((k=>{const V=m.docVersions.get(U);Xt(V!==null,48541),k.version.compareTo(V)<0&&(T.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),v.addEntry(k)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(y,T)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=zt();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(y=y.add(p.batch.mutations[m].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function jx(a){const t=It(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function cD(a,t){const i=It(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;p.push(i.Pi.removeMatchingKeys(c,v.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(c,v.addedDocuments,T))));let O=A.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(T)!==null?O=O.withResumeToken(an.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,r)),o=o.insert(T,O),(function(k,V,Y){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=rD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,O,v)&&p.push(i.Pi.updateTargetData(c,O))}));let y=ga(),m=zt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,v))})),p.push(uD(c,f,t.documentUpdates).next((v=>{y=v.ks,m=v.qs}))),!r.isEqual(Nt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(c).next((T=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(v)}return at.waitFor(p).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,m))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function uD(a,t,i){let r=zt(),o=zt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let f=ga();return i.forEach(((p,y)=>{const m=c.get(p);y.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Nt.min())?(t.removeEntry(p,y.readTime),f=f.insert(p,y)):!m.isValidDocument()||y.version.compareTo(m.version)>0||y.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(y),f=f.insert(p,y)):gt(lm,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function hD(a,t){const i=It(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Xp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function fD(a,t){const i=It(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((c=>c?(o=c,at.resolve(o)):i.Pi.allocateTargetId(r).next((f=>(o=new Ya(t,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Tp(a,t,i){const r=It(a),o=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!so(f))throw f;gt(lm,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function u_(a,t,i){const r=It(a);let o=Nt.min(),c=zt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,m,v){const T=It(y),A=T.xs.get(v);return A!==void 0?at.resolve(T.Ms.get(A)):T.Pi.getTargetData(m,v)})(r,f,Oi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,i?o:Nt.min(),i?c:zt()))).next((p=>(dD(r,WR(t),p),{documents:p,Qs:c})))))}function dD(a,t,i){let r=a.Os.get(t)||Nt.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class h_{constructor(){this.activeTargetIds=aC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pD{constructor(){this.Mo=new h_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new h_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="ConnectivityMonitor";class d_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gt(f_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){gt(f_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu=null;function wp(){return Tu===null?Tu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tu++,"0x"+Tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",gD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ku?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,c){const f=wp(),p=this.zo(t,i.toUriEncodedString());gt(Qd,`Sending RPC '${t}' ${f}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:m}=new URL(p),v=zl(m);return this.Jo(t,p,y,r,v).then((T=>(gt(Qd,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Ks(Qd,`RPC '${t}' ${f} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(t,i,r,o,c,f){return this.Go(t,i,r,o,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),r&&r.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const r=gD[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class _D extends yD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,c){const f=wp();return new Promise(((p,y)=>{const m=new Pb;m.setWithCredentials(!0),m.listenOnce(Ub.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Du.NO_ERROR:const T=m.getResponseJson();gt(ln,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),p(T);break;case Du.TIMEOUT:gt(ln,`RPC '${t}' ${f} timed out`),y(new yt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const A=m.getStatus();if(gt(ln,`RPC '${t}' ${f} failed with status:`,A,"response text:",m.getResponseText()),A>0){let O=m.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O?.error;if(U&&U.status&&U.message){const k=(function(Y){const Z=Y.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Z)>=0?Z:it.UNKNOWN})(U.status);y(new yt(k,U.message))}else y(new yt(it.UNKNOWN,"Server responded with status "+m.getStatus()))}else y(new yt(it.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{gt(ln,`RPC '${t}' ${f} completed.`)}}));const v=JSON.stringify(o);gt(ln,`RPC '${t}' ${f} sending request:`,o),m.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=wp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Bb(),p=zb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const v=c.join("");gt(ln,`Creating RPC '${t}' stream ${o}: ${v}`,y);const T=f.createWebChannel(v,y);this.I_(T);let A=!1,O=!1;const U=new vD({Yo:V=>{O?gt(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(A||(gt(ln,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),gt(ln,`RPC '${t}' stream ${o} sending:`,V),T.send(V))},Zo:()=>T.close()}),k=(V,Y,Z)=>{V.listen(Y,(K=>{try{Z(K)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return k(T,vl.EventType.OPEN,(()=>{O||(gt(ln,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),k(T,vl.EventType.CLOSE,(()=>{O||(O=!0,gt(ln,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(T))})),k(T,vl.EventType.ERROR,(V=>{O||(O=!0,Ks(ln,`RPC '${t}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),U.a_(new yt(it.UNAVAILABLE,"The operation could not be completed")))})),k(T,vl.EventType.MESSAGE,(V=>{if(!O){const Y=V.data[0];Xt(!!Y,16349);const Z=Y,K=Z?.error||Z[0]?.error;if(K){gt(ln,`RPC '${t}' stream ${o} received error:`,K);const dt=K.status;let ht=(function(R){const C=Ve[R];if(C!==void 0)return Tx(C)})(dt),bt=K.message;ht===void 0&&(ht=it.INTERNAL,bt="Unknown error status: "+dt+" with message "+K.message),O=!0,U.a_(new yt(ht,bt)),T.close()}else gt(ln,`RPC '${t}' stream ${o} received:`,Y),U.u_(Y)}})),k(p,Lb.STAT_EVENT,(V=>{V.stat===hp.PROXY?gt(ln,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===hp.NOPROXY&&gt(ln,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(a){return new TC(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t,i,r=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&gt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class Ux{constructor(t,i,r,o,c,f,p,y){this.Mi=t,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Px(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(ma(i.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new yt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return gt(p_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(gt(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bD extends Ux{constructor(t,i,r,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=SC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Nt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Nt.min():f.readTime?Mi(f.readTime):Nt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Ep(this.serializer),i.addTarget=(function(c,f){let p;const y=f.target;if(p=gp(y)?{documents:DC(c,y)}:{query:NC(c,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Sx(c,f.resumeToken);const m=_p(c,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(Nt.min())>0){p.readTime=eh(c,f.snapshotVersion.toTimestamp());const m=_p(c,f.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,t);const r=OC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Ep(this.serializer),i.removeTarget=t,this.q_(i)}}class xD extends Ux{constructor(t,i,r,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=CC(t.writeResults,t.commitTime),r=Mi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Ep(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>RC(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{}class TD extends ED{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(t,bp(i,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(it.UNKNOWN,c.toString())}))}Ho(t,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,bp(i,r),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(it.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ma(i),this.aa=!1):gt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="RemoteStore";class AD{constructor(t,i,r,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Xr(this)&&(gt(Fr,"Restarting streams for network reachability change."),await(async function(y){const m=It(y);m.Ea.add(4),await Gl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Th(m)})(this))}))})),this.Ra=new wD(r,o)}}async function Th(a){if(Xr(a))for(const t of a.da)await t(!0)}async function Gl(a){for(const t of a.da)await t(!1)}function Lx(a,t){const i=It(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),fm(i)?hm(i):oo(i).O_()&&um(i,t))}function cm(a,t){const i=It(a),r=oo(i);i.Ia.delete(t),r.O_()&&zx(i,t),i.Ia.size===0&&(r.O_()?r.L_():Xr(i)&&i.Ra.set("Unknown"))}function um(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(a).Y_(t)}function zx(a,t){a.Va.Ue(t),oo(a).Z_(t)}function hm(a){a.Va=new _C({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),oo(a).start(),a.Ra.ua()}function fm(a){return Xr(a)&&!oo(a).x_()&&a.Ia.size>0}function Xr(a){return It(a).Ea.size===0}function Bx(a){a.Va=void 0}async function SD(a){a.Ra.set("Online")}async function RD(a){a.Ia.forEach(((t,i)=>{um(a,t)}))}async function CD(a,t){Bx(a),fm(a)?(a.Ra.ha(t),hm(a)):a.Ra.set("Unknown")}async function DD(a,t,i){if(a.Ra.set("Online"),t instanceof Ax&&t.state===2&&t.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(r){gt(Fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ih(a,r)}else if(t instanceof Mu?a.Va.Ze(t):t instanceof wx?a.Va.st(t):a.Va.tt(t),!i.isEqual(Nt.min()))try{const r=await jx(a.localStore);i.compareTo(r)>=0&&await(function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach(((y,m)=>{if(y.resumeToken.approximateByteSize()>0){const v=c.Ia.get(m);v&&c.Ia.set(m,v.withResumeToken(y.resumeToken,f))}})),p.targetMismatches.forEach(((y,m)=>{const v=c.Ia.get(y);if(!v)return;c.Ia.set(y,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),zx(c,y);const T=new Ya(v.target,y,m,v.sequenceNumber);um(c,T)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){gt(Fr,"Failed to raise snapshot:",r),await ih(a,r)}}async function ih(a,t,i){if(!so(t))throw t;a.Ea.add(1),await Gl(a),a.Ra.set("Offline"),i||(i=()=>jx(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{gt(Fr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Th(a)}))}function qx(a,t){return t().catch((i=>ih(a,i,t)))}async function wh(a){const t=It(a),i=rr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xp;for(;ND(t);)try{const o=await hD(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,ID(t,o)}catch(o){await ih(t,o)}Hx(t)&&Fx(t)}function ND(a){return Xr(a)&&a.Ta.length<10}function ID(a,t){a.Ta.push(t);const i=rr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function Hx(a){return Xr(a)&&!rr(a).x_()&&a.Ta.length>0}function Fx(a){rr(a).start()}async function OD(a){rr(a).ra()}async function MD(a){const t=rr(a);for(const i of a.Ta)t.ea(i.mutations)}async function VD(a,t,i){const r=a.Ta.shift(),o=nm.from(r,t,i);await qx(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await wh(a)}async function kD(a,t){t&&rr(a).X_&&await(async function(r,o){if((function(f){return gC(f)&&f!==it.ABORTED})(o.code)){const c=r.Ta.shift();rr(r).B_(),await qx(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await wh(r)}})(a,t),Hx(a)&&Fx(a)}async function m_(a,t){const i=It(a);i.asyncQueue.verifyOperationInProgress(),gt(Fr,"RemoteStore received new credentials");const r=Xr(i);i.Ea.add(3),await Gl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function jD(a,t){const i=It(a);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function oo(a){return a.ma||(a.ma=(function(i,r,o){const c=It(i);return c.sa(),new bD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:SD.bind(null,a),t_:RD.bind(null,a),r_:CD.bind(null,a),H_:DD.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),fm(a)?hm(a):a.Ra.set("Unknown")):(await a.ma.stop(),Bx(a))}))),a.ma}function rr(a){return a.fa||(a.fa=(function(i,r,o){const c=It(i);return c.sa(),new xD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:OD.bind(null,a),r_:kD.bind(null,a),ta:MD.bind(null,a),na:VD.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await wh(a)):(await a.fa.stop(),a.Ta.length>0&&(gt(Fr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,i,r,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,c){const f=Date.now()+r,p=new dm(t,i,f,o,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(a,t){if(ma("AsyncQueue",`${t}: ${a}`),so(a))return new yt(it.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static emptySet(t){return new Fs(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Et.comparator(i.key,r.key):(i,r)=>Et.comparator(i.key,r.key),this.keyedMap=_l(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fs)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Fs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.ga=new _e(Et.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class to{constructor(t,i,r,o,c,f,p,y,m){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=m}static fromInitialDocuments(t,i,r,o,c){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new to(t,i,Fs.emptySet(i),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class UD{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=It(i),c=o.queries;o.queries=y_(),c.forEach(((f,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new yt(it.ABORTED,"Firestore shutting down"))}}function y_(){return new Yr((a=>ux(a)),yh)}async function LD(a,t){const i=It(a);let r=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(r=2):(c=new PD,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=pm(f,`Initialization of query '${Bs(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&mm(i)}async function zD(a,t){const i=It(a),r=t.query;let o=3;const c=i.queries.get(r);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function BD(a,t){const i=It(a);let r=!1;for(const o of t){const c=o.query,f=i.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&mm(i)}function qD(a,t,i){const r=It(a),o=r.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(t)}function mm(a){a.Ca.forEach((t=>{t.next()}))}var Ap,v_;(v_=Ap||(Ap={})).Ma="default",v_.Cache="cache";class HD{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new to(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t){this.key=t}}class $x{constructor(t){this.key=t}}class FD{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=hx(t),this.tu=new Fs(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new g_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const A=o.get(v),O=vh(this.query,T)?T:null,U=!!A&&this.mutatedKeys.has(A.key),k=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;A&&O?A.data.isEqual(O.data)?U!==k&&(r.track({type:3,doc:O}),V=!0):this.su(A,O)||(r.track({type:2,doc:O}),V=!0,(y&&this.eu(O,y)>0||m&&this.eu(O,m)<0)&&(p=!0)):!A&&O?(r.track({type:0,doc:O}),V=!0):A&&!O&&(r.track({type:1,doc:A}),V=!0,(y||m)&&(p=!0)),V&&(O?(f=f.add(O),c=k?c.add(v):c.delete(v)):(f=f.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:f,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((v,T)=>(function(O,U){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:V})}};return k(O)-k(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,m=y!==this.Za;return this.Za=y,f.length!==0||m?{snapshot:new to(this.query,t.tu,c,f,t.mutatedKeys,y===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new $x(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new Gx(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gm="SyncEngine";class GD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class $D{constructor(t){this.key=t,this.hu=!1}}class QD{constructor(t,i,r,o,c,f){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Yr((p=>ux(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new _e(Et.comparator),this.Au=new Map,this.Ru=new rm,this.Vu={},this.mu=new Map,this.fu=Js.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YD(a,t,i=!0){const r=Wx(a);let o;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Qx(r,t,i,!0),o}async function KD(a,t){const i=Wx(a);await Qx(i,t,!0,!1)}async function Qx(a,t,i,r){const o=await fD(a.localStore,Oi(t)),c=o.targetId,f=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await XD(a,t,c,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&Lx(a.remoteStore,o),p}async function XD(a,t,i,r,o){a.pu=(T,A,O)=>(async function(k,V,Y,Z){let K=V.view.ru(Y);K.Cs&&(K=await u_(k.localStore,V.query,!1).then((({documents:P})=>V.view.ru(P,K))));const dt=Z&&Z.targetChanges.get(V.targetId),ht=Z&&Z.targetMismatches.get(V.targetId)!=null,bt=V.view.applyChanges(K,k.isPrimaryClient,dt,ht);return b_(k,V.targetId,bt.au),bt.snapshot})(a,T,A,O);const c=await u_(a.localStore,t,!0),f=new FD(t,c.Qs),p=f.ru(c.documents),y=Fl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),m=f.applyChanges(p,a.isPrimaryClient,y);b_(a,i,m.au);const v=new GD(t,i,f);return a.Tu.set(t,v),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),m.snapshot}async function ZD(a,t,i){const r=It(a),o=r.Tu.get(t),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!yh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&cm(r.remoteStore,o.targetId),Sp(r,o.targetId)})).catch(ro)):(Sp(r,o.targetId),await Tp(r.localStore,o.targetId,!0))}async function WD(a,t){const i=It(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),cm(i.remoteStore,r.targetId))}async function JD(a,t,i){const r=sN(a);try{const o=await(function(f,p){const y=It(f),m=he.now(),v=p.reduce(((O,U)=>O.add(U.key)),zt());let T,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let U=ga(),k=zt();return y.Ns.getEntries(O,v).next((V=>{U=V,U.forEach(((Y,Z)=>{Z.isValidDocument()||(k=k.add(Y))}))})).next((()=>y.localDocuments.getOverlayedDocuments(O,U))).next((V=>{T=V;const Y=[];for(const Z of p){const K=hC(Z,T.get(Z.key).overlayedDocument);K!=null&&Y.push(new Kr(Z.key,K,ex(K.value.mapValue),fa.exists(!0)))}return y.mutationQueue.addMutationBatch(O,m,Y,p)})).next((V=>{A=V;const Y=V.applyToLocalDocumentSet(T,k);return y.documentOverlayCache.saveOverlays(O,V.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:dx(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,y){let m=f.Vu[f.currentUser.toKey()];m||(m=new _e(Lt)),m=m.insert(p,y),f.Vu[f.currentUser.toKey()]=m})(r,o.batchId,i),await $l(r,o.changes),await wh(r.remoteStore)}catch(o){const c=pm(o,"Failed to persist write");i.reject(c)}}async function Yx(a,t){const i=It(a);try{const r=await cD(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xt(f.hu,14607):o.removedDocuments.size>0&&(Xt(f.hu,42227),f.hu=!1))})),await $l(i,r,t)}catch(r){await ro(r)}}function __(a,t,i){const r=It(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const y=It(f);y.onlineState=p;let m=!1;y.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(p)&&(m=!0)})),m&&mm(y)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tN(a,t,i){const r=It(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),c=o&&o.key;if(c){let f=new _e(Et.comparator);f=f.insert(c,un.newNoDocument(c,Nt.min()));const p=zt().add(c),y=new xh(Nt.min(),new Map,new _e(Lt),f,p);await Yx(r,y),r.du=r.du.remove(c),r.Au.delete(t),ym(r)}else await Tp(r.localStore,t,!1).then((()=>Sp(r,t,i))).catch(ro)}async function eN(a,t){const i=It(a),r=t.batch.batchId;try{const o=await lD(i.localStore,t);Xx(i,r,null),Kx(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await $l(i,o)}catch(o){await ro(o)}}async function nN(a,t,i){const r=It(a);try{const o=await(function(f,p){const y=It(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return y.mutationQueue.lookupMutationBatch(m,p).next((T=>(Xt(T!==null,37113),v=T.keys(),y.mutationQueue.removeMutationBatch(m,T)))).next((()=>y.mutationQueue.performConsistencyCheck(m))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(m,v,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>y.localDocuments.getDocuments(m,v)))}))})(r.localStore,t);Xx(r,t,i),Kx(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await $l(r,o)}catch(o){await ro(o)}}function Kx(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function Xx(a,t,i){const r=It(a);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Sp(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||Zx(a,r)}))}function Zx(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(cm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),ym(a))}function b_(a,t,i){for(const r of i)r instanceof Gx?(a.Ru.addReference(r.key,t),iN(a,r)):r instanceof $x?(gt(gm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||Zx(a,r.key)):Rt(19791,{wu:r})}function iN(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(gt(gm,"New document in limbo: "+i),a.Eu.add(r),ym(a))}function ym(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new Et(ce.fromString(t)),r=a.fu.next();a.Au.set(r,new $D(i)),a.du=a.du.insert(i,r),Lx(a.remoteStore,new Ya(Oi(lx(i.path)),r,"TargetPurposeLimboResolution",ph.ce))}}async function $l(a,t,i){const r=It(a),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{f.push(r.pu(y,t,i).then((m=>{if((m||i)&&r.isPrimaryClient){const v=m?!m.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,v?"current":"not-current")}if(m){o.push(m);const v=om.As(y.targetId,m);c.push(v)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,m){const v=It(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>at.forEach(m,(A=>at.forEach(A.Es,(O=>v.persistence.referenceDelegate.addReference(T,A.targetId,O))).next((()=>at.forEach(A.ds,(O=>v.persistence.referenceDelegate.removeReference(T,A.targetId,O)))))))))}catch(T){if(!so(T))throw T;gt(lm,"Failed to update sequence numbers: "+T)}for(const T of m){const A=T.targetId;if(!T.fromCache){const O=v.Ms.get(A),U=O.snapshotVersion,k=O.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(A,k)}}})(r.localStore,c))}async function aN(a,t){const i=It(a);if(!i.currentUser.isEqual(t)){gt(gm,"User change. New user:",t.toKey());const r=await kx(i.localStore,t);i.currentUser=t,(function(c,f){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new yt(it.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await $l(i,r.Ls)}}function rN(a,t){const i=It(a),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let o=zt();const c=i.Iu.get(t);if(!c)return o;for(const f of c){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Wx(a){const t=It(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tN.bind(null,t),t.Pu.H_=BD.bind(null,t.eventManager),t.Pu.yu=qD.bind(null,t.eventManager),t}function sN(a){const t=It(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nN.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return oD(this.persistence,new aD,t.initialUser,this.serializer)}Cu(t){return new Vx(sm.mi,this.serializer)}Du(t){return new pD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class oN extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new Vx((r=>nh.mi(r,i)),this.serializer)}}class Rp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>__(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aN.bind(null,this.syncEngine),await jD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new UD})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),r=(function(c){return new _D(c)})(t.databaseInfo);return(function(c,f,p,y){return new TD(c,f,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,c,f,p){return new AD(r,o,c,f,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>__(this.syncEngine,i,0)),(function(){return d_.v()?new d_:new mD})())}createSyncEngine(t,i){return(function(o,c,f,p,y,m,v){const T=new QD(o,c,f,p,y,m);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=It(i);gt(Fr,"RemoteStore shutting down."),r.Ea.add(5),await Gl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ma("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="FirestoreClient";class cN{constructor(t,i,r,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{gt(sr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(gt(sr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=pm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Kd(a,t){a.asyncQueue.verifyOperationInProgress(),gt(sr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await kx(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function x_(a,t){a.asyncQueue.verifyOperationInProgress();const i=await uN(a);gt(sr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>m_(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>m_(t.remoteStore,o))),a._onlineComponents=t}async function uN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){gt(sr,"Using user provided OfflineComponentProvider");try{await Kd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ks("Error using user provided cache. Falling back to memory cache: "+i),await Kd(a,new ah)}}else gt(sr,"Using default OfflineComponentProvider"),await Kd(a,new oN(void 0));return a._offlineComponents}async function Jx(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(gt(sr,"Using user provided OnlineComponentProvider"),await x_(a,a._uninitializedComponentsProvider._online)):(gt(sr,"Using default OnlineComponentProvider"),await x_(a,new Rp))),a._onlineComponents}function hN(a){return Jx(a).then((t=>t.syncEngine))}async function fN(a){const t=await Jx(a),i=t.eventManager;return i.onListen=YD.bind(null,t.syncEngine),i.onUnlisten=ZD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WD.bind(null,t.syncEngine),i}function dN(a,t,i={}){const r=new Ja;return a.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,y,m){const v=new lN({next:A=>{v.Nu(),f.enqueueAndForget((()=>zD(c,T))),A.fromCache&&y.source==="server"?m.reject(new yt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new HD(p,v,{includeMetadataChanges:!0,qa:!0});return LD(c,T)})(await fN(a),a.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="firestore.googleapis.com",T_=!0;class w_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eE,this.ssl=T_}else this.host=t.host,this.ssl=t.ssl??T_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<BC)throw new yt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mR;switch(r.type){case"firstParty":return new _R(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=E_.get(i);r&&(gt("ComponentProvider","Removing Datastore"),E_.delete(i),r.terminate())})(this),Promise.resolve()}}function pN(a,t,i,r={}){a=Qu(a,Ah);const o=zl(t),c=a._getSettings(),f={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(cb(`https://${p}`),hb("Firestore",!0)),c.host!==eE&&c.host!==p&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:r};if(!Gu(y,f)&&(a._setSettings(y),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=cn.MOCK_USER;else{m=ub(r.mockUserToken,a._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new yt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(T)}a._authCredentials=new gR(new Hb(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new lo(this.firestore,t,this._query)}}class Ke{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Bl(i,Ke._jsonSchema))return new Ke(t,r||null,new Et(ce.fromString(i.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:je("string",Ke._jsonSchemaVersion),referencePath:je("string")};class tr extends lo{constructor(t,i,r){super(t,i,lx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new Et(t))}withConverter(t){return new tr(this.firestore,t,this._path)}}function Vu(a,t,...i){if(a=oi(a),Fb("collection","path",t),a instanceof Ah){const r=ce.fromString(t,...i);return P0(r),new tr(a,null,r)}{if(!(a instanceof Ke||a instanceof tr))throw new yt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ce.fromString(t,...i));return P0(r),new tr(a.firestore,null,r)}}function mN(a,t,...i){if(a=oi(a),arguments.length===1&&(t=Kp.newId()),Fb("doc","path",t),a instanceof Ah){const r=ce.fromString(t,...i);return j0(r),new Ke(a,null,new Et(r))}{if(!(a instanceof Ke||a instanceof tr))throw new yt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ce.fromString(t,...i));return j0(r),new Ke(a.firestore,a instanceof tr?a.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="AsyncQueue";class S_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Px(this,"async_queue_retry"),this._c=()=>{const r=Yd();r&&gt(A_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;gt(A_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ma("INTERNAL UNHANDLED ERROR: ",R_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=dm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:R_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function R_(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class vm extends Ah{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new S_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S_(t),this._firestoreClient=void 0,await t}}}function gN(a,t){const i=typeof a=="object"?a:bb(),r=typeof a=="string"?a:Ku,o=gb(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=ob("firestore");c&&pN(o,...c)}return o}function nE(a){if(a._terminated)throw new yt(it.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||yN(a),a._firestoreClient}function yN(a){const t=a._freezeSettings(),i=(function(o,c,f,p){return new jR(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new cN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(an.fromBase64String(t))}catch(i){throw new yt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Yn(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:je("string",Yn._jsonSchemaVersion),bytes:je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new yt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new yt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new yt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:je("string",Vi._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ki(t.vectorValues);throw new yt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:je("string",ki._jsonSchemaVersion),vectorValues:je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class _N{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}function aE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:a})}}class bm{constructor(t,i,r,o,c,f){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(aE(this.Ac)&&vN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Eh(t)}Cc(t,i,r,o=!1){return new bm({Ac:t,methodName:i,Dc:r,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rE(a){const t=a._freezeSettings(),i=Eh(a._databaseId);return new bN(a._databaseId,!!t.ignoreUndefinedProperties,i)}function xN(a,t,i,r,o,c={}){const f=a.Cc(c.merge||c.mergeFields?2:0,t,i,o);lE("Data must be an object, but it was:",f,r);const p=sE(r,f);let y,m;if(c.merge)y=new ri(f.fieldMask),m=f.fieldTransforms;else if(c.mergeFields){const v=[];for(const T of c.mergeFields){const A=TN(t,T,i);if(!f.contains(A))throw new yt(it.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);AN(v,A)||v.push(A)}y=new ri(v),m=f.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,m=f.fieldTransforms;return new _N(new Qn(p),y,m)}function EN(a,t,i,r=!1){return xm(i,a.Cc(r?4:3,t))}function xm(a,t){if(oE(a=oi(a)))return lE("Unsupported field value:",t,a),sE(a,t);if(a instanceof iE)return(function(r,o){if(!aE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const p of r){let y=xm(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(a,t)}return(function(r,o){if((r=oi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=he.fromDate(r);return{timestampValue:eh(o.serializer,c)}}if(r instanceof he){const c=new he(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(o.serializer,c)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:Sx(o.serializer,r._byteString)};if(r instanceof Ke){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:am(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(f,p){return{mapValue:{fields:{[Jb]:{stringValue:tx},[Xu]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return em(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${dh(r)}`)})(a,t)}function sE(a,t){const i={};return Qb(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qr(a,((r,o)=>{const c=xm(o,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function oE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof he||a instanceof Vi||a instanceof Yn||a instanceof Ke||a instanceof iE||a instanceof ki)}function lE(a,t,i){if(!oE(i)||!Gb(i)){const r=dh(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function TN(a,t,i){if((t=oi(t))instanceof _m)return t._internalPath;if(typeof t=="string")return cE(a,t);throw rh("Field path arguments must be of type string or ",a,!1,void 0,i)}const wN=new RegExp("[~\\*/\\[\\]]");function cE(a,t,i){if(t.search(wN)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new _m(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function rh(a,t,i,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new yt(it.INVALID_ARGUMENT,p+a+y)}function AN(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,i,r,o,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Em("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class SN extends uE{data(){return super.data()}}function Em(a,t){return typeof t=="string"?cE(a,t):t instanceof _m?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new yt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tm{}class CN extends Tm{}function C_(a,t,...i){let r=[];t instanceof Tm&&r.push(t),r=r.concat(i),(function(c){const f=c.filter((y=>y instanceof wm)).length,p=c.filter((y=>y instanceof Sh)).length;if(f>1||f>0&&p>0)throw new yt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class Sh extends CN{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Sh(t,i,r)}_apply(t){const i=this._parse(t);return hE(t._query,i),new lo(t.firestore,t.converter,yp(t._query,i))}_parse(t){const i=rE(t.firestore);return(function(c,f,p,y,m,v,T){let A;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new yt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){N_(T,v);const U=[];for(const k of T)U.push(D_(y,c,k));A={arrayValue:{values:U}}}else A=D_(y,c,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||N_(T,v),A=EN(p,f,T,v==="in"||v==="not-in");return ke.create(m,v,A)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function wu(a,t,i){const r=t,o=Em("where",a);return Sh._create(o,r,i)}class wm extends Tm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new wm(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:li.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const y of p)hE(f,y),f=yp(f,y)})(t._query,i),new lo(t.firestore,t.converter,yp(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function D_(a,t,i){if(typeof(i=oi(i))=="string"){if(i==="")throw new yt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cx(t)&&i.indexOf("/")!==-1)throw new yt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ce.fromString(i));if(!Et.isDocumentKey(r))throw new yt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G0(a,new Et(r))}if(i instanceof Ke)return G0(a,i._key);throw new yt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function N_(a,t){if(!Array.isArray(a)||a.length===0)throw new yt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hE(a,t){const i=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new yt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class DN{convertValue(t,i="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Qr(t,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Xu].arrayValue?.values?.map((r=>De(r.doubleValue)));return new ki(i)}convertGeoPoint(t){return new Vi(De(t.latitude),De(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=gh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=nr(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ce.fromString(t);Xt(Ox(r),9688,{name:t});const o=new Ml(r.get(1),r.get(3)),c=new Et(r.popFirst(5));return o.isEqual(i)||ma(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class Au{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gs extends uE{constructor(t,i,r,o,c,f){super(t,i,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:je("string",Gs._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class ku extends Gs{data(t={}){return super.data(t)}}class $s{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Au(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new ku(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new yt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const y=new ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Au(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Au(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:IN(p.type),doc:y,oldIndex:m,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$s._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function IN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:a})}}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:je("string",$s._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class ON extends DN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,i)}}function I_(a){a=Qu(a,lo);const t=Qu(a.firestore,vm),i=nE(t),r=new ON(t);return RN(a._query),dN(i,a._query).then((o=>new $s(t,r,a,o)))}function fE(a,t){const i=Qu(a.firestore,vm),r=mN(a),o=NN(a.converter,t);return MN(i,[xN(rE(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,fa.exists(!1))]).then((()=>r))}function MN(a,t){return(function(r,o){const c=new Ja;return r.asyncQueue.enqueueAndForget((async()=>JD(await hN(r),o,c))),c.promise})(nE(a),t)}(function(t,i=!0){(function(o){ao=o})(vb),Dl(new Ys("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),p=new vm(new yR(r.getProvider("auth-internal")),new bR(f,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new yt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(m.options.projectId,v)})(f,o),f);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Za(O0,M0,t),Za(O0,M0,"esm2020")})();var VN="firebase",kN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(VN,kN,"app");const jN={apiKey:"AIzaSyDnKX4BJsQRgv9tjl7R9l6edfLb2Pk6au4",authDomain:"nouhin-bolt-test-202508.firebaseapp.com",projectId:"nouhin-bolt-test-202508",storageBucket:"nouhin-bolt-test-202508.firebasestorage.app",messagingSenderId:"143363676790",appId:"1:143363676790:web:193dc5843f55ba891d1d57",measurementId:"G-4PWQ11BFWF"},dE=_b(jN),Xd=hR(dE),ju=gN(dE),PN=()=>{const[a,t]=j.useState(!1),[i,r]=j.useState(null),o=async(f,p,y)=>{const m=`${f}-${p}-${y}`,v=Fd(Xd,m);try{const T=await N0(v);if(T.items.length===0&&T.prefixes.length===0)return m;let A=2;for(;;){const O=`${m}-ver${A}`,U=Fd(Xd,O);try{const k=await N0(U);if(k.items.length===0&&k.prefixes.length===0)return O;A++}catch{return O}}}catch{return m}};return{uploading:a,uploadProgress:i,uploadPhotos:async(f,p)=>{t(!0),r({current:0,total:f.length,percentage:0});try{const y=await o(p.receptionNumber,p.photographerName,p.customerName),m=[];for(let v=0;v<f.length;v++){const T=f[v],A=`${String(v+1).padStart(3,"0")}`,O=Fd(Xd,`${y}/${A}`),U=await cR(O,T.file),k=await uR(U.ref),V={...p,id:T.id,number:v+1,originalName:T.originalName,storageUrl:k,deliveryDate:new Date};await fE(Vu(ju,"photos"),{...V,shootingDate:new Date(p.shootingDate)}),m.push(V);const Y=v+1,Z=Math.round(Y/f.length*100);r({current:Y,total:f.length,percentage:Z})}return m}finally{t(!1),r(null)}}}},UN=a=>{const t={};return a.photographerName.trim()||(t.photographerName=""),a.shootingDate||(t.shootingDate=""),a.receptionNumber.trim()?/^\d+$/.test(a.receptionNumber)||(t.receptionNumber=""):t.receptionNumber="",a.customerName.trim()||(t.customerName=""),t},LN=()=>{const[a,t]=j.useState([]),[i,r]=j.useState({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),[o,c]=j.useState({}),[f,p]=j.useState(!1),{uploading:y,uploadProgress:m,uploadPhotos:v}=PN(),T=j.useCallback(k=>{t(V=>[...V,...k].map((Z,K)=>({...Z,number:K+1}))),p(!1)},[]),A=j.useCallback(k=>{t(V=>V.filter(Z=>Z.id!==k).map((Z,K)=>({...Z,number:K+1})))},[]),O=j.useCallback(k=>{r(k),c({})},[]),U=async()=>{const k=UN(i);if(Object.keys(k).length>0){c(k);return}if(a.length===0){alert("");return}try{await v(a,i),p(!0),t([]),r({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),alert("")}catch(V){console.error("Upload error:",V),alert("")}};return E.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[E.jsx("header",{className:"bg-white shadow-sm mb-8",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ToruTora"})})}),E.jsx("div",{className:"max-w-6xl mx-auto px-4",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-8 text-center",children:""}),E.jsx("div",{className:"mb-8",children:E.jsx(vA,{onFilesAdded:T})}),E.jsx(_A,{photos:a,onRemove:A}),E.jsx("div",{className:"mt-8",children:E.jsx(bA,{metaInfo:i,onChange:O,errors:o})}),E.jsxs("div",{className:"mt-8 text-center",children:[m&&E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-2",children:[E.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:[m.percentage,"% "]}),E.jsxs("span",{className:"text-sm text-gray-600",children:[m.current," / ",m.total,""]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:E.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${m.percentage}%`}})})]}),E.jsx("button",{onClick:U,disabled:y||a.length===0,className:`px-8 py-3 rounded-lg font-semibold text-white transition-colors ${y||a.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:y?"...":""})]}),f&&E.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:""})]})})]})},zN=()=>{const a=Ul(),[t,i]=j.useState({receptionNumber:"",shootingDate:"",customerName:""}),[r,o]=j.useState({}),c=(y,m)=>{i(v=>({...v,[y]:m})),o(v=>({...v,[y]:""}))},f=()=>{const y={};return t.receptionNumber.trim()||(y.receptionNumber=""),t.shootingDate||(y.shootingDate=""),t.customerName.trim()||(y.customerName=""),o(y),Object.keys(y).length===0},p=()=>{f()&&a("/photo-select",{state:{searchInfo:t}})};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:""}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",value:t.receptionNumber,onChange:y=>c("receptionNumber",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),r.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"date",value:t.shootingDate,onChange:y=>c("shootingDate",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.shootingDate?"border-red-500":"border-gray-300"}`}),r.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",value:t.customerName,onChange:y=>c("customerName",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),r.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.customerName})]}),E.jsx("button",{onClick:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:""})]})]})})]})},Am=()=>{const[a,t]=j.useState(!1),[i,r]=j.useState([]),[o,c]=j.useState(null),f=j.useCallback(async m=>{t(!0),c(null),console.log("Starting gallery photo search with:",m);try{const v=Vu(ju,"gallery"),T=C_(v,wu("receptionNumber","==",m.receptionNumber),wu("customerName","==",m.customerName));console.log("Executing Firestore query on gallery collection...");const A=await I_(T);console.log("Query completed, documents found:",A.size);const O=[];return A.forEach(U=>{const k=U.data();try{console.log("Processing document:",U.id,"shootingDate:",k.shootingDate);let V;if(k.shootingDate&&typeof k.shootingDate.toDate=="function")V=k.shootingDate.toDate();else if(k.shootingDate instanceof Date)V=k.shootingDate;else if(typeof k.shootingDate=="string"){if(V=new Date(k.shootingDate),isNaN(V.getTime())){console.warn("Invalid date string:",k.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",U.id,k.shootingDate);return}let Y;k.deliveryDate&&typeof k.deliveryDate.toDate=="function"?Y=k.deliveryDate.toDate():k.deliveryDate instanceof Date?Y=k.deliveryDate:(console.warn("Invalid deliveryDate format for document:",U.id,k.deliveryDate),Y=new Date);const Z=new Date(m.shootingDate);console.log("Comparing dates - doc:",V,"search:",Z),V.getFullYear()===Z.getFullYear()&&V.getMonth()===Z.getMonth()&&V.getDate()===Z.getDate()&&(O.push({...k,id:U.id,number:k.number,photographerName:k.photographerName,shootingDate:V,receptionNumber:k.receptionNumber,customerName:k.customerName,storageUrl:k.storageUrl,deliveryDate:Y}),console.log("Photo added to results:",k.number))}catch(V){console.error("Error processing document:",U.id,V)}}),console.log("Total photos found:",O.length),O.sort((U,k)=>U.number-k.number),r(O),O}catch(v){return console.error("Error searching gallery photos:",v),c(""),r([]),[]}finally{console.log("Gallery search completed, setting loading to false"),t(!1)}},[]),p=j.useCallback(async m=>{t(!0),c(null),console.log("Starting photo search with:",m);try{const v=Vu(ju,"photos"),T=C_(v,wu("receptionNumber","==",m.receptionNumber),wu("customerName","==",m.customerName));console.log("Executing Firestore query...");const A=await I_(T);console.log("Query completed, documents found:",A.size);const O=[];return A.forEach(U=>{const k=U.data();try{console.log("Processing document:",U.id,"shootingDate:",k.shootingDate);let V;if(k.shootingDate&&typeof k.shootingDate.toDate=="function")V=k.shootingDate.toDate();else if(k.shootingDate instanceof Date)V=k.shootingDate;else if(typeof k.shootingDate=="string"){if(V=new Date(k.shootingDate),isNaN(V.getTime())){console.warn("Invalid date string:",k.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",U.id,k.shootingDate);return}let Y;k.deliveryDate&&typeof k.deliveryDate.toDate=="function"?Y=k.deliveryDate.toDate():k.deliveryDate instanceof Date?Y=k.deliveryDate:(console.warn("Invalid deliveryDate format for document:",U.id,k.deliveryDate),Y=new Date);const Z=new Date(m.shootingDate);console.log("Comparing dates - doc:",V,"search:",Z),V.getFullYear()===Z.getFullYear()&&V.getMonth()===Z.getMonth()&&V.getDate()===Z.getDate()&&(O.push({...k,id:U.id,number:k.number,photographerName:k.photographerName,shootingDate:V,receptionNumber:k.receptionNumber,customerName:k.customerName,storageUrl:k.storageUrl,deliveryDate:Y}),console.log("Photo added to results:",k.number))}catch(V){console.error("Error processing document:",U.id,V)}}),console.log("Total photos found:",O.length),O.sort((U,k)=>U.number-k.number),r(O),O}catch(v){return console.error("Error searching photos:",v),c(""),r([]),[]}finally{console.log("Search completed, setting loading to false"),t(!1)}},[]),y=j.useCallback(async(m,v)=>{t(!0);try{const T=Vu(ju,"gallery");for(const A of m){const O={customerName:A.customerName,deliveryDate:new Date,id:A.id,number:A.number,photographerName:A.photographerName,receptionNumber:A.receptionNumber,shootingDate:A.shootingDate,storageUrl:A.storageUrl,all_photo_flg:v?1:0};await fE(T,O)}}finally{t(!1)}},[]);return{loading:a,error:o,photos:i,searchGalleryPhotos:f,searchPhotos:p,purchasePhotos:y}},Te=new Map,sh=3600*1e3,oh=100,pE=()=>{const a=Date.now();for(const[t,i]of Te.entries())a-i.timestamp>sh&&Te.delete(t)},lh=()=>{if(Te.size<=oh)return;const a=Array.from(Te.entries());a.sort((i,r)=>i[1].timestamp-r[1].timestamp);const t=a.slice(0,a.length-oh);t.forEach(([i])=>{const r=Te.get(i);if(r){const o=r.canvas.getContext("2d");o&&o.clearRect(0,0,r.canvas.width,r.canvas.height)}Te.delete(i)}),console.log(` Cache cleanup: removed ${t.length} old images, current size: ${Te.size}`)},Pu=(a,t)=>`${a}|${t}`,Uu=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Lu=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),BN=()=>{Uu&&Lu&&(Te.size>oh*.6&&(console.log(" Memory pressure detected, cleaning up cache"),lh(),window.gc&&window.gc()),Te.size>20&&(console.log(" Safari: Proactive cache cleanup"),lh()))};window.debugImageCache=()=>{console.log("=== Image Cache Debug Info ==="),console.log("Cache size:",Te.size),console.log("Max size:",oh),console.log("Expiry time:",sh);for(const[a,t]of Te.entries())console.log(`Key: ${a}`),console.log(`  Size: ${t.canvas.width}x${t.canvas.height}`),console.log(`  Timestamp: ${new Date(t.timestamp).toLocaleString()}`),console.log(`  Age: ${Date.now()-t.timestamp}ms`);console.log("===============================")};const qN=(a,t,i)=>{const r=Pu(a,t);if(Te.has(r))return console.log("Image already cached, skipping preload:",r),Promise.resolve();console.log(" Starting preload for:",r,"src:",a);const o=2048,c=2048*2048,f=(y,m)=>{let v=y,T=m;if(v>o||T>o){const A=Math.min(o/v,o/T);v=Math.floor(v*A),T=Math.floor(T*A)}if(v*T>c){const A=Math.sqrt(c/(v*T));v=Math.floor(v*A),T=Math.floor(T*A)}return{width:v,height:T}},p=y=>y.includes("firebasestorage.googleapis.com")?`${y}&q=30`:y;return new Promise((y,m)=>{const v=new Image;v.crossOrigin="anonymous",v.onload=()=>{try{const T=document.createElement("canvas"),A=T.getContext("2d");if(!A){m(new Error("Failed to get preload canvas context"));return}const{width:O,height:U}=f(v.width,v.height);T.width=O,T.height=U,A.drawImage(v,0,0,O,U),A.font=`bold ${Math.max(O*.05,24)}px Arial`,A.font=`bold ${Math.max(O*.05,24)}px serif`,A.fillStyle="rgba(255, 255, 255, 0.4)",A.strokeStyle="rgba(0, 0, 0, 0.3)",A.lineWidth=3,A.textAlign="center";const k="ToruTora",V=-Math.PI/6,Y=A.measureText(k+"     ").width,Z=Math.max(U*.15,80),K=Math.sqrt(O*O+U*U),dt=Math.ceil(K/Z)+6;for(let ht=-Math.floor(dt/2);ht<=Math.floor(dt/2);ht++){const bt=O/2,P=U/2,R=ht*Z*Math.cos(V+Math.PI/2),C=ht*Z*Math.sin(V+Math.PI/2),M=K*1.5,I=Math.floor(M/Y)+2;for(let z=0;z<I;z++){const S=(z-I/2)/I,ft=bt+R+S*M*Math.cos(V),ct=P+C+S*M*Math.sin(V);ft>=-100&&ft<=O+100&&ct>=-100&&ct<=U+100&&(A.save(),A.translate(ft,ct),A.rotate(V),A.strokeText(k,0,0),A.fillText(k,0,0),A.restore())}}Te.set(r,{canvas:T,timestamp:Date.now()}),pE(),lh(),console.log(" Image preloaded and cached (completely isolated):",r,"Size:",O,"x",U,"Cache size:",Te.size),console.log(" Preload completed - no impact on current display"),console.log(" Preload cache details:",{cacheKey:r,src:a,alt:t,canvasSize:`${O}x${U}`,totalCacheSize:Te.size}),y()}catch(T){console.error("Preload canvas drawing error:",T),m(T)}},v.onerror=()=>{console.error("Preload image loading error for:",a),m(new Error(`Failed to load image: ${a}`))},v.src=p(a)})},Sm=({src:a,alt:t,className:i="",style:r,objectFit:o="cover",onLoadComplete:c,onLoadError:f,hideInternalLoader:p=!1,externalLoading:y=!1,fallbackSrc:m,imageId:v,useCssWatermark:T=!1})=>{const A=j.useRef(null),[O,U]=j.useState(!0),[k,V]=j.useState(!1),[Y,Z]=j.useState(a),[K,dt]=j.useState(v),ht=2048,bt=2048*2048,P=(I,z)=>{let S=I,ft=z;if(S>ht||ft>ht){const ct=Math.min(ht/S,ht/ft);S=Math.floor(S*ct),ft=Math.floor(ft*ct)}if(S*ft>bt){const ct=Math.sqrt(bt/(S*ft));S=Math.floor(S*ct),ft=Math.floor(ft*ct)}return{width:S,height:ft}},R=I=>I.includes("firebasestorage.googleapis.com")?`${I}&q=30`:I,C=j.useCallback((I,z=!1)=>{if(console.log(" getCachedOrCreateImage called for:",I,"ImageId:",v,"CurrentImageId:",K),BN(),I.includes("?t=")){console.log(" Reload detected, bypassing cache");const D=Pu(I,t);Te.delete(D)}const ft=Pu(I,t),ct=Te.get(ft);if(ct&&Uu&&Lu){const D=ct.canvas;if(D&&D.width>0&&D.height>0){const J=D.getContext("2d");if(J){const G=J.getImageData(0,0,Math.min(D.width,10),Math.min(D.height,10)).data;let rt=!0;for(let pt=0;pt<G.length;pt+=4){const vt=G[pt],Bt=G[pt+1],Mt=G[pt+2];if(vt!==Bt||Bt!==Mt){rt=!1;break}}rt&&(console.log(" Safari: Detected gray background cache, removing:",ft),Te.delete(ft))}}}if(ct&&Date.now()-ct.timestamp<sh){console.log(" Using cached image:",ft,"Size:",ct.canvas.width,"x",ct.canvas.height,"Current src:",Y,"Requested src:",I);const D=A.current;if(D){const J=D.getContext("2d");J&&(D.width=ct.canvas.width,D.height=ct.canvas.height,J.clearRect(0,0,D.width,D.height),J.drawImage(ct.canvas,0,0),U(!1),V(!1),console.log(" Cached image displayed immediately, loading state cleared"),c&&setTimeout(()=>c(),50))}return}console.log(" Cache miss for:",ft,"Available cache keys:",Array.from(Te.keys())),console.log(" Cache check details:",{requestedSrc:I,requestedAlt:t,cacheKey:ft,hasCached:!!ct,isExpired:ct?Date.now()-ct.timestamp>sh:"N/A",currentSrc:Y});const W=A.current;if(!W)return;const st=W.getContext("2d");if(!st)return;const lt=new Image;lt.crossOrigin="anonymous";const wt=setTimeout(()=>{if(console.error(" Image load timeout for:",I),v&&K&&v!==K){console.log(" Ignoring timeout for outdated image:",v,"Current:",K);return}V(!0),U(!1),f&&f()},1e4);if(lt.onload=()=>{clearTimeout(wt);try{if(console.log(" Image onload triggered for:",I,"ImageId:",v,"CurrentImageId:",K),console.log(" Image dimensions:",lt.width,"x",lt.height),console.log(" User Agent:",navigator.userAgent),v&&K&&v!==K){console.log(" Ignoring load completion for outdated image:",v,"Current:",K);return}lt.alt=t;const{width:D,height:J}=P(lt.width,lt.height);W.width=D,W.height=J,st.drawImage(lt,0,0,D,J),st.font=`bold ${Math.max(D*.05,24)}px Arial`,st.font=`bold ${Math.max(D*.05,24)}px serif`,st.fillStyle="rgba(255, 255, 255, 0.4)",st.strokeStyle="rgba(0, 0, 0, 0.3)",st.lineWidth=3,st.textAlign="center";const ot="ToruTora",G=-Math.PI/6,rt=st.measureText(ot+"     ").width,pt=Math.max(J*.15,80),vt=Math.sqrt(D*D+J*J),Bt=Math.ceil(vt/pt)+6;for(let Zt=-Math.floor(Bt/2);Zt<=Math.floor(Bt/2);Zt++){const ue=D/2,fe=J/2,rn=Zt*pt*Math.cos(G+Math.PI/2),On=Zt*pt*Math.sin(G+Math.PI/2),Mn=vt*1.5,Kn=Math.floor(Mn/rt)+2;for(let ge=0;ge<Kn;ge++){const hi=(ge-Kn/2)/Kn,_n=ue+rn+hi*Mn*Math.cos(G),hn=fe+On+hi*Mn*Math.sin(G);_n>=-100&&_n<=D+100&&hn>=-100&&hn<=J+100&&(st.save(),st.translate(_n,hn),st.rotate(G),st.strokeText(ot,0,0),st.fillText(ot,0,0),st.restore())}}const Mt=document.createElement("canvas");Mt.width=D,Mt.height=J;const ae=Mt.getContext("2d");if(ae&&(ae.drawImage(W,0,0),Te.set(ft,{canvas:Mt,timestamp:Date.now()}),pE(),lh(),console.log("Image cached:",ft,"Cache size:",Te.size)),v&&K&&v!==K){console.log(" Ignoring load completion for outdated image:",v,"Current:",K);return}U(!1),console.log(" Image load completed successfully:",I,"ImageId:",v),c&&setTimeout(()=>{console.log(" Calling onLoadComplete callback"),c()},100)}catch(D){console.error("Canvas drawing error:",D),V(!0),U(!1),f&&f()}},lt.onerror=D=>{if(clearTimeout(wt),console.error("Image loading error for:",I),console.error("Error details:",D),console.error("User Agent:",navigator.userAgent),console.error("Image src:",lt.src),Uu&&Lu){const J=Pu(I,t);Te.delete(J),console.log(" Safari: Cleared error cache for:",J)}if(v&&K&&v!==K){console.log(" Ignoring load error for outdated image:",v,"Current:",K);return}if(console.log(" Image onerror triggered for:",I,"ImageId:",v,"CurrentImageId:",K),m&&!z&&I!==m){console.log("Trying fallback image:",m),C(m,!0);return}console.log(" Image load failed, setting error state"),V(!0),U(!1),f&&f()},console.log(" Starting image load for:",I,"ImageId:",v),lt.src=R(I),Uu&&Lu){const D=setInterval(()=>{lt.complete&&(clearInterval(D),lt.naturalWidth>0&&lt.naturalHeight>0?(console.log(" Safari: Image loaded via polling check"),lt.onload?.(new Event("load"))):(console.log(" Safari: Image failed via polling check"),lt.onerror?.(new Event("error"))))},100);setTimeout(()=>{clearInterval(D)},5e3)}},[t,c,f,m,v,K]);if(j.useEffect(()=>{console.log(" Image src changed from",Y,"to",a,"ImageId:",v),console.log(" User Agent:",navigator.userAgent),console.log(" Is Mobile:",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),Z(a),dt(v),U(!0),V(!1),console.log(" Reset loading state for new image:",a),a!==Y&&(console.log(" Starting immediate load for new image:",a),C(a))},[a,v,C]),j.useEffect(()=>{if(T&&Y){console.log(" Safari image load detection for:",Y);const I=new Image;I.onload=()=>{console.log(" Safari pre-check: Image already loaded:",Y),U(!1),V(!1),c&&c()},I.onerror=()=>{console.log(" Safari pre-check: Image load failed:",Y),m&&Y!==m?(console.log("Trying fallback for Safari pre-check:",m),Z(m)):(V(!0),U(!1),f&&f())},I.src=Y}},[Y,T,m,c,f]),j.useEffect(()=>{console.log(" Loading image for display:",Y,"ImageId:",K),C(Y)},[Y,C,K]),k)return E.jsx("div",{className:`flex items-center justify-center bg-gray-200 ${i}`,style:r,children:E.jsx("span",{className:"text-gray-500",children:""})});const M=!p&&O&&!y;return T?E.jsxs("div",{className:`relative ${i}`,style:r,children:[M&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E.jsx("img",{src:Y,alt:t,className:`w-full h-full object-${o}`,style:{display:O?"none":"block",opacity:y?.3:1,transition:"opacity 0.3s ease",visibility:O?"hidden":"visible"},onLoad:()=>{console.log(" CSS Image loaded:",Y,"FallbackSrc:",m),U(!1),V(!1),c&&c()},onError:()=>{console.log(" CSS Image load error:",Y,"FallbackSrc:",m),m&&Y!==m?(console.log("Trying fallback for CSS image:",m),Z(m)):(console.log("No fallback available, showing error"),V(!0),U(!1),f&&f())},onLoadStart:()=>{console.log(" CSS Image load started:",Y)}}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:E.jsx("div",{className:"text-white font-bold text-2xl md:text-4xl opacity-40 select-none",style:{textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)",transform:"rotate(-30deg)",letterSpacing:"0.2em"},children:"ToruTora"})})]}):E.jsxs("div",{className:`relative ${i}`,style:r,children:[M&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E.jsx("canvas",{ref:A,className:`w-full h-full object-${o}`,style:{display:O?"none":"block",opacity:y?.3:1,transition:"opacity 0.3s ease"}})]})},HN=a=>{if(!a.includes("firebasestorage.googleapis.com"))return{src:a};try{const t=a.split("/o/");if(t.length<2)return{src:a};const i=t[1],r=i.split("?")[0],o=i.includes("?")?"?"+i.split("?")[1]:"",c=decodeURIComponent(r),f=c.split("/");if(f.length<2)return{src:a};const p=f[0],y=f[f.length-1],m=`${y}_200x200`,v=`${p}/thumbs/${m}`,T=`${t[0]}/o/${encodeURIComponent(v)}${o}`;return console.log("Optimal image URL selection:",{original:a,decodedPath:c,folderName:p,fileName:y,thumbnailFileName:m,thumbnailPath:v,thumbnail:T,userAgent:navigator.userAgent,isMobile:FN()}),{src:T,fallbackSrc:a}}catch(t){return console.error("Failed to convert to optimal image URL:",t),{src:a}}},FN=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Su=a=>a.includes("firebasestorage.googleapis.com")?a.includes("?")?`${a}&quality=10&w=200`:`${a}?quality=10&w=200`:a,GN=(a={})=>{const[t,i]=j.useState(!1),r=j.useRef(null);return j.useEffect(()=>{const o=new IntersectionObserver(([c])=>{i(c.isIntersecting)},{rootMargin:"200px",threshold:.01,...a});return r.current&&o.observe(r.current),()=>o.disconnect()},[]),[r,t]},$N=({photo:a,isSelected:t,onToggleSelection:i,onPhotoClick:r,allPhotoOption:o})=>{const[c,f]=GN(),[p,y]=j.useState(t);return j.useEffect(()=>{y(t)},[t]),E.jsx("div",{ref:c,className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>r(a),children:[E.jsxs("div",{className:"relative aspect-square bg-gray-200",children:[f?(()=>{const{src:m,fallbackSrc:v}=HN(a.storageUrl);return E.jsx(Sm,{src:m,alt:` ${a.number}`,className:"w-full h-full",objectFit:"cover",fallbackSrc:v,useCssWatermark:!0})})():E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center text-gray-400",children:[E.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),E.jsx("span",{className:"text-xs",children:""})]})}),E.jsx("button",{onClick:m=>{m.stopPropagation(),y(!p),i(a.id)},disabled:o,className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${p?"bg-blue-600 border-blue-600":"bg-white border-gray-300"} ${o?"cursor-not-allowed opacity-75":"cursor-pointer"} shadow-sm`,children:p&&E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(a.number).padStart(3,"0")})})]})})},QN=()=>{const a=ui(),t=Ul(),{loading:i,error:r,photos:o,searchPhotos:c,searchGalleryPhotos:f}=Am(),[p,y]=j.useState(new Set),[m,v]=j.useState(!1),[T,A]=j.useState(new Set),[O,U]=j.useState(null),[k,V]=j.useState(0),[Y,Z]=j.useState(!1),[K,dt]=j.useState(!1),[ht,bt]=j.useState(0),[P,R]=j.useState(!1),[C,M]=j.useState(0),I=a.state?.searchInfo,z=a.state?.forceAllPhotoOption;j.useEffect(()=>{if(!I){t("/photo-info");return}console.log("PhotoSelectPage: Starting purchase check...");const G={receptionNumber:I.receptionNumber,shootingDate:I.shootingDate,customerName:I.customerName};f(G).then(rt=>{if(rt.length>0)console.log("PhotoSelectPage: Already purchased photos found:",rt.length),Z(!0);else return console.log("PhotoSelectPage: No purchased photos found, proceeding with photo search..."),c(I)}).then(()=>{console.log("PhotoSelectPage: Search completed")}).catch(rt=>{console.error("PhotoSelectPage: Search failed:",rt)})},[I,t,c,f]),j.useEffect(()=>{if(z&&o.length>0){v(!0);const G=new Set(o.map(rt=>rt.id));y(G)}},[z,o]);const S=j.useCallback(G=>{m||(y(rt=>{const pt=new Set(rt);return pt.has(G)?pt.delete(G):pt.add(G),pt}),A(rt=>{const pt=new Set(rt);return pt.has(G)?pt.delete(G):pt.add(G),pt}))},[m]),ft=j.useCallback(G=>{const pt=`${Su(G.storageUrl)}| ${G.number}`,vt=window.imageCache;if(!vt)return console.log(" Image cache not available"),!1;const Bt=vt.get(pt);return Bt&&Date.now()-Bt.timestamp<3600*1e3?(console.log(" Image found in cache:",pt,"Size:",Bt.canvas?.width,"x",Bt.canvas?.height),!0):(console.log(" Image not in cache:",pt),!1)},[]),ct=j.useCallback(G=>{console.log(` Starting preload for index ${G}, total photos: ${o.length}`);const rt=[],pt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),vt=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),Bt=pt&&vt?1:5,Mt=Array.from({length:Bt},(ae,Zt)=>G+Zt+1).filter(ae=>ae>=0&&ae<o.length);if(console.log(" Indices to preload:",Mt),Mt.length===0){console.log(` No images to preload for index ${G}`);return}for(const ae of Mt){const Zt=o[ae],ue=Su(Zt.storageUrl);console.log(` Preloading modal image ${ae}: ${Zt.number}, src: ${ue}`),rt.push(qN(ue,` ${Zt.number}`).then(()=>{console.log(` Successfully preloaded modal image ${ae}: ${Zt.number}`);const fe=`${ue}| ${Zt.number}`,rn=window.imageCache?.get?.(fe);console.log(` Preload cache verification for ${Zt.number}:`,rn?"CACHED":"NOT CACHED","Key:",fe)}).catch(fe=>console.warn(` Failed to preload modal image ${ae}:`,fe)))}Promise.allSettled(rt).then(ae=>{const Zt=ae.filter(ue=>ue.status==="fulfilled").length;console.log(` Preload completed: ${Zt}/${rt.length} adjacent modal images`),setTimeout(()=>{console.log(" Post-preload cache verification:"),Mt.forEach(ue=>{const fe=o[ue],rn=ft(fe);console.log(`  - Photo ${fe.number} (index ${ue}): ${rn?"CACHED":"NOT CACHED"}`)})},1e3)})},[o,ft]),W=j.useCallback(G=>{console.log(` Image load complete for index ${G}, starting preload immediately`),ct(G),setTimeout(()=>{console.log(` Preload status check for index ${G}`);const rt=G+1;if(rt<o.length){const pt=o[rt],vt=ft(pt);console.log(` Next image (${pt.number}) cache status:`,vt?"CACHED":"NOT CACHED")}},2e3)},[ct,o,ft]),st=j.useCallback(G=>{const rt=o.findIndex(pt=>pt.id===G.id);V(rt),U(G),dt(!0),bt(0),R(!1)},[o]),lt=j.useCallback(()=>{if(k>0){const G=k-1,rt=o[G];console.log(` Going to previous photo: ${k} -> ${G}`),ft(rt)?(console.log(` Photo ${rt.number} is cached, no loading state needed`),dt(!1),bt(100),R(!1)):(console.log(` Photo ${rt.number} not cached, setting loading state`),dt(!0),bt(0),R(!1),setTimeout(()=>{K&&(console.log(" Image load timeout, forcing modal to close"),dt(!1),R(!0))},1e4)),V(G),U(rt)}},[k,o,ft,K]),wt=j.useCallback(()=>{if(k<o.length-1){const G=k+1,rt=o[G];console.log(` Going to next photo: ${k} -> ${G}`),ft(rt)?(console.log(` Photo ${rt.number} is cached, no loading state needed`),dt(!1),bt(100),R(!1)):(console.log(` Photo ${rt.number} not cached, setting loading state`),dt(!0),bt(0),R(!1),setTimeout(()=>{K&&(console.log(" Image load timeout, forcing modal to close"),dt(!1),R(!0))},1e4)),V(G),U(rt)}},[k,o,ft,K]);j.useEffect(()=>{},[k,o,O]),j.useEffect(()=>{const G=rt=>{O&&(rt.key==="ArrowLeft"?lt():rt.key==="ArrowRight"?wt():rt.key==="Escape"&&U(null))};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[O,lt,wt]);const D=j.useCallback(G=>{if(v(G),G){const rt=new Set(o.map(pt=>pt.id));y(rt)}else y(new Set(T))},[o,T]),J=j.useCallback(()=>{const G=o.filter(rt=>p.has(rt.id));t("/photo-check",{state:{selectedPhotos:G,allPhotoOption:m,searchInfo:I}})},[o,p,m,I,t]),ot=j.useMemo(()=>o.map(G=>E.jsx($N,{photo:G,isSelected:p.has(G.id),onToggleSelection:S,onPhotoClick:st,allPhotoOption:m},G.id)),[o,p,S,st,m]);return i?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"..."}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:""}),r&&E.jsx("p",{className:"text-red-600 mt-2",children:r})]})}):r?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-red-600 mb-4",children:""}),E.jsx("p",{className:"text-gray-600 mb-4",children:r}),E.jsx("button",{onClick:()=>t("/photo-info"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:""})]})}):E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:Y?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("svg",{className:"w-16 h-16 text-blue-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:""})]}),E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:""}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Line"}),E.jsx("button",{onClick:()=>t("/photo-info"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:""})]}):o.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:""}),E.jsx("p",{className:"text-gray-600",children:"Line"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:E.jsxs("p",{className:"text-blue-800 font-medium",children:[o.length,""]})}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:ot}),E.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:m,onChange:G=>D(G.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-800 font-medium",children:"+5500"}),E.jsx("p",{className:"text-sm text-red-600",children:"19"})]})]})}),E.jsxs("div",{className:"text-center",children:[E.jsxs("button",{onClick:J,disabled:p.size===0&&!m,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["",m?o.length:p.size,""]}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"3"}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"/"})]})]})}),O&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-lg flex flex-col relative",style:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh"},children:[E.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 overflow-hidden",style:{height:"calc(90vh - 120px)"},children:[E.jsxs("div",{className:"absolute top-4 left-0 right-0 flex items-center justify-between px-4 z-50",children:[E.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium",children:[k+1," / ",o.length]}),E.jsx("button",{onClick:()=>{if(console.log(" Manual reload requested for photo:",O?.number),R(!1),dt(!0),bt(0),O){const rt=`${Su(O.storageUrl)}| ${O.number}`,pt=window.imageCache;pt&&(pt.delete(rt),console.log(" Cache cleared for:",rt))}M(G=>G+1),console.log(" Reload triggered, key updated to:",C+1)},className:"bg-gray-400 bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all",title:"",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),E.jsx("button",{onClick:()=>U(null),className:"bg-black bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all text-lg font-bold",children:""})]}),K&&E.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:"..."}),E.jsx("div",{className:"w-64 bg-gray-200 rounded-full h-2 mb-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${ht}%`}})}),E.jsxs("p",{className:"text-sm text-gray-600",children:[ht,"%"]})]})}),P&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[E.jsx("div",{className:"w-16 h-16 text-red-500 mx-auto mb-4",children:E.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:""}),E.jsx("button",{onClick:()=>{R(!1),dt(!0),bt(0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:""})]})}),E.jsx(Sm,{src:(()=>{const G=Su(O.storageUrl),rt=C>0?`${G}?t=${Date.now()}`:G;return console.log(` Displaying image ${O.number}, src: ${rt}, reloadKey: ${C}`),rt})(),alt:` ${O.number}`,className:"max-w-full max-h-full",objectFit:"contain",style:{maxWidth:"100%",maxHeight:"100%"},imageId:O.id,onLoadComplete:()=>{console.log(" onLoadComplete called for photo:",O?.number,"index:",k),dt(!1),bt(100),R(!1),console.log(" Modal loading state cleared"),W(k)},onLoadError:()=>{console.log(" onLoadError called for photo:",O?.number,"index:",k),dt(!1),R(!0),console.log(" Modal loading state cleared due to error")},hideInternalLoader:!0,externalLoading:K},`${O.id}-${C}`),k>0&&E.jsx("button",{onClick:lt,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k<o.length-1&&E.jsx("button",{onClick:wt,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),E.jsx("div",{className:"border-t border-gray-200 bg-white flex flex-col justify-center",style:{height:"120px",flexShrink:0},children:E.jsxs("div",{className:"p-3 text-center",children:[E.jsxs("label",{className:"flex items-center justify-center space-x-2 cursor-pointer mb-2",children:[E.jsx("input",{type:"checkbox",checked:p.has(O.id),onChange:()=>S(O.id),disabled:m,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:`font-medium ${m?"text-gray-400":"text-blue-600"}`,children:m?"":""}),E.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:["(",String(O.number).padStart(3,"0"),")"]})]}),E.jsx("button",{onClick:J,disabled:p.size===0&&!m,className:`w-full py-2 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:""}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3"}),E.jsx("p",{className:"text-xs text-gray-500",children:"  ESC"})]})})]})})]})},YN=()=>{const a=ui(),t=Ul(),{loading:i,purchasePhotos:r}=Am(),o=a.state?.selectedPhotos||[],c=a.state?.allPhotoOption||!1,f=a.state?.searchInfo,p=()=>c?5500:o.length<=3?0:(o.length-3)*330,y=async()=>{try{await r(o,c),t("/photo-collect",{state:{selectedPhotos:o,allPhotoOption:c}})}catch(v){console.error("Purchase error:",v),alert("")}};if(!o.length)return t("/photo-info"),null;const m=p();return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:o.map(v=>E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[E.jsxs("div",{className:"relative aspect-square",children:[E.jsx(Sm,{src:v.storageUrl,alt:` ${v.number}`,className:"w-full h-full"}),E.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(v.number).padStart(3,"0")})})]})},v.id))}),E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["",m.toLocaleString(),""]}),!c&&o.length>3&&E.jsxs("p",{className:"text-gray-600",children:["",o.length-3,"  330"]})]}),!c&&E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5",children:"i"}),E.jsx("div",{className:"flex-1",children:E.jsxs("p",{className:"text-blue-800 font-medium mb-2",children:["5500",E.jsx("button",{onClick:()=>t("/photo-select",{state:{searchInfo:f,forceAllPhotoOption:!0}}),className:"text-blue-600 underline mx-1",children:""}),""]})})]})}),E.jsx("button",{onClick:y,disabled:i,className:`w-full py-4 rounded-lg font-semibold text-white transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?"...":""}),E.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:""})]})]})]})},KN=()=>{const t=ui().state?.selectedPhotos||[],i=()=>t.map(r=>String(r.number).padStart(3,"0")).join("/");return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-md mx-auto px-4 py-16",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:""}),t.length>0&&E.jsxs("div",{className:"mb-6",children:[E.jsx("p",{className:"text-gray-700 font-medium mb-2",children:":"}),E.jsx("p",{className:"text-lg font-bold text-blue-600 mb-4",children:i()})]}),E.jsx("p",{className:"text-gray-600 leading-relaxed",children:""}),E.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:E.jsx("p",{className:"text-sm text-yellow-800",children:""})})]})})]})},XN=()=>{const{loading:a,photos:t,searchGalleryPhotos:i}=Am(),[r,o]=j.useState(!0),[c,f]=j.useState(new Set),[p,y]=j.useState(!1),[m,v]=j.useState(null),[T,A]=j.useState(!1),[O,U]=j.useState(0),[k,V]=j.useState(!1),[Y,Z]=j.useState({receptionNumber:"",shootingDate:"",customerName:"",password:""}),[K,dt]=j.useState({}),ht=(S,ft)=>{Z(ct=>({...ct,[S]:ft})),dt(ct=>({...ct,[S]:""}))},bt=()=>{const S={};return Y.receptionNumber.trim()||(S.receptionNumber=""),Y.shootingDate||(S.shootingDate=""),Y.customerName.trim()||(S.customerName=""),!Y.password||!Y.password.trim()?S.password="":Y.password&&Y.password!=="torutora0820"&&(S.password=""),dt(S),Object.keys(S).length===0},P=async()=>{bt()&&(await i(Y),o(!1))},R=S=>{f(ft=>{const ct=new Set(ft);return ct.has(S)?ct.delete(S):ct.add(S),ct})},C=S=>{if(y(S),S){const ft=new Set(t.map(ct=>ct.id));f(ft)}else f(new Set)},M=async(S,ft)=>{try{const W=await(await fetch(S)).blob(),st=window.URL.createObjectURL(W),lt=document.createElement("a");lt.href=st,lt.download=ft,document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),window.URL.revokeObjectURL(st)}catch(ct){console.error("Download failed:",ct)}},I=async S=>{A(!0),U(0);const ft=setInterval(()=>{U(ct=>ct>=100?(clearInterval(ft),100):ct+10)},100);try{await M(S.storageUrl,`photo_${S.number}.jpg`),setTimeout(()=>{A(!1),V(!0),U(0)},1200)}catch{A(!1),U(0),alert("")}},z=async()=>{if(c.size===0)return;A(!0),U(0);const S=t.filter(ct=>c.has(ct.id));let ft=0;for(const ct of S)try{await M(ct.storageUrl,`photo_${ct.number}.jpg`),ft++,U(ft/S.length*100)}catch{console.error("Download failed for photo:",ct.number)}setTimeout(()=>{A(!1),V(!0),U(0)},500)};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),r&&E.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50 p-4",children:r&&E.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:""}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",value:Y.receptionNumber,onChange:S=>ht("receptionNumber",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${K.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),K.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:K.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"date",value:Y.shootingDate,onChange:S=>ht("shootingDate",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${K.shootingDate?"border-red-500":"border-gray-300"}`}),K.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:K.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",value:Y.customerName,onChange:S=>ht("customerName",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${K.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),K.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:K.customerName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"password",value:Y.password,onChange:S=>ht("password",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${K.password?"border-red-500":"border-gray-300"}`,placeholder:""}),K.password&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:K.password})]}),E.jsx("button",{onClick:P,disabled:a,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${a?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:a?"...":""})]})]})}),T&&E.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:E.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 shadow-lg pointer-events-auto",children:[E.jsx("div",{className:"text-center mb-4",children:E.jsxs("span",{className:"text-lg font-medium",children:[Math.round(O),"%"]})}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${O}%`}})})]})}),k&&E.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:E.jsxs("div",{className:"bg-white rounded-lg p-8 text-center shadow-lg pointer-events-auto",children:[E.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-4",children:""}),E.jsx("button",{onClick:()=>V(!1),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:""})]})}),!r&&E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:t.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:""}),E.jsx("p",{className:"text-gray-600",children:"Line"}),E.jsx("button",{onClick:()=>o(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:t.map(S=>E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(S),children:[E.jsxs("div",{className:"relative aspect-square",children:[E.jsx("img",{src:S.storageUrl,alt:` ${S.number}`,className:"w-full h-full object-cover"}),E.jsx("button",{onClick:ft=>{ft.stopPropagation(),R(S.id)},className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${c.has(S.id)?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:c.has(S.id)&&E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(S.number).padStart(3,"0")})})]})},S.id))}),E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mb-4",children:[E.jsx("input",{type:"checkbox",checked:p,onChange:S=>C(S.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:"text-gray-800 font-medium",children:""})]}),E.jsxs("button",{onClick:z,disabled:c.size===0||T,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${c.size===0||T?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[" (",c.size,")"]})]})]})}),m&&E.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:1e3},children:[E.jsxs("div",{className:"flex items-center justify-between bg-white text-gray-800 p-4 shadow-sm",children:[E.jsx("button",{onClick:()=>v(null),className:"text-gray-800 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),E.jsx("span",{className:"font-medium",children:String(m.number).padStart(3,"0")}),E.jsx("button",{onClick:()=>R(m.id),className:`w-8 h-8 rounded flex items-center justify-center ${c.has(m.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:c.has(m.id)&&E.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"flex items-center justify-center bg-black",style:{height:"calc(100vh - 140px)"},children:E.jsx("img",{src:m.storageUrl,alt:` ${m.number}`,className:"max-w-full max-h-full object-contain"})}),E.jsx("div",{className:"p-4 bg-white border-t border-gray-200",style:{height:"80px"},children:E.jsxs("button",{onClick:()=>I(m),disabled:T,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors flex items-center justify-center ${T?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:[E.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),T?"...":""]})})]})]})};function ZN(){return E.jsxs(zT,{children:[E.jsx($a,{path:"/nouhin",element:E.jsx(LN,{})}),E.jsx($a,{path:"/photo-info",element:E.jsx(zN,{})}),E.jsx($a,{path:"/photo-select",element:E.jsx(QN,{})}),E.jsx($a,{path:"/photo-check",element:E.jsx(YN,{})}),E.jsx($a,{path:"/photo-collect",element:E.jsx(KN,{})}),E.jsx($a,{path:"/gallery",element:E.jsx(XN,{})}),E.jsx($a,{path:"/",element:E.jsx(UT,{to:"/photo-info",replace:!0})})]})}K1.createRoot(document.getElementById("root")).render(E.jsx(O_.StrictMode,{children:E.jsx(cw,{children:E.jsx(ZN,{})})}));
