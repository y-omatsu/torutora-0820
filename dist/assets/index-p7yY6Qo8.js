(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function ih(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var _d={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function j1(){if(Iv)return ml;Iv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:f,ref:o!==void 0?o:null,props:u}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var Ov;function P1(){return Ov||(Ov=1,_d.exports=j1()),_d.exports}var E=P1(),bd={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function U1(){if(Mv)return Vt;Mv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function j(M,nt,Y){this.props=M,this.context=nt,this.refs=V,this.updater=Y||N}j.prototype.isReactComponent={},j.prototype.setState=function(M,nt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,nt,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Z(){}Z.prototype=j.prototype;function W(M,nt,Y){this.props=M,this.context=nt,this.refs=V,this.updater=Y||N}var J=W.prototype=new Z;J.constructor=W,L(J,j.prototype),J.isPureReactComponent=!0;var ut=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function O(M,nt,Y,$,ot,Tt){return Y=Tt.ref,{$$typeof:a,type:M,key:nt,ref:Y!==void 0?Y:null,props:Tt}}function R(M,nt){return O(M.type,nt,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function I(M){var nt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Y){return nt[Y]})}var U=/\/+/g;function k(M,nt){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):nt.toString(36)}function S(){}function yt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(S,S):(M.status="pending",M.then(function(nt){M.status==="pending"&&(M.status="fulfilled",M.value=nt)},function(nt){M.status==="pending"&&(M.status="rejected",M.reason=nt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ct(M,nt,Y,$,ot){var Tt=typeof M;(Tt==="undefined"||Tt==="boolean")&&(M=null);var pt=!1;if(M===null)pt=!0;else switch(Tt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(M.$$typeof){case a:case t:pt=!0;break;case _:return pt=M._init,ct(pt(M._payload),nt,Y,$,ot)}}if(pt)return ot=ot(M),pt=$===""?"."+k(M,0):$,ut(ot)?(Y="",pt!=null&&(Y=pt.replace(U,"$&/")+"/"),ct(ot,nt,Y,"",function(Bt){return Bt})):ot!=null&&(C(ot)&&(ot=R(ot,Y+(ot.key==null||M&&M.key===ot.key?"":(""+ot.key).replace(U,"$&/")+"/")+pt)),nt.push(ot)),1;pt=0;var te=$===""?".":$+":";if(ut(M))for(var Nt=0;Nt<M.length;Nt++)$=M[Nt],Tt=te+k($,Nt),pt+=ct($,nt,Y,Tt,ot);else if(Nt=A(M),typeof Nt=="function")for(M=Nt.call(M),Nt=0;!($=M.next()).done;)$=$.value,Tt=te+k($,Nt++),pt+=ct($,nt,Y,Tt,ot);else if(Tt==="object"){if(typeof M.then=="function")return ct(yt(M),nt,Y,$,ot);throw nt=String(M),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return pt}function K(M,nt,Y){if(M==null)return M;var $=[],ot=0;return ct(M,$,"","",function(Tt){return nt.call(Y,Tt,ot++)}),$}function st(M){if(M._status===-1){var nt=M._result;nt=nt(),nt.then(function(Y){(M._status===0||M._status===-1)&&(M._status=1,M._result=Y)},function(Y){(M._status===0||M._status===-1)&&(M._status=2,M._result=Y)}),M._status===-1&&(M._status=0,M._result=nt)}if(M._status===1)return M._result.default;throw M._result}var dt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function At(){}return Vt.Children={map:K,forEach:function(M,nt,Y){K(M,function(){nt.apply(this,arguments)},Y)},count:function(M){var nt=0;return K(M,function(){nt++}),nt},toArray:function(M){return K(M,function(nt){return nt})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Vt.Component=j,Vt.Fragment=i,Vt.Profiler=o,Vt.PureComponent=W,Vt.StrictMode=r,Vt.Suspense=y,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ht.H.useMemoCache(M)}},Vt.cache=function(M){return function(){return M.apply(null,arguments)}},Vt.cloneElement=function(M,nt,Y){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var $=L({},M.props),ot=M.key,Tt=void 0;if(nt!=null)for(pt in nt.ref!==void 0&&(Tt=void 0),nt.key!==void 0&&(ot=""+nt.key),nt)!_t.call(nt,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&nt.ref===void 0||($[pt]=nt[pt]);var pt=arguments.length-2;if(pt===1)$.children=Y;else if(1<pt){for(var te=Array(pt),Nt=0;Nt<pt;Nt++)te[Nt]=arguments[Nt+2];$.children=te}return O(M.type,ot,void 0,void 0,Tt,$)},Vt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Vt.createElement=function(M,nt,Y){var $,ot={},Tt=null;if(nt!=null)for($ in nt.key!==void 0&&(Tt=""+nt.key),nt)_t.call(nt,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=nt[$]);var pt=arguments.length-2;if(pt===1)ot.children=Y;else if(1<pt){for(var te=Array(pt),Nt=0;Nt<pt;Nt++)te[Nt]=arguments[Nt+2];ot.children=te}if(M&&M.defaultProps)for($ in pt=M.defaultProps,pt)ot[$]===void 0&&(ot[$]=pt[$]);return O(M,Tt,void 0,void 0,null,ot)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(M){return{$$typeof:p,render:M}},Vt.isValidElement=C,Vt.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:st}},Vt.memo=function(M,nt){return{$$typeof:m,type:M,compare:nt===void 0?null:nt}},Vt.startTransition=function(M){var nt=ht.T,Y={};ht.T=Y;try{var $=M(),ot=ht.S;ot!==null&&ot(Y,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(At,dt)}catch(Tt){dt(Tt)}finally{ht.T=nt}},Vt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Vt.use=function(M){return ht.H.use(M)},Vt.useActionState=function(M,nt,Y){return ht.H.useActionState(M,nt,Y)},Vt.useCallback=function(M,nt){return ht.H.useCallback(M,nt)},Vt.useContext=function(M){return ht.H.useContext(M)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(M,nt){return ht.H.useDeferredValue(M,nt)},Vt.useEffect=function(M,nt,Y){var $=ht.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(M,nt)},Vt.useId=function(){return ht.H.useId()},Vt.useImperativeHandle=function(M,nt,Y){return ht.H.useImperativeHandle(M,nt,Y)},Vt.useInsertionEffect=function(M,nt){return ht.H.useInsertionEffect(M,nt)},Vt.useLayoutEffect=function(M,nt){return ht.H.useLayoutEffect(M,nt)},Vt.useMemo=function(M,nt){return ht.H.useMemo(M,nt)},Vt.useOptimistic=function(M,nt){return ht.H.useOptimistic(M,nt)},Vt.useReducer=function(M,nt,Y){return ht.H.useReducer(M,nt,Y)},Vt.useRef=function(M){return ht.H.useRef(M)},Vt.useState=function(M){return ht.H.useState(M)},Vt.useSyncExternalStore=function(M,nt,Y){return ht.H.useSyncExternalStore(M,nt,Y)},Vt.useTransition=function(){return ht.H.useTransition()},Vt.version="19.1.1",Vt}var Vv;function Tp(){return Vv||(Vv=1,bd.exports=U1()),bd.exports}var P=Tp();const R0=ih(P);var xd={exports:{}},gl={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function L1(){return kv||(kv=1,(function(a){function t(K,st){var dt=K.length;K.push(st);t:for(;0<dt;){var At=dt-1>>>1,M=K[At];if(0<o(M,st))K[At]=st,K[dt]=M,dt=At;else break t}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var st=K[0],dt=K.pop();if(dt!==st){K[0]=dt;t:for(var At=0,M=K.length,nt=M>>>1;At<nt;){var Y=2*(At+1)-1,$=K[Y],ot=Y+1,Tt=K[ot];if(0>o($,dt))ot<M&&0>o(Tt,$)?(K[At]=Tt,K[ot]=dt,At=ot):(K[At]=$,K[Y]=dt,At=Y);else if(ot<M&&0>o(Tt,dt))K[At]=Tt,K[ot]=dt,At=ot;else break t}}return st}function o(K,st){var dt=K.sortIndex-st.sortIndex;return dt!==0?dt:K.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var y=[],m=[],_=1,w=null,A=3,N=!1,L=!1,V=!1,j=!1,Z=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ut(K){for(var st=i(m);st!==null;){if(st.callback===null)r(m);else if(st.startTime<=K)r(m),st.sortIndex=st.expirationTime,t(y,st);else break;st=i(m)}}function ht(K){if(V=!1,ut(K),!L)if(i(y)!==null)L=!0,_t||(_t=!0,k());else{var st=i(m);st!==null&&ct(ht,st.startTime-K)}}var _t=!1,O=-1,R=5,C=-1;function I(){return j?!0:!(a.unstable_now()-C<R)}function U(){if(j=!1,_t){var K=a.unstable_now();C=K;var st=!0;try{t:{L=!1,V&&(V=!1,W(O),O=-1),N=!0;var dt=A;try{e:{for(ut(K),w=i(y);w!==null&&!(w.expirationTime>K&&I());){var At=w.callback;if(typeof At=="function"){w.callback=null,A=w.priorityLevel;var M=At(w.expirationTime<=K);if(K=a.unstable_now(),typeof M=="function"){w.callback=M,ut(K),st=!0;break e}w===i(y)&&r(y),ut(K)}else r(y);w=i(y)}if(w!==null)st=!0;else{var nt=i(m);nt!==null&&ct(ht,nt.startTime-K),st=!1}}break t}finally{w=null,A=dt,N=!1}st=void 0}}finally{st?k():_t=!1}}}var k;if(typeof J=="function")k=function(){J(U)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,yt=S.port2;S.port1.onmessage=U,k=function(){yt.postMessage(null)}}else k=function(){Z(U,0)};function ct(K,st){O=Z(function(){K(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(K){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var dt=A;A=st;try{return K()}finally{A=dt}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var dt=A;A=K;try{return st()}finally{A=dt}},a.unstable_scheduleCallback=function(K,st,dt){var At=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?At+dt:At):dt=At,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=dt+M,K={id:_++,callback:st,priorityLevel:K,startTime:dt,expirationTime:M,sortIndex:-1},dt>At?(K.sortIndex=dt,t(m,K),i(y)===null&&K===i(m)&&(V?(W(O),O=-1):V=!0,ct(ht,dt-At))):(K.sortIndex=M,t(y,K),L||N||(L=!0,_t||(_t=!0,k()))),K},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(K){var st=A;return function(){var dt=A;A=st;try{return K.apply(this,arguments)}finally{A=dt}}}})(Td)),Td}var jv;function z1(){return jv||(jv=1,Ed.exports=L1()),Ed.exports}var wd={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function B1(){if(Pv)return rn;Pv=1;var a=Tp();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,m,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:m,implementation:_}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(y,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(y,m,null,_)},rn.flushSync=function(y){var m=f.T,_=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=m,r.p=_,r.d.f()}},rn.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},rn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},rn.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var _=m.as,w=p(_,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:N}):_==="script"&&r.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rn.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},rn.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,w=p(_,m.crossOrigin);r.d.L(y,_,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rn.preloadModule=function(y,m){if(typeof y=="string")if(m){var _=p(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},rn.requestFormReset=function(y){r.d.r(y)},rn.unstable_batchedUpdates=function(y,m){return y(m)},rn.useFormState=function(y,m,_){return f.H.useFormState(y,m,_)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.1.1",rn}var Uv;function q1(){if(Uv)return wd.exports;Uv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),wd.exports=B1(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function H1(){if(Lv)return gl;Lv=1;var a=z1(),t=Tp(),i=q1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),e;if(d===l)return p(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=d;else{for(var b=!1,x=h.child;x;){if(x===s){b=!0,s=h,l=d;break}if(x===l){b=!0,l=h,s=d;break}x=x.sibling}if(!b){for(x=d.child;x;){if(x===s){b=!0,s=d,l=h;break}if(x===l){b=!0,l=d,s=h;break}x=x.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case j:return"Profiler";case V:return"StrictMode";case ht:return"Suspense";case _t:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case J:return(e.displayName||"Context")+".Provider";case W:return(e._context.displayName||"Context")+".Consumer";case ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:yt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return yt(e(n))}catch{}}return null}var ct=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},At=[],M=-1;function nt(e){return{current:e}}function Y(e){0>M||(e.current=At[M],At[M]=null,M--)}function $(e,n){M++,At[M]=e.current,e.current=n}var ot=nt(null),Tt=nt(null),pt=nt(null),te=nt(null);function Nt(e,n){switch($(pt,n),$(Tt,e),$(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?rv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=rv(n),e=sv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ot),$(ot,e)}function Bt(){Y(ot),Y(Tt),Y(pt)}function Kt(e){e.memoizedState!==null&&$(te,e);var n=ot.current,s=sv(n,e.type);n!==s&&($(Tt,e),$(ot,s))}function ce(e){Tt.current===e&&(Y(ot),Y(Tt)),te.current===e&&(Y(te),cl._currentValue=dt)}var ve=Object.prototype.hasOwnProperty,gn=a.unstable_scheduleCallback,oi=a.unstable_cancelCallback,pa=a.unstable_shouldYield,rr=a.unstable_requestPaint,ke=a.unstable_now,sr=a.unstable_getCurrentPriorityLevel,li=a.unstable_ImmediatePriority,Fn=a.unstable_UserBlockingPriority,ki=a.unstable_NormalPriority,co=a.unstable_LowPriority,ma=a.unstable_IdlePriority,ft=a.log,Et=a.unstable_setDisableYieldValue,Mt=null,Ct=null;function re(e){if(typeof ft=="function"&&Et(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Mt,e)}catch{}}var _e=Math.clz32?Math.clz32:$n,Gn=Math.log,or=Math.LN2;function $n(e){return e>>>=0,e===0?32:31-(Gn(e)/or|0)|0}var Qn=256,Dn=4194304;function un(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=un(l):(b&=x,b!==0?h=un(b):s||(s=x&~e,s!==0&&(h=un(s))))):(x=l&~d,x!==0?h=un(x):b!==0?h=un(b):s||(s=l&~e,s!==0&&(h=un(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ji(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(){var e=Qn;return Qn<<=1,(Qn&4194048)===0&&(Qn=256),e}function ho(){var e=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),e}function Pi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ui(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fo(e,n,s,l,h,d){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var x=e.entanglements,D=e.expirationTimes,F=e.hiddenUpdates;for(s=b&~s;0<s;){var tt=31-_e(s),it=1<<tt;x[tt]=0,D[tt]=-1;var G=F[tt];if(G!==null)for(F[tt]=null,tt=0;tt<G.length;tt++){var Q=G[tt];Q!==null&&(Q.lane&=-536870913)}s&=~it}l!==0&&ci(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~n))}function ci(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-_e(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function po(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-_e(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Av(e.type))}function Yl(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var fe=Math.random().toString(36).slice(2),je="__reactFiber$"+fe,Ce="__reactProps$"+fe,Nn="__reactContainer$"+fe,mo="__reactEvents$"+fe,xh="__reactListeners$"+fe,va="__reactHandles$"+fe,Kl="__reactResources$"+fe,ur="__reactMarker$"+fe;function _a(e){delete e[je],delete e[Ce],delete e[mo],delete e[xh],delete e[va]}function Li(e){var n=e[je];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Nn]||s[je]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=cv(e);e!==null;){if(s=e[je])return s;e=cv(e)}return n}e=s,s=e.parentNode}return null}function hi(e){if(e=e[je]||e[Nn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function fi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function cn(e){var n=e[Kl];return n||(n=e[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[ur]=!0}var go=new Set,Wr={};function Kn(e,n){zi(e,n),zi(e+"Capture",n)}function zi(e,n){for(Wr[e]=n,e=0;e<n.length;e++)go.add(n[e])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},cr={};function Wl(e){return ve.call(cr,e)?!0:ve.call(Zl,e)?!1:Xl.test(e)?cr[e]=!0:(Zl[e]=!0,!1)}function ba(e,n,s){if(Wl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function di(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ke(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}var hr,Jl;function Bi(e){if(hr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);hr=n&&n[1]||"",Jl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+e+Jl}var Jr=!1;function ts(e,n){if(!e||Jr)return"";Jr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Q){var G=Q}Reflect.construct(e,[],it)}else{try{it.call()}catch(Q){G=Q}e.call(it.prototype)}}else{try{throw Error()}catch(Q){G=Q}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],x=d[1];if(b&&x){var D=b.split(`
`),F=x.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var tt=`
`+D[l].replace(" at new "," at ");return e.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",e.displayName)),tt}while(1<=l&&0<=h);break}}}finally{Jr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Bi(s):""}function yo(e){switch(e.tag){case 26:case 27:case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return Bi("Activity");default:return""}}function es(e){try{var n="";do n+=yo(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eh(e){var n=vo(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){e._valueTracker||(e._valueTracker=Eh(e))}function _o(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=vo(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function De(e){return e.replace(Th,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xn(e,n,s,l,h,d,b,x){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+hn(n)):e.value!==""+hn(n)&&(e.value=""+hn(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?xa(e,b,hn(n)):s!=null?xa(e,b,hn(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+hn(x):e.removeAttribute("name")}function dr(e,n,s,l,h,d,b,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+hn(s):"",n=n!=null?""+hn(n):s,x||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function xa(e,n,s){n==="number"&&fr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function qi(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+hn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ee(e,n,s){if(n!=null&&(n=""+hn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+hn(s):""}function pr(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ct(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=hn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function In(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||mr.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function bo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&tu(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&tu(e,d,n[d])}function xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(e){return Ah.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hi=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Gi=null;function Eo(e){var n=hi(e);if(n&&(e=n.stateNode)){var s=e[Ce]||null;t:switch(e=n.stateNode,n.type){case"input":if(xn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+De(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ce]||null;if(!h)throw Error(r(90));xn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&_o(l)}break t;case"textarea":ee(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&qi(e,!!s.multiple,n,!1)}}}var pi=!1;function eu(e,n,s){if(pi)return e(n,s);pi=!0;try{var l=e(n);return l}finally{if(pi=!1,(Fi!==null||Gi!==null)&&(Yu(),Fi&&(n=Fi,e=Gi,Gi=Fi=null,Eo(n),e)))for(n=0;n<e.length;n++)Eo(e[n])}}function gr(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ce]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Xn)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Mn=!1}var mi=null,Ea=null,$i=null;function To(){if($i)return $i;var e,n=Ea,s=n.length,l,h="value"in mi?mi.value:mi.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var b=s-e;for(l=1;l<=b&&n[s-l]===h[d-l];l++);return $i=h.slice(e,1<l?1-l:void 0)}function gi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function wo(){return!1}function qe(e){function n(s,l,h,d,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yi:wo,this.isPropagationStopped=wo,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),n}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=qe(Xt),vr=_({},Xt,{view:0,detail:0}),nu=qe(vr),rs,ss,vi,_r=_({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(rs=e.screenX-vi.screenX,ss=e.screenY-vi.screenY):ss=rs=0,vi=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:ss}}),Vn=qe(_r),iu=_({},_r,{dataTransfer:0}),Sh=qe(iu),br=_({},vr,{relatedTarget:0}),os=qe(br),Ao=_({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=qe(Ao),au=_({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),us=qe(au),Rh=_({},Xt,{data:0}),So=qe(Rh),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ro(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=su[e])?!!n[e]:!1}function Er(){return Ro}var ou=_({},vr,{key:function(e){if(e.key){var n=xr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cs=qe(ou),lu=_({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=qe(lu),Qi=_({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),uu=qe(Qi),cu=_({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=qe(cu),fu=_({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hs=qe(fu),fn=_({},Xt,{newState:0,oldState:0}),du=qe(fn),pu=[9,13,27,32],_i=Xn&&"CompositionEvent"in window,c=null;Xn&&"documentMode"in document&&(c=document.documentMode);var g=Xn&&"TextEvent"in window&&!c,v=Xn&&(!_i||c&&8<c&&11>=c),T=" ",q=!1;function X(e,n){switch(e){case"keyup":return pu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qt=!1;function Pe(e,n){switch(e){case"compositionend":return lt(n);case"keypress":return n.which!==32?null:(q=!0,T);case"textInput":return e=n.data,e===T&&q?null:e;default:return null}}function Ht(e,n){if(qt)return e==="compositionend"||!_i&&X(e,n)?(e=To(),$i=Ea=mi=null,qt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!He[e.type]:n==="textarea"}function Yi(e,n,s,l){Fi?Gi?Gi.push(l):Gi=[l]:Fi=l,n=tc(n,"onChange"),0<n.length&&(s=new as("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Xe=null,bi=null;function Do(e){tv(e,0)}function mu(e){var n=fi(e);if(_o(n))return e}function xm(e,n){if(e==="change")return n}var Em=!1;if(Xn){var Ch;if(Xn){var Dh="oninput"in document;if(!Dh){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),Dh=typeof Tm.oninput=="function"}Ch=Dh}else Ch=!1;Em=Ch&&(!document.documentMode||9<document.documentMode)}function wm(){Xe&&(Xe.detachEvent("onpropertychange",Am),bi=Xe=null)}function Am(e){if(e.propertyName==="value"&&mu(bi)){var n=[];Yi(n,bi,e,On(e)),eu(Do,n)}}function fE(e,n,s){e==="focusin"?(wm(),Xe=n,bi=s,Xe.attachEvent("onpropertychange",Am)):e==="focusout"&&wm()}function dE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(bi)}function pE(e,n){if(e==="click")return mu(n)}function mE(e,n){if(e==="input"||e==="change")return mu(n)}function gE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:gE;function No(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ve.call(n,h)||!En(e[h],n[h]))return!1}return!0}function Sm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rm(e,n){var s=Sm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Sm(s)}}function Cm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fr(e.document)}return n}function Nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yE=Xn&&"documentMode"in document&&11>=document.documentMode,fs=null,Ih=null,Io=null,Oh=!1;function Nm(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oh||fs==null||fs!==fr(l)||(l=fs,"selectionStart"in l&&Nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Io&&No(Io,l)||(Io=l,l=tc(Ih,"onSelect"),0<l.length&&(n=new as("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=fs)))}function Tr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ds={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Mh={},Im={};Xn&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function wr(e){if(Mh[e])return Mh[e];if(!ds[e])return e;var n=ds[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Im)return Mh[e]=n[s];return e}var Om=wr("animationend"),Mm=wr("animationiteration"),Vm=wr("animationstart"),vE=wr("transitionrun"),_E=wr("transitionstart"),bE=wr("transitioncancel"),km=wr("transitionend"),jm=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Zn(e,n){jm.set(e,n),Kn(n,[e])}var Pm=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var s=Pm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:es(n)},Pm.set(e,n),n)}return{value:e,source:n,stack:es(n)}}var jn=[],ps=0,kh=0;function gu(){for(var e=ps,n=kh=ps=0;n<e;){var s=jn[n];jn[n++]=null;var l=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var d=jn[n];if(jn[n++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}d!==0&&Um(s,h,d)}}function yu(e,n,s,l){jn[ps++]=e,jn[ps++]=n,jn[ps++]=s,jn[ps++]=l,kh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function jh(e,n,s,l){return yu(e,n,s,l),vu(e)}function ms(e,n){return yu(e,null,null,n),vu(e)}function Um(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-_e(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function vu(e){if(50<nl)throw nl=0,Hf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gs={};function xE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,s,l){return new xE(e,n,s,l)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var s=e.alternate;return s===null?(s=Tn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Lm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,l,h,d){var b=0;if(l=e,typeof e=="function")Ph(e)&&(b=1);else if(typeof e=="string")b=T1(e,s,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Tn(31,s,n,h),e.elementType=C,e.lanes=d,e;case L:return Ar(s.children,h,d,n);case V:b=8,h|=24;break;case j:return e=Tn(12,s,n,h|2),e.elementType=j,e.lanes=d,e;case ht:return e=Tn(13,s,n,h),e.elementType=ht,e.lanes=d,e;case _t:return e=Tn(19,s,n,h),e.elementType=_t,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:case J:b=10;break t;case W:b=9;break t;case ut:b=11;break t;case O:b=14;break t;case R:b=16,l=null;break t}b=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Tn(b,s,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Ar(e,n,s,l){return e=Tn(7,e,l,n),e.lanes=s,e}function Uh(e,n,s){return e=Tn(6,e,null,n),e.lanes=s,e}function Lh(e,n,s){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ys=[],vs=0,bu=null,xu=0,Pn=[],Un=0,Sr=null,Xi=1,Zi="";function Rr(e,n){ys[vs++]=xu,ys[vs++]=bu,bu=e,xu=n}function zm(e,n,s){Pn[Un++]=Xi,Pn[Un++]=Zi,Pn[Un++]=Sr,Sr=e;var l=Xi;e=Zi;var h=32-_e(l)-1;l&=~(1<<h),s+=1;var d=32-_e(n)+h;if(30<d){var b=h-h%5;d=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Xi=1<<32-_e(n)+h|s<<h|l,Zi=d+e}else Xi=1<<d|s<<h|l,Zi=e}function zh(e){e.return!==null&&(Rr(e,1),zm(e,1,0))}function Bh(e){for(;e===bu;)bu=ys[--vs],ys[vs]=null,xu=ys[--vs],ys[vs]=null;for(;e===Sr;)Sr=Pn[--Un],Pn[Un]=null,Zi=Pn[--Un],Pn[Un]=null,Xi=Pn[--Un],Pn[Un]=null}var dn=null,be=null,Yt=!1,Cr=null,xi=!1,qh=Error(r(519));function Dr(e){var n=Error(r(418,""));throw Vo(kn(n,e)),qh}function Bm(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[je]=e,n[Ce]=l,s){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Ut(al[s],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),dr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(n);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),pr(n,l.value,l.defaultValue,l.children),ns(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||av(n.textContent,s)?(l.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),l.onScroll!=null&&Ut("scroll",n),l.onScrollEnd!=null&&Ut("scrollend",n),l.onClick!=null&&(n.onclick=ec),n=!0):n=!1,n||Dr(e)}function qm(e){for(dn=e.return;dn;)switch(dn.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:dn=dn.return}}function Oo(e){if(e!==dn)return!1;if(!Yt)return qm(e),Yt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rd(e.type,e.memoizedProps)),s=!s),s&&be&&Dr(e),qm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){be=Jn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}be=null}}else n===27?(n=be,Ua(e.type)?(e=ud,ud=null,be=e):be=n):be=dn?Jn(e.stateNode.nextSibling):null;return!0}function Mo(){be=dn=null,Yt=!1}function Hm(){var e=Cr;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Cr=null),e}function Vo(e){Cr===null?Cr=[e]:Cr.push(e)}var Hh=nt(null),Nr=null,Wi=null;function Ta(e,n,s){$(Hh,n._currentValue),n._currentValue=s}function Ji(e){e._currentValue=Hh.current,Y(Hh)}function Fh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var b=h.child;d=d.firstContext;t:for(;d!==null;){var x=d;d=h;for(var D=0;D<n.length;D++)if(x.context===n[D]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),Fh(d.return,s,e),l||(b=null);break t}d=x.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=s,d=b.alternate,d!==null&&(d.lanes|=s),Fh(b,s,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function ko(e,n,s,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=h.type;En(h.pendingProps.value,b.value)||(e!==null?e.push(x):e=[x])}}else if(h===te.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Gh(n,e,s,l),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Nr=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return Fm(Nr,e)}function Tu(e,n){return Nr===null&&Ir(e),Fm(e,n)}function Fm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Wi===null){if(e===null)throw Error(r(308));Wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wi=Wi.next=n;return s}var EE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},TE=a.unstable_scheduleCallback,wE=a.unstable_NormalPriority,Le={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new EE,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&TE(wE,function(){e.controller.abort()})}var Po=null,Qh=0,_s=0,bs=null;function AE(e,n){if(Po===null){var s=Po=[];Qh=0,_s=Xf(),bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qh++,n.then(Gm,Gm),n}function Gm(){if(--Qh===0&&Po!==null){bs!==null&&(bs.status="fulfilled");var e=Po;Po=null,_s=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function SE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var $m=K.S;K.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&AE(e,n),$m!==null&&$m(e,n)};var Or=nt(null);function Yh(){var e=Or.current;return e!==null?e:le.pooledCache}function wu(e,n){n===null?$(Or,Or.current):$(Or,n.pool)}function Qm(){var e=Yh();return e===null?null:{parent:Le._currentValue,pool:e}}var Uo=Error(r(460)),Ym=Error(r(474)),Au=Error(r(542)),Kh={then:function(){}};function Km(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Su(){}function Xm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Su,Su),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wm(e),e;default:if(typeof n.status=="string")n.then(Su,Su);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wm(e),e}throw Lo=n,Uo}}var Lo=null;function Zm(){if(Lo===null)throw Error(r(459));var e=Lo;return Lo=null,e}function Wm(e){if(e===Uo||e===Au)throw Error(r(483))}var wa=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=vu(e),Um(e,null,s),n}return yu(e,l,n,s),vu(e)}function zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,po(e,s)}}function Wh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=b:d=d.next=b,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Jh=!1;function Bo(){if(Jh){var e=bs;if(e!==null)throw e}}function qo(e,n,s,l){Jh=!1;var h=e.updateQueue;wa=!1;var d=h.firstBaseUpdate,b=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var D=x,F=D.next;D.next=null,b===null?d=F:b.next=F,b=D;var tt=e.alternate;tt!==null&&(tt=tt.updateQueue,x=tt.lastBaseUpdate,x!==b&&(x===null?tt.firstBaseUpdate=F:x.next=F,tt.lastBaseUpdate=D))}if(d!==null){var it=h.baseState;b=0,tt=F=D=null,x=d;do{var G=x.lane&-536870913,Q=G!==x.lane;if(Q?(Ft&G)===G:(l&G)===G){G!==0&&G===_s&&(Jh=!0),tt!==null&&(tt=tt.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Dt=e,wt=x;G=n;var ae=s;switch(wt.tag){case 1:if(Dt=wt.payload,typeof Dt=="function"){it=Dt.call(ae,it,G);break t}it=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=wt.payload,G=typeof Dt=="function"?Dt.call(ae,it,G):Dt,G==null)break t;it=_({},it,G);break t;case 2:wa=!0}}G=x.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},tt===null?(F=tt=Q,D=it):tt=tt.next=Q,b|=G;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);tt===null&&(D=it),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),Va|=b,e.lanes=b,e.memoizedState=it}}function Jm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function tg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Jm(s[e],n)}var xs=nt(null),Ru=nt(0);function eg(e,n){e=sa,$(Ru,e),$(xs,n),sa=e|n.baseLanes}function tf(){$(Ru,sa),$(xs,xs.current)}function ef(){sa=Ru.current,Y(xs),Y(Ru)}var Ra=0,kt=null,ne=null,Ne=null,Cu=!1,Es=!1,Mr=!1,Du=0,Ho=0,Ts=null,RE=0;function Ae(){throw Error(r(321))}function nf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!En(e[s],n[s]))return!1;return!0}function af(e,n,s,l,h,d){return Ra=d,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?Ug:Lg,Mr=!1,d=s(l,h),Mr=!1,Es&&(d=ig(n,s,l,h)),ng(e),d}function ng(e){K.H=ku;var n=ne!==null&&ne.next!==null;if(Ra=0,Ne=ne=kt=null,Cu=!1,Ho=0,Ts=null,n)throw Error(r(300));e===null||Fe||(e=e.dependencies,e!==null&&Eu(e)&&(Fe=!0))}function ig(e,n,s,l){kt=e;var h=0;do{if(Es&&(Ts=null),Ho=0,Es=!1,25<=h)throw Error(r(301));if(h+=1,Ne=ne=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=VE,d=n(s,l)}while(Es);return d}function CE(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(kt.flags|=1024),n}function rf(){var e=Du!==0;return Du=0,e}function sf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function of(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Ra=0,Ne=ne=kt=null,Es=!1,Ho=Du=0,Ts=null}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?kt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Ie(){if(ne===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Ne===null?kt.memoizedState:Ne.next;if(n!==null)Ne=n,ne=e;else{if(e===null)throw kt.alternate===null?Error(r(467)):Error(r(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ne===null?kt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Ho;return Ho+=1,Ts===null&&(Ts=[]),e=Xm(Ts,e,n),n=kt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Ug:Lg),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===J)return an(e)}throw Error(r(438,String(e)))}function uf(e){var n=null,s=kt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=lf(),kt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=I;return n.index++,s}function ta(e,n){return typeof n=="function"?n(e):n}function Iu(e){var n=Ie();return cf(n,ne,e)}function cf(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var b=h.next;h.next=d.next,d.next=b}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var x=b=null,D=null,F=n,tt=!1;do{var it=F.lane&-536870913;if(it!==F.lane?(Ft&it)===it:(Ra&it)===it){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),it===_s&&(tt=!0);else if((Ra&G)===G){F=F.next,G===_s&&(tt=!0);continue}else it={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(x=D=it,b=d):D=D.next=it,kt.lanes|=G,Va|=G;it=F.action,Mr&&s(d,it),d=F.hasEagerState?F.eagerState:s(d,it)}else G={lane:it,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(x=D=G,b=d):D=D.next=G,kt.lanes|=it,Va|=it;F=F.next}while(F!==null&&F!==n);if(D===null?b=d:D.next=x,!En(d,e.memoizedState)&&(Fe=!0,tt&&(s=bs,s!==null)))throw s;e.memoizedState=d,e.baseState=b,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function hf(e){var n=Ie(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do d=e(d,b.action),b=b.next;while(b!==h);En(d,n.memoizedState)||(Fe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function ag(e,n,s){var l=kt,h=Ie(),d=Yt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var b=!En((ne||h).memoizedState,s);b&&(h.memoizedState=s,Fe=!0),h=h.queue;var x=og.bind(null,l,h,e);if(Go(2048,8,x,[e]),h.getSnapshot!==n||b||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,ws(9,Ou(),sg.bind(null,l,h,s,n),null),le===null)throw Error(r(349));d||(Ra&124)!==0||rg(l,n,s)}return s}function rg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=kt.updateQueue,n===null?(n=lf(),kt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function sg(e,n,s,l){n.value=s,n.getSnapshot=l,lg(n)&&ug(e)}function og(e,n,s){return s(function(){lg(n)&&ug(e)})}function lg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!En(e,s)}catch{return!0}}function ug(e){var n=ms(e,2);n!==null&&Cn(n,e,2)}function ff(e){var n=yn();if(typeof e=="function"){var s=e;if(e=s(),Mr){re(!0);try{s()}finally{re(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e},n}function cg(e,n,s,l){return e.baseState=s,cf(e,ne,typeof l=="function"?l:ta)}function DE(e,n,s,l,h){if(Vu(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};K.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,hg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function hg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=K.T,b={};K.T=b;try{var x=s(h,l),D=K.S;D!==null&&D(b,x),fg(e,n,x)}catch(F){df(e,n,F)}finally{K.T=d}}else try{d=s(h,l),fg(e,n,d)}catch(F){df(e,n,F)}}function fg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dg(e,n,l)},function(l){return df(e,n,l)}):dg(e,n,s)}function dg(e,n,s){n.status="fulfilled",n.value=s,pg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,hg(e,s)))}function df(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,pg(n),n=n.next;while(n!==l)}e.action=null}function pg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mg(e,n){return n}function gg(e,n){if(Yt){var s=le.formState;if(s!==null){t:{var l=kt;if(Yt){if(be){e:{for(var h=be,d=xi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){be=Jn(h.nextSibling),l=h.data==="F!";break t}}Dr(l)}l=!1}l&&(n=s[0])}}return s=yn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:n},s.queue=l,s=kg.bind(null,kt,l),l.dispatch=s,l=ff(!1),d=vf.bind(null,kt,!1,l.queue),l=yn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=DE.bind(null,kt,h,d,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function yg(e){var n=Ie();return vg(n,ne,e)}function vg(e,n,s){if(n=cf(e,n,mg)[0],e=Iu(ta)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Fo(n)}catch(b){throw b===Uo?Au:b}else l=n;n=Ie();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(kt.flags|=2048,ws(9,Ou(),NE.bind(null,h,s),null)),[l,d,e]}function NE(e,n){e.action=n}function _g(e){var n=Ie(),s=ne;if(s!==null)return vg(n,s,e);Ie(),n=n.memoizedState,s=Ie();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ws(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=kt.updateQueue,n===null&&(n=lf(),kt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Ou(){return{destroy:void 0,resource:void 0}}function bg(){return Ie().memoizedState}function Mu(e,n,s,l){var h=yn();l=l===void 0?null:l,kt.flags|=e,h.memoizedState=ws(1|n,Ou(),s,l)}function Go(e,n,s,l){var h=Ie();l=l===void 0?null:l;var d=h.memoizedState.inst;ne!==null&&l!==null&&nf(l,ne.memoizedState.deps)?h.memoizedState=ws(n,d,s,l):(kt.flags|=e,h.memoizedState=ws(1|n,d,s,l))}function xg(e,n){Mu(8390656,8,e,n)}function Eg(e,n){Go(2048,8,e,n)}function Tg(e,n){return Go(4,2,e,n)}function wg(e,n){return Go(4,4,e,n)}function Ag(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sg(e,n,s){s=s!=null?s.concat([e]):null,Go(4,4,Ag.bind(null,n,e),s)}function pf(){}function Rg(e,n){var s=Ie();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&nf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Cg(e,n){var s=Ie();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&nf(n,l[1]))return l[0];if(l=e(),Mr){re(!0);try{e()}finally{re(!1)}}return s.memoizedState=[l,n],l}function mf(e,n,s){return s===void 0||(Ra&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Iy(),kt.lanes|=e,Va|=e,s)}function Dg(e,n,s,l){return En(s,n)?s:xs.current!==null?(e=mf(e,s,l),En(e,n)||(Fe=!0),e):(Ra&42)===0?(Fe=!0,e.memoizedState=s):(e=Iy(),kt.lanes|=e,Va|=e,n)}function Ng(e,n,s,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var b=K.T,x={};K.T=x,vf(e,!1,n,s);try{var D=h(),F=K.S;if(F!==null&&F(x,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var tt=SE(D,l);$o(e,n,tt,Rn(e))}else $o(e,n,l,Rn(e))}catch(it){$o(e,n,{then:function(){},status:"rejected",reason:it},Rn())}finally{st.p=d,K.T=b}}function IE(){}function gf(e,n,s,l){if(e.tag!==5)throw Error(r(476));var h=Ig(e).queue;Ng(e,h,n,dt,s===null?IE:function(){return Og(e),s(l)})}function Ig(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Og(e){var n=Ig(e).next.queue;$o(e,n,{},Rn())}function yf(){return an(cl)}function Mg(){return Ie().memoizedState}function Vg(){return Ie().memoizedState}function OE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rn();e=Aa(s);var l=Sa(n,e,s);l!==null&&(Cn(l,n,s),zo(l,n,s)),n={cache:$h()},e.payload=n;return}n=n.return}}function ME(e,n,s){var l=Rn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Vu(e)?jg(n,s):(s=jh(e,n,s,l),s!==null&&(Cn(s,e,l),Pg(s,n,l)))}function kg(e,n,s){var l=Rn();$o(e,n,s,l)}function $o(e,n,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))jg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,x=d(b,s);if(h.hasEagerState=!0,h.eagerState=x,En(x,b))return yu(e,n,h,0),le===null&&gu(),!1}catch{}finally{}if(s=jh(e,n,h,l),s!==null)return Cn(s,e,l),Pg(s,n,l),!0}return!1}function vf(e,n,s,l){if(l={lane:2,revertLane:Xf(),action:l,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(n)throw Error(r(479))}else n=jh(e,s,l,2),n!==null&&Cn(n,e,2)}function Vu(e){var n=e.alternate;return e===kt||n!==null&&n===kt}function jg(e,n){Es=Cu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Pg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,po(e,s)}}var ku={readContext:an,use:Nu,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},Ug={readContext:an,use:Nu,useCallback:function(e,n){return yn().memoizedState=[e,n===void 0?null:n],e},useContext:an,useEffect:xg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Mu(4194308,4,Ag.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var s=yn();n=n===void 0?null:n;var l=e();if(Mr){re(!0);try{e()}finally{re(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=yn();if(s!==void 0){var h=s(n);if(Mr){re(!0);try{s(n)}finally{re(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=ME.bind(null,kt,e),[l.memoizedState,e]},useRef:function(e){var n=yn();return e={current:e},n.memoizedState=e},useState:function(e){e=ff(e);var n=e.queue,s=kg.bind(null,kt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:pf,useDeferredValue:function(e,n){var s=yn();return mf(s,e,n)},useTransition:function(){var e=ff(!1);return e=Ng.bind(null,kt,e.queue,!0,!1),yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=kt,h=yn();if(Yt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),le===null)throw Error(r(349));(Ft&124)!==0||rg(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,xg(og.bind(null,l,d,e),[e]),l.flags|=2048,ws(9,Ou(),sg.bind(null,l,d,s,n),null),s},useId:function(){var e=yn(),n=le.identifierPrefix;if(Yt){var s=Zi,l=Xi;s=(l&~(1<<32-_e(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=Du++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=RE++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:gg,useActionState:gg,useOptimistic:function(e){var n=yn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vf.bind(null,kt,!0,s),s.dispatch=n,[e,n]},useMemoCache:uf,useCacheRefresh:function(){return yn().memoizedState=OE.bind(null,kt)}},Lg={readContext:an,use:Nu,useCallback:Rg,useContext:an,useEffect:Eg,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:wg,useMemo:Cg,useReducer:Iu,useRef:bg,useState:function(){return Iu(ta)},useDebugValue:pf,useDeferredValue:function(e,n){var s=Ie();return Dg(s,ne.memoizedState,e,n)},useTransition:function(){var e=Iu(ta)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:ag,useId:Mg,useHostTransitionStatus:yf,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var s=Ie();return cg(s,ne,e,n)},useMemoCache:uf,useCacheRefresh:Vg},VE={readContext:an,use:Nu,useCallback:Rg,useContext:an,useEffect:Eg,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:wg,useMemo:Cg,useReducer:hf,useRef:bg,useState:function(){return hf(ta)},useDebugValue:pf,useDeferredValue:function(e,n){var s=Ie();return ne===null?mf(s,e,n):Dg(s,ne.memoizedState,e,n)},useTransition:function(){var e=hf(ta)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:ag,useId:Mg,useHostTransitionStatus:yf,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var s=Ie();return ne!==null?cg(s,ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Vg},As=null,Qo=0;function ju(e){var n=Qo;return Qo+=1,As===null&&(As=[]),Xm(As,e,n)}function Yo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zg(e){var n=e._init;return n(e._payload)}function Bg(e){function n(B,z){if(e){var H=B.deletions;H===null?(B.deletions=[z],B.flags|=16):H.push(z)}}function s(B,z){if(!e)return null;for(;z!==null;)n(B,z),z=z.sibling;return null}function l(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function h(B,z){return B=Ki(B,z),B.index=0,B.sibling=null,B}function d(B,z,H){return B.index=H,e?(H=B.alternate,H!==null?(H=H.index,H<z?(B.flags|=67108866,z):H):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function b(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function x(B,z,H,et){return z===null||z.tag!==6?(z=Uh(H,B.mode,et),z.return=B,z):(z=h(z,H),z.return=B,z)}function D(B,z,H,et){var vt=H.type;return vt===L?tt(B,z,H.props.children,et,H.key):z!==null&&(z.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&zg(vt)===z.type)?(z=h(z,H.props),Yo(z,H),z.return=B,z):(z=_u(H.type,H.key,H.props,null,B.mode,et),Yo(z,H),z.return=B,z)}function F(B,z,H,et){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Lh(H,B.mode,et),z.return=B,z):(z=h(z,H.children||[]),z.return=B,z)}function tt(B,z,H,et,vt){return z===null||z.tag!==7?(z=Ar(H,B.mode,et,vt),z.return=B,z):(z=h(z,H),z.return=B,z)}function it(B,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Uh(""+z,B.mode,H),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return H=_u(z.type,z.key,z.props,null,B.mode,H),Yo(H,z),H.return=B,H;case N:return z=Lh(z,B.mode,H),z.return=B,z;case R:var et=z._init;return z=et(z._payload),it(B,z,H)}if(ct(z)||k(z))return z=Ar(z,B.mode,H,null),z.return=B,z;if(typeof z.then=="function")return it(B,ju(z),H);if(z.$$typeof===J)return it(B,Tu(B,z),H);Pu(B,z)}return null}function G(B,z,H,et){var vt=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return vt!==null?null:x(B,z,""+H,et);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===vt?D(B,z,H,et):null;case N:return H.key===vt?F(B,z,H,et):null;case R:return vt=H._init,H=vt(H._payload),G(B,z,H,et)}if(ct(H)||k(H))return vt!==null?null:tt(B,z,H,et,null);if(typeof H.then=="function")return G(B,z,ju(H),et);if(H.$$typeof===J)return G(B,z,Tu(B,H),et);Pu(B,H)}return null}function Q(B,z,H,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(H)||null,x(z,B,""+et,vt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return B=B.get(et.key===null?H:et.key)||null,D(z,B,et,vt);case N:return B=B.get(et.key===null?H:et.key)||null,F(z,B,et,vt);case R:var jt=et._init;return et=jt(et._payload),Q(B,z,H,et,vt)}if(ct(et)||k(et))return B=B.get(H)||null,tt(z,B,et,vt,null);if(typeof et.then=="function")return Q(B,z,H,ju(et),vt);if(et.$$typeof===J)return Q(B,z,H,Tu(z,et),vt);Pu(z,et)}return null}function Dt(B,z,H,et){for(var vt=null,jt=null,bt=z,St=z=0,$e=null;bt!==null&&St<H.length;St++){bt.index>St?($e=bt,bt=null):$e=bt.sibling;var Qt=G(B,bt,H[St],et);if(Qt===null){bt===null&&(bt=$e);break}e&&bt&&Qt.alternate===null&&n(B,bt),z=d(Qt,z,St),jt===null?vt=Qt:jt.sibling=Qt,jt=Qt,bt=$e}if(St===H.length)return s(B,bt),Yt&&Rr(B,St),vt;if(bt===null){for(;St<H.length;St++)bt=it(B,H[St],et),bt!==null&&(z=d(bt,z,St),jt===null?vt=bt:jt.sibling=bt,jt=bt);return Yt&&Rr(B,St),vt}for(bt=l(bt);St<H.length;St++)$e=Q(bt,B,St,H[St],et),$e!==null&&(e&&$e.alternate!==null&&bt.delete($e.key===null?St:$e.key),z=d($e,z,St),jt===null?vt=$e:jt.sibling=$e,jt=$e);return e&&bt.forEach(function(Ha){return n(B,Ha)}),Yt&&Rr(B,St),vt}function wt(B,z,H,et){if(H==null)throw Error(r(151));for(var vt=null,jt=null,bt=z,St=z=0,$e=null,Qt=H.next();bt!==null&&!Qt.done;St++,Qt=H.next()){bt.index>St?($e=bt,bt=null):$e=bt.sibling;var Ha=G(B,bt,Qt.value,et);if(Ha===null){bt===null&&(bt=$e);break}e&&bt&&Ha.alternate===null&&n(B,bt),z=d(Ha,z,St),jt===null?vt=Ha:jt.sibling=Ha,jt=Ha,bt=$e}if(Qt.done)return s(B,bt),Yt&&Rr(B,St),vt;if(bt===null){for(;!Qt.done;St++,Qt=H.next())Qt=it(B,Qt.value,et),Qt!==null&&(z=d(Qt,z,St),jt===null?vt=Qt:jt.sibling=Qt,jt=Qt);return Yt&&Rr(B,St),vt}for(bt=l(bt);!Qt.done;St++,Qt=H.next())Qt=Q(bt,B,St,Qt.value,et),Qt!==null&&(e&&Qt.alternate!==null&&bt.delete(Qt.key===null?St:Qt.key),z=d(Qt,z,St),jt===null?vt=Qt:jt.sibling=Qt,jt=Qt);return e&&bt.forEach(function(k1){return n(B,k1)}),Yt&&Rr(B,St),vt}function ae(B,z,H,et){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:t:{for(var vt=H.key;z!==null;){if(z.key===vt){if(vt=H.type,vt===L){if(z.tag===7){s(B,z.sibling),et=h(z,H.props.children),et.return=B,B=et;break t}}else if(z.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&zg(vt)===z.type){s(B,z.sibling),et=h(z,H.props),Yo(et,H),et.return=B,B=et;break t}s(B,z);break}else n(B,z);z=z.sibling}H.type===L?(et=Ar(H.props.children,B.mode,et,H.key),et.return=B,B=et):(et=_u(H.type,H.key,H.props,null,B.mode,et),Yo(et,H),et.return=B,B=et)}return b(B);case N:t:{for(vt=H.key;z!==null;){if(z.key===vt)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){s(B,z.sibling),et=h(z,H.children||[]),et.return=B,B=et;break t}else{s(B,z);break}else n(B,z);z=z.sibling}et=Lh(H,B.mode,et),et.return=B,B=et}return b(B);case R:return vt=H._init,H=vt(H._payload),ae(B,z,H,et)}if(ct(H))return Dt(B,z,H,et);if(k(H)){if(vt=k(H),typeof vt!="function")throw Error(r(150));return H=vt.call(H),wt(B,z,H,et)}if(typeof H.then=="function")return ae(B,z,ju(H),et);if(H.$$typeof===J)return ae(B,z,Tu(B,H),et);Pu(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(s(B,z.sibling),et=h(z,H),et.return=B,B=et):(s(B,z),et=Uh(H,B.mode,et),et.return=B,B=et),b(B)):s(B,z)}return function(B,z,H,et){try{Qo=0;var vt=ae(B,z,H,et);return As=null,vt}catch(bt){if(bt===Uo||bt===Au)throw bt;var jt=Tn(29,bt,null,B.mode);return jt.lanes=et,jt.return=B,jt}finally{}}}var Ss=Bg(!0),qg=Bg(!1),Ln=nt(null),Ei=null;function Ca(e){var n=e.alternate;$(ze,ze.current&1),$(Ln,e),Ei===null&&(n===null||xs.current!==null||n.memoizedState!==null)&&(Ei=e)}function Hg(e){if(e.tag===22){if($(ze,ze.current),$(Ln,e),Ei===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ei=e)}}else Da()}function Da(){$(ze,ze.current),$(Ln,Ln.current)}function ea(e){Y(Ln),Ei===e&&(Ei=null),Y(ze)}var ze=nt(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||ld(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _f(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:_({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Rn(),h=Aa(l);h.payload=n,s!=null&&(h.callback=s),n=Sa(e,h,l),n!==null&&(Cn(n,e,l),zo(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Rn(),h=Aa(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Sa(e,h,l),n!==null&&(Cn(n,e,l),zo(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),l=Aa(s);l.tag=2,n!=null&&(l.callback=n),n=Sa(e,l,s),n!==null&&(Cn(n,e,s),zo(n,e,s))}};function Fg(e,n,s,l,h,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!No(s,l)||!No(h,d):!0}function Gg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=_({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $g(e){Lu(e)}function Qg(e){console.error(e)}function Yg(e){Lu(e)}function zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,s){return s=Aa(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,n)},s}function Xg(e){return e=Aa(e),e.tag=3,e}function Zg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Kg(n,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Kg(n,s,l),typeof h!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function kE(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ko(n,s,h,!0),s=Ln.current,s!==null){switch(s.tag){case 13:return Ei===null?Gf():s.alternate===null&&xe===0&&(xe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Kh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Qf(e,l,h)),!1;case 22:return s.flags|=65536,l===Kh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Qf(e,l,h)),!1}throw Error(r(435,s.tag))}return Qf(e,l,h),Gf(),!1}if(Yt)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==qh&&(e=Error(r(422),{cause:l}),Vo(kn(e,s)))):(l!==qh&&(n=Error(r(423),{cause:l}),Vo(kn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=kn(l,s),h=xf(e.stateNode,l,h),Wh(e,h),xe!==4&&(xe=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,s),el===null?el=[d]:el.push(d),xe!==4&&(xe=2),n===null)return!0;l=kn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=xf(s.stateNode,l,e),Wh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ka===null||!ka.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Xg(h),Zg(h,e,s,l),Wh(s,h),!1}s=s.return}while(s!==null);return!1}var Wg=Error(r(461)),Fe=!1;function Ze(e,n,s,l){n.child=e===null?qg(n,null,s,l):Ss(n,e.child,s,l)}function Jg(e,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var b={};for(var x in l)x!=="ref"&&(b[x]=l[x])}else b=l;return Ir(n),l=af(e,n,s,b,d,h),x=rf(),e!==null&&!Fe?(sf(e,n,h),na(e,n,h)):(Yt&&x&&zh(n),n.flags|=1,Ze(e,n,l,h),n.child)}function ty(e,n,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!Ph(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,ey(e,n,d,l,h)):(e=_u(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Df(e,h)){var b=d.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(b,l)&&e.ref===n.ref)return na(e,n,h)}return n.flags|=1,e=Ki(d,l),e.ref=n.ref,e.return=n,n.child=e}function ey(e,n,s,l,h){if(e!==null){var d=e.memoizedProps;if(No(d,l)&&e.ref===n.ref)if(Fe=!1,n.pendingProps=l=d,Df(e,h))(e.flags&131072)!==0&&(Fe=!0);else return n.lanes=e.lanes,na(e,n,h)}return Ef(e,n,s,l,h)}function ny(e,n,s){var l=n.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return iy(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,d!==null?d.cachePool:null),d!==null?eg(n,d):tf(),Hg(n);else return n.lanes=n.childLanes=536870912,iy(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(wu(n,d.cachePool),eg(n,d),Da(),n.memoizedState=null):(e!==null&&wu(n,null),tf(),Da());return Ze(e,n,h,s),n.child}function iy(e,n,s,l){var h=Yh();return h=h===null?null:{parent:Le._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&wu(n,null),tf(),Hg(n),e!==null&&ko(e,n,l,!0),null}function Bu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ef(e,n,s,l,h){return Ir(n),s=af(e,n,s,l,void 0,h),l=rf(),e!==null&&!Fe?(sf(e,n,h),na(e,n,h)):(Yt&&l&&zh(n),n.flags|=1,Ze(e,n,s,h),n.child)}function ay(e,n,s,l,h,d){return Ir(n),n.updateQueue=null,s=ig(n,l,s,h),ng(e),l=rf(),e!==null&&!Fe?(sf(e,n,d),na(e,n,d)):(Yt&&l&&zh(n),n.flags|=1,Ze(e,n,s,d),n.child)}function ry(e,n,s,l,h){if(Ir(n),n.stateNode===null){var d=gs,b=s.contextType;typeof b=="object"&&b!==null&&(d=an(b)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Xh(n),b=s.contextType,d.context=typeof b=="object"&&b!==null?an(b):gs,d.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(_f(n,s,b,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&bf.enqueueReplaceState(d,d.state,null),qo(n,l,d,h),Bo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var x=n.memoizedProps,D=Vr(s,x);d.props=D;var F=d.context,tt=s.contextType;b=gs,typeof tt=="object"&&tt!==null&&(b=an(tt));var it=s.getDerivedStateFromProps;tt=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||F!==b)&&Gg(n,d,l,b),wa=!1;var G=n.memoizedState;d.state=G,qo(n,l,d,h),Bo(),F=n.memoizedState,x||G!==F||wa?(typeof it=="function"&&(_f(n,s,it,l),F=n.memoizedState),(D=wa||Fg(n,s,D,l,G,F,b))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=b,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Zh(e,n),b=n.memoizedProps,tt=Vr(s,b),d.props=tt,it=n.pendingProps,G=d.context,F=s.contextType,D=gs,typeof F=="object"&&F!==null&&(D=an(F)),x=s.getDerivedStateFromProps,(F=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==it||G!==D)&&Gg(n,d,l,D),wa=!1,G=n.memoizedState,d.state=G,qo(n,l,d,h),Bo();var Q=n.memoizedState;b!==it||G!==Q||wa||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof x=="function"&&(_f(n,s,x,l),Q=n.memoizedState),(tt=wa||Fg(n,s,tt,l,G,Q,D)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=tt):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Bu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ss(n,e.child,null,h),n.child=Ss(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=d.state,e=n.child):e=na(e,n,h),e}function sy(e,n,s,l){return Mo(),n.flags|=256,Ze(e,n,s,l),n.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(e){return{baseLanes:e,cachePool:Qm()}}function Af(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=zn),e}function oy(e,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Yt){if(h?Ca(n):Da(),Yt){var x=be,D;if(D=x){t:{for(D=x,x=xi;D.nodeType!==8;){if(!x){x=null;break t}if(D=Jn(D.nextSibling),D===null){x=null;break t}}x=D}x!==null?(n.memoizedState={dehydrated:x,treeContext:Sr!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},D=Tn(18,null,null,0),D.stateNode=x,D.return=n,n.child=D,dn=n,be=null,D=!0):D=!1}D||Dr(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return ld(x)?n.lanes=32:n.lanes=536870912,null;ea(n)}return x=l.children,l=l.fallback,h?(Da(),h=n.mode,x=qu({mode:"hidden",children:x},h),l=Ar(l,h,s,null),x.return=n,l.return=n,x.sibling=l,n.child=x,h=n.child,h.memoizedState=wf(s),h.childLanes=Af(e,b,s),n.memoizedState=Tf,l):(Ca(n),Sf(n,x))}if(D=e.memoizedState,D!==null&&(x=D.dehydrated,x!==null)){if(d)n.flags&256?(Ca(n),n.flags&=-257,n=Rf(e,n,s)):n.memoizedState!==null?(Da(),n.child=e.child,n.flags|=128,n=null):(Da(),h=l.fallback,x=n.mode,l=qu({mode:"visible",children:l.children},x),h=Ar(h,x,s,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Ss(n,e.child,null,s),l=n.child,l.memoizedState=wf(s),l.childLanes=Af(e,b,s),n.memoizedState=Tf,n=h);else if(Ca(n),ld(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(r(419)),l.stack="",l.digest=b,Vo({value:l,source:null,stack:null}),n=Rf(e,n,s)}else if(Fe||ko(e,n,s,!1),b=(s&e.childLanes)!==0,Fe||b){if(b=le,b!==null&&(l=s&-s,l=(l&42)!==0?1:ga(l),l=(l&(b.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ms(e,l),Cn(b,e,l),Wg;x.data==="$?"||Gf(),n=Rf(e,n,s)}else x.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,be=Jn(x.nextSibling),dn=n,Yt=!0,Cr=null,xi=!1,e!==null&&(Pn[Un++]=Xi,Pn[Un++]=Zi,Pn[Un++]=Sr,Xi=e.id,Zi=e.overflow,Sr=n),n=Sf(n,l.children),n.flags|=4096);return n}return h?(Da(),h=l.fallback,x=n.mode,D=e.child,F=D.sibling,l=Ki(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=Ki(F,h):(h=Ar(h,x,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,x=e.child.memoizedState,x===null?x=wf(s):(D=x.cachePool,D!==null?(F=Le._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Qm(),x={baseLanes:x.baseLanes|s,cachePool:D}),h.memoizedState=x,h.childLanes=Af(e,b,s),n.memoizedState=Tf,l):(Ca(n),s=e.child,e=s.sibling,s=Ki(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=s,n.memoizedState=null,s)}function Sf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=Tn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Rf(e,n,s){return Ss(n,e.child,null,s),e=Sf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ly(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Fh(e.return,n,s)}function Cf(e,n,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function uy(e,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Ze(e,n,l.children,s),l=ze.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,s,n);else if(e.tag===19)ly(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch($(ze,l),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Cf(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Cf(n,!0,s,null,d);break;case"together":Cf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function na(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Va|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ko(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function jE(e,n,s){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),Ta(n,Le,e.memoizedState.cache),Mo();break;case 27:case 5:Kt(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:Ta(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ca(n),n.flags|=128,null):(s&n.child.childLanes)!==0?oy(e,n,s):(Ca(n),e=na(e,n,s),e!==null?e.sibling:null);Ca(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ko(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return uy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(ze,ze.current),l)break;return null;case 22:case 23:return n.lanes=0,ny(e,n,s);case 24:Ta(n,Le,e.memoizedState.cache)}return na(e,n,s)}function cy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Fe=!0;else{if(!Df(e,s)&&(n.flags&128)===0)return Fe=!1,jE(e,n,s);Fe=(e.flags&131072)!==0}else Fe=!1,Yt&&(n.flags&1048576)!==0&&zm(n,xu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Ph(l)?(e=Vr(l,e),n.tag=1,n=ry(null,n,l,e,s)):(n.tag=0,n=Ef(null,n,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===ut){n.tag=11,n=Jg(null,n,l,e,s);break t}else if(h===O){n.tag=14,n=ty(null,n,l,e,s);break t}}throw n=yt(l)||l,Error(r(306,n,""))}}return n;case 0:return Ef(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Vr(l,n.pendingProps),ry(e,n,l,h,s);case 3:t:{if(Nt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Zh(e,n),qo(n,l,null,s);var b=n.memoizedState;if(l=b.cache,Ta(n,Le,l),l!==d.cache&&Gh(n,[Le],s,!0),Bo(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=sy(e,n,l,s);break t}else if(l!==h){h=kn(Error(r(424)),n),Vo(h),n=sy(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(be=Jn(e.firstChild),dn=n,Yt=!0,Cr=null,xi=!0,s=qg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Mo(),l===h){n=na(e,n,s);break t}Ze(e,n,l,s)}n=n.child}return n;case 26:return Bu(e,n),e===null?(s=pv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Yt||(s=n.type,e=n.pendingProps,l=nc(pt.current).createElement(s),l[je]=n,l[Ce]=e,Je(l,s,e),we(l),n.stateNode=l):n.memoizedState=pv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Kt(n),e===null&&Yt&&(l=n.stateNode=hv(n.type,n.pendingProps,pt.current),dn=n,xi=!0,h=be,Ua(n.type)?(ud=h,be=Jn(l.firstChild)):be=h),Ze(e,n,n.pendingProps.children,s),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Yt&&((h=l=be)&&(l=c1(l,n.type,n.pendingProps,xi),l!==null?(n.stateNode=l,dn=n,be=Jn(l.firstChild),xi=!1,h=!0):h=!1),h||Dr(n)),Kt(n),h=n.type,d=n.pendingProps,b=e!==null?e.memoizedProps:null,l=d.children,rd(h,d)?l=null:b!==null&&rd(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=af(e,n,CE,null,null,s),cl._currentValue=h),Bu(e,n),Ze(e,n,l,s),n.child;case 6:return e===null&&Yt&&((e=s=be)&&(s=h1(s,n.pendingProps,xi),s!==null?(n.stateNode=s,dn=n,be=null,e=!0):e=!1),e||Dr(n)),null;case 13:return oy(e,n,s);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ss(n,null,l,s):Ze(e,n,l,s),n.child;case 11:return Jg(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ta(n,n.type,l.value),Ze(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=an(h),l=l(h),n.flags|=1,Ze(e,n,l,s),n.child;case 14:return ty(e,n,n.type,n.pendingProps,s);case 15:return ey(e,n,n.type,n.pendingProps,s);case 19:return uy(e,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},e===null?(s=qu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ki(e.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return ny(e,n,s);case 24:return Ir(n),l=an(Le),e===null?(h=Yh(),h===null&&(h=le,d=$h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},Xh(n),Ta(n,Le,h)):((e.lanes&s)!==0&&(Zh(e,n),qo(n,null,null,s),Bo()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ta(n,Le,l)):(l=d.cache,Ta(n,Le,l),l!==h.cache&&Gh(n,[Le],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ia(e){e.flags|=4}function hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_v(n)){if(n=Ln.current,n!==null&&((Ft&4194048)===Ft?Ei!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||n!==Ei))throw Lo=Kh,Ym;e.flags|=8192}}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ho():536870912,e.lanes|=n,Ns|=n)}function Ko(e,n){if(!Yt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function me(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function PE(e,n,s){var l=n.pendingProps;switch(Bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ji(Le),Bt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Oo(n)?ia(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hm())),me(n),null;case 26:return s=n.memoizedState,e===null?(ia(n),s!==null?(me(n),hy(n,s)):(me(n),n.flags&=-16777217)):s?s!==e.memoizedState?(ia(n),me(n),hy(n,s)):(me(n),n.flags&=-16777217):(e.memoizedProps!==l&&ia(n),me(n),n.flags&=-16777217),null;case 27:ce(n),s=pt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ia(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return me(n),null}e=ot.current,Oo(n)?Bm(n):(e=hv(h,l,s),n.stateNode=e,ia(n))}return me(n),null;case 5:if(ce(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ia(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return me(n),null}if(e=ot.current,Oo(n))Bm(n);else{switch(h=nc(pt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[je]=n,e[Ce]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Je(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ia(n)}}return me(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ia(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=pt.current,Oo(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[je]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||av(e.nodeValue,s)),e||Dr(n)}else e=nc(e).createTextNode(l),e[je]=n,n.stateNode=e}return me(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oo(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[je]=n}else Mo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),h=!1}else h=Hm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(ea(n),n):(ea(n),null)}if(ea(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Hu(n,n.updateQueue),me(n),null;case 4:return Bt(),e===null&&td(n.stateNode.containerInfo),me(n),null;case 10:return Ji(n.type),me(n),null;case 19:if(Y(ze),h=n.memoizedState,h===null)return me(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Ko(h,!1);else{if(xe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Uu(e),d!==null){for(n.flags|=128,Ko(h,!1),e=d.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Lm(s,e),s=s.sibling;return $(ze,ze.current&1|2),n.child}e=e.sibling}h.tail!==null&&ke()>$u&&(n.flags|=128,l=!0,Ko(h,!1),n.lanes=4194304)}else{if(!l)if(e=Uu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Yt)return me(n),null}else 2*ke()-h.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,l=!0,Ko(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=ke(),n.sibling=null,e=ze.current,$(ze,l?e&1|2:e&1),n):(me(n),null);case 22:case 23:return ea(n),ef(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),s=n.updateQueue,s!==null&&Hu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ji(Le),me(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function UE(e,n){switch(Bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ji(Le),Bt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ce(n),null;case 13:if(ea(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Mo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(ze),null;case 4:return Bt(),null;case 10:return Ji(n.type),null;case 22:case 23:return ea(n),ef(),e!==null&&Y(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ji(Le),null;case 25:return null;default:return null}}function fy(e,n){switch(Bh(n),n.tag){case 3:Ji(Le),Bt();break;case 26:case 27:case 5:ce(n);break;case 4:Bt();break;case 13:ea(n);break;case 19:Y(ze);break;case 10:Ji(n.type);break;case 22:case 23:ea(n),ef(),e!==null&&Y(Or);break;case 24:Ji(Le)}}function Xo(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,b=s.inst;l=d(),b.destroy=l}s=s.next}while(s!==h)}}catch(x){se(n,n.return,x)}}function Na(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var b=l.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,h=n;var D=s,F=x;try{F()}catch(tt){se(h,D,tt)}}}l=l.next}while(l!==d)}}catch(tt){se(n,n.return,tt)}}function dy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{tg(n,s)}catch(l){se(e,e.return,l)}}}function py(e,n,s){s.props=Vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){se(e,n,l)}}function Zo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){se(e,n,h)}}function Ti(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){se(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){se(e,n,h)}else s.current=null}function my(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){se(e,e.return,h)}}function Nf(e,n,s){try{var l=e.stateNode;r1(l,e.type,s,n),l[Ce]=n}catch(h){se(e,e.return,h)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function If(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ec));else if(l!==4&&(l===27&&Ua(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,s),e=e.sibling;e!==null;)Of(e,n,s),e=e.sibling}function Fu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ua(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Fu(e,n,s),e=e.sibling;e!==null;)Fu(e,n,s),e=e.sibling}function yy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,l,s),n[je]=e,n[Ce]=s}catch(d){se(e,e.return,d)}}var aa=!1,Se=!1,Mf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function LE(e,n){if(e=e.containerInfo,id=lc,e=Dm(e),Nh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var b=0,x=-1,D=-1,F=0,tt=0,it=e,G=null;e:for(;;){for(var Q;it!==s||h!==0&&it.nodeType!==3||(x=b+h),it!==d||l!==0&&it.nodeType!==3||(D=b+l),it.nodeType===3&&(b+=it.nodeValue.length),(Q=it.firstChild)!==null;)G=it,it=Q;for(;;){if(it===e)break e;if(G===s&&++F===h&&(x=b),G===d&&++tt===l&&(D=b),(Q=it.nextSibling)!==null)break;it=G,G=it.parentNode}it=Q}s=x===-1||D===-1?null:{start:x,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:e,selectionRange:s},lc=!1,Ge=n;Ge!==null;)if(n=Ge,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ge=e;else for(;Ge!==null;){switch(n=Ge,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Dt=Vr(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(Dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(wt){se(s,s.return,wt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ge=e;break}Ge=n.return}}function _y(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ia(e,s),l&4&&Xo(5,s);break;case 1:if(Ia(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(b){se(s,s.return,b)}else{var h=Vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){se(s,s.return,b)}}l&64&&dy(s),l&512&&Zo(s,s.return);break;case 3:if(Ia(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{tg(e,n)}catch(b){se(s,s.return,b)}}break;case 27:n===null&&l&4&&yy(s);case 26:case 5:Ia(e,s),n===null&&l&4&&my(s),l&512&&Zo(s,s.return);break;case 12:Ia(e,s);break;case 13:Ia(e,s),l&4&&Ey(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=YE.bind(null,s),f1(e,s))));break;case 22:if(l=s.memoizedState!==null||aa,!l){n=n!==null&&n.memoizedState!==null||Se,h=aa;var d=Se;aa=l,(Se=n)&&!d?Oa(e,s,(s.subtreeFlags&8772)!==0):Ia(e,s),aa=h,Se=d}break;case 30:break;default:Ia(e,s)}}function by(e){var n=e.alternate;n!==null&&(e.alternate=null,by(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&_a(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,vn=!1;function ra(e,n,s){for(s=s.child;s!==null;)xy(e,n,s),s=s.sibling}function xy(e,n,s){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Mt,s)}catch{}switch(s.tag){case 26:Se||Ti(s,n),ra(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||Ti(s,n);var l=de,h=vn;Ua(s.type)&&(de=s.stateNode,vn=!1),ra(e,n,s),sl(s.stateNode),de=l,vn=h;break;case 5:Se||Ti(s,n);case 6:if(l=de,h=vn,de=null,ra(e,n,s),de=l,vn=h,de!==null)if(vn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(d){se(s,n,d)}else try{de.removeChild(s.stateNode)}catch(d){se(s,n,d)}break;case 18:de!==null&&(vn?(e=de,uv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),pl(e)):uv(de,s.stateNode));break;case 4:l=de,h=vn,de=s.stateNode.containerInfo,vn=!0,ra(e,n,s),de=l,vn=h;break;case 0:case 11:case 14:case 15:Se||Na(2,s,n),Se||Na(4,s,n),ra(e,n,s);break;case 1:Se||(Ti(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&py(s,n,l)),ra(e,n,s);break;case 21:ra(e,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,ra(e,n,s),Se=l;break;default:ra(e,n,s)}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pl(e)}catch(s){se(n,n.return,s)}}function zE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new vy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new vy),n;default:throw Error(r(435,e.tag))}}function Vf(e,n){var s=zE(e);n.forEach(function(l){var h=KE.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function wn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,b=n,x=b;t:for(;x!==null;){switch(x.tag){case 27:if(Ua(x.type)){de=x.stateNode,vn=!1;break t}break;case 5:de=x.stateNode,vn=!1;break t;case 3:case 4:de=x.stateNode.containerInfo,vn=!0;break t}x=x.return}if(de===null)throw Error(r(160));xy(d,b,h),de=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var Wn=null;function Ty(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wn(n,e),An(e),l&4&&(Na(3,e,e.return),Xo(3,e),Na(5,e,e.return));break;case 1:wn(n,e),An(e),l&512&&(Se||s===null||Ti(s,s.return)),l&64&&aa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Wn;if(wn(n,e),An(e),l&512&&(Se||s===null||Ti(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ur]||d[je]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Je(d,l,s),d[je]=e,we(d),l=d;break t;case"link":var b=yv("link","href",h).get(l+(s.href||""));if(b){for(var x=0;x<b.length;x++)if(d=b[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(x,1);break e}}d=h.createElement(l),Je(d,l,s),h.head.appendChild(d);break;case"meta":if(b=yv("meta","content",h).get(l+(s.content||""))){for(x=0;x<b.length;x++)if(d=b[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(x,1);break e}}d=h.createElement(l),Je(d,l,s),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[je]=e,we(d),l=d}e.stateNode=l}else vv(h,e.type,e.stateNode);else e.stateNode=gv(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?vv(h,e.type,e.stateNode):gv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,s.memoizedProps)}break;case 27:wn(n,e),An(e),l&512&&(Se||s===null||Ti(s,s.return)),s!==null&&l&4&&Nf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(wn(n,e),An(e),l&512&&(Se||s===null||Ti(s,s.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(Q){se(e,e.return,Q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Nf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Mf=!0);break;case 6:if(wn(n,e),An(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Q){se(e,e.return,Q)}}break;case 3:if(rc=null,h=Wn,Wn=ic(n.containerInfo),wn(n,e),Wn=h,An(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{pl(n.containerInfo)}catch(Q){se(e,e.return,Q)}Mf&&(Mf=!1,wy(e));break;case 4:l=Wn,Wn=ic(e.stateNode.containerInfo),wn(n,e),An(e),Wn=l;break;case 12:wn(n,e),An(e);break;case 13:wn(n,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(zf=ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vf(e,l)));break;case 22:h=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,F=aa,tt=Se;if(aa=F||h,Se=tt||D,wn(n,e),Se=tt,aa=F,An(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||D||aa||Se||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(d=D.stateNode,h)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=D.stateNode;var it=D.memoizedProps.style,G=it!=null&&it.hasOwnProperty("display")?it.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){se(D,D.return,Q)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Q){se(D,D.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Vf(e,s))));break;case 19:wn(n,e),An(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vf(e,l)));break;case 30:break;case 21:break;default:wn(n,e),An(e)}}function An(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(gy(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=If(e);Fu(e,d,h);break;case 5:var b=s.stateNode;s.flags&32&&(In(b,""),s.flags&=-33);var x=If(e);Fu(e,x,b);break;case 3:case 4:var D=s.stateNode.containerInfo,F=If(e);Of(e,F,D);break;default:throw Error(r(161))}}catch(tt){se(e,e.return,tt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ia(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Na(4,n,n.return),kr(n);break;case 1:Ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&py(n,n.return,s),kr(n);break;case 27:sl(n.stateNode);case 26:case 5:Ti(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Oa(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Oa(h,d,s),Xo(4,d);break;case 1:if(Oa(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){se(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Jm(D[h],x)}catch(F){se(l,l.return,F)}}s&&b&64&&dy(d),Zo(d,d.return);break;case 27:yy(d);case 26:case 5:Oa(h,d,s),s&&l===null&&b&4&&my(d),Zo(d,d.return);break;case 12:Oa(h,d,s);break;case 13:Oa(h,d,s),s&&b&4&&Ey(h,d);break;case 22:d.memoizedState===null&&Oa(h,d,s),Zo(d,d.return);break;case 30:break;default:Oa(h,d,s)}n=n.sibling}}function kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&jo(s))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e))}function wi(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(e,n,s,l),n=n.sibling}function Ay(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:wi(e,n,s,l),h&2048&&Xo(9,n);break;case 1:wi(e,n,s,l);break;case 3:wi(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){wi(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,b=d.id,x=d.onPostCommit;typeof x=="function"&&x(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){se(n,n.return,D)}}else wi(e,n,s,l);break;case 13:wi(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?wi(e,n,s,l):Wo(e,n):d._visibility&2?wi(e,n,s,l):(d._visibility|=2,Rs(e,n,s,l,(n.subtreeFlags&10256)!==0)),h&2048&&kf(b,n);break;case 24:wi(e,n,s,l),h&2048&&jf(n.alternate,n);break;default:wi(e,n,s,l)}}function Rs(e,n,s,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,b=n,x=s,D=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:Rs(d,b,x,D,h),Xo(8,b);break;case 23:break;case 22:var tt=b.stateNode;b.memoizedState!==null?tt._visibility&2?Rs(d,b,x,D,h):Wo(d,b):(tt._visibility|=2,Rs(d,b,x,D,h)),h&&F&2048&&kf(b.alternate,b);break;case 24:Rs(d,b,x,D,h),h&&F&2048&&jf(b.alternate,b);break;default:Rs(d,b,x,D,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Wo(s,l),h&2048&&kf(l.alternate,l);break;case 24:Wo(s,l),h&2048&&jf(l.alternate,l);break;default:Wo(s,l)}n=n.sibling}}var Jo=8192;function Cs(e){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 26:Cs(e),e.flags&Jo&&e.memoizedState!==null&&A1(Wn,e.memoizedState,e.memoizedProps);break;case 5:Cs(e);break;case 3:case 4:var n=Wn;Wn=ic(e.stateNode.containerInfo),Cs(e),Wn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Jo,Jo=16777216,Cs(e),Jo=n):Cs(e));break;default:Cs(e)}}function Ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,Dy(l,e)}Ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cy(e),e=e.sibling}function Cy(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Na(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gu(e)):tl(e);break;default:tl(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,Dy(l,e)}Ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Na(8,n,n.return),Gu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Gu(n));break;default:Gu(n)}e=e.sibling}}function Dy(e,n){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:Na(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ge=l;else t:for(s=e;Ge!==null;){l=Ge;var h=l.sibling,d=l.return;if(by(l),l===s){Ge=null;break t}if(h!==null){h.return=d,Ge=h;break t}Ge=d}}}var BE={getCacheForType:function(e){var n=an(Le),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},qE=typeof WeakMap=="function"?WeakMap:Map,Wt=0,le=null,Pt=null,Ft=0,Jt=0,Sn=null,Ma=!1,Ds=!1,Pf=!1,sa=0,xe=0,Va=0,jr=0,Uf=0,zn=0,Ns=0,el=null,_n=null,Lf=!1,zf=0,$u=1/0,Qu=null,ka=null,We=0,ja=null,Is=null,Os=0,Bf=0,qf=null,Ny=null,nl=0,Hf=null;function Rn(){if((Wt&2)!==0&&Ft!==0)return Ft&-Ft;if(K.T!==null){var e=_s;return e!==0?e:Xf()}return ya()}function Iy(){zn===0&&(zn=(Ft&536870912)===0||Yt?lr():536870912);var e=Ln.current;return e!==null&&(e.flags|=32),zn}function Cn(e,n,s){(e===le&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),Pa(e,Ft,zn,!1)),Ui(e,s),((Wt&2)===0||e!==le)&&(e===le&&((Wt&2)===0&&(jr|=s),xe===4&&Pa(e,Ft,zn,!1)),Ai(e))}function Oy(e,n,s){if((Wt&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Yn(e,n),h=l?GE(e,n):$f(e,n,!0),d=l;do{if(h===0){Ds&&!l&&Pa(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!HE(s)){h=$f(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;t:{var x=e;h=el;var D=x.current.memoizedState.isDehydrated;if(D&&(Ms(x,b).flags|=256),b=$f(x,b,!1),b!==2){if(Pf&&!D){x.errorRecoveryDisabledLanes|=d,jr|=d,h=4;break t}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=b}if(d=!1,h!==2)continue}}if(h===1){Ms(e,0),Pa(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Pa(l,n,zn,!Ma);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=zf+300-ke(),10<h)){if(Pa(l,n,zn,!Ma),ui(l,0,!0)!==0)break t;l.timeoutHandle=ov(My.bind(null,l,s,_n,Qu,Lf,n,zn,jr,Ns,Ma,d,2,-0,0),h);break t}My(l,s,_n,Qu,Lf,n,zn,jr,Ns,Ma,d,0,-0,0)}}break}while(!0);Ai(e)}function My(e,n,s,l,h,d,b,x,D,F,tt,it,G,Q){if(e.timeoutHandle=-1,it=n.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:w1},Sy(n),it=S1(),it!==null)){e.cancelPendingCommit=it(zy.bind(null,e,n,d,s,l,h,b,x,D,tt,1,G,Q)),Pa(e,d,b,!F);return}zy(e,n,d,s,l,h,b,x,D)}function HE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pa(e,n,s,l){n&=~Uf,n&=~jr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-_e(h),b=1<<d;l[d]=-1,h&=~b}s!==0&&ci(e,s,n)}function Yu(){return(Wt&6)===0?(il(0),!1):!0}function Ff(){if(Pt!==null){if(Jt===0)var e=Pt.return;else e=Pt,Wi=Nr=null,of(e),As=null,Qo=0,e=Pt;for(;e!==null;)fy(e.alternate,e),e=e.return;Pt=null}}function Ms(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,o1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ff(),le=e,Pt=s=Ki(e.current,null),Ft=n,Jt=0,Sn=null,Ma=!1,Ds=Yn(e,n),Pf=!1,Ns=zn=Uf=jr=Va=xe=0,_n=el=null,Lf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-_e(l),d=1<<h;n|=e[h],l&=~d}return sa=n,gu(),s}function Vy(e,n){kt=null,K.H=ku,n===Uo||n===Au?(n=Zm(),Jt=3):n===Ym?(n=Zm(),Jt=4):Jt=n===Wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Pt===null&&(xe=1,zu(e,kn(n,e.current)))}function ky(){var e=K.H;return K.H=ku,e===null?ku:e}function jy(){var e=K.A;return K.A=BE,e}function Gf(){xe=4,Ma||(Ft&4194048)!==Ft&&Ln.current!==null||(Ds=!0),(Va&134217727)===0&&(jr&134217727)===0||le===null||Pa(le,Ft,zn,!1)}function $f(e,n,s){var l=Wt;Wt|=2;var h=ky(),d=jy();(le!==e||Ft!==n)&&(Qu=null,Ms(e,n)),n=!1;var b=xe;t:do try{if(Jt!==0&&Pt!==null){var x=Pt,D=Sn;switch(Jt){case 8:Ff(),b=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var F=Jt;if(Jt=0,Sn=null,Vs(e,x,D,F),s&&Ds){b=0;break t}break;default:F=Jt,Jt=0,Sn=null,Vs(e,x,D,F)}}FE(),b=xe;break}catch(tt){Vy(e,tt)}while(!0);return n&&e.shellSuspendCounter++,Wi=Nr=null,Wt=l,K.H=h,K.A=d,Pt===null&&(le=null,Ft=0,gu()),b}function FE(){for(;Pt!==null;)Py(Pt)}function GE(e,n){var s=Wt;Wt|=2;var l=ky(),h=jy();le!==e||Ft!==n?(Qu=null,$u=ke()+500,Ms(e,n)):Ds=Yn(e,n);t:do try{if(Jt!==0&&Pt!==null){n=Pt;var d=Sn;e:switch(Jt){case 1:Jt=0,Sn=null,Vs(e,n,d,1);break;case 2:case 9:if(Km(d)){Jt=0,Sn=null,Uy(n);break}n=function(){Jt!==2&&Jt!==9||le!==e||(Jt=7),Ai(e)},d.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Km(d)?(Jt=0,Sn=null,Uy(n)):(Jt=0,Sn=null,Vs(e,n,d,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var x=Pt;if(!b||_v(b)){Jt=0,Sn=null;var D=x.sibling;if(D!==null)Pt=D;else{var F=x.return;F!==null?(Pt=F,Ku(F)):Pt=null}break e}}Jt=0,Sn=null,Vs(e,n,d,5);break;case 6:Jt=0,Sn=null,Vs(e,n,d,6);break;case 8:Ff(),xe=6;break t;default:throw Error(r(462))}}$E();break}catch(tt){Vy(e,tt)}while(!0);return Wi=Nr=null,K.H=l,K.A=h,Wt=s,Pt!==null?0:(le=null,Ft=0,gu(),xe)}function $E(){for(;Pt!==null&&!pa();)Py(Pt)}function Py(e){var n=cy(e.alternate,e,sa);e.memoizedProps=e.pendingProps,n===null?Ku(e):Pt=n}function Uy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ay(s,n,n.pendingProps,n.type,void 0,Ft);break;case 11:n=ay(s,n,n.pendingProps,n.type.render,n.ref,Ft);break;case 5:of(n);default:fy(s,n),n=Pt=Lm(n,sa),n=cy(s,n,sa)}e.memoizedProps=e.pendingProps,n===null?Ku(e):Pt=n}function Vs(e,n,s,l){Wi=Nr=null,of(n),As=null,Qo=0;var h=n.return;try{if(kE(e,h,n,s,Ft)){xe=1,zu(e,kn(s,e.current)),Pt=null;return}}catch(d){if(h!==null)throw Pt=h,d;xe=1,zu(e,kn(s,e.current)),Pt=null;return}n.flags&32768?(Yt||l===1?e=!0:Ds||(Ft&536870912)!==0?e=!1:(Ma=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ly(n,e)):Ku(n)}function Ku(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,Ma);return}e=n.return;var s=PE(n.alternate,n,sa);if(s!==null){Pt=s;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=e}while(n!==null);xe===0&&(xe=5)}function Ly(e,n){do{var s=UE(e.alternate,e);if(s!==null){s.flags&=32767,Pt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Pt=e;return}Pt=e=s}while(e!==null);xe=6,Pt=null}function zy(e,n,s,l,h,d,b,x,D){e.cancelPendingCommit=null;do Xu();while(We!==0);if((Wt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=kh,fo(e,s,d,b,x,D),e===le&&(Pt=le=null,Ft=0),Is=n,ja=e,Os=s,Bf=d,qf=h,Ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XE(ki,function(){return Gy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=st.p,st.p=2,b=Wt,Wt|=4;try{LE(e,n,s)}finally{Wt=b,st.p=h,K.T=l}}We=1,By(),qy(),Hy()}}function By(){if(We===1){We=0;var e=ja,n=Is,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=st.p;st.p=2;var h=Wt;Wt|=4;try{Ty(n,e);var d=ad,b=Dm(e.containerInfo),x=d.focusedElem,D=d.selectionRange;if(b!==x&&x&&x.ownerDocument&&Cm(x.ownerDocument.documentElement,x)){if(D!==null&&Nh(x)){var F=D.start,tt=D.end;if(tt===void 0&&(tt=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(tt,x.value.length);else{var it=x.ownerDocument||document,G=it&&it.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Dt=x.textContent.length,wt=Math.min(D.start,Dt),ae=D.end===void 0?wt:Math.min(D.end,Dt);!Q.extend&&wt>ae&&(b=ae,ae=wt,wt=b);var B=Rm(x,wt),z=Rm(x,ae);if(B&&z&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var H=it.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),wt>ae?(Q.addRange(H),Q.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),Q.addRange(H))}}}}for(it=[],Q=x;Q=Q.parentNode;)Q.nodeType===1&&it.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<it.length;x++){var et=it[x];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}lc=!!id,ad=id=null}finally{Wt=h,st.p=l,K.T=s}}e.current=n,We=2}}function qy(){if(We===2){We=0;var e=ja,n=Is,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=st.p;st.p=2;var h=Wt;Wt|=4;try{_y(e,n.alternate,n)}finally{Wt=h,st.p=l,K.T=s}}We=3}}function Hy(){if(We===4||We===3){We=0,rr();var e=ja,n=Is,s=Os,l=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?We=5:(We=0,Is=ja=null,Fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ka=null),Zr(s),n=n.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Mt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=st.p,st.p=2,K.T=null;try{for(var d=e.onRecoverableError,b=0;b<l.length;b++){var x=l[b];d(x.value,{componentStack:x.stack})}}finally{K.T=n,st.p=h}}(Os&3)!==0&&Xu(),Ai(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Hf?nl++:(nl=0,Hf=e):nl=0,il(0)}}function Fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jo(n)))}function Xu(e){return By(),qy(),Hy(),Gy()}function Gy(){if(We!==5)return!1;var e=ja,n=Bf;Bf=0;var s=Zr(Os),l=K.T,h=st.p;try{st.p=32>s?32:s,K.T=null,s=qf,qf=null;var d=ja,b=Os;if(We=0,Is=ja=null,Os=0,(Wt&6)!==0)throw Error(r(331));var x=Wt;if(Wt|=4,Cy(d.current),Ay(d,d.current,b,s),Wt=x,il(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Mt,d)}catch{}return!0}finally{st.p=h,K.T=l,Fy(e,n)}}function $y(e,n,s){n=kn(s,n),n=xf(e.stateNode,n,2),e=Sa(e,n,2),e!==null&&(Ui(e,2),Ai(e))}function se(e,n,s){if(e.tag===3)$y(e,e,s);else for(;n!==null;){if(n.tag===3){$y(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ka===null||!ka.has(l))){e=kn(s,e),s=Xg(2),l=Sa(n,s,2),l!==null&&(Zg(s,l,n,e),Ui(l,2),Ai(l));break}}n=n.return}}function Qf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new qE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Pf=!0,h.add(s),e=QE.bind(null,e,n,s),n.then(e,e))}function QE(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Ft&s)===s&&(xe===4||xe===3&&(Ft&62914560)===Ft&&300>ke()-zf?(Wt&2)===0&&Ms(e,0):Uf|=s,Ns===Ft&&(Ns=0)),Ai(e)}function Qy(e,n){n===0&&(n=ho()),e=ms(e,n),e!==null&&(Ui(e,n),Ai(e))}function YE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Qy(e,s)}function KE(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Qy(e,s)}function XE(e,n){return gn(e,n)}var Zu=null,ks=null,Yf=!1,Wu=!1,Kf=!1,Pr=0;function Ai(e){e!==ks&&e.next===null&&(ks===null?Zu=ks=e:ks=ks.next=e),Wu=!0,Yf||(Yf=!0,WE())}function il(e,n){if(!Kf&&Wu){Kf=!0;do for(var s=!1,l=Zu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var b=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-_e(42|e)+1)-1,d&=h&~(b&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Zy(l,d))}else d=Ft,d=ui(l,l===le?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(s=!0,Zy(l,d));l=l.next}while(s);Kf=!1}}function ZE(){Yy()}function Yy(){Wu=Yf=!1;var e=0;Pr!==0&&(s1()&&(e=Pr),Pr=0);for(var n=ke(),s=null,l=Zu;l!==null;){var h=l.next,d=Ky(l,n);d===0?(l.next=null,s===null?Zu=h:s.next=h,h===null&&(ks=s)):(s=l,(e!==0||(d&3)!==0)&&(Wu=!0)),l=h}il(e)}function Ky(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-_e(d),x=1<<b,D=h[b];D===-1?((x&s)===0||(x&l)!==0)&&(h[b]=ji(x,n)):D<=n&&(e.expiredLanes|=x),d&=~x}if(n=le,s=Ft,s=ui(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&oi(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Yn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&oi(l),Zr(s)){case 2:case 8:s=Fn;break;case 32:s=ki;break;case 268435456:s=ma;break;default:s=ki}return l=Xy.bind(null,e),s=gn(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&oi(l),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,n){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Xu()&&e.callbackNode!==s)return null;var l=Ft;return l=ui(e,e===le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Oy(e,l,n),Ky(e,ke()),e.callbackNode!=null&&e.callbackNode===s?Xy.bind(null,e):null)}function Zy(e,n){if(Xu())return null;Oy(e,n,!0)}function WE(){l1(function(){(Wt&6)!==0?gn(li,ZE):Yy()})}function Xf(){return Pr===0&&(Pr=lr()),Pr}function Wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:is(""+e)}function Jy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function JE(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=Wy((h[Ce]||null).action),b=l.submitter;b&&(n=(n=b[Ce]||null)?Wy(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var x=new as("action","action",null,l,h);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pr!==0){var D=b?Jy(h,b):new FormData(h);gf(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(x.preventDefault(),D=b?Jy(h,b):new FormData(h),gf(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Zf=0;Zf<Vh.length;Zf++){var Wf=Vh[Zf],t1=Wf.toLowerCase(),e1=Wf[0].toUpperCase()+Wf.slice(1);Zn(t1,"on"+e1)}Zn(Om,"onAnimationEnd"),Zn(Mm,"onAnimationIteration"),Zn(Vm,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(vE,"onTransitionRun"),Zn(_E,"onTransitionStart"),Zn(bE,"onTransitionCancel"),Zn(km,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function tv(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var x=l[b],D=x.instance,F=x.currentTarget;if(x=x.listener,D!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=F;try{d(h)}catch(tt){Lu(tt)}h.currentTarget=null,d=D}else for(b=0;b<l.length;b++){if(x=l[b],D=x.instance,F=x.currentTarget,x=x.listener,D!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=F;try{d(h)}catch(tt){Lu(tt)}h.currentTarget=null,d=D}}}}function Ut(e,n){var s=n[mo];s===void 0&&(s=n[mo]=new Set);var l=e+"__bubble";s.has(l)||(ev(n,e,2,!1),s.add(l))}function Jf(e,n,s){var l=0;n&&(l|=4),ev(s,e,l,n)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[Ju]){e[Ju]=!0,go.forEach(function(s){s!=="selectionchange"&&(n1.has(s)||Jf(s,!1,e),Jf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ju]||(n[Ju]=!0,Jf("selectionchange",!1,n))}}function ev(e,n,s,l){switch(Av(n)){case 2:var h=D1;break;case 8:h=N1;break;default:h=pd}s=h.bind(null,n,s,e),h=void 0,!Mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ed(e,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var x=l.stateNode.containerInfo;if(x===h)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;x!==null;){if(b=Li(x),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=d=b;continue t}x=x.parentNode}}l=l.return}eu(function(){var F=d,tt=On(s),it=[];t:{var G=jm.get(e);if(G!==void 0){var Q=as,Dt=e;switch(e){case"keypress":if(gi(s)===0)break t;case"keydown":case"keyup":Q=cs;break;case"focusin":Dt="focus",Q=os;break;case"focusout":Dt="blur",Q=os;break;case"beforeblur":case"afterblur":Q=os;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=uu;break;case Om:case Mm:case Vm:Q=ls;break;case km:Q=hu;break;case"scroll":case"scrollend":Q=nu;break;case"wheel":Q=hs;break;case"copy":case"cut":case"paste":Q=us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Co;break;case"toggle":case"beforetoggle":Q=du}var wt=(n&4)!==0,ae=!wt&&(e==="scroll"||e==="scrollend"),B=wt?G!==null?G+"Capture":null:G;wt=[];for(var z=F,H;z!==null;){var et=z;if(H=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||H===null||B===null||(et=gr(z,B),et!=null&&wt.push(rl(z,et,H))),ae)break;z=z.return}0<wt.length&&(G=new Q(G,Dt,null,s,tt),it.push({event:G,listeners:wt}))}}if((n&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&s!==Hi&&(Dt=s.relatedTarget||s.fromElement)&&(Li(Dt)||Dt[Nn]))break t;if((Q||G)&&(G=tt.window===tt?tt:(G=tt.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Dt=s.relatedTarget||s.toElement,Q=F,Dt=Dt?Li(Dt):null,Dt!==null&&(ae=u(Dt),wt=Dt.tag,Dt!==ae||wt!==5&&wt!==27&&wt!==6)&&(Dt=null)):(Q=null,Dt=F),Q!==Dt)){if(wt=Vn,et="onMouseLeave",B="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(wt=Co,et="onPointerLeave",B="onPointerEnter",z="pointer"),ae=Q==null?G:fi(Q),H=Dt==null?G:fi(Dt),G=new wt(et,z+"leave",Q,s,tt),G.target=ae,G.relatedTarget=H,et=null,Li(tt)===F&&(wt=new wt(B,z+"enter",Dt,s,tt),wt.target=H,wt.relatedTarget=ae,et=wt),ae=et,Q&&Dt)e:{for(wt=Q,B=Dt,z=0,H=wt;H;H=js(H))z++;for(H=0,et=B;et;et=js(et))H++;for(;0<z-H;)wt=js(wt),z--;for(;0<H-z;)B=js(B),H--;for(;z--;){if(wt===B||B!==null&&wt===B.alternate)break e;wt=js(wt),B=js(B)}wt=null}else wt=null;Q!==null&&nv(it,G,Q,wt,!1),Dt!==null&&ae!==null&&nv(it,ae,Dt,wt,!0)}}t:{if(G=F?fi(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var vt=xm;else if(Ue(G))if(Em)vt=mE;else{vt=dE;var jt=fE}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&xo(F.elementType)&&(vt=xm):vt=pE;if(vt&&(vt=vt(e,F))){Yi(it,vt,s,tt);break t}jt&&jt(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&xa(G,"number",G.value)}switch(jt=F?fi(F):window,e){case"focusin":(Ue(jt)||jt.contentEditable==="true")&&(fs=jt,Ih=F,Io=null);break;case"focusout":Io=Ih=fs=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Nm(it,s,tt);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":Nm(it,s,tt)}var bt;if(_i)t:{switch(e){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else qt?X(e,s)&&(St="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(St="onCompositionStart");St&&(v&&s.locale!=="ko"&&(qt||St!=="onCompositionStart"?St==="onCompositionEnd"&&qt&&(bt=To()):(mi=tt,Ea="value"in mi?mi.value:mi.textContent,qt=!0)),jt=tc(F,St),0<jt.length&&(St=new So(St,e,null,s,tt),it.push({event:St,listeners:jt}),bt?St.data=bt:(bt=lt(s),bt!==null&&(St.data=bt)))),(bt=g?Pe(e,s):Ht(e,s))&&(St=tc(F,"onBeforeInput"),0<St.length&&(jt=new So("onBeforeInput","beforeinput",null,s,tt),it.push({event:jt,listeners:St}),jt.data=bt)),JE(it,e,F,s,tt)}tv(it,n)})}function rl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function tc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gr(e,s),h!=null&&l.unshift(rl(e,h,d)),h=gr(e,n),h!=null&&l.push(rl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nv(e,n,s,l,h){for(var d=n._reactName,b=[];s!==null&&s!==l;){var x=s,D=x.alternate,F=x.stateNode;if(x=x.tag,D!==null&&D===l)break;x!==5&&x!==26&&x!==27||F===null||(D=F,h?(F=gr(s,d),F!=null&&b.unshift(rl(s,F,D))):h||(F=gr(s,d),F!=null&&b.push(rl(s,F,D)))),s=s.return}b.length!==0&&e.push({event:n,listeners:b})}var i1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function iv(e){return(typeof e=="string"?e:""+e).replace(i1,`
`).replace(a1,"")}function av(e,n){return n=iv(n),iv(e)===n}function ec(){}function ie(e,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||In(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&In(e,""+l);break;case"className":di(e,"class",l);break;case"tabIndex":di(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":di(e,s,l);break;case"style":bo(e,l,d);break;case"data":if(n!=="object"){di(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=is(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=is(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ec);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=is(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),ba(e,"popover",l);break;case"xlinkActuate":Ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wh.get(s)||s,ba(e,s,l))}}function nd(e,n,s,l,h,d){switch(s){case"style":bo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?In(e,l):(typeof l=="number"||typeof l=="bigint")&&In(e,""+l);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[Ce]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ba(e,s,l)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var b=s[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(e,n,d,b,s,null)}}h&&ie(e,n,"srcSet",s.srcSet,s,null),l&&ie(e,n,"src",s.src,s,null);return;case"input":Ut("invalid",e);var x=d=b=h=null,D=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var tt=s[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":b=tt;break;case"checked":D=tt;break;case"defaultChecked":F=tt;break;case"value":d=tt;break;case"defaultValue":x=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,n));break;default:ie(e,n,l,tt,s,null)}}dr(e,d,x,D,F,b,h,!1),ns(e);return;case"select":Ut("invalid",e),l=b=d=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":b=x;break;case"multiple":l=x;default:ie(e,n,h,x,s,null)}n=d,s=b,e.multiple=!!l,n!=null?qi(e,!!l,n,!1):s!=null&&qi(e,!!l,s,!0);return;case"textarea":Ut("invalid",e),d=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(x=s[b],x!=null))switch(b){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:ie(e,n,b,x,s,null)}pr(e,l,h,d),ns(e);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ie(e,n,D,l,s,null)}return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(l=0;l<al.length;l++)Ut(al[l],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(e,n,F,l,s,null)}return;default:if(xo(n)){for(tt in s)s.hasOwnProperty(tt)&&(l=s[tt],l!==void 0&&nd(e,n,tt,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&ie(e,n,x,l,s,null))}function r1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,b=null,x=null,D=null,F=null,tt=null;for(Q in s){var it=s[Q];if(s.hasOwnProperty(Q)&&it!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=it;default:l.hasOwnProperty(Q)||ie(e,n,Q,null,l,it)}}for(var G in l){var Q=l[G];if(it=s[G],l.hasOwnProperty(G)&&(Q!=null||it!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":tt=Q;break;case"value":b=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==it&&ie(e,n,G,Q,l,it)}}xn(e,b,x,D,F,tt,d,h);return;case"select":Q=b=x=G=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||ie(e,n,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":G=d;break;case"defaultValue":x=d;break;case"multiple":b=d;default:d!==D&&ie(e,n,h,d,l,D)}n=x,s=b,l=Q,G!=null?qi(e,!!s,G,!1):!!l!=!!s&&(n!=null?qi(e,!!s,n,!0):qi(e,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ie(e,n,x,null,l,h)}for(b in l)if(h=l[b],d=s[b],l.hasOwnProperty(b)&&(h!=null||d!=null))switch(b){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&ie(e,n,b,h,l,d)}ee(e,G,Q);return;case"option":for(var Dt in s)if(G=s[Dt],s.hasOwnProperty(Dt)&&G!=null&&!l.hasOwnProperty(Dt))switch(Dt){case"selected":e.selected=!1;break;default:ie(e,n,Dt,null,l,G)}for(D in l)if(G=l[D],Q=s[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null))switch(D){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ie(e,n,D,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in s)G=s[wt],s.hasOwnProperty(wt)&&G!=null&&!l.hasOwnProperty(wt)&&ie(e,n,wt,null,l,G);for(F in l)if(G=l[F],Q=s[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ie(e,n,F,G,l,Q)}return;default:if(xo(n)){for(var ae in s)G=s[ae],s.hasOwnProperty(ae)&&G!==void 0&&!l.hasOwnProperty(ae)&&nd(e,n,ae,void 0,l,G);for(tt in l)G=l[tt],Q=s[tt],!l.hasOwnProperty(tt)||G===Q||G===void 0&&Q===void 0||nd(e,n,tt,G,l,Q);return}}for(var B in s)G=s[B],s.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&ie(e,n,B,null,l,G);for(it in l)G=l[it],Q=s[it],!l.hasOwnProperty(it)||G===Q||G==null&&Q==null||ie(e,n,it,G,l,Q)}var id=null,ad=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function s1(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(e){return lv.resolve(null).then(e).catch(u1)}:ov;function u1(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function uv(e,n){var s=n,l=0,h=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var b=e.ownerDocument;if(s&1&&sl(b.documentElement),s&2&&sl(b.body),s&4)for(s=b.head,sl(s),b=s.firstChild;b;){var x=b.nextSibling,D=b.nodeName;b[ur]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=x}}if(h===0){e.removeChild(d),pl(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);pl(n)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),_a(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function c1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ur])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Jn(e.nextSibling),e===null)break}return null}function h1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Jn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function f1(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ud=null;function cv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function hv(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);_a(e)}var Bn=new Map,fv=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oa=st.d;st.d={f:d1,r:p1,D:m1,C:g1,L:y1,m:v1,X:b1,S:_1,M:x1};function d1(){var e=oa.f(),n=Yu();return e||n}function p1(e){var n=hi(e);n!==null&&n.tag===5&&n.type==="form"?Og(n):oa.r(e)}var Ps=typeof document>"u"?null:document;function dv(e,n,s){var l=Ps;if(l&&typeof n=="string"&&n){var h=De(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),fv.has(h)||(fv.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Je(n,"link",e),we(n),l.head.appendChild(n)))}}function m1(e){oa.D(e),dv("dns-prefetch",e,null)}function g1(e,n){oa.C(e,n),dv("preconnect",e,n)}function y1(e,n,s){oa.L(e,n,s);var l=Ps;if(l&&e&&n){var h='link[rel="preload"][as="'+De(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+De(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+De(s.imageSizes)+'"]')):h+='[href="'+De(e)+'"]';var d=h;switch(n){case"style":d=Us(e);break;case"script":d=Ls(e)}Bn.has(d)||(e=_({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Bn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ol(d))||n==="script"&&l.querySelector(ll(d))||(n=l.createElement("link"),Je(n,"link",e),we(n),l.head.appendChild(n)))}}function v1(e,n){oa.m(e,n);var s=Ps;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+De(l)+'"][href="'+De(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ls(e)}if(!Bn.has(d)&&(e=_({rel:"modulepreload",href:e},n),Bn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ll(d)))return}l=s.createElement("link"),Je(l,"link",e),we(l),s.head.appendChild(l)}}}function _1(e,n,s){oa.S(e,n,s);var l=Ps;if(l&&e){var h=cn(l).hoistableStyles,d=Us(e);n=n||"default";var b=h.get(d);if(!b){var x={loading:0,preload:null};if(b=l.querySelector(ol(d)))x.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Bn.get(d))&&cd(e,s);var D=b=l.createElement("link");we(D),Je(D,"link",e),D._p=new Promise(function(F,tt){D.onload=F,D.onerror=tt}),D.addEventListener("load",function(){x.loading|=1}),D.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ac(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:x},h.set(d,b)}}}function b1(e,n){oa.X(e,n);var s=Ps;if(s&&e){var l=cn(s).hoistableScripts,h=Ls(e),d=l.get(h);d||(d=s.querySelector(ll(h)),d||(e=_({src:e,async:!0},n),(n=Bn.get(h))&&hd(e,n),d=s.createElement("script"),we(d),Je(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function x1(e,n){oa.M(e,n);var s=Ps;if(s&&e){var l=cn(s).hoistableScripts,h=Ls(e),d=l.get(h);d||(d=s.querySelector(ll(h)),d||(e=_({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&hd(e,n),d=s.createElement("script"),we(d),Je(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(e,n,s,l){var h=(h=pt.current)?ic(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Us(s.href),s=cn(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Us(s.href);var d=cn(h).hoistableStyles,b=d.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=h.querySelector(ol(e)))&&!d._p&&(b.instance=d,b.state.loading=5),Bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(e,s),d||E1(h,e,s,b.state))),n&&l===null)throw Error(r(528,""));return b}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ls(s),s=cn(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Us(e){return'href="'+De(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function mv(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function E1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Je(n,"link",s),we(n),e.head.appendChild(n))}function Ls(e){return'[src="'+De(e)+'"]'}function ll(e){return"script[async]"+e}function gv(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+De(s.href)+'"]');if(l)return n.instance=l,we(l),l;var h=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),Je(l,"style",h),ac(l,s.precedence,e),n.instance=l;case"stylesheet":h=Us(s.href);var d=e.querySelector(ol(h));if(d)return n.state.loading|=4,n.instance=d,we(d),d;l=mv(s),(h=Bn.get(h))&&cd(l,h),d=(e.ownerDocument||e).createElement("link"),we(d);var b=d;return b._p=new Promise(function(x,D){b.onload=x,b.onerror=D}),Je(d,"link",l),n.state.loading|=4,ac(d,s.precedence,e),n.instance=d;case"script":return d=Ls(s.src),(h=e.querySelector(ll(d)))?(n.instance=h,we(h),h):(l=s,(h=Bn.get(d))&&(l=_({},s),hd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Je(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ac(l,s.precedence,e));return n.instance}function ac(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,b=0;b<l.length;b++){var x=l[b];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function yv(e,n,s){if(rc===null){var l=new Map,h=rc=new Map;h.set(s,l)}else h=rc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[ur]||d[je]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=e+b;var x=l.get(b);x?x.push(d):l.set(b,[d])}}return l}function vv(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function T1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _v(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function w1(){}function A1(e,n,s){if(ul===null)throw Error(r(475));var l=ul;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Us(s.href),d=e.querySelector(ol(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=sc.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,we(d);return}d=e.ownerDocument||e,s=mv(s),(h=Bn.get(h))&&cd(s,h),d=d.createElement("link"),we(d);var b=d;b._p=new Promise(function(x,D){b.onload=x,b.onerror=D}),Je(d,"link",s),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=sc.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function S1(){if(ul===null)throw Error(r(475));var e=ul;return e.stylesheets&&e.count===0&&fd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&fd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function sc(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function fd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(R1,e),oc=null,sc.call(e))}function R1(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var l=s.get(null);else{s=new Map,oc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var b=h[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=n.instance,b=h.getAttribute("data-precedence"),d=s.get(b)||l,d===l&&s.set(null,h),s.set(b,h),this.count++,l=sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:J,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function C1(e,n,s,l,h,d,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function bv(e,n,s,l,h,d,b,x,D,F,tt,it){return e=new C1(e,n,s,b,x,D,F,it),n=1,d===!0&&(n|=24),d=Tn(3,null,null,n),e.current=d,d.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},Xh(d),e}function xv(e){return e?(e=gs,e):gs}function Ev(e,n,s,l,h,d){h=xv(h),l.context===null?l.context=h:l.pendingContext=h,l=Aa(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Sa(e,l,n),s!==null&&(Cn(s,e,n),zo(s,e,n))}function Tv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function dd(e,n){Tv(e,n),(e=e.alternate)&&Tv(e,n)}function wv(e){if(e.tag===13){var n=ms(e,67108864);n!==null&&Cn(n,e,67108864),dd(e,67108864)}}var lc=!0;function D1(e,n,s,l){var h=K.T;K.T=null;var d=st.p;try{st.p=2,pd(e,n,s,l)}finally{st.p=d,K.T=h}}function N1(e,n,s,l){var h=K.T;K.T=null;var d=st.p;try{st.p=8,pd(e,n,s,l)}finally{st.p=d,K.T=h}}function pd(e,n,s,l){if(lc){var h=md(l);if(h===null)ed(e,n,l,uc,s),Sv(e,l);else if(O1(h,e,n,s,l))l.stopPropagation();else if(Sv(e,l),n&4&&-1<I1.indexOf(e)){for(;h!==null;){var d=hi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=un(d.pendingLanes);if(b!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var D=1<<31-_e(b);x.entanglements[1]|=D,b&=~D}Ai(d),(Wt&6)===0&&($u=ke()+500,il(0))}}break;case 13:x=ms(d,2),x!==null&&Cn(x,d,2),Yu(),dd(d,2)}if(d=md(l),d===null&&ed(e,n,l,uc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else ed(e,n,l,null,s)}}function md(e){return e=On(e),gd(e)}var uc=null;function gd(e){if(uc=null,e=Li(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return uc=e,null}function Av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case li:return 2;case Fn:return 8;case ki:case co:return 32;case ma:return 268435456;default:return 32}default:return 32}}var yd=!1,La=null,za=null,Ba=null,hl=new Map,fl=new Map,qa=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(e,n){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=hi(n),n!==null&&wv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function O1(e,n,s,l,h){switch(n){case"focusin":return La=dl(La,e,n,s,l,h),!0;case"dragenter":return za=dl(za,e,n,s,l,h),!0;case"mouseover":return Ba=dl(Ba,e,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return hl.set(d,dl(hl.get(d)||null,e,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,fl.set(d,dl(fl.get(d)||null,e,n,s,l,h)),!0}return!1}function Rv(e){var n=Li(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,Yl(e.priority,function(){if(s.tag===13){var l=Rn();l=ga(l);var h=ms(s,l);h!==null&&Cn(h,s,l),dd(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Hi=l,s.target.dispatchEvent(l),Hi=null}else return n=hi(s),n!==null&&wv(n),e.blockedOn=s,!1;n.shift()}return!0}function Cv(e,n,s){cc(e)&&s.delete(n)}function M1(){yd=!1,La!==null&&cc(La)&&(La=null),za!==null&&cc(za)&&(za=null),Ba!==null&&cc(Ba)&&(Ba=null),hl.forEach(Cv),fl.forEach(Cv)}function hc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,M1)))}var fc=null;function Dv(e){fc!==e&&(fc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(gd(l||s)===null)continue;break}var d=hi(s);d!==null&&(e.splice(n,3),n-=3,gf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function pl(e){function n(D){return hc(D,e)}La!==null&&hc(La,e),za!==null&&hc(za,e),Ba!==null&&hc(Ba,e),hl.forEach(n),fl.forEach(n);for(var s=0;s<qa.length;s++){var l=qa[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qa.length&&(s=qa[0],s.blockedOn===null);)Rv(s),s.blockedOn===null&&qa.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],b=h[Ce]||null;if(typeof d=="function")b||Dv(s);else if(b){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,b=d[Ce]||null)x=b.formAction;else if(gd(h)!==null)continue}else x=b.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),Dv(s)}}}function vd(e){this._internalRoot=e}dc.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Rn();Ev(s,l,e,n,null,null)},dc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ev(e.current,2,null,e,null,null),Yu(),n[Nn]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ya();e={blockedOn:null,target:e,priority:n};for(var s=0;s<qa.length&&n!==0&&n<qa[s].priority;s++);qa.splice(s,0,e),s===0&&Rv(e)}};var Nv=t.version;if(Nv!=="19.1.1")throw Error(r(527,Nv,"19.1.1"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var V1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Mt=pc.inject(V1),Ct=pc}catch{}}return gl.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",h=$g,d=Qg,b=Yg,x=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=bv(e,1,!1,null,null,s,l,h,d,b,x,null),e[Nn]=n.current,td(e),new vd(n)},gl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,h="",d=$g,b=Qg,x=Yg,D=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),n=bv(e,1,!0,n,s??null,l,h,d,b,x,D,F),n.context=xv(null),s=n.current,l=Rn(),l=ga(l),h=Aa(l),h.callback=null,Sa(s,h,l),s=l,n.current.lanes=s,Ui(n,s),Ai(n),e[Nn]=n.current,td(e),new dc(n)},gl.version="19.1.1",gl}var zv;function F1(){if(zv)return xd.exports;zv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),xd.exports=H1(),xd.exports}var G1=F1();const $1=ih(G1);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bv="popstate";function Q1(a={}){function t(r,o){let{pathname:u,search:f,hash:p}=r.location;return $d("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Cl(o)}return K1(t,i,null,a)}function pe(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function ni(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y1(){return Math.random().toString(36).substring(2,10)}function qv(a,t){return{usr:a.state,key:a.key,idx:t}}function $d(a,t,i=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?no(t):t,state:i,key:t&&t.key||r||Y1()}}function Cl({pathname:a="/",search:t="",hash:i=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function no(a){let t={};if(a){let i=a.indexOf("#");i>=0&&(t.hash=a.substring(i),a=a.substring(0,i));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function K1(a,t,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,p="POP",y=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function w(){p="POP";let j=_(),Z=j==null?null:j-m;m=j,y&&y({action:p,location:V.location,delta:Z})}function A(j,Z){p="PUSH";let W=$d(V.location,j,Z);m=_()+1;let J=qv(W,m),ut=V.createHref(W);try{f.pushState(J,"",ut)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(ut)}u&&y&&y({action:p,location:V.location,delta:1})}function N(j,Z){p="REPLACE";let W=$d(V.location,j,Z);m=_();let J=qv(W,m),ut=V.createHref(W);f.replaceState(J,"",ut),u&&y&&y({action:p,location:V.location,delta:0})}function L(j){return X1(j)}let V={get action(){return p},get location(){return a(o,f)},listen(j){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,w),y=j,()=>{o.removeEventListener(Bv,w),y=null}},createHref(j){return t(o,j)},createURL:L,encodeLocation(j){let Z=L(j);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:N,go(j){return f.go(j)}};return V}function X1(a,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),pe(i,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Cl(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function C0(a,t,i="/"){return Z1(a,t,i,!1)}function Z1(a,t,i,r){let o=typeof t=="string"?no(t):t,u=ca(o.pathname||"/",i);if(u==null)return null;let f=D0(a);W1(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let m=uT(u);p=oT(f[y],m,r)}return p}function D0(a,t=[],i=[],r="",o=!1){let u=(f,p,y=o,m)=>{let _={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&y)return;pe(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let w=la([r,_.relativePath]),A=i.concat(_);f.children&&f.children.length>0&&(pe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),D0(f.children,t,A,w,y)),!(f.path==null&&!f.index)&&t.push({path:w,score:rT(w,f.index),routesMeta:A})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let y of N0(f.path))u(f,p,!0,y)}),t}function N0(a){let t=a.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=N0(r.join("/")),p=[];return p.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&p.push(...f),p.map(y=>a.startsWith("/")&&y===""?"/":y)}function W1(a){a.sort((t,i)=>t.score!==i.score?i.score-t.score:sT(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var J1=/^:[\w-]+$/,tT=3,eT=2,nT=1,iT=10,aT=-2,Hv=a=>a==="*";function rT(a,t){let i=a.split("/"),r=i.length;return i.some(Hv)&&(r+=aT),t&&(r+=eT),i.filter(o=>!Hv(o)).reduce((o,u)=>o+(J1.test(u)?tT:u===""?nT:iT),r)}function sT(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function oT(a,t,i=!1){let{routesMeta:r}=a,o={},u="/",f=[];for(let p=0;p<r.length;++p){let y=r[p],m=p===r.length-1,_=u==="/"?t:t.slice(u.length)||"/",w=Pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},_),A=y.route;if(!w&&m&&i&&!r[r.length-1].route.index&&(w=Pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:la([u,w.pathname]),pathnameBase:dT(la([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=la([u,w.pathnameBase]))}return f}function Pc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,r]=lT(a.path,a.caseSensitive,a.end),o=t.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:w},A)=>{if(_==="*"){let L=p[A]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const N=p[A];return w&&!N?m[_]=void 0:m[_]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:a}}function lT(a,t=!1,i=!0){ni(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function uT(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ni(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function ca(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=a.charAt(i);return r&&r!=="/"?null:a.slice(i)||"/"}function cT(a,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof a=="string"?no(a):a;return{pathname:i?i.startsWith("/")?i:hT(i,t):t,search:pT(r),hash:mT(o)}}function hT(a,t){let i=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ad(a,t,i,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fT(a){return a.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function wp(a){let t=fT(a);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Ap(a,t,i,r=!1){let o;typeof a=="string"?o=no(a):(o={...a},pe(!o.pathname||!o.pathname.includes("?"),Ad("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),Ad("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),Ad("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=i;else{let w=t.length-1;if(!r&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}p=w>=0?t[w]:"/"}let y=cT(o,p),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(m||_)&&(y.pathname+="/"),y}var la=a=>a.join("/").replace(/\/\/+/g,"/"),dT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),pT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,mT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function gT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var I0=["POST","PUT","PATCH","DELETE"];new Set(I0);var yT=["GET",...I0];new Set(yT);var io=P.createContext(null);io.displayName="DataRouter";var ah=P.createContext(null);ah.displayName="DataRouterState";P.createContext(!1);var O0=P.createContext({isTransitioning:!1});O0.displayName="ViewTransition";var vT=P.createContext(new Map);vT.displayName="Fetchers";var _T=P.createContext(null);_T.displayName="Await";var ri=P.createContext(null);ri.displayName="Navigation";var Ul=P.createContext(null);Ul.displayName="Location";var Vi=P.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Sp=P.createContext(null);Sp.displayName="RouteError";function bT(a,{relative:t}={}){pe(ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=P.useContext(ri),{hash:o,pathname:u,search:f}=zl(a,{relative:t}),p=u;return i!=="/"&&(p=u==="/"?i:la([i,u])),r.createHref({pathname:p,search:f,hash:o})}function ao(){return P.useContext(Ul)!=null}function si(){return pe(ao(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Ul).location}var M0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V0(a){P.useContext(ri).static||P.useLayoutEffect(a)}function Ll(){let{isDataRoute:a}=P.useContext(Vi);return a?MT():xT()}function xT(){pe(ao(),"useNavigate() may be used only in the context of a <Router> component.");let a=P.useContext(io),{basename:t,navigator:i}=P.useContext(ri),{matches:r}=P.useContext(Vi),{pathname:o}=si(),u=JSON.stringify(wp(r)),f=P.useRef(!1);return V0(()=>{f.current=!0}),P.useCallback((y,m={})=>{if(ni(f.current,M0),!f.current)return;if(typeof y=="number"){i.go(y);return}let _=Ap(y,JSON.parse(u),o,m.relative==="path");a==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:la([t,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[t,i,u,o,a])}P.createContext(null);function zl(a,{relative:t}={}){let{matches:i}=P.useContext(Vi),{pathname:r}=si(),o=JSON.stringify(wp(i));return P.useMemo(()=>Ap(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function ET(a,t){return k0(a,t)}function k0(a,t,i,r,o){pe(ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(ri),{matches:f}=P.useContext(Vi),p=f[f.length-1],y=p?p.params:{},m=p?p.pathname:"/",_=p?p.pathnameBase:"/",w=p&&p.route;{let W=w&&w.path||"";j0(m,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=si(),N;if(t){let W=typeof t=="string"?no(t):t;pe(_==="/"||W.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${W.pathname}" was given in the \`location\` prop.`),N=W}else N=A;let L=N.pathname||"/",V=L;if(_!=="/"){let W=_.replace(/^\//,"").split("/");V="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let j=C0(a,{pathname:V});ni(w||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ni(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=RT(j&&j.map(W=>Object.assign({},W,{params:Object.assign({},y,W.params),pathname:la([_,u.encodeLocation?u.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?_:la([_,u.encodeLocation?u.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,i,r,o);return t&&Z?P.createElement(Ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},Z):Z}function TT(){let a=OT(),t=gT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),i?P.createElement("pre",{style:o},i):null,f)}var wT=P.createElement(TT,null),AT=class extends P.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?P.createElement(Vi.Provider,{value:this.props.routeContext},P.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ST({routeContext:a,match:t,children:i}){let r=P.useContext(io);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Vi.Provider,{value:a},i)}function RT(a,t=[],i=null,r=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i?.errors;if(f!=null){let m=u.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);pe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,y=-1;if(i)for(let m=0;m<u.length;m++){let _=u[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=m),_.route.id){let{loaderData:w,errors:A}=i,N=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||N){p=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((m,_,w)=>{let A,N=!1,L=null,V=null;i&&(A=f&&_.route.id?f[_.route.id]:void 0,L=_.route.errorElement||wT,p&&(y<0&&w===0?(j0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,V=null):y===w&&(N=!0,V=_.route.hydrateFallbackElement||null)));let j=t.concat(u.slice(0,w+1)),Z=()=>{let W;return A?W=L:N?W=V:_.route.Component?W=P.createElement(_.route.Component,null):_.route.element?W=_.route.element:W=m,P.createElement(ST,{match:_,routeContext:{outlet:m,matches:j,isDataRoute:i!=null},children:W})};return i&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?P.createElement(AT,{location:i.location,revalidation:i.revalidation,component:L,error:A,children:Z(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):Z()},null)}function Rp(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CT(a){let t=P.useContext(io);return pe(t,Rp(a)),t}function DT(a){let t=P.useContext(ah);return pe(t,Rp(a)),t}function NT(a){let t=P.useContext(Vi);return pe(t,Rp(a)),t}function Cp(a){let t=NT(a),i=t.matches[t.matches.length-1];return pe(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function IT(){return Cp("useRouteId")}function OT(){let a=P.useContext(Sp),t=DT("useRouteError"),i=Cp("useRouteError");return a!==void 0?a:t.errors?.[i]}function MT(){let{router:a}=CT("useNavigate"),t=Cp("useNavigate"),i=P.useRef(!1);return V0(()=>{i.current=!0}),P.useCallback(async(o,u={})=>{ni(i.current,M0),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var Fv={};function j0(a,t,i){!t&&!Fv[a]&&(Fv[a]=!0,ni(!1,i))}P.memo(VT);function VT({routes:a,future:t,state:i,unstable_onError:r}){return k0(a,void 0,i,r,t)}function kT({to:a,replace:t,state:i,relative:r}){pe(ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(ri);ni(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Vi),{pathname:f}=si(),p=Ll(),y=Ap(a,wp(u),f,r==="path"),m=JSON.stringify(y);return P.useEffect(()=>{p(JSON.parse(m),{replace:t,state:i,relative:r})},[p,m,r,t,i]),null}function Fa(a){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jT({basename:a="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:u=!1}){pe(!ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=no(i));let{pathname:y="/",search:m="",hash:_="",state:w=null,key:A="default"}=i,N=P.useMemo(()=>{let L=ca(y,f);return L==null?null:{location:{pathname:L,search:m,hash:_,state:w,key:A},navigationType:r}},[f,y,m,_,w,A,r]);return ni(N!=null,`<Router basename="${f}"> is not able to match the URL "${y}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:P.createElement(ri.Provider,{value:p},P.createElement(Ul.Provider,{children:t,value:N}))}function PT({children:a,location:t}){return ET(Qd(a),t)}function Qd(a,t=[]){let i=[];return P.Children.forEach(a,(r,o)=>{if(!P.isValidElement(r))return;let u=[...t,o];if(r.type===P.Fragment){i.push.apply(i,Qd(r.props.children,u));return}pe(r.type===Fa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Qd(r.props.children,u)),i.push(f)}),i}var Rc="get",Cc="application/x-www-form-urlencoded";function rh(a){return a!=null&&typeof a.tagName=="string"}function UT(a){return rh(a)&&a.tagName.toLowerCase()==="button"}function LT(a){return rh(a)&&a.tagName.toLowerCase()==="form"}function zT(a){return rh(a)&&a.tagName.toLowerCase()==="input"}function BT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function qT(a,t){return a.button===0&&(!t||t==="_self")&&!BT(a)}var mc=null;function HT(){if(mc===null)try{new FormData(document.createElement("form"),0),mc=!1}catch{mc=!0}return mc}var FT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sd(a){return a!=null&&!FT.has(a)?(ni(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):a}function GT(a,t){let i,r,o,u,f;if(LT(a)){let p=a.getAttribute("action");r=p?ca(p,t):null,i=a.getAttribute("method")||Rc,o=Sd(a.getAttribute("enctype"))||Cc,u=new FormData(a)}else if(UT(a)||zT(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||p.getAttribute("action");if(r=y?ca(y,t):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||Rc,o=Sd(a.getAttribute("formenctype"))||Sd(p.getAttribute("enctype"))||Cc,u=new FormData(p,a),!HT()){let{name:m,type:_,value:w}=a;if(_==="image"){let A=m?`${m}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else m&&u.append(m,w)}}else{if(rh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Rc,r=null,o=Cc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dp(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function $T(a,t,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&ca(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function QT(a,t){if(a.id in t)return t[a.id];try{let i=await import(a.module);return t[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function KT(a,t,i){let r=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await QT(u,i);return f.links?f.links():[]}return[]}));return JT(r.flat(1).filter(YT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gv(a,t,i,r,o,u){let f=(y,m)=>i[m]?y.route.id!==i[m].route.id:!0,p=(y,m)=>i[m].pathname!==y.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,m)=>f(y,m)||p(y,m)):u==="data"?t.filter((y,m)=>{let _=r.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(f(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function XT(a,t,{includeHydrateFallback:i}={}){return ZT(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ZT(a){return[...new Set(a)]}function WT(a){let t={},i=Object.keys(a).sort();for(let r of i)t[r]=a[r];return t}function JT(a,t){let i=new Set;return new Set(t),a.reduce((r,o)=>{let u=JSON.stringify(WT(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function P0(){let a=P.useContext(io);return Dp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function tw(){let a=P.useContext(ah);return Dp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Np=P.createContext(void 0);Np.displayName="FrameworkContext";function U0(){let a=P.useContext(Np);return Dp(a,"You must render this element inside a <HydratedRouter> element"),a}function ew(a,t){let i=P.useContext(Np),[r,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:_,onTouchStart:w}=t,A=P.useRef(null);P.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let V=Z=>{Z.forEach(W=>{f(W.isIntersecting)})},j=new IntersectionObserver(V,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[a]),P.useEffect(()=>{if(r){let V=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(V)}}},[r]);let N=()=>{o(!0)},L=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,A,{}]:[u,A,{onFocus:yl(p,N),onBlur:yl(y,L),onMouseEnter:yl(m,N),onMouseLeave:yl(_,L),onTouchStart:yl(w,N)}]:[!1,A,{}]}function yl(a,t){return i=>{a&&a(i),i.defaultPrevented||t(i)}}function nw({page:a,...t}){let{router:i}=P0(),r=P.useMemo(()=>C0(i.routes,a,i.basename),[i.routes,a,i.basename]);return r?P.createElement(aw,{page:a,matches:r,...t}):null}function iw(a){let{manifest:t,routeModules:i}=U0(),[r,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return KT(a,t,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,t,i]),r}function aw({page:a,matches:t,...i}){let r=si(),{manifest:o,routeModules:u}=U0(),{basename:f}=P0(),{loaderData:p,matches:y}=tw(),m=P.useMemo(()=>Gv(a,t,y,o,r,"data"),[a,t,y,o,r]),_=P.useMemo(()=>Gv(a,t,y,o,r,"assets"),[a,t,y,o,r]),w=P.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let L=new Set,V=!1;if(t.forEach(Z=>{let W=o.routes[Z.route.id];!W||!W.hasLoader||(!m.some(J=>J.route.id===Z.route.id)&&Z.route.id in p&&u[Z.route.id]?.shouldRevalidate||W.hasClientLoader?V=!0:L.add(Z.route.id))}),L.size===0)return[];let j=$T(a,f,"data");return V&&L.size>0&&j.searchParams.set("_routes",t.filter(Z=>L.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[j.pathname+j.search]},[f,p,r,o,m,t,a,u]),A=P.useMemo(()=>XT(_,o),[_,o]),N=iw(_);return P.createElement(P.Fragment,null,w.map(L=>P.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),A.map(L=>P.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),N.map(({key:L,link:V})=>P.createElement("link",{key:L,nonce:i.nonce,...V})))}function rw(...a){return t=>{a.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var L0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L0&&(window.__reactRouterVersion="7.8.2")}catch{}function sw({basename:a,children:t,window:i}){let r=P.useRef();r.current==null&&(r.current=Q1({window:i,v5Compat:!0}));let o=r.current,[u,f]=P.useState({action:o.action,location:o.location}),p=P.useCallback(y=>{P.startTransition(()=>f(y))},[f]);return P.useLayoutEffect(()=>o.listen(p),[o,p]),P.createElement(jT,{basename:a,children:t,location:u.location,navigationType:u.action,navigator:o})}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B0=P.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:p,target:y,to:m,preventScrollReset:_,viewTransition:w,...A},N){let{basename:L}=P.useContext(ri),V=typeof m=="string"&&z0.test(m),j,Z=!1;if(typeof m=="string"&&V&&(j=m,L0))try{let C=new URL(window.location.href),I=m.startsWith("//")?new URL(C.protocol+m):new URL(m),U=ca(I.pathname,L);I.origin===C.origin&&U!=null?m=U+I.search+I.hash:Z=!0}catch{ni(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=bT(m,{relative:o}),[J,ut,ht]=ew(r,A),_t=cw(m,{replace:f,state:p,target:y,preventScrollReset:_,relative:o,viewTransition:w});function O(C){t&&t(C),C.defaultPrevented||_t(C)}let R=P.createElement("a",{...A,...ht,href:j||W,onClick:Z||u?t:O,ref:rw(N,ut),target:y,"data-discover":!V&&i==="render"?"true":void 0});return J&&!V?P.createElement(P.Fragment,null,R,P.createElement(nw,{page:W})):R});B0.displayName="Link";var ow=P.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:p,children:y,...m},_){let w=zl(f,{relative:m.relative}),A=si(),N=P.useContext(ah),{navigator:L,basename:V}=P.useContext(ri),j=N!=null&&mw(w)&&p===!0,Z=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,W=A.pathname,J=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(W=W.toLowerCase(),J=J?J.toLowerCase():null,Z=Z.toLowerCase()),J&&V&&(J=ca(J,V)||J);const ut=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ht=W===Z||!o&&W.startsWith(Z)&&W.charAt(ut)==="/",_t=J!=null&&(J===Z||!o&&J.startsWith(Z)&&J.charAt(Z.length)==="/"),O={isActive:ht,isPending:_t,isTransitioning:j},R=ht?t:void 0,C;typeof r=="function"?C=r(O):C=[r,ht?"active":null,_t?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return P.createElement(B0,{...m,"aria-current":R,className:C,ref:_,style:I,to:f,viewTransition:p},typeof y=="function"?y(O):y)});ow.displayName="NavLink";var lw=P.forwardRef(({discover:a="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:u,method:f=Rc,action:p,onSubmit:y,relative:m,preventScrollReset:_,viewTransition:w,...A},N)=>{let L=dw(),V=pw(p,{relative:m}),j=f.toLowerCase()==="get"?"get":"post",Z=typeof p=="string"&&z0.test(p),W=J=>{if(y&&y(J),J.defaultPrevented)return;J.preventDefault();let ut=J.nativeEvent.submitter,ht=ut?.getAttribute("formmethod")||f;L(ut||J.currentTarget,{fetcherKey:t,method:ht,navigate:i,replace:o,state:u,relative:m,preventScrollReset:_,viewTransition:w})};return P.createElement("form",{ref:N,method:j,action:V,onSubmit:r?y:W,...A,"data-discover":!Z&&a==="render"?"true":void 0})});lw.displayName="Form";function uw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(a){let t=P.useContext(io);return pe(t,uw(a)),t}function cw(a,{target:t,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Ll(),y=si(),m=zl(a,{relative:u});return P.useCallback(_=>{if(qT(_,t)){_.preventDefault();let w=i!==void 0?i:Cl(y)===Cl(m);p(a,{replace:w,state:r,preventScrollReset:o,relative:u,viewTransition:f})}},[y,p,m,i,r,t,a,o,u,f])}var hw=0,fw=()=>`__${String(++hw)}__`;function dw(){let{router:a}=q0("useSubmit"),{basename:t}=P.useContext(ri),i=IT();return P.useCallback(async(r,o={})=>{let{action:u,method:f,encType:p,formData:y,body:m}=GT(r,t);if(o.navigate===!1){let _=o.fetcherKey||fw();await a.fetch(_,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,t,i])}function pw(a,{relative:t}={}){let{basename:i}=P.useContext(ri),r=P.useContext(Vi);pe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...zl(a||".",{relative:t})},f=si();if(a==null){u.search=f.search;let p=new URLSearchParams(u.search),y=p.getAll("index");if(y.some(_=>_==="")){p.delete("index"),y.filter(w=>w).forEach(w=>p.append("index",w));let _=p.toString();u.search=_?`?${_}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:la([i,u.pathname])),Cl(u)}function mw(a,{relative:t}={}){let i=P.useContext(O0);pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q0("useViewTransitionState"),o=zl(a,{relative:t});if(!i.isTransitioning)return!1;let u=ca(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=ca(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Pc(o.pathname,f)!=null||Pc(o.pathname,u)!=null}var Rd={exports:{}},Cd,$v;function gw(){if($v)return Cd;$v=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cd=a,Cd}var Dd,Qv;function yw(){if(Qv)return Dd;Qv=1;var a=gw();function t(){}function i(){}return i.resetWarningCache=t,Dd=function(){function r(f,p,y,m,_,w){if(w!==a){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}r.isRequired=r;function o(){return r}var u={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:t};return u.PropTypes=u,u},Dd}var Yv;function vw(){return Yv||(Yv=1,Rd.exports=yw()()),Rd.exports}var _w=vw();const oe=ih(_w);function Gr(a,t,i,r){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(_){try{m(r.next(_))}catch(w){f(w)}}function y(_){try{m(r.throw(_))}catch(w){f(w)}}function m(_){_.done?u(_.value):o(_.value).then(p,y)}m((r=r.apply(a,t||[])).next())})}const bw=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ys(a,t,i){const r=xw(a),{webkitRelativePath:o}=a,u=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${a.name}`;return typeof r.path!="string"&&Kv(r,"path",u),Kv(r,"relativePath",u),r}function xw(a){const{name:t}=a;if(t&&t.lastIndexOf(".")!==-1&&!a.type){const r=t.split(".").pop().toLowerCase(),o=bw.get(r);o&&Object.defineProperty(a,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return a}function Kv(a,t,i){Object.defineProperty(a,t,{value:i,writable:!1,configurable:!1,enumerable:!0})}const Ew=[".DS_Store","Thumbs.db"];function Tw(a){return Gr(this,void 0,void 0,function*(){return Uc(a)&&ww(a.dataTransfer)?Cw(a.dataTransfer,a.type):Aw(a)?Sw(a):Array.isArray(a)&&a.every(t=>"getFile"in t&&typeof t.getFile=="function")?Rw(a):[]})}function ww(a){return Uc(a)}function Aw(a){return Uc(a)&&Uc(a.target)}function Uc(a){return typeof a=="object"&&a!==null}function Sw(a){return Yd(a.target.files).map(t=>Ys(t))}function Rw(a){return Gr(this,void 0,void 0,function*(){return(yield Promise.all(a.map(i=>i.getFile()))).map(i=>Ys(i))})}function Cw(a,t){return Gr(this,void 0,void 0,function*(){if(a.items){const i=Yd(a.items).filter(o=>o.kind==="file");if(t!=="drop")return i;const r=yield Promise.all(i.map(Dw));return Xv(H0(r))}return Xv(Yd(a.files).map(i=>Ys(i)))})}function Xv(a){return a.filter(t=>Ew.indexOf(t.name)===-1)}function Yd(a){if(a===null)return[];const t=[];for(let i=0;i<a.length;i++){const r=a[i];t.push(r)}return t}function Dw(a){if(typeof a.webkitGetAsEntry!="function")return Zv(a);const t=a.webkitGetAsEntry();return t&&t.isDirectory?F0(t):Zv(a,t)}function H0(a){return a.reduce((t,i)=>[...t,...Array.isArray(i)?H0(i):[i]],[])}function Zv(a,t){return Gr(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof a.getAsFileSystemHandle=="function"){const u=yield a.getAsFileSystemHandle();if(u===null)throw new Error(`${a} is not a File`);if(u!==void 0){const f=yield u.getFile();return f.handle=u,Ys(f)}}const r=a.getAsFile();if(!r)throw new Error(`${a} is not a File`);return Ys(r,(i=t?.fullPath)!==null&&i!==void 0?i:void 0)})}function Nw(a){return Gr(this,void 0,void 0,function*(){return a.isDirectory?F0(a):Iw(a)})}function F0(a){const t=a.createReader();return new Promise((i,r)=>{const o=[];function u(){t.readEntries(f=>Gr(this,void 0,void 0,function*(){if(f.length){const p=Promise.all(f.map(Nw));o.push(p),u()}else try{const p=yield Promise.all(o);i(p)}catch(p){r(p)}}),f=>{r(f)})}u()})}function Iw(a){return Gr(this,void 0,void 0,function*(){return new Promise((t,i)=>{a.file(r=>{const o=Ys(r,a.fullPath);t(o)},r=>{i(r)})})})}var gc={},Wv;function Ow(){return Wv||(Wv=1,gc.__esModule=!0,gc.default=function(a,t){if(a&&t){var i=Array.isArray(t)?t:t.split(",");if(i.length===0)return!0;var r=a.name||"",o=(a.type||"").toLowerCase(),u=o.replace(/\/.*$/,"");return i.some(function(f){var p=f.trim().toLowerCase();return p.charAt(0)==="."?r.toLowerCase().endsWith(p):p.endsWith("/*")?u===p.replace(/\/.*$/,""):o===p})}return!0}),gc}var Mw=Ow();const Nd=ih(Mw);function Jv(a){return jw(a)||kw(a)||$0(a)||Vw()}function Vw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kw(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function jw(a){if(Array.isArray(a))return Kd(a)}function t_(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function e_(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(i),!0).forEach(function(r){G0(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):t_(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function G0(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function Dl(a,t){return Lw(a)||Uw(a,t)||$0(a,t)||Pw()}function Pw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $0(a,t){if(a){if(typeof a=="string")return Kd(a,t);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kd(a,t)}}function Kd(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=a[i];return r}function Uw(a,t){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,u=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(t&&r.length===t));o=!0);}catch(y){u=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(u)throw p}}return r}}function Lw(a){if(Array.isArray(a))return a}var zw=typeof Nd=="function"?Nd:Nd.default,Bw="file-invalid-type",qw="file-too-large",Hw="file-too-small",Fw="too-many-files",Gw=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=t.split(","),r=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:Bw,message:"File type must be ".concat(r)}},n_=function(t){return{code:qw,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},i_=function(t){return{code:Hw,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},$w={code:Fw,message:"Too many files"};function Q0(a,t){var i=a.type==="application/x-moz-file"||zw(a,t);return[i,i?null:Gw(t)]}function Y0(a,t,i){if(Lr(a.size))if(Lr(t)&&Lr(i)){if(a.size>i)return[!1,n_(i)];if(a.size<t)return[!1,i_(t)]}else{if(Lr(t)&&a.size<t)return[!1,i_(t)];if(Lr(i)&&a.size>i)return[!1,n_(i)]}return[!0,null]}function Lr(a){return a!=null}function Qw(a){var t=a.files,i=a.accept,r=a.minSize,o=a.maxSize,u=a.multiple,f=a.maxFiles,p=a.validator;return!u&&t.length>1||u&&f>=1&&t.length>f?!1:t.every(function(y){var m=Q0(y,i),_=Dl(m,1),w=_[0],A=Y0(y,r,o),N=Dl(A,1),L=N[0],V=p?p(y):null;return w&&L&&!V})}function Lc(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function yc(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!a.target&&!!a.target.files}function a_(a){a.preventDefault()}function Yw(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function Kw(a){return a.indexOf("Edge/")!==-1}function Xw(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Yw(a)||Kw(a)}function Si(){for(var a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];return function(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),f=1;f<o;f++)u[f-1]=arguments[f];return t.some(function(p){return!Lc(r)&&p&&p.apply(void 0,[r].concat(u)),Lc(r)})}}function Zw(){return"showOpenFilePicker"in window}function Ww(a){if(Lr(a)){var t=Object.entries(a).filter(function(i){var r=Dl(i,2),o=r[0],u=r[1],f=!0;return K0(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),f=!1),(!Array.isArray(u)||!u.every(X0))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),f=!1),f}).reduce(function(i,r){var o=Dl(r,2),u=o[0],f=o[1];return e_(e_({},i),{},G0({},u,f))},{});return[{description:"Files",accept:t}]}return a}function Jw(a){if(Lr(a))return Object.entries(a).reduce(function(t,i){var r=Dl(i,2),o=r[0],u=r[1];return[].concat(Jv(t),[o],Jv(u))},[]).filter(function(t){return K0(t)||X0(t)}).join(",")}function tA(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function eA(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function K0(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||a==="application/*"||/\w+\/[-+.\w]+/g.test(a)}function X0(a){return/^.*\.[\w]+$/.test(a)}var nA=["children"],iA=["open"],aA=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],rA=["refKey","onChange","onClick"];function sA(a){return uA(a)||lA(a)||Z0(a)||oA()}function oA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lA(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function uA(a){if(Array.isArray(a))return Xd(a)}function Id(a,t){return fA(a)||hA(a,t)||Z0(a,t)||cA()}function cA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z0(a,t){if(a){if(typeof a=="string")return Xd(a,t);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xd(a,t)}}function Xd(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=a[i];return r}function hA(a,t){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,u=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(t&&r.length===t));o=!0);}catch(y){u=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(u)throw p}}return r}}function fA(a){if(Array.isArray(a))return a}function r_(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function ge(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(i),!0).forEach(function(r){Zd(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):r_(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function Zd(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function zc(a,t){if(a==null)return{};var i=dA(a,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(i[r]=a[r])}return i}function dA(a,t){if(a==null)return{};var i={},r=Object.keys(a),o,u;for(u=0;u<r.length;u++)o=r[u],!(t.indexOf(o)>=0)&&(i[o]=a[o]);return i}var Ip=P.forwardRef(function(a,t){var i=a.children,r=zc(a,nA),o=J0(r),u=o.open,f=zc(o,iA);return P.useImperativeHandle(t,function(){return{open:u}},[u]),R0.createElement(P.Fragment,null,i(ge(ge({},f),{},{open:u})))});Ip.displayName="Dropzone";var W0={disabled:!1,getFilesFromEvent:Tw,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ip.defaultProps=W0;Ip.propTypes={children:oe.func,accept:oe.objectOf(oe.arrayOf(oe.string)),multiple:oe.bool,preventDropOnDocument:oe.bool,noClick:oe.bool,noKeyboard:oe.bool,noDrag:oe.bool,noDragEventsBubbling:oe.bool,minSize:oe.number,maxSize:oe.number,maxFiles:oe.number,disabled:oe.bool,getFilesFromEvent:oe.func,onFileDialogCancel:oe.func,onFileDialogOpen:oe.func,useFsAccessApi:oe.bool,autoFocus:oe.bool,onDragEnter:oe.func,onDragLeave:oe.func,onDragOver:oe.func,onDrop:oe.func,onDropAccepted:oe.func,onDropRejected:oe.func,onError:oe.func,validator:oe.func};var Wd={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function J0(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ge(ge({},W0),a),i=t.accept,r=t.disabled,o=t.getFilesFromEvent,u=t.maxSize,f=t.minSize,p=t.multiple,y=t.maxFiles,m=t.onDragEnter,_=t.onDragLeave,w=t.onDragOver,A=t.onDrop,N=t.onDropAccepted,L=t.onDropRejected,V=t.onFileDialogCancel,j=t.onFileDialogOpen,Z=t.useFsAccessApi,W=t.autoFocus,J=t.preventDropOnDocument,ut=t.noClick,ht=t.noKeyboard,_t=t.noDrag,O=t.noDragEventsBubbling,R=t.onError,C=t.validator,I=P.useMemo(function(){return Jw(i)},[i]),U=P.useMemo(function(){return Ww(i)},[i]),k=P.useMemo(function(){return typeof j=="function"?j:s_},[j]),S=P.useMemo(function(){return typeof V=="function"?V:s_},[V]),yt=P.useRef(null),ct=P.useRef(null),K=P.useReducer(pA,Wd),st=Id(K,2),dt=st[0],At=st[1],M=dt.isFocused,nt=dt.isFileDialogActive,Y=P.useRef(typeof window<"u"&&window.isSecureContext&&Z&&Zw()),$=function(){!Y.current&&nt&&setTimeout(function(){if(ct.current){var Et=ct.current.files;Et.length||(At({type:"closeDialog"}),S())}},300)};P.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[ct,nt,S,Y]);var ot=P.useRef([]),Tt=function(Et){yt.current&&yt.current.contains(Et.target)||(Et.preventDefault(),ot.current=[])};P.useEffect(function(){return J&&(document.addEventListener("dragover",a_,!1),document.addEventListener("drop",Tt,!1)),function(){J&&(document.removeEventListener("dragover",a_),document.removeEventListener("drop",Tt))}},[yt,J]),P.useEffect(function(){return!r&&W&&yt.current&&yt.current.focus(),function(){}},[yt,W,r]);var pt=P.useCallback(function(ft){R?R(ft):console.error(ft)},[R]),te=P.useCallback(function(ft){ft.preventDefault(),ft.persist(),Fn(ft),ot.current=[].concat(sA(ot.current),[ft.target]),yc(ft)&&Promise.resolve(o(ft)).then(function(Et){if(!(Lc(ft)&&!O)){var Mt=Et.length,Ct=Mt>0&&Qw({files:Et,accept:I,minSize:f,maxSize:u,multiple:p,maxFiles:y,validator:C}),re=Mt>0&&!Ct;At({isDragAccept:Ct,isDragReject:re,isDragActive:!0,type:"setDraggedFiles"}),m&&m(ft)}}).catch(function(Et){return pt(Et)})},[o,m,pt,O,I,f,u,p,y,C]),Nt=P.useCallback(function(ft){ft.preventDefault(),ft.persist(),Fn(ft);var Et=yc(ft);if(Et&&ft.dataTransfer)try{ft.dataTransfer.dropEffect="copy"}catch{}return Et&&w&&w(ft),!1},[w,O]),Bt=P.useCallback(function(ft){ft.preventDefault(),ft.persist(),Fn(ft);var Et=ot.current.filter(function(Ct){return yt.current&&yt.current.contains(Ct)}),Mt=Et.indexOf(ft.target);Mt!==-1&&Et.splice(Mt,1),ot.current=Et,!(Et.length>0)&&(At({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),yc(ft)&&_&&_(ft))},[yt,_,O]),Kt=P.useCallback(function(ft,Et){var Mt=[],Ct=[];ft.forEach(function(re){var _e=Q0(re,I),Gn=Id(_e,2),or=Gn[0],$n=Gn[1],Qn=Y0(re,f,u),Dn=Id(Qn,2),un=Dn[0],ui=Dn[1],Yn=C?C(re):null;if(or&&un&&!Yn)Mt.push(re);else{var ji=[$n,ui];Yn&&(ji=ji.concat(Yn)),Ct.push({file:re,errors:ji.filter(function(lr){return lr})})}}),(!p&&Mt.length>1||p&&y>=1&&Mt.length>y)&&(Mt.forEach(function(re){Ct.push({file:re,errors:[$w]})}),Mt.splice(0)),At({acceptedFiles:Mt,fileRejections:Ct,isDragReject:Ct.length>0,type:"setFiles"}),A&&A(Mt,Ct,Et),Ct.length>0&&L&&L(Ct,Et),Mt.length>0&&N&&N(Mt,Et)},[At,p,I,f,u,y,A,N,L,C]),ce=P.useCallback(function(ft){ft.preventDefault(),ft.persist(),Fn(ft),ot.current=[],yc(ft)&&Promise.resolve(o(ft)).then(function(Et){Lc(ft)&&!O||Kt(Et,ft)}).catch(function(Et){return pt(Et)}),At({type:"reset"})},[o,Kt,pt,O]),ve=P.useCallback(function(){if(Y.current){At({type:"openDialog"}),k();var ft={multiple:p,types:U};window.showOpenFilePicker(ft).then(function(Et){return o(Et)}).then(function(Et){Kt(Et,null),At({type:"closeDialog"})}).catch(function(Et){tA(Et)?(S(Et),At({type:"closeDialog"})):eA(Et)?(Y.current=!1,ct.current?(ct.current.value=null,ct.current.click()):pt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):pt(Et)});return}ct.current&&(At({type:"openDialog"}),k(),ct.current.value=null,ct.current.click())},[At,k,S,Z,Kt,pt,U,p]),gn=P.useCallback(function(ft){!yt.current||!yt.current.isEqualNode(ft.target)||(ft.key===" "||ft.key==="Enter"||ft.keyCode===32||ft.keyCode===13)&&(ft.preventDefault(),ve())},[yt,ve]),oi=P.useCallback(function(){At({type:"focus"})},[]),pa=P.useCallback(function(){At({type:"blur"})},[]),rr=P.useCallback(function(){ut||(Xw()?setTimeout(ve,0):ve())},[ut,ve]),ke=function(Et){return r?null:Et},sr=function(Et){return ht?null:ke(Et)},li=function(Et){return _t?null:ke(Et)},Fn=function(Et){O&&Et.stopPropagation()},ki=P.useMemo(function(){return function(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Et=ft.refKey,Mt=Et===void 0?"ref":Et,Ct=ft.role,re=ft.onKeyDown,_e=ft.onFocus,Gn=ft.onBlur,or=ft.onClick,$n=ft.onDragEnter,Qn=ft.onDragOver,Dn=ft.onDragLeave,un=ft.onDrop,ui=zc(ft,aA);return ge(ge(Zd({onKeyDown:sr(Si(re,gn)),onFocus:sr(Si(_e,oi)),onBlur:sr(Si(Gn,pa)),onClick:ke(Si(or,rr)),onDragEnter:li(Si($n,te)),onDragOver:li(Si(Qn,Nt)),onDragLeave:li(Si(Dn,Bt)),onDrop:li(Si(un,ce)),role:typeof Ct=="string"&&Ct!==""?Ct:"presentation"},Mt,yt),!r&&!ht?{tabIndex:0}:{}),ui)}},[yt,gn,oi,pa,rr,te,Nt,Bt,ce,ht,_t,r]),co=P.useCallback(function(ft){ft.stopPropagation()},[]),ma=P.useMemo(function(){return function(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Et=ft.refKey,Mt=Et===void 0?"ref":Et,Ct=ft.onChange,re=ft.onClick,_e=zc(ft,rA),Gn=Zd({accept:I,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ke(Si(Ct,ce)),onClick:ke(Si(re,co)),tabIndex:-1},Mt,ct);return ge(ge({},Gn),_e)}},[ct,i,p,ce,r]);return ge(ge({},dt),{},{isFocused:M&&!r,getRootProps:ki,getInputProps:ma,rootRef:yt,inputRef:ct,open:ke(ve)})}function pA(a,t){switch(t.type){case"focus":return ge(ge({},a),{},{isFocused:!0});case"blur":return ge(ge({},a),{},{isFocused:!1});case"openDialog":return ge(ge({},Wd),{},{isFileDialogActive:!0});case"closeDialog":return ge(ge({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return ge(ge({},a),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ge(ge({},a),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return ge({},Wd);default:return a}}function s_(){}const mA=({onFilesAdded:a})=>{const t=P.useCallback(u=>{const f=u.map((p,y)=>({id:crypto.randomUUID(),file:p,preview:URL.createObjectURL(p),originalName:p.name,number:y+1}));a(f)},[a]),{getRootProps:i,getInputProps:r,isDragActive:o}=J0({onDrop:t,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp"]},multiple:!0});return E.jsxs("div",{...i(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[E.jsx("input",{...r()}),E.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[E.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-lg font-medium text-gray-700",children:o?"写真をドロップしてください":"写真をドラッグ&ドロップ"}),E.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["または",E.jsx("span",{className:"text-blue-500 underline",children:"ファイルを選択"})]})]})]})]})},gA=({photos:a,onRemove:t})=>a.length===0?null:E.jsxs("div",{className:"mt-6",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["プレビュー (",a.length,"枚)"]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(i=>E.jsx("div",{className:"relative group",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:i.preview,alt:i.originalName,className:"w-full h-32 object-cover"}),E.jsx("button",{onClick:()=>t(i.id),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"×"}),E.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:i.number})]}),E.jsx("div",{className:"p-3",children:E.jsx("p",{className:"text-xs text-gray-600 truncate",title:i.originalName,children:i.originalName})})]})},i.id))})]}),yA=({metaInfo:a,onChange:t,errors:i})=>{const r=(o,u)=>{t({...a,[o]:u})};return E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:"撮影情報"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"カメラマン名 *"}),E.jsx("input",{type:"text",value:a.photographerName,onChange:o=>r("photographerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.photographerName?"border-red-500":"border-gray-300"}`,placeholder:"カメラマン名を入力"}),i.photographerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.photographerName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日 *"}),E.jsx("input",{type:"date",value:a.shootingDate,onChange:o=>r("shootingDate",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.shootingDate?"border-red-500":"border-gray-300"}`}),i.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号 *"}),E.jsx("input",{type:"number",value:a.receptionNumber,onChange:o=>r("receptionNumber",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:"受付番号を入力"}),i.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ） *"}),E.jsx("input",{type:"text",value:a.customerName,onChange:o=>r("customerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.customerName?"border-red-500":"border-gray-300"}`,placeholder:"お客様氏名（苗字のみ）を入力"}),i.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.customerName})]})]})]})},vA=()=>{};var o_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},_A=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],f=a[i++],p=a[i++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=a[i++],f=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,p=f?a[o+1]:0,y=o+2<a.length,m=y?a[o+2]:0,_=u>>2,w=(u&3)<<4|p>>4;let A=(p&15)<<2|m>>6,N=m&63;y||(N=64,f||(A=64)),r.push(i[_],i[w],i[A],i[N])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(tb(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):_A(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const m=o<a.length?i[a.charAt(o)]:64;++o;const w=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||p==null||m==null||w==null)throw new bA;const A=u<<2|p>>4;if(r.push(A),m!==64){const N=p<<4&240|m>>2;if(r.push(N),w!==64){const L=m<<6&192|w;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xA=function(a){const t=tb(a);return eb.encodeByteArray(t,!0)},Bc=function(a){return xA(a).replace(/\./g,"")},EA=function(a){try{return eb.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=()=>TA().__FIREBASE_DEFAULTS__,AA=()=>{if(typeof process>"u"||typeof o_>"u")return;const a=o_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},SA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&EA(a[1]);return t&&JSON.parse(t)},Op=()=>{try{return vA()||wA()||AA()||SA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},RA=a=>Op()?.emulatorHosts?.[a],nb=a=>{const t=RA(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},ib=()=>Op()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ab(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(f)),""].join(".")}const El={};function DA(){const a={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?a.emulator.push(t):a.prod.push(t);return a}function NA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let l_=!1;function sb(a,t){if(typeof window>"u"||typeof document>"u"||!Bl(window.location.host)||El[a]===t||El[a]||l_)return;El[a]=t;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=DA().prod.length>0;function f(){const A=document.getElementById(r);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function m(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{l_=!0,f()},A}function _(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=NA(r),N=i("text"),L=document.getElementById(N)||document.createElement("span"),V=i("learnmore"),j=document.getElementById(V)||document.createElement("a"),Z=i("preprendIcon"),W=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;p(J),_(j,V);const ut=m();y(W,Z),J.append(W,L,j,ut),document.body.appendChild(J)}u?(L.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OA(){const a=Op()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MA(){return!OA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function kA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="FirebaseError";class $r extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=jA,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ob.prototype.create)}}class ob{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?PA(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new $r(o,p,r)}}function PA(a,t){return a.replace(UA,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const UA=/\{\$([^}]+)}/g;function qc(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=a[o],f=t[o];if(u_(u)&&u_(f)){if(!qc(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function u_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(a){return a&&a._delegate?a._delegate:a}class Ks{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new CA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BA(t))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ur){return this.instances.has(t)}getOptions(t=Ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ur){return this.component?this.component.multipleInstances?t:Ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zA(a){return a===Ur?void 0:a}function BA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new LA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})($t||($t={}));const HA={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},FA=$t.INFO,GA={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},$A=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=GA[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lb{constructor(t){this.name=t,this._logLevel=FA,this._logHandler=$A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const QA=(a,t)=>t.some(i=>a instanceof i);let c_,h_;function YA(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KA(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ub=new WeakMap,Jd=new WeakMap,cb=new WeakMap,Od=new WeakMap,Mp=new WeakMap;function XA(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(Qa(a.result)),o()},f=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&ub.set(i,a)}).catch(()=>{}),Mp.set(t,a),t}function ZA(a){if(Jd.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Jd.set(a,t)}let tp={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Jd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||cb.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qa(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function WA(a){tp=a(tp)}function JA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Md(this),t,...i);return cb.set(r,t.sort?t.sort():[t]),Qa(r)}:KA().includes(a)?function(...t){return a.apply(Md(this),t),Qa(ub.get(this))}:function(...t){return Qa(a.apply(Md(this),t))}}function tS(a){return typeof a=="function"?JA(a):(a instanceof IDBTransaction&&ZA(a),QA(a,YA())?new Proxy(a,tp):a)}function Qa(a){if(a instanceof IDBRequest)return XA(a);if(Od.has(a))return Od.get(a);const t=tS(a);return t!==a&&(Od.set(a,t),Mp.set(t,a)),t}const Md=a=>Mp.get(a);function eS(a,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(a,t),p=Qa(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Qa(f.result),y.oldVersion,y.newVersion,Qa(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const nS=["get","getKey","getAll","getAllKeys","count"],iS=["put","add","delete","clear"],Vd=new Map;function f_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=iS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||nS.includes(i)))return;const u=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let m=y.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),o&&y.done]))[0]};return Vd.set(t,u),u}WA(a=>({...a,get:(t,i,r)=>f_(t,i)||a.get(t,i,r),has:(t,i)=>!!f_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function rS(a){return a.getComponent()?.type==="VERSION"}const ep="@firebase/app",d_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new lb("@firebase/app"),sS="@firebase/app-compat",oS="@firebase/analytics-compat",lS="@firebase/analytics",uS="@firebase/app-check-compat",cS="@firebase/app-check",hS="@firebase/auth",fS="@firebase/auth-compat",dS="@firebase/database",pS="@firebase/data-connect",mS="@firebase/database-compat",gS="@firebase/functions",yS="@firebase/functions-compat",vS="@firebase/installations",_S="@firebase/installations-compat",bS="@firebase/messaging",xS="@firebase/messaging-compat",ES="@firebase/performance",TS="@firebase/performance-compat",wS="@firebase/remote-config",AS="@firebase/remote-config-compat",SS="@firebase/storage",RS="@firebase/storage-compat",CS="@firebase/firestore",DS="@firebase/ai",NS="@firebase/firestore-compat",IS="firebase",OS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",MS={[ep]:"fire-core",[sS]:"fire-core-compat",[lS]:"fire-analytics",[oS]:"fire-analytics-compat",[cS]:"fire-app-check",[uS]:"fire-app-check-compat",[hS]:"fire-auth",[fS]:"fire-auth-compat",[dS]:"fire-rtdb",[pS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[gS]:"fire-fn",[yS]:"fire-fn-compat",[vS]:"fire-iid",[_S]:"fire-iid-compat",[bS]:"fire-fcm",[xS]:"fire-fcm-compat",[ES]:"fire-perf",[TS]:"fire-perf-compat",[wS]:"fire-rc",[AS]:"fire-rc-compat",[SS]:"fire-gcs",[RS]:"fire-gcs-compat",[CS]:"fire-fst",[NS]:"fire-fst-compat",[DS]:"fire-vertex","fire-js":"fire-js",[IS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,VS=new Map,ip=new Map;function p_(a,t){try{a.container.addComponent(t)}catch(i){ha.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Nl(a){const t=a.name;if(ip.has(t))return ha.debug(`There were multiple attempts to register component ${t}.`),!1;ip.set(t,a);for(const i of Hc.values())p_(i,a);for(const i of VS.values())p_(i,a);return!0}function hb(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function fb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new ob("app","Firebase",kS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=OS;function pb(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:np,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ya.create("bad-app-name",{appName:String(o)});if(i||(i=ib()),!i)throw Ya.create("no-options");const u=Hc.get(o);if(u){if(qc(i,u.options)&&qc(r,u.config))return u;throw Ya.create("duplicate-app",{appName:o})}const f=new qA(o);for(const y of ip.values())f.addComponent(y);const p=new jS(i,r,f);return Hc.set(o,p),p}function mb(a=np){const t=Hc.get(a);if(!t&&a===np&&ib())return pb();if(!t)throw Ya.create("no-app",{appName:a});return t}function Ka(a,t,i){let r=MS[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ha.warn(f.join(" "));return}Nl(new Ks(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebase-heartbeat-database",US=1,Il="firebase-heartbeat-store";let kd=null;function gb(){return kd||(kd=eS(PS,US,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ya.create("idb-open",{originalErrorMessage:a.message})})),kd}async function LS(a){try{const i=(await gb()).transaction(Il),r=await i.objectStore(Il).get(yb(a));return await i.done,r}catch(t){if(t instanceof $r)ha.warn(t.message);else{const i=Ya.create("idb-get",{originalErrorMessage:t?.message});ha.warn(i.message)}}}async function m_(a,t){try{const r=(await gb()).transaction(Il,"readwrite");await r.objectStore(Il).put(t,yb(a)),await r.done}catch(i){if(i instanceof $r)ha.warn(i.message);else{const r=Ya.create("idb-set",{originalErrorMessage:i?.message});ha.warn(r.message)}}}function yb(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=1024,BS=30;class qS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new FS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=g_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>BS){const o=GS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ha.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g_(),{heartbeatsToSend:i,unsentEntries:r}=HS(this._heartbeatsCache.heartbeats),o=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ha.warn(t),""}}}function g_(){return new Date().toISOString().substring(0,10)}function HS(a,t=zS){const i=[];let r=a.slice();for(const o of a){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),y_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),y_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class FS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?kA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return m_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return m_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function y_(a){return Bc(JSON.stringify({version:2,heartbeats:a})).length}function GS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(a){Nl(new Ks("platform-logger",t=>new aS(t),"PRIVATE")),Nl(new Ks("heartbeat",t=>new qS(t),"PRIVATE")),Ka(ep,d_,a),Ka(ep,d_,"esm2020"),Ka("fire-js","")}$S("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebasestorage.googleapis.com",_b="storageBucket",QS=120*1e3,YS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te extends $r{constructor(t,i,r=0){super(jd(t),`Firebase Storage: ${i} (${jd(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Te.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ee;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ee||(Ee={}));function jd(a){return"storage/"+a}function Vp(){const a="An unknown error occurred, please check the error payload for server response.";return new Te(Ee.UNKNOWN,a)}function KS(a){return new Te(Ee.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function XS(a){return new Te(Ee.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZS(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Te(Ee.UNAUTHENTICATED,a)}function WS(){return new Te(Ee.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JS(a){return new Te(Ee.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function tR(){return new Te(Ee.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eR(){return new Te(Ee.CANCELED,"User canceled the upload/download.")}function nR(a){return new Te(Ee.INVALID_URL,"Invalid URL '"+a+"'.")}function iR(a){return new Te(Ee.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function aR(){return new Te(Ee.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_b+"' property when initializing the app?")}function rR(){return new Te(Ee.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sR(){return new Te(Ee.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oR(a){return new Te(Ee.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ap(a){return new Te(Ee.INVALID_ARGUMENT,a)}function bb(){return new Te(Ee.APP_DELETED,"The Firebase app was deleted.")}function lR(a){return new Te(Ee.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tl(a,t){return new Te(Ee.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function vl(a){throw new Te(Ee.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=mn.makeFromUrl(t,i)}catch{return new mn(t,"")}if(r.path==="")return r;throw iR(t)}static makeFromUrl(t,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ut){ut.path.charAt(ut.path.length-1)==="/"&&(ut.path_=ut.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function m(ut){ut.path_=decodeURIComponent(ut.path)}const _="v[A-Za-z0-9_]+",w=i.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",N=new RegExp(`^https?://${w}/${_}/b/${o}/o${A}`,"i"),L={bucket:1,path:3},V=i===vb?"(?:storage.googleapis.com|storage.cloud.google.com)":i,j="([^?#]*)",Z=new RegExp(`^https?://${V}/${o}/${j}`,"i"),J=[{regex:p,indices:y,postModify:u},{regex:N,indices:L,postModify:m},{regex:Z,indices:{bucket:1,path:2},postModify:m}];for(let ut=0;ut<J.length;ut++){const ht=J[ut],_t=ht.regex.exec(t);if(_t){const O=_t[ht.indices.bucket];let R=_t[ht.indices.path];R||(R=""),r=new mn(O,R),ht.postModify(r);break}}if(r==null)throw nR(t);return r}}class uR{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(a,t,i){let r=1,o=null,u=null,f=!1,p=0;function y(){return p===2}let m=!1;function _(...j){m||(m=!0,t.apply(null,j))}function w(j){o=setTimeout(()=>{o=null,a(N,y())},j)}function A(){u&&clearTimeout(u)}function N(j,...Z){if(m){A();return}if(j){A(),_.call(null,j,...Z);return}if(y()||f){A(),_.call(null,j,...Z);return}r<64&&(r*=2);let J;p===1?(p=2,J=0):J=(r+Math.random())*1e3,w(J)}let L=!1;function V(j){L||(L=!0,A(),!m&&(o!==null?(j||(p=2),clearTimeout(o),w(0)):j||(p=1)))}return w(0),u=setTimeout(()=>{f=!0,V(!0)},i),V}function hR(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(a){return a!==void 0}function dR(a){return typeof a=="object"&&!Array.isArray(a)}function kp(a){return typeof a=="string"||a instanceof String}function v_(a){return jp()&&a instanceof Blob}function jp(){return typeof Blob<"u"}function rp(a,t,i,r){if(r<t)throw ap(`Invalid value for '${a}'. Expected ${t} or greater.`);if(r>i)throw ap(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(a,t,i){let r=t;return i==null&&(r=`https://${t}`),`${i}://${r}/v0${a}`}function xb(a){const t=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const o=t(r)+"="+t(a[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Br;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Br||(Br={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(a,t){const i=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,u=t.indexOf(a)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,i,r,o,u,f,p,y,m,_,w,A=!0,N=!1){this.url_=t,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=y,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,V)=>{this.resolve_=L,this.reject_=V,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new vc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const y=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,m)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===Br.NO_ERROR,y=u.getStatus();if(!p||pR(y,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Br.ABORT;r(!1,new vc(!1,null,_));return}const m=this.successCodes_.indexOf(y)!==-1;r(!0,new vc(m,u))})},i=(r,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());fR(y)?u(y):u()}catch(y){f(y)}else if(p!==null){const y=Vp();y.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,y)):f(y)}else if(o.canceled){const y=this.appDelete_?bb():eR();f(y)}else{const y=tR();f(y)}};this.canceled_?i(!1,new vc(!1,null,!0)):this.backoffId_=cR(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&hR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vc{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function gR(a,t){t!==null&&t.length>0&&(a.Authorization="Firebase "+t)}function yR(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function vR(a,t){t&&(a["X-Firebase-GMPID"]=t)}function _R(a,t){t!==null&&(a["X-Firebase-AppCheck"]=t)}function bR(a,t,i,r,o,u,f=!0,p=!1){const y=xb(a.urlParams),m=a.url+y,_=Object.assign({},a.headers);return vR(_,t),gR(_,i),yR(_,u),_R(_,r),new mR(m,a.method,_,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ER(...a){const t=xR();if(t!==void 0){const i=new t;for(let r=0;r<a.length;r++)i.append(a[r]);return i.getBlob()}else{if(jp())return new Blob(a);throw new Te(Ee.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TR(a,t,i){return a.webkitSlice?a.webkitSlice(t,i):a.mozSlice?a.mozSlice(t,i):a.slice?a.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(a){if(typeof atob>"u")throw oR("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pd{constructor(t,i){this.data=t,this.contentType=i||null}}function AR(a,t){switch(a){case Ci.RAW:return new Pd(Eb(t));case Ci.BASE64:case Ci.BASE64URL:return new Pd(Tb(a,t));case Ci.DATA_URL:return new Pd(RR(t),CR(t))}throw Vp()}function Eb(a){const t=[];for(let i=0;i<a.length;i++){let r=a.charCodeAt(i);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const u=r,f=a.charCodeAt(++i);r=65536|(u&1023)<<10|f&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function SR(a){let t;try{t=decodeURIComponent(a)}catch{throw Tl(Ci.DATA_URL,"Malformed data URL.")}return Eb(t)}function Tb(a,t){switch(a){case Ci.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Tl(a,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ci.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Tl(a,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=wR(t)}catch(o){throw o.message.includes("polyfill")?o:Tl(a,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class wb{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw Tl(Ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=DR(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function RR(a){const t=new wb(a);return t.base64?Tb(Ci.BASE64,t.rest):SR(t.rest)}function CR(a){return new wb(a).contentType}function DR(a,t){return a.length>=t.length?a.substring(a.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,i){let r=0,o="";v_(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,i){if(v_(this.data_)){const r=this.data_,o=TR(r,t,i);return o===null?null:new Ga(o)}else{const r=new Uint8Array(this.data_.buffer,t,i-t);return new Ga(r,!0)}}static getBlob(...t){if(jp()){const i=t.map(r=>r instanceof Ga?r.data_:r);return new Ga(ER.apply(null,i))}else{const i=t.map(f=>kp(f)?AR(Ci.RAW,f).data:f.data_);let r=0;i.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let u=0;return i.forEach(f=>{for(let p=0;p<f.length;p++)o[u++]=f[p]}),new Ga(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(a){let t;try{t=JSON.parse(a)}catch{return null}return dR(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(a){if(a.length===0)return null;const t=a.lastIndexOf("/");return t===-1?"":a.slice(0,t)}function IR(a,t){const i=t.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function Ab(a){const t=a.lastIndexOf("/",a.length-2);return t===-1?a:a.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(a,t){return t}class pn{constructor(t,i,r,o){this.server=t,this.local=i||t,this.writable=!!r,this.xform=o||OR}}let _c=null;function MR(a){return!kp(a)||a.length<2?a:Ab(a)}function Sb(){if(_c)return _c;const a=[];a.push(new pn("bucket")),a.push(new pn("generation")),a.push(new pn("metageneration")),a.push(new pn("name","fullPath",!0));function t(u,f){return MR(f)}const i=new pn("name");i.xform=t,a.push(i);function r(u,f){return f!==void 0?Number(f):f}const o=new pn("size");return o.xform=r,a.push(o),a.push(new pn("timeCreated")),a.push(new pn("updated")),a.push(new pn("md5Hash",null,!0)),a.push(new pn("cacheControl",null,!0)),a.push(new pn("contentDisposition",null,!0)),a.push(new pn("contentEncoding",null,!0)),a.push(new pn("contentLanguage",null,!0)),a.push(new pn("contentType",null,!0)),a.push(new pn("metadata","customMetadata",!0)),_c=a,_c}function VR(a,t){function i(){const r=a.bucket,o=a.fullPath,u=new mn(r,o);return t._makeStorageReference(u)}Object.defineProperty(a,"ref",{get:i})}function kR(a,t,i){const r={};r.type="file";const o=i.length;for(let u=0;u<o;u++){const f=i[u];r[f.local]=f.xform(r,t[f.server])}return VR(r,a),r}function Rb(a,t,i){const r=Pp(t);return r===null?null:kR(a,r,i)}function jR(a,t,i,r){const o=Pp(t);if(o===null||!kp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(m=>{const _=a.bucket,w=a.fullPath,A="/b/"+f(_)+"/o/"+f(w),N=sh(A,i,r),L=xb({alt:"media",token:m});return N+L})[0]}function PR(a,t){const i={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(i[u.server]=a[u.local])}return JSON.stringify(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="prefixes",b_="items";function UR(a,t,i){const r={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[__])for(const o of i[__]){const u=o.replace(/\/$/,""),f=a._makeStorageReference(new mn(t,u));r.prefixes.push(f)}if(i[b_])for(const o of i[b_]){const u=a._makeStorageReference(new mn(t,o.name));r.items.push(u)}return r}function LR(a,t,i){const r=Pp(i);return r===null?null:UR(a,t,r)}class Up{constructor(t,i,r,o){this.url=t,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(a){if(!a)throw Vp()}function zR(a,t){function i(r,o){const u=Rb(a,o,t);return Lp(u!==null),u}return i}function BR(a,t){function i(r,o){const u=LR(a,t,o);return Lp(u!==null),u}return i}function qR(a,t){function i(r,o){const u=Rb(a,o,t);return Lp(u!==null),jR(u,o,a.host,a._protocol)}return i}function zp(a){function t(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=WS():o=ZS():i.getStatus()===402?o=XS(a.bucket):i.getStatus()===403?o=JS(a.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return t}function HR(a){const t=zp(a);function i(r,o){let u=t(r,o);return r.getStatus()===404&&(u=KS(a.path)),u.serverResponse=o.serverResponse,u}return i}function FR(a,t,i,r,o){const u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",i.length>0&&(u.delimiter=i),r&&(u.pageToken=r),o&&(u.maxResults=o);const f=t.bucketOnlyServerUrl(),p=sh(f,a.host,a._protocol),y="GET",m=a.maxOperationRetryTime,_=new Up(p,y,BR(a,t.bucket),m);return _.urlParams=u,_.errorHandler=zp(t),_}function GR(a,t,i){const r=t.fullServerUrl(),o=sh(r,a.host,a._protocol),u="GET",f=a.maxOperationRetryTime,p=new Up(o,u,qR(a,i),f);return p.errorHandler=HR(t),p}function $R(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}function QR(a,t,i){const r=Object.assign({},i);return r.fullPath=a.path,r.size=t.size(),r.contentType||(r.contentType=$R(null,t)),r}function YR(a,t,i,r,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let J="";for(let ut=0;ut<2;ut++)J=J+Math.random().toString().slice(2);return J}const y=p();f["Content-Type"]="multipart/related; boundary="+y;const m=QR(t,r,o),_=PR(m,i),w="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+y+`\r
Content-Type: `+m.contentType+`\r
\r
`,A=`\r
--`+y+"--",N=Ga.getBlob(w,r,A);if(N===null)throw rR();const L={name:m.fullPath},V=sh(u,a.host,a._protocol),j="POST",Z=a.maxUploadRetryTime,W=new Up(V,j,zR(a,i),Z);return W.urlParams=L,W.headers=f,W.body=N.uploadData(),W.errorHandler=zp(t),W}class KR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Br.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Br.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Br.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,r,o,u){if(this.sent_)throw vl("cannot .send() more than once");if(Bl(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class XR extends KR{initXhr(){this.xhr_.responseType="text"}}function Bp(){return new XR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i){this._service=t,i instanceof mn?this._location=i:this._location=mn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new qr(t,i)}get root(){const t=new mn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ab(this._location.path)}get storage(){return this._service}get parent(){const t=NR(this._location.path);if(t===null)return null;const i=new mn(this._location.bucket,t);return new qr(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw lR(t)}}function ZR(a,t,i){a._throwIfRoot("uploadBytes");const r=YR(a.storage,a._location,Sb(),new Ga(t,!0),i);return a.storage.makeRequestWithTokens(r,Bp).then(o=>({metadata:o,ref:a}))}function WR(a){const t={prefixes:[],items:[]};return Cb(a,t).then(()=>t)}async function Cb(a,t,i){const o=await JR(a,{pageToken:i});t.prefixes.push(...o.prefixes),t.items.push(...o.items),o.nextPageToken!=null&&await Cb(a,t,o.nextPageToken)}function JR(a,t){t!=null&&typeof t.maxResults=="number"&&rp("options.maxResults",1,1e3,t.maxResults);const i=t||{},r=FR(a.storage,a._location,"/",i.pageToken,i.maxResults);return a.storage.makeRequestWithTokens(r,Bp)}function t2(a){a._throwIfRoot("getDownloadURL");const t=GR(a.storage,a._location,Sb());return a.storage.makeRequestWithTokens(t,Bp).then(i=>{if(i===null)throw sR();return i})}function e2(a,t){const i=IR(a._location.path,t),r=new mn(a._location.bucket,i);return new qr(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(a){return/^[A-Za-z]+:\/\//.test(a)}function i2(a,t){return new qr(a,t)}function Db(a,t){if(a instanceof qp){const i=a;if(i._bucket==null)throw aR();const r=new qr(i,i._bucket);return t!=null?Db(r,t):r}else return t!==void 0?e2(a,t):a}function a2(a,t){if(t&&n2(t)){if(a instanceof qp)return i2(a,t);throw ap("To use ref(service, url), the first argument must be a Storage instance.")}else return Db(a,t)}function x_(a,t){const i=t?.[_b];return i==null?null:mn.makeFromBucketSpec(i,a)}function r2(a,t,i,r={}){a.host=`${t}:${i}`;const o=Bl(t);o&&(ab(`https://${a.host}/b`),sb("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(a._overrideAuthToken=typeof u=="string"?u:rb(u,a.app.options.projectId))}class qp{constructor(t,i,r,o,u,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=vb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QS,this._maxUploadRetryTime=YS,this._requests=new Set,o!=null?this._bucket=mn.makeFromBucketSpec(o,this._host):this._bucket=x_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,t):this._bucket=x_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){rp("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){rp("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(fb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new qr(this,t)}_makeRequest(t,i,r,o,u=!0){if(this._deleted)return new uR(bb());{const f=bR(t,this._appId,r,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,o).getPromise()}}const E_="@firebase/storage",T_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="storage";function s2(a,t,i){return a=ii(a),ZR(a,t,i)}function w_(a){return a=ii(a),WR(a)}function o2(a){return a=ii(a),t2(a)}function Ud(a,t){return a=ii(a),a2(a,t)}function l2(a=mb(),t){a=ii(a);const r=hb(a,Nb).getImmediate({identifier:t}),o=nb("storage");return o&&u2(r,...o),r}function u2(a,t,i,r={}){r2(a,t,i,r)}function c2(a,{instanceIdentifier:t}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new qp(i,r,o,t,db)}function h2(){Nl(new Ks(Nb,c2,"PUBLIC").setMultipleInstances(!0)),Ka(E_,T_,""),Ka(E_,T_,"esm2020")}h2();var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,Ib;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(I,U,k){for(var S=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)S[yt-2]=arguments[yt];return R.prototype[U].apply(I,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);var I=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)I[U]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(U=0;16>U;++U)I[U]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],U=O.g[2];var k=O.g[3],S=R+(k^C&(U^k))+I[0]+3614090360&4294967295;R=C+(S<<7&4294967295|S>>>25),S=k+(U^R&(C^U))+I[1]+3905402710&4294967295,k=R+(S<<12&4294967295|S>>>20),S=U+(C^k&(R^C))+I[2]+606105819&4294967295,U=k+(S<<17&4294967295|S>>>15),S=C+(R^U&(k^R))+I[3]+3250441966&4294967295,C=U+(S<<22&4294967295|S>>>10),S=R+(k^C&(U^k))+I[4]+4118548399&4294967295,R=C+(S<<7&4294967295|S>>>25),S=k+(U^R&(C^U))+I[5]+1200080426&4294967295,k=R+(S<<12&4294967295|S>>>20),S=U+(C^k&(R^C))+I[6]+2821735955&4294967295,U=k+(S<<17&4294967295|S>>>15),S=C+(R^U&(k^R))+I[7]+4249261313&4294967295,C=U+(S<<22&4294967295|S>>>10),S=R+(k^C&(U^k))+I[8]+1770035416&4294967295,R=C+(S<<7&4294967295|S>>>25),S=k+(U^R&(C^U))+I[9]+2336552879&4294967295,k=R+(S<<12&4294967295|S>>>20),S=U+(C^k&(R^C))+I[10]+4294925233&4294967295,U=k+(S<<17&4294967295|S>>>15),S=C+(R^U&(k^R))+I[11]+2304563134&4294967295,C=U+(S<<22&4294967295|S>>>10),S=R+(k^C&(U^k))+I[12]+1804603682&4294967295,R=C+(S<<7&4294967295|S>>>25),S=k+(U^R&(C^U))+I[13]+4254626195&4294967295,k=R+(S<<12&4294967295|S>>>20),S=U+(C^k&(R^C))+I[14]+2792965006&4294967295,U=k+(S<<17&4294967295|S>>>15),S=C+(R^U&(k^R))+I[15]+1236535329&4294967295,C=U+(S<<22&4294967295|S>>>10),S=R+(U^k&(C^U))+I[1]+4129170786&4294967295,R=C+(S<<5&4294967295|S>>>27),S=k+(C^U&(R^C))+I[6]+3225465664&4294967295,k=R+(S<<9&4294967295|S>>>23),S=U+(R^C&(k^R))+I[11]+643717713&4294967295,U=k+(S<<14&4294967295|S>>>18),S=C+(k^R&(U^k))+I[0]+3921069994&4294967295,C=U+(S<<20&4294967295|S>>>12),S=R+(U^k&(C^U))+I[5]+3593408605&4294967295,R=C+(S<<5&4294967295|S>>>27),S=k+(C^U&(R^C))+I[10]+38016083&4294967295,k=R+(S<<9&4294967295|S>>>23),S=U+(R^C&(k^R))+I[15]+3634488961&4294967295,U=k+(S<<14&4294967295|S>>>18),S=C+(k^R&(U^k))+I[4]+3889429448&4294967295,C=U+(S<<20&4294967295|S>>>12),S=R+(U^k&(C^U))+I[9]+568446438&4294967295,R=C+(S<<5&4294967295|S>>>27),S=k+(C^U&(R^C))+I[14]+3275163606&4294967295,k=R+(S<<9&4294967295|S>>>23),S=U+(R^C&(k^R))+I[3]+4107603335&4294967295,U=k+(S<<14&4294967295|S>>>18),S=C+(k^R&(U^k))+I[8]+1163531501&4294967295,C=U+(S<<20&4294967295|S>>>12),S=R+(U^k&(C^U))+I[13]+2850285829&4294967295,R=C+(S<<5&4294967295|S>>>27),S=k+(C^U&(R^C))+I[2]+4243563512&4294967295,k=R+(S<<9&4294967295|S>>>23),S=U+(R^C&(k^R))+I[7]+1735328473&4294967295,U=k+(S<<14&4294967295|S>>>18),S=C+(k^R&(U^k))+I[12]+2368359562&4294967295,C=U+(S<<20&4294967295|S>>>12),S=R+(C^U^k)+I[5]+4294588738&4294967295,R=C+(S<<4&4294967295|S>>>28),S=k+(R^C^U)+I[8]+2272392833&4294967295,k=R+(S<<11&4294967295|S>>>21),S=U+(k^R^C)+I[11]+1839030562&4294967295,U=k+(S<<16&4294967295|S>>>16),S=C+(U^k^R)+I[14]+4259657740&4294967295,C=U+(S<<23&4294967295|S>>>9),S=R+(C^U^k)+I[1]+2763975236&4294967295,R=C+(S<<4&4294967295|S>>>28),S=k+(R^C^U)+I[4]+1272893353&4294967295,k=R+(S<<11&4294967295|S>>>21),S=U+(k^R^C)+I[7]+4139469664&4294967295,U=k+(S<<16&4294967295|S>>>16),S=C+(U^k^R)+I[10]+3200236656&4294967295,C=U+(S<<23&4294967295|S>>>9),S=R+(C^U^k)+I[13]+681279174&4294967295,R=C+(S<<4&4294967295|S>>>28),S=k+(R^C^U)+I[0]+3936430074&4294967295,k=R+(S<<11&4294967295|S>>>21),S=U+(k^R^C)+I[3]+3572445317&4294967295,U=k+(S<<16&4294967295|S>>>16),S=C+(U^k^R)+I[6]+76029189&4294967295,C=U+(S<<23&4294967295|S>>>9),S=R+(C^U^k)+I[9]+3654602809&4294967295,R=C+(S<<4&4294967295|S>>>28),S=k+(R^C^U)+I[12]+3873151461&4294967295,k=R+(S<<11&4294967295|S>>>21),S=U+(k^R^C)+I[15]+530742520&4294967295,U=k+(S<<16&4294967295|S>>>16),S=C+(U^k^R)+I[2]+3299628645&4294967295,C=U+(S<<23&4294967295|S>>>9),S=R+(U^(C|~k))+I[0]+4096336452&4294967295,R=C+(S<<6&4294967295|S>>>26),S=k+(C^(R|~U))+I[7]+1126891415&4294967295,k=R+(S<<10&4294967295|S>>>22),S=U+(R^(k|~C))+I[14]+2878612391&4294967295,U=k+(S<<15&4294967295|S>>>17),S=C+(k^(U|~R))+I[5]+4237533241&4294967295,C=U+(S<<21&4294967295|S>>>11),S=R+(U^(C|~k))+I[12]+1700485571&4294967295,R=C+(S<<6&4294967295|S>>>26),S=k+(C^(R|~U))+I[3]+2399980690&4294967295,k=R+(S<<10&4294967295|S>>>22),S=U+(R^(k|~C))+I[10]+4293915773&4294967295,U=k+(S<<15&4294967295|S>>>17),S=C+(k^(U|~R))+I[1]+2240044497&4294967295,C=U+(S<<21&4294967295|S>>>11),S=R+(U^(C|~k))+I[8]+1873313359&4294967295,R=C+(S<<6&4294967295|S>>>26),S=k+(C^(R|~U))+I[15]+4264355552&4294967295,k=R+(S<<10&4294967295|S>>>22),S=U+(R^(k|~C))+I[6]+2734768916&4294967295,U=k+(S<<15&4294967295|S>>>17),S=C+(k^(U|~R))+I[13]+1309151649&4294967295,C=U+(S<<21&4294967295|S>>>11),S=R+(U^(C|~k))+I[4]+4149444226&4294967295,R=C+(S<<6&4294967295|S>>>26),S=k+(C^(R|~U))+I[11]+3174756917&4294967295,k=R+(S<<10&4294967295|S>>>22),S=U+(R^(k|~C))+I[2]+718787259&4294967295,U=k+(S<<15&4294967295|S>>>17),S=C+(k^(U|~R))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(U+(S<<21&4294967295|S>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+k&4294967295}r.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,I=this.B,U=this.h,k=0;k<R;){if(U==0)for(;k<=C;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<R;)if(I[U++]=O.charCodeAt(k++),U==this.blockSize){o(this,I),U=0;break}}else for(;k<R;)if(I[U++]=O[k++],U==this.blockSize){o(this,I),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var I=0;32>I;I+=8)O[C++]=this.g[R]>>>I&255;return O};function u(O,R){var C=p;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function f(O,R){this.h=R;for(var C=[],I=!0,U=O.length-1;0<=U;U--){var k=O[U]|0;I&&k==R||(C[U]=k,I=!1)}this.g=C}var p={};function y(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return j(m(-O));for(var R=[],C=1,I=0;O>=C;I++)R[I]=O/C|0,C*=4294967296;return new f(R,0)}function _(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return j(_(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),I=w,U=0;U<O.length;U+=8){var k=Math.min(8,O.length-U),S=parseInt(O.substring(U,U+k),R);8>k?(k=m(Math.pow(R,k)),I=I.j(k).add(m(S))):(I=I.j(C),I=I.add(m(S)))}return I}var w=y(0),A=y(1),N=y(16777216);a=f.prototype,a.m=function(){if(V(this))return-j(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var I=this.i(C);O+=(0<=I?I:4294967296+I)*R,R*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if(V(this))return"-"+j(this).toString(O);for(var R=m(Math.pow(O,6)),C=this,I="";;){var U=ut(C,R).g;C=Z(C,U.j(R));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=U,L(C))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function V(O){return O.h==-1}a.l=function(O){return O=Z(this,O),V(O)?-1:L(O)?0:1};function j(O){for(var R=O.g.length,C=[],I=0;I<R;I++)C[I]=~O.g[I];return new f(C,~O.h).add(A)}a.abs=function(){return V(this)?j(this):this},a.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],I=0,U=0;U<=R;U++){var k=I+(this.i(U)&65535)+(O.i(U)&65535),S=(k>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);I=S>>>16,k&=65535,S&=65535,C[U]=S<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Z(O,R){return O.add(j(R))}a.j=function(O){if(L(this)||L(O))return w;if(V(this))return V(O)?j(this).j(j(O)):j(j(this).j(O));if(V(O))return j(this.j(j(O)));if(0>this.l(N)&&0>O.l(N))return m(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],I=0;I<2*R;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var U=0;U<O.g.length;U++){var k=this.i(I)>>>16,S=this.i(I)&65535,yt=O.i(U)>>>16,ct=O.i(U)&65535;C[2*I+2*U]+=S*ct,W(C,2*I+2*U),C[2*I+2*U+1]+=k*ct,W(C,2*I+2*U+1),C[2*I+2*U+1]+=S*yt,W(C,2*I+2*U+1),C[2*I+2*U+2]+=k*yt,W(C,2*I+2*U+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new f(C,0)};function W(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function J(O,R){this.g=O,this.h=R}function ut(O,R){if(L(R))throw Error("division by zero");if(L(O))return new J(w,w);if(V(O))return R=ut(j(O),R),new J(j(R.g),j(R.h));if(V(R))return R=ut(O,j(R)),new J(j(R.g),R.h);if(30<O.g.length){if(V(O)||V(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,I=R;0>=I.l(O);)C=ht(C),I=ht(I);var U=_t(C,1),k=_t(I,1);for(I=_t(I,2),C=_t(C,2);!L(I);){var S=k.add(I);0>=S.l(O)&&(U=U.add(C),k=S),I=_t(I,1),C=_t(C,1)}return R=Z(O,U.j(R)),new J(U,R)}for(U=w;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=m(C),S=k.j(R);V(S)||0<S.l(O);)C-=I,k=m(C),S=k.j(R);L(k)&&(k=A),U=U.add(k),O=Z(O,S)}return new J(U,O)}a.A=function(O){return ut(this,O).h},a.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)&O.i(I);return new f(C,this.h&O.h)},a.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)|O.i(I);return new f(C,this.h|O.h)},a.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)^O.i(I);return new f(C,this.h^O.h)};function ht(O){for(var R=O.g.length+1,C=[],I=0;I<R;I++)C[I]=O.i(I)<<1|O.i(I-1)>>>31;return new f(C,O.h)}function _t(O,R){var C=R>>5;R%=32;for(var I=O.g.length-C,U=[],k=0;k<I;k++)U[k]=0<R?O.i(k+C)>>>R|O.i(k+C+1)<<32-R:O.i(k+C);return new f(U,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ib=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=_,Xa=f}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ob,_l,Mb,Dc,sp,Vb,kb,jb;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(c,g){if(g)t:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var q=c[T];if(!(q in v))break t;v=v[q]}c=c[c.length-1],T=v[c],g=g(T),g!=T&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,T=!1,q={next:function(){if(!T&&v<c.length){var X=v++;return{value:g(X,c[X]),done:!1}}return T=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function y(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function w(c,g,v){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,T),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function A(c,g,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,A.apply(null,arguments)}function N(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function L(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(T,q,X){for(var lt=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)lt[qt-2]=arguments[qt];return g.prototype[q].apply(T,lt)}}function V(c){const g=c.length;if(0<g){const v=Array(g);for(let T=0;T<g;T++)v[T]=c[T];return v}return[]}function j(c,g){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(y(T)){const q=c.length||0,X=T.length||0;c.length=q+X;for(let lt=0;lt<X;lt++)c[q+lt]=T[lt]}else c.push(T)}}class Z{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function W(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var ht=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function _t(c,g,v){for(const T in c)g.call(v,c[T],T,c)}function O(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function R(c){const g={};for(const v in c)g[v]=c[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let v,T;for(let q=1;q<arguments.length;q++){T=arguments[q];for(v in T)c[v]=T[v];for(let X=0;X<C.length;X++)v=C[X],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function U(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function k(c){p.setTimeout(()=>{throw c},0)}function S(){var c=At;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class yt{constructor(){this.h=this.g=null}add(g,v){const T=ct.get();T.set(g,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ct=new Z(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,At=new yt,M=()=>{const c=p.Promise.resolve(void 0);st=()=>{c.then(nt)}};var nt=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(v){k(v)}var g=ct;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}dt=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ot=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,g),p.removeEventListener("test",v,g)}catch{}return c})();function Tt(c,g){if($.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ht){t:{try{ut(g.nodeName);var q=!0;break t}catch{}q=!1}q||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Tt.aa.h.call(this)}}L(Tt,$);var pt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Bt(c,g,v,T,q){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!T,this.ha=q,this.key=++Nt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,g,v,T,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var lt=gn(c,g,T,q);return-1<lt?(g=c[lt],v||(g.fa=!1)):(g=new Bt(g,this.src,X,!!T,q),g.fa=v,c.push(g)),g};function ve(c,g){var v=g.type;if(v in c.g){var T=c.g[v],q=Array.prototype.indexOf.call(T,g,void 0),X;(X=0<=q)&&Array.prototype.splice.call(T,q,1),X&&(Kt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function gn(c,g,v,T){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==g&&X.capture==!!v&&X.ha==T)return q}return-1}var oi="closure_lm_"+(1e6*Math.random()|0),pa={};function rr(c,g,v,T,q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)rr(c,g[X],v,T,q);return null}return v=Et(v),c&&c[te]?c.K(g,v,m(T)?!!T.capture:!1,q):ke(c,g,v,!1,T,q)}function ke(c,g,v,T,q,X){if(!g)throw Error("Invalid event type");var lt=m(q)?!!q.capture:!!q,qt=ma(c);if(qt||(c[oi]=qt=new ce(c)),v=qt.add(g,v,T,lt,X),v.proxy)return v;if(T=sr(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)ot||(q=lt),q===void 0&&(q=!1),c.addEventListener(g.toString(),T,q);else if(c.attachEvent)c.attachEvent(ki(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sr(){function c(v){return g.call(c.src,c.listener,v)}const g=co;return c}function li(c,g,v,T,q){if(Array.isArray(g))for(var X=0;X<g.length;X++)li(c,g[X],v,T,q);else T=m(T)?!!T.capture:!!T,v=Et(v),c&&c[te]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],v=gn(X,v,T,q),-1<v&&(Kt(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=ma(c))&&(g=c.g[g.toString()],c=-1,g&&(c=gn(g,v,T,q)),(v=-1<c?g[c]:null)&&Fn(v))}function Fn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[te])ve(g.i,c);else{var v=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(v,T,c.capture):g.detachEvent?g.detachEvent(ki(v),T):g.addListener&&g.removeListener&&g.removeListener(T),(v=ma(g))?(ve(v,c),v.h==0&&(v.src=null,g[oi]=null)):Kt(c)}}}function ki(c){return c in pa?pa[c]:pa[c]="on"+c}function co(c,g){if(c.da)c=!0;else{g=new Tt(g,this);var v=c.listener,T=c.ha||c.src;c.fa&&Fn(c),c=v.call(T,g)}return c}function ma(c){return c=c[oi],c instanceof ce?c:null}var ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(c){return typeof c=="function"?c:(c[ft]||(c[ft]=function(g){return c.handleEvent(g)}),c[ft])}function Mt(){Y.call(this),this.i=new ce(this),this.M=this,this.F=null}L(Mt,Y),Mt.prototype[te]=!0,Mt.prototype.removeEventListener=function(c,g,v,T){li(this,c,g,v,T)};function Ct(c,g){var v,T=c.F;if(T)for(v=[];T;T=T.F)v.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new $(g,c);else if(g instanceof $)g.target=g.target||c;else{var q=g;g=new $(T,c),I(g,q)}if(q=!0,v)for(var X=v.length-1;0<=X;X--){var lt=g.g=v[X];q=re(lt,T,!0,g)&&q}if(lt=g.g=c,q=re(lt,T,!0,g)&&q,q=re(lt,T,!1,g)&&q,v)for(X=0;X<v.length;X++)lt=g.g=v[X],q=re(lt,T,!1,g)&&q}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],T=0;T<v.length;T++)Kt(v[T]);delete c.g[g],c.h--}}this.F=null},Mt.prototype.K=function(c,g,v,T){return this.i.add(String(c),g,!1,v,T)},Mt.prototype.L=function(c,g,v,T){return this.i.add(String(c),g,!0,v,T)};function re(c,g,v,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,X=0;X<g.length;++X){var lt=g[X];if(lt&&!lt.da&&lt.capture==v){var qt=lt.listener,Pe=lt.ha||lt.src;lt.fa&&ve(c.i,lt),q=qt.call(Pe,T)!==!1&&q}}return q&&!T.defaultPrevented}function _e(c,g,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(c,g||0)}function Gn(c){c.g=_e(()=>{c.g=null,c.i&&(c.i=!1,Gn(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class or extends Y{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Gn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(c){Y.call(this),this.h=c,this.g={}}L($n,Y);var Qn=[];function Dn(c){_t(c.g,function(g,v){this.g.hasOwnProperty(v)&&Fn(g)},c),c.g={}}$n.prototype.N=function(){$n.aa.N.call(this),Dn(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var un=p.JSON.stringify,ui=p.JSON.parse,Yn=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function ji(){}ji.prototype.h=null;function lr(c){return c.h||(c.h=c.i())}function ho(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){$.call(this,"d")}L(Ui,$);function fo(){$.call(this,"c")}L(fo,$);var ci={},po=null;function ga(){return po=po||new Mt}ci.La="serverreachability";function Zr(c){$.call(this,ci.La,c)}L(Zr,$);function ya(c){const g=ga();Ct(g,new Zr(g))}ci.STAT_EVENT="statevent";function Yl(c,g){$.call(this,ci.STAT_EVENT,c),this.stat=g}L(Yl,$);function fe(c){const g=ga();Ct(g,new Yl(g,c))}ci.Ma="timingevent";function je(c,g){$.call(this,ci.Ma,c),this.size=g}L(je,$);function Ce(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},g)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function mo(c,g,v,T,q,X){c.info(function(){if(c.g)if(X)for(var lt="",qt=X.split("&"),Pe=0;Pe<qt.length;Pe++){var Ht=qt[Pe].split("=");if(1<Ht.length){var He=Ht[0];Ht=Ht[1];var Ue=He.split("_");lt=2<=Ue.length&&Ue[1]=="type"?lt+(He+"="+Ht+"&"):lt+(He+"=redacted&")}}else lt=null;else lt=X;return"XMLHTTP REQ ("+T+") [attempt "+q+"]: "+g+`
`+v+`
`+lt})}function xh(c,g,v,T,q,X,lt){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+q+"]: "+g+`
`+v+`
`+X+" "+lt})}function va(c,g,v,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ur(c,v)+(T?" "+T:"")})}function Kl(c,g){c.info(function(){return"TIMEOUT: "+g})}Nn.prototype.info=function(){};function ur(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var T=v[c];if(!(2>T.length)){var q=T[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return un(v)}catch{return g}}var _a={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function fi(){}L(fi,ji),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},hi=new fi;function cn(c,g,v,T){this.j=c,this.i=g,this.l=v,this.R=T||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new we}function we(){this.i=null,this.g="",this.h=!1}var go={},Wr={};function Kn(c,g,v){c.L=1,c.v=pr(xn(g)),c.m=v,c.P=!0,zi(c,null)}function zi(c,g){c.F=Date.now(),cr(c),c.A=xn(c.v);var v=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Eo(v.i,"t",T),c.C=0,v=c.j.J,c.h=new we,c.g=hu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new or(A(c.Y,c,c.g),c.O)),g=c.U,v=c.g,T=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Qn[0]=q.toString()),q=Qn);for(var X=0;X<q.length;X++){var lt=rr(v,q[X],T||g.handleEvent,!1,g.h||g);if(!lt)break;g.g[lt.key]=lt}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ya(),mo(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Vn(c)==3?g.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)t:{const Ue=Vn(this.g);var g=this.g.Ba();const Yi=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||iu(this.g)))){this.J||Ue!=4||g==7||(g==8||0>=Yi?ya(3):ya(2)),ba(this);var v=this.g.Z();this.X=v;e:if(Xl(this)){var T=iu(this.g);c="";var q=T.length,X=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),di(this);var lt="";break e}this.h.i=new p.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(X&&g==q-1)});T.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=v==200,xh(this.i,this.u,this.A,this.l,this.R,Ue,v),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,Pe=this.g;if((qt=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(qt)){var Ht=qt;break e}}Ht=null}if(v=Ht)va(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hr(this,v);else{this.o=!1,this.s=3,fe(12),Ke(this),di(this);break t}}if(this.P){v=!0;let Xe;for(;!this.J&&this.C<lt.length;)if(Xe=Zl(this,lt),Xe==Wr){Ue==4&&(this.s=4,fe(14),v=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==go){this.s=4,fe(15),va(this.i,this.l,lt,"[Invalid Chunk]"),v=!1;break}else va(this.i,this.l,Xe,null),hr(this,Xe);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||lt.length!=0||this.h.h||(this.s=1,fe(16),v=!1),this.o=this.o&&v,!v)va(this.i,this.l,lt,"[Invalid Chunked Response]"),Ke(this),di(this);else if(0<lt.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Er(He),He.M=!0,fe(11))}}else va(this.i,this.l,lt,null),hr(this,lt);Ue==4&&Ke(this),this.o&&!this.J&&(Ue==4?lu(this.j,this):(this.o=!1,cr(this)))}else Sh(this.g),v==400&&0<lt.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),Ke(this),di(this)}}}catch{}finally{}};function Xl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zl(c,g){var v=c.C,T=g.indexOf(`
`,v);return T==-1?Wr:(v=Number(g.substring(v,T)),isNaN(v)?go:(T+=1,T+v>g.length?Wr:(g=g.slice(T,T+v),c.C=T+v,g)))}cn.prototype.cancel=function(){this.J=!0,Ke(this)};function cr(c){c.S=Date.now()+c.I,Wl(c,c.I)}function Wl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ce(A(c.ba,c),g)}function ba(c){c.B&&(p.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Kl(this.i,this.A),this.L!=2&&(ya(),fe(17)),Ke(this),this.s=2,di(this)):Wl(this,this.S-c)};function di(c){c.j.G==0||c.J||lu(c.j,c)}function Ke(c){ba(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Dn(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function hr(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||yo(v.h,c))){if(!c.K&&yo(v.h,c)&&v.G==3){try{var T=v.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var q=T;if(q[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)cs(v),ls(v);else break t;Ro(v),fe(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ce(A(v.Za,v),6e3));if(1>=ts(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Qi(v,11)}else if((c.K||v.g==c)&&cs(v),!W(g))for(q=v.Da.g.parse(g),g=0;g<q.length;g++){let Ht=q[g];if(v.T=Ht[0],Ht=Ht[1],v.G==2)if(Ht[0]=="c"){v.K=Ht[1],v.ia=Ht[2];const He=Ht[3];He!=null&&(v.la=He,v.j.info("VER="+v.la));const Ue=Ht[4];Ue!=null&&(v.Aa=Ue,v.j.info("SVER="+v.Aa));const Yi=Ht[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(T=1.5*Yi,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Xe=c.g;if(Xe){const bi=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var X=T.h;X.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(es(X,X.h),X.h=null))}if(T.D){const Do=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(T.ya=Do,ee(T.I,T.D,Do))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var lt=c;if(T.qa=cu(T,T.J?T.ia:null,T.W),lt.K){hn(T.h,lt);var qt=lt,Pe=T.L;Pe&&(qt.I=Pe),qt.B&&(ba(qt),cr(qt)),T.g=lt}else su(T);0<v.i.length&&us(v)}else Ht[0]!="stop"&&Ht[0]!="close"||Qi(v,7);else v.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Qi(v,7):Ao(v):Ht[0]!="noop"&&v.l&&v.l.ta(Ht),v.v=0)}}ya(4)}catch{}}var Jl=class{constructor(c,g){this.g=c,this.map=g}};function Bi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ts(c){return c.h?1:c.g?c.g.size:0}function yo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function es(c,g){c.g?c.g.add(g):c.h=g}function hn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Bi.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return V(c.i)}function Eh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var g=[],v=c.length,T=0;T<v;T++)g.push(c[T]);return g}g=[],v=0;for(T in c)g[v++]=c[T];return g}function ns(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const T in c)g[v++]=T;return g}}}function _o(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=ns(c),T=Eh(c),q=T.length,X=0;X<q;X++)g.call(void 0,T[X],v&&v[X],c)}var fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var T=c[v].indexOf("="),q=null;if(0<=T){var X=c[v].substring(0,T);q=c[v].substring(T+1)}else X=c[v];g(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function De(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof De){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,xa(this,c.s),this.l=c.l;var g=c.i,v=new Hi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),qi(this,v),this.m=c.m}else c&&(g=String(c).match(fr))?(this.h=!1,dr(this,g[1]||"",!0),this.o=In(g[2]||""),this.g=In(g[3]||"",!0),xa(this,g[4]),this.l=In(g[5]||"",!0),qi(this,g[6]||"",!0),this.m=In(g[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}De.prototype.toString=function(){var c=[],g=this.j;g&&c.push(mr(g,bo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(mr(g,bo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(mr(v,v.charAt(0)=="/"?wh:xo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",mr(v,is)),c.join("")};function xn(c){return new De(c)}function dr(c,g,v){c.j=v?In(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function xa(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function qi(c,g,v){g instanceof Hi?(c.i=g,eu(c.i,c.h)):(v||(g=mr(g,Ah)),c.i=new Hi(g,c.h))}function ee(c,g,v){c.i.set(g,v)}function pr(c){return ee(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mr(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,tu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bo=/[#\/\?@]/g,xo=/[#\?:]/g,wh=/[#\?]/g,Ah=/[#\?@]/g,is=/#/g;function Hi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&Th(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}a=Hi.prototype,a.add=function(c,g){On(this),this.i=null,c=pi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Fi(c,g){On(c),g=pi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Gi(c,g){return On(c),g=pi(c,g),c.g.has(g)}a.forEach=function(c,g){On(this),this.g.forEach(function(v,T){v.forEach(function(q){c.call(g,q,T,this)},this)},this)},a.na=function(){On(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let T=0;T<g.length;T++){const q=c[T];for(let X=0;X<q.length;X++)v.push(g[T])}return v},a.V=function(c){On(this);let g=[];if(typeof c=="string")Gi(this,c)&&(g=g.concat(this.g.get(pi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},a.set=function(c,g){return On(this),this.i=null,c=pi(this,c),Gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Eo(c,g,v){Fi(c,g),0<v.length&&(c.i=null,c.g.set(pi(c,g),V(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var T=g[v];const X=encodeURIComponent(String(T)),lt=this.V(T);for(T=0;T<lt.length;T++){var q=X;lt[T]!==""&&(q+="="+encodeURIComponent(String(lt[T]))),c.push(q)}}return this.i=c.join("&")};function pi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function eu(c,g){g&&!c.j&&(On(c),c.i=null,c.g.forEach(function(v,T){var q=T.toLowerCase();T!=q&&(Fi(this,T),Eo(this,q,v))},c)),c.j=g}function gr(c,g){const v=new Nn;if(p.Image){const T=new Image;T.onload=N(Mn,v,"TestLoadImage: loaded",!0,g,T),T.onerror=N(Mn,v,"TestLoadImage: error",!1,g,T),T.onabort=N(Mn,v,"TestLoadImage: abort",!1,g,T),T.ontimeout=N(Mn,v,"TestLoadImage: timeout",!1,g,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Xn(c,g){const v=new Nn,T=new AbortController,q=setTimeout(()=>{T.abort(),Mn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(X=>{clearTimeout(q),X.ok?Mn(v,"TestPingServer: ok",!0,g):Mn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),Mn(v,"TestPingServer: error",!1,g)})}function Mn(c,g,v,T,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),T(v)}catch{}}function yr(){this.g=new Yn}function mi(c,g,v){const T=v||"";try{_o(c,function(q,X){let lt=q;m(q)&&(lt=un(q)),g.push(T+X+"="+encodeURIComponent(lt))})}catch(q){throw g.push(T+"type="+encodeURIComponent("_badmap")),q}}function Ea(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Ea,ji),Ea.prototype.g=function(){return new $i(this.l,this.j)},Ea.prototype.i=(function(c){return function(){return c}})({});function $i(c,g){Mt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L($i,Mt),a=$i.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,yi(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;To(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function To(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?gi(this):yi(this),this.readyState==3&&To(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,gi(this))},a.Qa=function(c){this.g&&(this.response=c,gi(this))},a.ga=function(){this.g&&gi(this)};function gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yi(c)}a.setRequestHeader=function(c,g){this.u.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function yi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wo(c){let g="";return _t(c,function(v,T){g+=T,g+=":",g+=v,g+=`\r
`}),g}function qe(c,g,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=wo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ee(c,g,v))}function Xt(c){Mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Xt,Mt);var as=/^https?$/i,vr=["POST","PUT"];a=Xt.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,g,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?lr(this.o):lr(hi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){nu(this,X);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var q in T)v.set(q,T[q]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const X of T.keys())v.set(X,T.get(X));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),q=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(vr,g,void 0))||T||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of v)this.g.setRequestHeader(X,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_r(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){nu(this,X)}};function nu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,rs(c),vi(c)}function rs(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),vi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),Xt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ss(this):this.bb())},a.bb=function(){ss(this)};function ss(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)_e(c.Ea,0,c);else if(Ct(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var T;if(T=lt===0){var q=String(c.D).match(fr)[1]||null;!q&&p.self&&p.self.location&&(q=p.self.location.protocol.slice(0,-1)),T=!as.test(q?q.toLowerCase():"")}v=T}if(v)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var X=2<Vn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",rs(c)}}finally{vi(c)}}}}function vi(c,g){if(c.g){_r(c);const v=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ct(c,"ready");try{v.onreadystatechange=T}catch{}}}function _r(c){c.I&&(p.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ui(g)}};function iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(c){const g={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(W(c[T]))continue;var v=U(c[T]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=g[q]||[];g[q]=X,X.push(v)}O(g,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function os(c){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,c),this.cb=br("retryDelaySeedMs",1e4,c),this.Wa=br("forwardChannelMaxRetries",2,c),this.wa=br("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(c&&c.concurrentRequestLimit),this.Da=new yr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=os.prototype,a.la=8,a.G=1,a.connect=function(c,g,v,T){fe(0),this.W=c,this.H=g||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=cu(this,null,this.W),us(this)};function Ao(c){if(au(c),c.G==3){var g=c.U++,v=xn(c.I);if(ee(v,"SID",c.K),ee(v,"RID",g),ee(v,"TYPE","terminate"),xr(c,v),g=new cn(c,c.j,g),g.L=2,g.v=pr(xn(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=g.v,v=!0),v||(g.g=hu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),cr(g)}uu(c)}function ls(c){c.g&&(Er(c),c.g.cancel(),c.g=null)}function au(c){ls(c),c.u&&(p.clearTimeout(c.u),c.u=null),cs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function us(c){if(!Jr(c.h)&&!c.s){c.s=!0;var g=c.Ga;st||M(),dt||(st(),dt=!0),At.add(g,c),c.B=0}}function Rh(c,g){return ts(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ce(A(c.Ga,c,g),Co(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new cn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=R(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=ru(this,q,g),v=xn(this.I),ee(v,"RID",c),ee(v,"CVER",22),this.D&&ee(v,"X-HTTP-Session-Id",this.D),xr(this,v),X&&(this.O?g="headers="+encodeURIComponent(String(wo(X)))+"&"+g:this.m&&qe(v,this.m,X)),es(this.h,q),this.Ua&&ee(v,"TYPE","init"),this.P?(ee(v,"$req",g),ee(v,"SID","null"),q.T=!0,Kn(q,v,null)):Kn(q,v,g),this.G=2}}else this.G==3&&(c?So(this,c):this.i.length==0||Jr(this.h)||So(this))};function So(c,g){var v;g?v=g.l:v=c.U++;const T=xn(c.I);ee(T,"SID",c.K),ee(T,"RID",v),ee(T,"AID",c.T),xr(c,T),c.m&&c.o&&qe(T,c.m,c.o),v=new cn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ru(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),es(c.h,v),Kn(v,T,g)}function xr(c,g){c.H&&_t(c.H,function(v,T){ee(g,T,v)}),c.l&&_o({},function(v,T){ee(g,T,v)})}function ru(c,g,v){v=Math.min(c.i.length,v);var T=c.l?A(c.l.Na,c.l,c):null;t:{var q=c.i;let X=-1;for(;;){const lt=["count="+v];X==-1?0<v?(X=q[0].g,lt.push("ofs="+X)):X=0:lt.push("ofs="+X);let qt=!0;for(let Pe=0;Pe<v;Pe++){let Ht=q[Pe].g;const He=q[Pe].map;if(Ht-=X,0>Ht)X=Math.max(0,q[Pe].g-100),qt=!1;else try{mi(He,lt,"req"+Ht+"_")}catch{T&&T(He)}}if(qt){T=lt.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,T}function su(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;st||M(),dt||(st(),dt=!0),At.add(g,c),c.v=0}}function Ro(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ce(A(c.Fa,c),Co(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ce(A(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),ls(this),ou(this))};function Er(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ou(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=xn(c.qa);ee(g,"RID","rpc"),ee(g,"SID",c.K),ee(g,"AID",c.T),ee(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ee(g,"TO",c.ja),ee(g,"TYPE","xmlhttp"),xr(c,g),c.m&&c.o&&qe(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=pr(xn(g)),v.m=null,v.P=!0,zi(v,c)}a.Za=function(){this.C!=null&&(this.C=null,ls(this),Ro(this),fe(19))};function cs(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function lu(c,g){var v=null;if(c.g==g){cs(c),Er(c),c.g=null;var T=2}else if(yo(c.h,g))v=g.D,hn(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;T=ga(),Ct(T,new je(T,v)),us(c)}else su(c);else if(q=g.s,q==3||q==0&&0<g.X||!(T==1&&Rh(c,g)||T==2&&Ro(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),q){case 1:Qi(c,5);break;case 4:Qi(c,10);break;case 3:Qi(c,6);break;default:Qi(c,2)}}}function Co(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Qi(c,g){if(c.j.info("Error code "+g),g==2){var v=A(c.fb,c),T=c.Xa;const q=!T;T=new De(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||dr(T,"https"),pr(T),q?gr(T.toString(),v):Xn(T.toString(),v)}else fe(2);c.G=0,c.l&&c.l.sa(g),uu(c),au(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function uu(c){if(c.G=0,c.ka=[],c.l){const g=vo(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function cu(c,g,v){var T=v instanceof De?xn(v):new De(v);if(T.g!="")g&&(T.g=g+"."+T.g),xa(T,T.s);else{var q=p.location;T=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var X=new De(null);T&&dr(X,T),g&&(X.g=g),q&&xa(X,q),v&&(X.l=v),T=X}return v=c.D,g=c.ya,v&&g&&ee(T,v,g),ee(T,"VER",c.la),xr(c,T),T}function hu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Xt(new Ea({eb:v})):new Xt(c.pa),g.Ha(c.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}a=fu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function hs(){}hs.prototype.g=function(c,g){return new fn(c,g)};function fn(c,g){Mt.call(this),this.g=new os(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!W(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!W(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new _i(this)}L(fn,Mt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ao(this.g)},fn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=un(c),c=v);g.i.push(new Jl(g.Ya++,c)),g.G==3&&us(g)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,fn.aa.N.call(this)};function du(c){Ui.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(du,Ui);function pu(){fo.call(this),this.status=1}L(pu,fo);function _i(c){this.g=c}L(_i,fu),_i.prototype.ua=function(){Ct(this.g,"a")},_i.prototype.ta=function(c){Ct(this.g,new du(c))},_i.prototype.sa=function(c){Ct(this.g,new pu)},_i.prototype.ra=function(){Ct(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,jb=function(){return new hs},kb=function(){return ga()},Vb=ci,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,Dc=_a,Li.COMPLETE="complete",Mb=Li,ho.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,_l=ho,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,Ob=Xt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",R_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new lb("@firebase/firestore");function Bs(){return Hr.logLevel}function mt(a,...t){if(Hr.logLevel<=$t.DEBUG){const i=t.map(Hp);Hr.debug(`Firestore (${ro}): ${a}`,...i)}}function fa(a,...t){if(Hr.logLevel<=$t.ERROR){const i=t.map(Hp);Hr.error(`Firestore (${ro}): ${a}`,...i)}}function Xs(a,...t){if(Hr.logLevel<=$t.WARN){const i=t.map(Hp);Hr.warn(`Firestore (${ro}): ${a}`,...i)}}function Hp(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,Pb(a,r,i)}function Pb(a,t,i){let r=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fa(r),new Error(r)}function Zt(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||Pb(t,o,r)}function Ot(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends $r{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class d2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class p2{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Za,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Za)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string",31837,{l:r}),new Ub(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class m2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new m2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const r=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new C_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=v2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Lt(a,t){return a<t?-1:a>t?1:0}function op(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),u=t.charAt(r);if(o!==u)return Ld(o)===Ld(u)?Lt(o,u):Ld(o)?1:-1}return Lt(a.length,t.length)}const _2=55296,b2=57343;function Ld(a){const t=a.charCodeAt(0);return t>=_2&&t<=b2}function Zs(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__name__";class Ri{constructor(t,i,r){i===void 0?i=0:i>t.length&&Rt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Rt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Ri.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Lt(t.length,i.length)}static compareSegments(t,i){const r=Ri.isNumericId(t),o=Ri.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):op(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xa.fromString(t.substring(4,t.length-2))}}class ue extends Ri{construct(t,i,r){return new ue(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ri{construct(t,i,r){return new en(t,i,r)}static isValidIdentifier(t){return x2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new en([D_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new gt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new gt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new gt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.path=t}static fromPath(t){return new xt(ue.fromString(t))}static fromName(t){return new xt(ue.fromString(t).popFirst(5))}static empty(){return new xt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(a,t,i){if(!i)throw new gt(at.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function E2(a,t,i,r){if(t===!0&&r===!0)throw new gt(at.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function N_(a){if(!xt.isDocumentKey(a))throw new gt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function I_(a){if(xt.isDocumentKey(a))throw new gt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function zb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function oh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Rt(12329,{type:typeof a})}function Fc(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new gt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oh(a);throw new gt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(a,t){const i={typeString:a};return t&&(i.value=t),i}function ql(a,t){if(!zb(a))throw new gt(at.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const f=a[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new gt(at.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-62135596800,M_=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*M_);return new he(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<O_)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new he(0,0))}static max(){return new It(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function T2(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=It.fromTimestamp(r===1e9?new he(i+1,0):new he(i,r));return new Ja(o,xt.empty(),t)}function w2(a){return new Ja(a.readTime,a.key,Ol)}class Ja{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ja(It.min(),xt.empty(),Ol)}static max(){return new Ja(It.max(),xt.empty(),Ol)}}function A2(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=xt.comparator(a.documentKey,t.documentKey),i!==0?i:Lt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(a){if(a.code!==at.FAILED_PRECONDITION||a.message!==S2)throw a;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new rt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof rt?i:rt.resolve(i)}catch(i){return rt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):rt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):rt.reject(i)}static resolve(t){return new rt(((i,r)=>{i(t)}))}static reject(t){return new rt(((i,r)=>{r(t)}))}static waitFor(t){return new rt(((i,r)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&i()}),(y=>r(y)))})),f=!0,u===o&&i()}))}static or(t){let i=rt.resolve(!1);for(const r of t)i=i.next((o=>o?rt.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new rt(((r,o)=>{const u=t.length,f=new Array(u);let p=0;for(let y=0;y<u;y++){const m=y;i(t[m]).next((_=>{f[m]=_,++p,p===u&&r(f)}),(_=>o(_)))}}))}static doWhile(t,i){return new rt(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function C2(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function uh(a){return a==null}function Gc(a){return a===0&&1/a==-1/0}function D2(a){return typeof a=="number"&&Number.isInteger(a)&&!Gc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="";function N2(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=V_(t)),t=I2(a.get(i),t);return V_(t)}function I2(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const u=a.charAt(o);switch(u){case"\0":i+="";break;case Bb:i+="";break;default:i+=u}}return i}function V_(a){return a+Bb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Qr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function qb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new tn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(t){return new j_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class j_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new ei([])}unionWith(t){let i=new Be(en.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ei(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Zs(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Hb("Invalid base64 string: "+u):u}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(a){if(Zt(!!a,39018),typeof a=="string"){let t=0;const i=O2.exec(a);if(Zt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Re(a.seconds),nanos:Re(a.nanos)}}function Re(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function er(a){return typeof a=="string"?nn.fromBase64String(a):nn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="server_timestamp",Gb="__type__",$b="__previous_value__",Qb="__local_write_time__";function $p(a){return(a?.mapValue?.fields||{})[Gb]?.stringValue===Fb}function ch(a){const t=a.mapValue.fields[$b];return $p(t)?ch(t):t}function Ml(a){const t=tr(a.mapValue.fields[Qb].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,i,r,o,u,f,p,y,m,_){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=m,this.isUsingEmulator=_}}const $c="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="__type__",V2="__max__",Ec={mapValue:{}},Kb="__vector__",Qc="value";function nr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?$p(a)?4:j2(a)?9007199254740991:k2(a)?10:11:Rt(28295,{value:a})}function Mi(a,t){if(a===t)return!0;const i=nr(a);if(i!==nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ml(a).isEqual(Ml(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=tr(o.timestampValue),p=tr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,u){return er(o.bytesValue).isEqual(er(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,u){return Re(o.geoPointValue.latitude)===Re(u.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(u.geoPointValue.longitude)})(a,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Re(o.integerValue)===Re(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Re(o.doubleValue),p=Re(u.doubleValue);return f===p?Gc(f)===Gc(p):isNaN(f)&&isNaN(p)}return!1})(a,t);case 9:return Zs(a.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(k_(f)!==k_(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!Mi(f[y],p[y])))return!1;return!0})(a,t);default:return Rt(52216,{left:a})}}function kl(a,t){return(a.values||[]).find((i=>Mi(i,t)))!==void 0}function Ws(a,t){if(a===t)return 0;const i=nr(a),r=nr(t);if(i!==r)return Lt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(a.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=Re(u.integerValue||u.doubleValue),y=Re(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return P_(a.timestampValue,t.timestampValue);case 4:return P_(Ml(a),Ml(t));case 5:return op(a.stringValue,t.stringValue);case 6:return(function(u,f){const p=er(u),y=er(f);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),y=f.split("/");for(let m=0;m<p.length&&m<y.length;m++){const _=Lt(p[m],y[m]);if(_!==0)return _}return Lt(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Lt(Re(u.latitude),Re(f.latitude));return p!==0?p:Lt(Re(u.longitude),Re(f.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return U_(a.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},y=f.fields||{},m=p[Qc]?.arrayValue,_=y[Qc]?.arrayValue,w=Lt(m?.values?.length||0,_?.values?.length||0);return w!==0?w:U_(m,_)})(a.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Ec.mapValue&&f===Ec.mapValue)return 0;if(u===Ec.mapValue)return 1;if(f===Ec.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),m=f.fields||{},_=Object.keys(m);y.sort(),_.sort();for(let w=0;w<y.length&&w<_.length;++w){const A=op(y[w],_[w]);if(A!==0)return A;const N=Ws(p[y[w]],m[_[w]]);if(N!==0)return N}return Lt(y.length,_.length)})(a.mapValue,t.mapValue);default:throw Rt(23264,{he:i})}}function P_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Lt(a,t);const i=tr(a),r=tr(t),o=Lt(i.seconds,r.seconds);return o!==0?o:Lt(i.nanos,r.nanos)}function U_(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Ws(i[o],r[o]);if(u)return u}return Lt(i.length,r.length)}function Js(a){return lp(a)}function lp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=tr(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return er(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return xt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=lp(u);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${lp(i.fields[f])}`;return o+"}"})(a.mapValue):Rt(61005,{value:a})}function Nc(a){switch(nr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(a);return t?16+Nc(t):16;case 5:return 2*a.stringValue.length;case 6:return er(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Nc(u)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Qr(r.fields,((u,f)=>{o+=u.length+Nc(f)})),o})(a.mapValue);default:throw Rt(13486,{value:a})}}function L_(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function up(a){return!!a&&"integerValue"in a}function Qp(a){return!!a&&"arrayValue"in a}function z_(a){return!!a&&"nullValue"in a}function B_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ic(a){return!!a&&"mapValue"in a}function k2(a){return(a?.mapValue?.fields||{})[Yb]?.stringValue===Kb}function wl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Qr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=wl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(a.arrayValue.values[i]);return t}return{...a}}function j2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===V2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=en.emptyPath(),r={},o=[];t.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=p.popLast()}f?r[p.lastSegment()]=wl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Qr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new qn(wl(this.value))}}function Xb(a){const t=[];return Qr(a.fields,((i,r)=>{const o=new en([i]);if(Ic(r)){const u=Xb(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new ei(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,i,r,o,u,f,p){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new ln(t,0,It.min(),It.min(),It.min(),qn.empty(),0)}static newFoundDocument(t,i,r,o){return new ln(t,1,i,It.min(),r,o,0)}static newNoDocument(t,i){return new ln(t,2,i,It.min(),It.min(),qn.empty(),0)}static newUnknownDocument(t,i){return new ln(t,3,i,It.min(),It.min(),qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function q_(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const u=t[o],f=a.position[o];if(u.field.isKeyField()?r=xt.comparator(xt.fromName(f.referenceValue),i.key):r=Ws(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function H_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Mi(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function P2(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{}class Me extends Zb{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new L2(t,i,r):i==="array-contains"?new q2(t,r):i==="in"?new H2(t,r):i==="not-in"?new F2(t,r):i==="array-contains-any"?new G2(t,r):new Me(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new z2(t,r):new B2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ws(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(Ws(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Zb{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ai(t,i)}matches(t){return Wb(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wb(a){return a.op==="and"}function Jb(a){return U2(a)&&Wb(a)}function U2(a){for(const t of a.filters)if(t instanceof ai)return!1;return!0}function cp(a){if(a instanceof Me)return a.field.canonicalString()+a.op.toString()+Js(a.value);if(Jb(a))return a.filters.map((t=>cp(t))).join(",");{const t=a.filters.map((i=>cp(i))).join(",");return`${a.op}(${t})`}}function tx(a,t){return a instanceof Me?(function(r,o){return o instanceof Me&&r.op===o.op&&r.field.isEqual(o.field)&&Mi(r.value,o.value)})(a,t):a instanceof ai?(function(r,o){return o instanceof ai&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&tx(f,o.filters[p])),!0):!1})(a,t):void Rt(19439)}function ex(a){return a instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Js(i.value)}`})(a):a instanceof ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(ex).join(" ,")+"}"})(a):"Filter"}class L2 extends Me{constructor(t,i,r){super(t,i,r),this.key=xt.fromName(r.referenceValue)}matches(t){const i=xt.comparator(t.key,this.key);return this.matchesComparison(i)}}class z2 extends Me{constructor(t,i){super(t,"in",i),this.keys=nx("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class B2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=nx("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function nx(a,t){return(t.arrayValue?.values||[]).map((i=>xt.fromName(i.referenceValue)))}class q2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Qp(i)&&kl(i.arrayValue,this.value)}}class H2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class F2 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class G2 extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Qp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>kl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,i=null,r=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function F_(a,t=null,i=[],r=[],o=null,u=null,f=null){return new $2(a,t,i,r,o,u,f)}function Yp(a){const t=Ot(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>cp(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Js(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Js(r))).join(",")),t.Te=i}return t.Te}function Kp(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!P2(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!tx(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!H_(a.startAt,t.startAt)&&H_(a.endAt,t.endAt)}function hp(a){return xt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,i=null,r=[],o=[],u=null,f="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q2(a,t,i,r,o,u,f,p){return new Hl(a,t,i,r,o,u,f,p)}function ix(a){return new Hl(a)}function G_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ax(a){return a.collectionGroup!==null}function Al(a){const t=Ot(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Be(en.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Kc(u,r))})),i.has(en.keyField().canonicalString())||t.Ie.push(new Kc(en.keyField(),r))}return t.Ie}function Di(a){const t=Ot(a);return t.Ee||(t.Ee=Y2(t,Al(a))),t.Ee}function Y2(a,t){if(a.limitType==="F")return F_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kc(o.field,u)}));const i=a.endAt?new Yc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Yc(a.startAt.position,a.startAt.inclusive):null;return F_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function fp(a,t){const i=a.filters.concat([t]);return new Hl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function dp(a,t,i){return new Hl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function hh(a,t){return Kp(Di(a),Di(t))&&a.limitType===t.limitType}function rx(a){return`${Yp(Di(a))}|lt:${a.limitType}`}function qs(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>ex(o))).join(", ")}]`),uh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Js(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Js(o))).join(",")),`Target(${r})`})(Di(a))}; limitType=${a.limitType})`}function fh(a,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):xt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(a,t)&&(function(r,o){for(const u of Al(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(f,p,y){const m=q_(f,p,y);return f.inclusive?m<=0:m<0})(r.startAt,Al(r),o)||r.endAt&&!(function(f,p,y){const m=q_(f,p,y);return f.inclusive?m>=0:m>0})(r.endAt,Al(r),o))})(a,t)}function K2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function sx(a){return(t,i)=>{let r=!1;for(const o of Al(a)){const u=X2(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function X2(a,t,i){const r=a.field.isKeyField()?xt.comparator(t.key,i.key):(function(u,f,p){const y=f.data.field(u),m=p.data.field(u);return y!==null&&m!==null?Ws(y,m):Rt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Qr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return qb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new ye(xt.comparator);function da(){return Z2}const ox=new ye(xt.comparator);function bl(...a){let t=ox;for(const i of a)t=t.insert(i.key,i);return t}function lx(a){let t=ox;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function zr(){return Sl()}function ux(){return Sl()}function Sl(){return new Yr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const W2=new ye(xt.comparator),J2=new Be(xt.comparator);function zt(...a){let t=J2;for(const i of a)t=t.add(i);return t}const tC=new Be(Lt);function eC(){return tC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function cx(a){return{integerValue:""+a}}function nC(a,t){return D2(t)?cx(t):Xp(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function iC(a,t,i){return a instanceof Xc?(function(o,u){const f={fields:{[Gb]:{stringValue:Fb},[Qb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$p(u)&&(u=ch(u)),u&&(f.fields[$b]=u),{mapValue:f}})(i,t):a instanceof jl?fx(a,t):a instanceof Pl?dx(a,t):(function(o,u){const f=hx(o,u),p=$_(f)+$_(o.Ae);return up(f)&&up(o.Ae)?cx(p):Xp(o.serializer,p)})(a,t)}function aC(a,t,i){return a instanceof jl?fx(a,t):a instanceof Pl?dx(a,t):i}function hx(a,t){return a instanceof Zc?(function(r){return up(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Xc extends dh{}class jl extends dh{constructor(t){super(),this.elements=t}}function fx(a,t){const i=px(t);for(const r of a.elements)i.some((o=>Mi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Pl extends dh{constructor(t){super(),this.elements=t}}function dx(a,t){let i=px(t);for(const r of a.elements)i=i.filter((o=>!Mi(o,r)));return{arrayValue:{values:i}}}class Zc extends dh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function $_(a){return Re(a.integerValue||a.doubleValue)}function px(a){return Qp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function rC(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof jl&&o instanceof jl||r instanceof Pl&&o instanceof Pl?Zs(r.elements,o.elements,Mi):r instanceof Zc&&o instanceof Zc?Mi(r.Ae,o.Ae):r instanceof Xc&&o instanceof Xc})(a.transform,t.transform)}class sC{constructor(t,i){this.version=t,this.transformResults=i}}class ua{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ua}static exists(t){return new ua(void 0,t)}static updateTime(t){return new ua(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class ph{}function mx(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new yx(a.key,ua.none()):new Fl(a.key,a.data,ua.none());{const i=a.data,r=qn.empty();let o=new Be(en.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Kr(a.key,r,new ei(o.toArray()),ua.none())}}function oC(a,t,i){a instanceof Fl?(function(o,u,f){const p=o.value.clone(),y=Y_(o.fieldTransforms,u,f.transformResults);p.setAll(y),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Kr?(function(o,u,f){if(!Oc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Y_(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(gx(o)),y.setAll(p),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(a,t,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Rl(a,t,i,r){return a instanceof Fl?(function(u,f,p,y){if(!Oc(u.precondition,f))return p;const m=u.value.clone(),_=K_(u.fieldTransforms,y,f);return m.setAll(_),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(a,t,i,r):a instanceof Kr?(function(u,f,p,y){if(!Oc(u.precondition,f))return p;const m=K_(u.fieldTransforms,y,f),_=f.data;return _.setAll(gx(u)),_.setAll(m),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(a,t,i,r):(function(u,f,p){return Oc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,t,i)}function lC(a,t){let i=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),u=hx(r.transform,o||null);u!=null&&(i===null&&(i=qn.empty()),i.set(r.field,u))}return i||null}function Q_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Zs(r,o,((u,f)=>rC(u,f)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Fl extends ph{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kr extends ph{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gx(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function Y_(a,t,i){const r=new Map;Zt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const u=a[o],f=u.transform,p=t.data.field(u.field);r.set(u.field,aC(f,p,i[o]))}return r}function K_(a,t,i){const r=new Map;for(const o of a){const u=o.transform,f=i.data.field(o.field);r.set(o.field,iC(u,f,t))}return r}class yx extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uC extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&oC(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Rl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Rl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=ux();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(o.key)?null:p;const y=mx(f,p);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(It.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Zs(this.mutations,t.mutations,((i,r)=>Q_(i,r)))&&Zs(this.baseMutations,t.baseMutations,((i,r)=>Q_(i,r)))}}class Zp{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Zt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return W2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Zp(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,Gt;function dC(a){switch(a){case at.OK:return Rt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Rt(15467,{code:a})}}function vx(a){if(a===void 0)return fa("GRPC error has no .code"),at.UNKNOWN;switch(a){case Oe.OK:return at.OK;case Oe.CANCELLED:return at.CANCELLED;case Oe.UNKNOWN:return at.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return at.INTERNAL;case Oe.UNAVAILABLE:return at.UNAVAILABLE;case Oe.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Oe.NOT_FOUND:return at.NOT_FOUND;case Oe.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Oe.ABORTED:return at.ABORTED;case Oe.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Oe.DATA_LOSS:return at.DATA_LOSS;default:return Rt(39323,{code:a})}}(Gt=Oe||(Oe={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Xa([4294967295,4294967295],0);function X_(a){const t=pC().encode(a),i=new Ib;return i.update(t),new Uint8Array(i.digest())}function Z_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Xa([i,r],0),new Xa([o,u],0)]}class Wp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xa.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Xa.fromNumber(r)));return o.compare(mC)===1&&(o=new Xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=X_(t),[r,o]=Z_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Wp(u,o,i);return r.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const i=X_(t),[r,o]=Z_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new mh(It.min(),o,new ye(Lt),da(),zt())}}class Gl{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Gl(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class _x{constructor(t,i){this.targetId=t,this.Ce=i}}class bx{constructor(t,i,r=nn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class W_{constructor(){this.ve=0,this.Fe=J_(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Rt(38017,{changeType:u})}})),new Gl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=J_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gC{constructor(t){this.Ge=t,this.ze=new Map,this.je=da(),this.Je=Tc(),this.He=Tc(),this.Ye=new ye(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(hp(u))if(r===0){const f=new xt(u.path);this.et(i,f,ln.newNoDocument(f,It.min()))}else Zt(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const p=this.ut(t),y=p?this.ct(p,t,f):1;if(y!==0){this.it(i);const m=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,m)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let f,p;try{f=er(r).toUint8Array()}catch(y){if(y instanceof Hb)return Xs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Wp(f,o,u)}catch(y){return Xs(y instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&hp(p.target)){const y=new xt(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,ln.newNoDocument(y,t))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let r=zt();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((y=>{const m=this.ot(y);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new mh(t,i,this.Ye,this.je,r);return this.je=da(),this.Je=Tc(),this.He=Tc(),this.Ye=new ye(Lt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new W_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Be(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Be(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||mt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new W_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Tc(){return new ye(xt.comparator)}function J_(){return new ye(xt.comparator)}const yC={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class bC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pp(a,t){return a.useProto3Json||uh(t)?t:{value:t}}function Wc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xx(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function xC(a,t){return Wc(a,t.toTimestamp())}function Ni(a){return Zt(!!a,49232),It.fromTimestamp((function(i){const r=tr(i);return new he(r.seconds,r.nanos)})(a))}function Jp(a,t){return mp(a,t).canonicalString()}function mp(a,t){const i=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function Ex(a){const t=ue.fromString(a);return Zt(Rx(t),10190,{key:t.toString()}),t}function gp(a,t){return Jp(a.databaseId,t.path)}function zd(a,t){const i=Ex(t);if(i.get(1)!==a.databaseId.projectId)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new xt(wx(i))}function Tx(a,t){return Jp(a.databaseId,t)}function EC(a){const t=Ex(a);return t.length===4?ue.emptyPath():wx(t)}function yp(a){return new ue(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function wx(a){return Zt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function t0(a,t,i){return{name:gp(a,t),fields:i.value.mapValue.fields}}function TC(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Rt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(m,_){return m.useProto3Json?(Zt(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):(Zt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(a,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(m){const _=m.code===void 0?at.UNKNOWN:vx(m.code);return new gt(_,m.message||"")})(f);i=new bx(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=zd(a,r.document.name),u=Ni(r.document.updateTime),f=r.document.createTime?Ni(r.document.createTime):It.min(),p=new qn({mapValue:{fields:r.document.fields}}),y=ln.newFoundDocument(o,u,f,p),m=r.targetIds||[],_=r.removedTargetIds||[];i=new Mc(m,_,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=zd(a,r.document),u=r.readTime?Ni(r.readTime):It.min(),f=ln.newNoDocument(o,u),p=r.removedTargetIds||[];i=new Mc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=zd(a,r.document),u=r.removedTargetIds||[];i=new Mc([],u,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new fC(o,u),p=r.targetId;i=new _x(p,f)}}return i}function wC(a,t){let i;if(t instanceof Fl)i={update:t0(a,t.key,t.value)};else if(t instanceof yx)i={delete:gp(a,t.key)};else if(t instanceof Kr)i={update:t0(a,t.key,t.data),updateMask:MC(t.fieldMask)};else{if(!(t instanceof uC))return Rt(16599,{Vt:t.type});i={verify:gp(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof Xc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zc)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Rt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:xC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Rt(27497)})(a,t.precondition)),i}function AC(a,t){return a&&a.length>0?(Zt(t!==void 0,14353),a.map((i=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(It.min())&&(f=Ni(u)),new sC(f,o.transformResults||[])})(i,t)))):[]}function SC(a,t){return{documents:[Tx(a,t.path)]}}function RC(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Tx(a,o);const u=(function(m){if(m.length!==0)return Sx(ai.create(m,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const f=(function(m){if(m.length!==0)return m.map((_=>(function(A){return{field:Hs(A.field),direction:NC(A.dir)}})(_)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const p=pp(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:i,parent:o}}function CC(a){let t=EC(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Zt(r===1,65062);const _=i.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];i.where&&(u=(function(w){const A=Ax(w);return A instanceof ai&&Jb(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(w){return w.map((A=>(function(L){return new Kc(Fs(L.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let A;return A=typeof w=="object"?w.value:w,uh(A)?null:A})(i.limit));let y=null;i.startAt&&(y=(function(w){const A=!!w.before,N=w.values||[];return new Yc(N,A)})(i.startAt));let m=null;return i.endAt&&(m=(function(w){const A=!w.before,N=w.values||[];return new Yc(N,A)})(i.endAt)),Q2(t,o,f,u,p,"F",y,m)}function DC(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Ax(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Fs(i.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Fs(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fs(i.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fs(i.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Me.create(Fs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ai.create(i.compositeFilter.filters.map((r=>Ax(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(i.compositeFilter.op))})(a):Rt(30097,{filter:a})}function NC(a){return yC[a]}function IC(a){return vC[a]}function OC(a){return _C[a]}function Hs(a){return{fieldPath:a.canonicalString()}}function Fs(a){return en.fromServerFormat(a.fieldPath)}function Sx(a){return a instanceof Me?(function(i){if(i.op==="=="){if(B_(i.value))return{unaryFilter:{field:Hs(i.field),op:"IS_NAN"}};if(z_(i.value))return{unaryFilter:{field:Hs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(B_(i.value))return{unaryFilter:{field:Hs(i.field),op:"IS_NOT_NAN"}};if(z_(i.value))return{unaryFilter:{field:Hs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(i.field),op:IC(i.op),value:i.value}}})(a):a instanceof ai?(function(i){const r=i.getFilters().map((o=>Sx(o)));return r.length===1?r[0]:{compositeFilter:{op:OC(i.op),filters:r}}})(a):Rt(54877,{filter:a})}function MC(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function Rx(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,i,r,o,u=It.min(),f=It.min(),p=nn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new $a(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.yt=t}}function kC(a){const t=CC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?dp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.Cn=new PC}addToCollectionParentIndex(t,i){return this.Cn.add(i),rt.resolve()}getCollectionParents(t,i){return rt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return rt.resolve()}deleteFieldIndex(t,i){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,i){return rt.resolve()}getDocumentsMatchingTarget(t,i){return rt.resolve(null)}getIndexType(t,i){return rt.resolve(0)}getFieldIndexes(t,i){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,i){return rt.resolve(Ja.min())}getMinOffsetFromCollectionGroup(t,i){return rt.resolve(Ja.min())}updateCollectionGroup(t,i,r){return rt.resolve()}updateIndexEntries(t,i){return rt.resolve()}}class PC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Be(ue.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Be(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cx=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Cx,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LruGarbageCollector",UC=1048576;function i0([a,t],[i,r]){const o=Lt(a,i);return o===0?Lt(t,r):o}class LC{constructor(t){this.Ir=t,this.buffer=new Be(i0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();i0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(n0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?mt(n0,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class BC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return rt.resolve(lh.ce);const r=new LC(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(e0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,f,p,y,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(t,r,i)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((w=>(m=Date.now(),Bs()<=$t.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(m-y)+`ms
Total Duration: ${m-_}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function qC(a,t){return new BC(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?rt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Rl(r.mutation,o,ei.empty(),he.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const o=zr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let f=bl();return u.forEach(((p,y)=>{f=f.insert(p,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const r=zr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(t,i,r,o){let u=da();const f=Sl(),p=(function(){return Sl()})();return i.forEach(((y,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Kr)?u=u.insert(m.key,m):_!==void 0?(f.set(m.key,_.mutation.getFieldMask()),Rl(_.mutation,m,_.mutation.getFieldMask(),he.now())):f.set(m.key,ei.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((m,_)=>f.set(m,_))),i.forEach(((m,_)=>p.set(m,new FC(_,f.get(m)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Sl();let o=new ye(((f,p)=>f-p)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const p of f)p.keys().forEach((y=>{const m=i.get(y);if(m===null)return;let _=r.get(y)||ei.empty();_=p.applyToLocalView(m,_),r.set(y,_);const w=(o.get(p.batchId)||zt()).add(y);o=o.insert(p.batchId,w)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),m=y.key,_=y.value,w=ux();_.forEach((A=>{if(!u.has(A)){const N=mx(i.get(A),r.get(A));N!==null&&w.set(A,N),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(t,m,w))}return rt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(f){return xt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ax(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):rt.resolve(zr());let p=Ol,y=u;return f.next((m=>rt.forEach(m,((_,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(_)?rt.resolve():this.remoteDocumentCache.getEntry(t,_).next((A=>{y=y.insert(_,A)}))))).next((()=>this.populateOverlays(t,m,u))).next((()=>this.computeViews(t,y,m,zt()))).next((_=>({batchId:p,changes:lx(_)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new xt(i)).next((r=>{let o=bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let f=bl();return this.indexManager.getCollectionParents(t,u).next((p=>rt.forEach(p,(y=>{const m=(function(w,A){return new Hl(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,m,r,o).next((_=>{_.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((f=>{u.forEach(((y,m)=>{const _=m.getKey();f.get(_)===null&&(f=f.insert(_,ln.newInvalidDocument(_)))}));let p=bl();return f.forEach(((y,m)=>{const _=u.get(y);_!==void 0&&Rl(_.mutation,m,ei.empty(),he.now()),fh(i,m)&&(p=p.insert(y,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return rt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(i)),rt.resolve()}getNamedQuery(t,i){return rt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:kC(o.bundledQuery),readTime:Ni(o.readTime)}})(i)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.overlays=new ye(xt.comparator),this.qr=new Map}getOverlay(t,i){return rt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=zr();return rt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),rt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),rt.resolve()}getOverlaysForCollection(t,i,r){const o=zr(),u=i.length+1,f=new xt(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,m=y.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ye(((m,_)=>m-_));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>r){let _=u.get(m.largestBatchId);_===null&&(_=zr(),u=u.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const p=zr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((m,_)=>p.set(m,_))),!(p.size()>=o)););return rt.resolve(p)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new hC(i,r));let u=this.qr.get(i);u===void 0&&(u=zt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Qr=new Be(Qe.$r),this.Ur=new Be(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Qe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Qe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new xt(new ue([])),r=new Qe(i,t),o=new Qe(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new xt(new ue([])),r=new Qe(i,t),o=new Qe(i,t+1);let u=zt();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const i=new Qe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Qe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return xt.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||xt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Be(Qe.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new cC(u,i,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Qe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return rt.resolve(f)}lookupMutationBatch(t,i){return rt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Be(Lt);return i.forEach((o=>{const u=new Qe(o,0),f=new Qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),rt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;xt.isDocumentKey(u)||(u=u.child(""));const f=new Qe(new xt(u),0);let p=new Be(Lt);return this.Zr.forEachWhile((y=>{const m=y.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(y.Yr)),!0)}),f),rt.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return rt.forEach(i.mutations,(o=>{const u=new Qe(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Qe(i,0),o=this.Zr.firstAfterOrEqual(r);return rt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.ri=t,this.docs=(function(){return new ye(xt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return rt.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(t,i){let r=da();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))})),rt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=da();const f=i.path,p=new xt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:m,value:{document:_}}=y.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||A2(w2(_),r)<=0||(o.has(_.key)||fh(i,_))&&(u=u.insert(_.key,_.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Rt(9500)}ii(t,i){return rt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new ZC(this)}getSize(t){return rt.resolve(this.size)}}class ZC extends HC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),rt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.persistence=t,this.si=new Yr((i=>Yp(i)),Kp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new tm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),rt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,rt.resolve()}updateTargetData(t,i){return this.Pr(i),rt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return rt.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),rt.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),rt.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return rt.resolve(r)}containsKey(t,i){return rt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,i){this.ui={},this.overlays={},this.ci=new lh(0),this.li=!1,this.li=!0,this.hi=new YC,this.referenceDelegate=t(this),this.Pi=new WC(this),this.indexManager=new jC,this.remoteDocumentCache=(function(o){return new XC(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new VC(i),this.Ii=new $C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new QC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new KC(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){mt("MemoryPersistence","Starting transaction:",t);const o=new JC(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return rt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class JC extends R2{constructor(t){super(),this.currentSequenceNumber=t}}class em{constructor(t){this.persistence=t,this.Ri=new tm,this.Vi=null}static mi(t){return new em(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),rt.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),rt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),rt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(r=>{const o=xt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,It.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return rt.or([()=>rt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.pi=new Yr((r=>N2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=qC(this,i)}static mi(t,i){return new Jc(t,i)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return rt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?rt.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,i).next((p=>{p||(r++,u.removeEntry(f,It.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),rt.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nc(t.data.value)),i}br(t,i,r){return rt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return rt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=zt(),o=zt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new nm(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MA()?8:C2(IA())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new tD;return this.Ss(t,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,i,f,p.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Bs()<=$t.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",qs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(Bs()<=$t.DEBUG&&mt("QueryEngine","Query:",qs(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Bs()<=$t.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",qs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):rt.resolve())}ys(t,i){if(G_(i))return rt.resolve(null);let r=Di(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dp(i,null,"F"),r=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=zt(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const m=this.Ds(i,p);return this.Cs(i,m,f,y.readTime)?this.ys(t,dp(i,null,"F")):this.vs(t,m,i,y)}))))})))))}ws(t,i,r,o){return G_(i)||o.isEqual(It.min())?rt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,r,o)?rt.resolve(null):(Bs()<=$t.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qs(i)),this.vs(t,f,i,T2(o,Ol)).next((p=>p)))}))}Ds(t,i){let r=new Be(sx(t));return i.forEach(((o,u)=>{fh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Bs()<=$t.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",qs(i)),this.ps.getDocumentsMatchingQuery(t,i,Ja.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",nD=3e8;class iD{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ye(Lt),this.xs=new Yr((u=>Yp(u)),Kp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function aD(a,t,i,r){return new iD(a,t,i,r)}async function Nx(a,t){const i=Ot(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let y=zt();for(const m of o){f.push(m.batchId);for(const _ of m.mutations)y=y.add(_.key)}for(const m of u){p.push(m.batchId);for(const _ of m.mutations)y=y.add(_.key)}return i.localDocuments.getDocuments(r,y).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:p})))}))}))}function rD(a,t){const i=Ot(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,m,_){const w=m.batch,A=w.keys();let N=rt.resolve();return A.forEach((L=>{N=N.next((()=>_.getEntry(y,L))).next((V=>{const j=m.docVersions.get(L);Zt(j!==null,48541),V.version.compareTo(j)<0&&(w.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),_.addEntry(V)))}))})),N.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=zt();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(y=y.add(p.batch.mutations[m].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Ix(a){const t=Ot(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function sD(a,t){const i=Ot(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((_,w)=>{const A=o.get(w);if(!A)return;p.push(i.Pi.removeMatchingKeys(u,_.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(u,_.addedDocuments,w))));let N=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?N=N.withResumeToken(nn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,r)),o=o.insert(w,N),(function(V,j,Z){return V.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=nD?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,N,_)&&p.push(i.Pi.updateTargetData(u,N))}));let y=da(),m=zt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(oD(u,f,t.documentUpdates).next((_=>{y=_.ks,m=_.qs}))),!r.isEqual(It.min())){const _=i.Pi.getLastRemoteSnapshotVersion(u).next((w=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(_)}return rt.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,m))).next((()=>y))})).then((u=>(i.Ms=o,u)))}function oD(a,t,i){let r=zt(),o=zt();return i.forEach((u=>r=r.add(u))),t.getEntries(a,r).next((u=>{let f=da();return i.forEach(((p,y)=>{const m=u.get(p);y.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(It.min())?(t.removeEntry(p,y.readTime),f=f.insert(p,y)):!m.isValidDocument()||y.version.compareTo(m.version)>0||y.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(y),f=f.insert(p,y)):mt(im,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function lD(a,t){const i=Ot(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Gp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function uD(a,t){const i=Ot(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,rt.resolve(o)):i.Pi.allocateTargetId(r).next((f=>(o=new $a(t,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function vp(a,t,i){const r=Ot(a),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!oo(f))throw f;mt(im,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function a0(a,t,i){const r=Ot(a);let o=It.min(),u=zt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,m,_){const w=Ot(y),A=w.xs.get(_);return A!==void 0?rt.resolve(w.Ms.get(A)):w.Pi.getTargetData(m,_)})(r,f,Di(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,i?o:It.min(),i?u:zt()))).next((p=>(cD(r,K2(t),p),{documents:p,Qs:u})))))}function cD(a,t,i){let r=a.Os.get(t)||It.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),a.Os.set(t,r)}class r0{constructor(){this.activeTargetIds=eC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hD{constructor(){this.Mo=new r0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new r0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="ConnectivityMonitor";class o0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(s0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(s0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function _p(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",dD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===$c?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const f=_p(),p=this.zo(t,i.toUriEncodedString());mt(Bd,`Sending RPC '${t}' ${f}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:m}=new URL(p),_=Bl(m);return this.Jo(t,p,y,r,_).then((w=>(mt(Bd,`Received RPC '${t}' ${f}: `,w),w)),(w=>{throw Xs(Bd,`RPC '${t}' ${f} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(t,i,r,o,u,f){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=dD[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class gD extends pD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const f=_p();return new Promise(((p,y)=>{const m=new Ob;m.setWithCredentials(!0),m.listenOnce(Mb.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Dc.NO_ERROR:const w=m.getResponseJson();mt(sn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),p(w);break;case Dc.TIMEOUT:mt(sn,`RPC '${t}' ${f} timed out`),y(new gt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const A=m.getStatus();if(mt(sn,`RPC '${t}' ${f} failed with status:`,A,"response text:",m.getResponseText()),A>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N?.error;if(L&&L.status&&L.message){const V=(function(Z){const W=Z.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(W)>=0?W:at.UNKNOWN})(L.status);y(new gt(V,L.message))}else y(new gt(at.UNKNOWN,"Server responded with status "+m.getStatus()))}else y(new gt(at.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{mt(sn,`RPC '${t}' ${f} completed.`)}}));const _=JSON.stringify(o);mt(sn,`RPC '${t}' ${f} sending request:`,o),m.send(i,"POST",_,r,15)}))}T_(t,i,r){const o=_p(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=jb(),p=kb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const _=u.join("");mt(sn,`Creating RPC '${t}' stream ${o}: ${_}`,y);const w=f.createWebChannel(_,y);this.I_(w);let A=!1,N=!1;const L=new mD({Yo:j=>{N?mt(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(A||(mt(sn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),A=!0),mt(sn,`RPC '${t}' stream ${o} sending:`,j),w.send(j))},Zo:()=>w.close()}),V=(j,Z,W)=>{j.listen(Z,(J=>{try{W(J)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return V(w,_l.EventType.OPEN,(()=>{N||(mt(sn,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),V(w,_l.EventType.CLOSE,(()=>{N||(N=!0,mt(sn,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(w))})),V(w,_l.EventType.ERROR,(j=>{N||(N=!0,Xs(sn,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),L.a_(new gt(at.UNAVAILABLE,"The operation could not be completed")))})),V(w,_l.EventType.MESSAGE,(j=>{if(!N){const Z=j.data[0];Zt(!!Z,16349);const W=Z,J=W?.error||W[0]?.error;if(J){mt(sn,`RPC '${t}' stream ${o} received error:`,J);const ut=J.status;let ht=(function(R){const C=Oe[R];if(C!==void 0)return vx(C)})(ut),_t=J.message;ht===void 0&&(ht=at.INTERNAL,_t="Unknown error status: "+ut+" with message "+J.message),N=!0,L.a_(new gt(ht,_t)),w.close()}else mt(sn,`RPC '${t}' stream ${o} received:`,Z),L.u_(Z)}})),V(p,Vb.STAT_EVENT,(j=>{j.stat===sp.PROXY?mt(sn,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===sp.NOPROXY&&mt(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(a){return new bC(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="PersistentStream";class Mx{constructor(t,i,r,o,u,f,p,y){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ox(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(fa(i.toString()),fa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(l0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(mt(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yD extends Mx{constructor(t,i,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=TC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return It.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?It.min():f.readTime?Ni(f.readTime):It.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=yp(this.serializer),i.addTarget=(function(u,f){let p;const y=f.target;if(p=hp(y)?{documents:SC(u,y)}:{query:RC(u,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=xx(u,f.resumeToken);const m=pp(u,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(It.min())>0){p.readTime=Wc(u,f.snapshotVersion.toTimestamp());const m=pp(u,f.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,t);const r=DC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=yp(this.serializer),i.removeTarget=t,this.q_(i)}}class vD extends Mx{constructor(t,i,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=AC(t.writeResults,t.commitTime),r=Ni(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=yp(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>wC(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{}class bD extends _D{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,mp(i,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(at.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,mp(i,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new gt(at.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fa(i),this.aa=!1):mt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="RemoteStore";class ED{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Xr(this)&&(mt(Fr,"Restarting streams for network reachability change."),await(async function(y){const m=Ot(y);m.Ea.add(4),await $l(m),m.Ra.set("Unknown"),m.Ea.delete(4),await yh(m)})(this))}))})),this.Ra=new xD(r,o)}}async function yh(a){if(Xr(a))for(const t of a.da)await t(!0)}async function $l(a){for(const t of a.da)await t(!1)}function Vx(a,t){const i=Ot(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),om(i)?sm(i):lo(i).O_()&&rm(i,t))}function am(a,t){const i=Ot(a),r=lo(i);i.Ia.delete(t),r.O_()&&kx(i,t),i.Ia.size===0&&(r.O_()?r.L_():Xr(i)&&i.Ra.set("Unknown"))}function rm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(a).Y_(t)}function kx(a,t){a.Va.Ue(t),lo(a).Z_(t)}function sm(a){a.Va=new gC({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),lo(a).start(),a.Ra.ua()}function om(a){return Xr(a)&&!lo(a).x_()&&a.Ia.size>0}function Xr(a){return Ot(a).Ea.size===0}function jx(a){a.Va=void 0}async function TD(a){a.Ra.set("Online")}async function wD(a){a.Ia.forEach(((t,i)=>{rm(a,t)}))}async function AD(a,t){jx(a),om(a)?(a.Ra.ha(t),sm(a)):a.Ra.set("Unknown")}async function SD(a,t,i){if(a.Ra.set("Online"),t instanceof bx&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(r){mt(Fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await th(a,r)}else if(t instanceof Mc?a.Va.Ze(t):t instanceof _x?a.Va.st(t):a.Va.tt(t),!i.isEqual(It.min()))try{const r=await Ix(a.localStore);i.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((y,m)=>{if(y.resumeToken.approximateByteSize()>0){const _=u.Ia.get(m);_&&u.Ia.set(m,_.withResumeToken(y.resumeToken,f))}})),p.targetMismatches.forEach(((y,m)=>{const _=u.Ia.get(y);if(!_)return;u.Ia.set(y,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),kx(u,y);const w=new $a(_.target,y,m,_.sequenceNumber);rm(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){mt(Fr,"Failed to raise snapshot:",r),await th(a,r)}}async function th(a,t,i){if(!oo(t))throw t;a.Ea.add(1),await $l(a),a.Ra.set("Offline"),i||(i=()=>Ix(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{mt(Fr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await yh(a)}))}function Px(a,t){return t().catch((i=>th(a,i,t)))}async function vh(a){const t=Ot(a),i=ir(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gp;for(;RD(t);)try{const o=await lD(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,CD(t,o)}catch(o){await th(t,o)}Ux(t)&&Lx(t)}function RD(a){return Xr(a)&&a.Ta.length<10}function CD(a,t){a.Ta.push(t);const i=ir(a);i.O_()&&i.X_&&i.ea(t.mutations)}function Ux(a){return Xr(a)&&!ir(a).x_()&&a.Ta.length>0}function Lx(a){ir(a).start()}async function DD(a){ir(a).ra()}async function ND(a){const t=ir(a);for(const i of a.Ta)t.ea(i.mutations)}async function ID(a,t,i){const r=a.Ta.shift(),o=Zp.from(r,t,i);await Px(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await vh(a)}async function OD(a,t){t&&ir(a).X_&&await(async function(r,o){if((function(f){return dC(f)&&f!==at.ABORTED})(o.code)){const u=r.Ta.shift();ir(r).B_(),await Px(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vh(r)}})(a,t),Ux(a)&&Lx(a)}async function u0(a,t){const i=Ot(a);i.asyncQueue.verifyOperationInProgress(),mt(Fr,"RemoteStore received new credentials");const r=Xr(i);i.Ea.add(3),await $l(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function MD(a,t){const i=Ot(a);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function lo(a){return a.ma||(a.ma=(function(i,r,o){const u=Ot(i);return u.sa(),new yD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:TD.bind(null,a),t_:wD.bind(null,a),r_:AD.bind(null,a),H_:SD.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),om(a)?sm(a):a.Ra.set("Unknown")):(await a.ma.stop(),jx(a))}))),a.ma}function ir(a){return a.fa||(a.fa=(function(i,r,o){const u=Ot(i);return u.sa(),new vD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:DD.bind(null,a),r_:OD.bind(null,a),ta:ND.bind(null,a),na:ID.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await vh(a)):(await a.fa.stop(),a.Ta.length>0&&(mt(Fr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const f=Date.now()+r,p=new lm(t,i,f,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function um(a,t){if(fa("AsyncQueue",`${t}: ${a}`),oo(a))return new gt(at.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{static emptySet(t){return new Gs(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||xt.comparator(i.key,r.key):(i,r)=>xt.comparator(i.key,r.key),this.keyedMap=bl(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Gs)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Gs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.ga=new ye(xt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class eo{constructor(t,i,r,o,u,f,p,y,m){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=m}static fromInitialDocuments(t,i,r,o,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new eo(t,i,Gs.emptySet(i),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kD{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ot(i),u=o.queries;o.queries=h0(),u.forEach(((f,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new gt(at.ABORTED,"Firestore shutting down"))}}function h0(){return new Yr((a=>rx(a)),hh)}async function jD(a,t){const i=Ot(a);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new VD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=um(f,`Initialization of query '${qs(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&cm(i)}async function PD(a,t){const i=Ot(a),r=t.query;let o=3;const u=i.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function UD(a,t){const i=Ot(a);let r=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&cm(i)}function LD(a,t,i){const r=Ot(a),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function cm(a){a.Ca.forEach((t=>{t.next()}))}var bp,f0;(f0=bp||(bp={})).Ma="default",f0.Cache="cache";class zD{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new eo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t){this.key=t}}class Bx{constructor(t){this.key=t}}class BD{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=sx(t),this.tu=new Gs(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new c0,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,w)=>{const A=o.get(_),N=fh(this.query,w)?w:null,L=!!A&&this.mutatedKeys.has(A.key),V=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;A&&N?A.data.isEqual(N.data)?L!==V&&(r.track({type:3,doc:N}),j=!0):this.su(A,N)||(r.track({type:2,doc:N}),j=!0,(y&&this.eu(N,y)>0||m&&this.eu(N,m)<0)&&(p=!0)):!A&&N?(r.track({type:0,doc:N}),j=!0):A&&!N&&(r.track({type:1,doc:A}),j=!0,(y||m)&&(p=!0)),j&&(N?(f=f.add(N),u=V?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((_,w)=>(function(N,L){const V=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:j})}};return V(N)-V(L)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,m=y!==this.Za;return this.Za=y,f.length!==0||m?{snapshot:new eo(this.query,t.tu,u,f,t.mutatedKeys,y===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new Bx(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new zx(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hm="SyncEngine";class qD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class HD{constructor(t){this.key=t,this.hu=!1}}class FD{constructor(t,i,r,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Yr((p=>rx(p)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new ye(xt.comparator),this.Au=new Map,this.Ru=new tm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GD(a,t,i=!0){const r=Qx(a);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qx(r,t,i,!0),o}async function $D(a,t){const i=Qx(a);await qx(i,t,!0,!1)}async function qx(a,t,i,r){const o=await uD(a.localStore,Di(t)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await QD(a,t,u,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&Vx(a.remoteStore,o),p}async function QD(a,t,i,r,o){a.pu=(w,A,N)=>(async function(V,j,Z,W){let J=j.view.ru(Z);J.Cs&&(J=await a0(V.localStore,j.query,!1).then((({documents:O})=>j.view.ru(O,J))));const ut=W&&W.targetChanges.get(j.targetId),ht=W&&W.targetMismatches.get(j.targetId)!=null,_t=j.view.applyChanges(J,V.isPrimaryClient,ut,ht);return p0(V,j.targetId,_t.au),_t.snapshot})(a,w,A,N);const u=await a0(a.localStore,t,!0),f=new BD(t,u.Qs),p=f.ru(u.documents),y=Gl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),m=f.applyChanges(p,a.isPrimaryClient,y);p0(a,i,m.au);const _=new qD(t,i,f);return a.Tu.set(t,_),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),m.snapshot}async function YD(a,t,i){const r=Ot(a),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!hh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&am(r.remoteStore,o.targetId),xp(r,o.targetId)})).catch(so)):(xp(r,o.targetId),await vp(r.localStore,o.targetId,!0))}async function KD(a,t){const i=Ot(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),am(i.remoteStore,r.targetId))}async function XD(a,t,i){const r=iN(a);try{const o=await(function(f,p){const y=Ot(f),m=he.now(),_=p.reduce(((N,L)=>N.add(L.key)),zt());let w,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let L=da(),V=zt();return y.Ns.getEntries(N,_).next((j=>{L=j,L.forEach(((Z,W)=>{W.isValidDocument()||(V=V.add(Z))}))})).next((()=>y.localDocuments.getOverlayedDocuments(N,L))).next((j=>{w=j;const Z=[];for(const W of p){const J=lC(W,w.get(W.key).overlayedDocument);J!=null&&Z.push(new Kr(W.key,J,Xb(J.value.mapValue),ua.exists(!0)))}return y.mutationQueue.addMutationBatch(N,m,Z,p)})).next((j=>{A=j;const Z=j.applyToLocalDocumentSet(w,V);return y.documentOverlayCache.saveOverlays(N,j.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:lx(w)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,y){let m=f.Vu[f.currentUser.toKey()];m||(m=new ye(Lt)),m=m.insert(p,y),f.Vu[f.currentUser.toKey()]=m})(r,o.batchId,i),await Ql(r,o.changes),await vh(r.remoteStore)}catch(o){const u=um(o,"Failed to persist write");i.reject(u)}}async function Hx(a,t){const i=Ot(a);try{const r=await sD(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Zt(f.hu,14607):o.removedDocuments.size>0&&(Zt(f.hu,42227),f.hu=!1))})),await Ql(i,r,t)}catch(r){await so(r)}}function d0(a,t,i){const r=Ot(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const y=Ot(f);y.onlineState=p;let m=!1;y.queries.forEach(((_,w)=>{for(const A of w.Sa)A.va(p)&&(m=!0)})),m&&cm(y)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ZD(a,t,i){const r=Ot(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new ye(xt.comparator);f=f.insert(u,ln.newNoDocument(u,It.min()));const p=zt().add(u),y=new mh(It.min(),new Map,new ye(Lt),f,p);await Hx(r,y),r.du=r.du.remove(u),r.Au.delete(t),fm(r)}else await vp(r.localStore,t,!1).then((()=>xp(r,t,i))).catch(so)}async function WD(a,t){const i=Ot(a),r=t.batch.batchId;try{const o=await rD(i.localStore,t);Gx(i,r,null),Fx(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(i,o)}catch(o){await so(o)}}async function JD(a,t,i){const r=Ot(a);try{const o=await(function(f,p){const y=Ot(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return y.mutationQueue.lookupMutationBatch(m,p).next((w=>(Zt(w!==null,37113),_=w.keys(),y.mutationQueue.removeMutationBatch(m,w)))).next((()=>y.mutationQueue.performConsistencyCheck(m))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(m,_,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>y.localDocuments.getDocuments(m,_)))}))})(r.localStore,t);Gx(r,t,i),Fx(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Ql(r,o)}catch(o){await so(o)}}function Fx(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function Gx(a,t,i){const r=Ot(a);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function xp(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||$x(a,r)}))}function $x(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(am(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),fm(a))}function p0(a,t,i){for(const r of i)r instanceof zx?(a.Ru.addReference(r.key,t),tN(a,r)):r instanceof Bx?(mt(hm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||$x(a,r.key)):Rt(19791,{wu:r})}function tN(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(mt(hm,"New document in limbo: "+i),a.Eu.add(r),fm(a))}function fm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new xt(ue.fromString(t)),r=a.fu.next();a.Au.set(r,new HD(i)),a.du=a.du.insert(i,r),Vx(a.remoteStore,new $a(Di(ix(i.path)),r,"TargetPurposeLimboResolution",lh.ce))}}async function Ql(a,t,i){const r=Ot(a),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{f.push(r.pu(y,t,i).then((m=>{if((m||i)&&r.isPrimaryClient){const _=m?!m.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(m){o.push(m);const _=nm.As(y.targetId,m);u.push(_)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,m){const _=Ot(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>rt.forEach(m,(A=>rt.forEach(A.Es,(N=>_.persistence.referenceDelegate.addReference(w,A.targetId,N))).next((()=>rt.forEach(A.ds,(N=>_.persistence.referenceDelegate.removeReference(w,A.targetId,N)))))))))}catch(w){if(!oo(w))throw w;mt(im,"Failed to update sequence numbers: "+w)}for(const w of m){const A=w.targetId;if(!w.fromCache){const N=_.Ms.get(A),L=N.snapshotVersion,V=N.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(A,V)}}})(r.localStore,u))}async function eN(a,t){const i=Ot(a);if(!i.currentUser.isEqual(t)){mt(hm,"User change. New user:",t.toKey());const r=await Nx(i.localStore,t);i.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new gt(at.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ql(i,r.Ls)}}function nN(a,t){const i=Ot(a),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let o=zt();const u=i.Iu.get(t);if(!u)return o;for(const f of u){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Qx(a){const t=Ot(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZD.bind(null,t),t.Pu.H_=UD.bind(null,t.eventManager),t.Pu.yu=LD.bind(null,t.eventManager),t}function iN(a){const t=Ot(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JD.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return aD(this.persistence,new eD,t.initialUser,this.serializer)}Cu(t){return new Dx(em.mi,this.serializer)}Du(t){return new hD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class aN extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof Jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Dx((r=>Jc.mi(r,i)),this.serializer)}}class Ep{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eN.bind(null,this.syncEngine),await MD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kD})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),r=(function(u){return new gD(u)})(t.databaseInfo);return(function(u,f,p,y){return new bD(u,f,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,f,p){return new ED(r,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>d0(this.syncEngine,i,0)),(function(){return o0.v()?new o0:new fD})())}createSyncEngine(t,i){return(function(o,u,f,p,y,m,_){const w=new FD(o,u,f,p,y,m);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ot(i);mt(Fr,"RemoteStore shutting down."),r.Ea.add(5),await $l(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="FirestoreClient";class sN{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{mt(ar,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(mt(ar,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=um(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Hd(a,t){a.asyncQueue.verifyOperationInProgress(),mt(ar,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Nx(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function m0(a,t){a.asyncQueue.verifyOperationInProgress();const i=await oN(a);mt(ar,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>u0(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>u0(t.remoteStore,o))),a._onlineComponents=t}async function oN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){mt(ar,"Using user provided OfflineComponentProvider");try{await Hd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Xs("Error using user provided cache. Falling back to memory cache: "+i),await Hd(a,new eh)}}else mt(ar,"Using default OfflineComponentProvider"),await Hd(a,new aN(void 0));return a._offlineComponents}async function Yx(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(mt(ar,"Using user provided OnlineComponentProvider"),await m0(a,a._uninitializedComponentsProvider._online)):(mt(ar,"Using default OnlineComponentProvider"),await m0(a,new Ep))),a._onlineComponents}function lN(a){return Yx(a).then((t=>t.syncEngine))}async function uN(a){const t=await Yx(a),i=t.eventManager;return i.onListen=GD.bind(null,t.syncEngine),i.onUnlisten=YD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$D.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=KD.bind(null,t.syncEngine),i}function cN(a,t,i={}){const r=new Za;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,y,m){const _=new rN({next:A=>{_.Nu(),f.enqueueAndForget((()=>PD(u,w))),A.fromCache&&y.source==="server"?m.reject(new gt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),w=new zD(p,_,{includeMetadataChanges:!0,qa:!0});return jD(u,w)})(await uN(a),a.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="firestore.googleapis.com",y0=!0;class v0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xx,this.ssl=y0}else this.host=t.host,this.ssl=t.ssl??y0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Cx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UC)throw new gt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}E2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kx(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new f2;switch(r.type){case"firstParty":return new g2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=g0.get(i);r&&(mt("ComponentProvider","Removing Datastore"),g0.delete(i),r.terminate())})(this),Promise.resolve()}}function hN(a,t,i,r={}){a=Fc(a,_h);const o=Bl(t),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(ab(`https://${p}`),sb("Firestore",!0)),u.host!==Xx&&u.host!==p&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:r};if(!qc(y,f)&&(a._setSettings(y),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=on.MOCK_USER;else{m=rb(r.mockUserToken,a._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new gt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new on(w)}a._authCredentials=new d2(new Ub(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new uo(this.firestore,t,this._query)}}class Ye{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ye(this.firestore,t,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ql(i,Ye._jsonSchema))return new Ye(t,r||null,new xt(ue.fromString(i.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Ve("string",Ye._jsonSchemaVersion),referencePath:Ve("string")};class Wa extends uo{constructor(t,i,r){super(t,i,ix(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ye(this.firestore,null,new xt(t))}withConverter(t){return new Wa(this.firestore,t,this._path)}}function Vc(a,t,...i){if(a=ii(a),Lb("collection","path",t),a instanceof _h){const r=ue.fromString(t,...i);return I_(r),new Wa(a,null,r)}{if(!(a instanceof Ye||a instanceof Wa))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ue.fromString(t,...i));return I_(r),new Wa(a.firestore,null,r)}}function fN(a,t,...i){if(a=ii(a),arguments.length===1&&(t=Fp.newId()),Lb("doc","path",t),a instanceof _h){const r=ue.fromString(t,...i);return N_(r),new Ye(a,null,new xt(r))}{if(!(a instanceof Ye||a instanceof Wa))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ue.fromString(t,...i));return N_(r),new Ye(a.firestore,a instanceof Wa?a.converter:null,new xt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="AsyncQueue";class b0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ox(this,"async_queue_retry"),this._c=()=>{const r=qd();r&&mt(_0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;mt(_0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,fa("INTERNAL UNHANDLED ERROR: ",x0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=lm.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:x0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function x0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class dm extends _h{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new b0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new b0(t),this._firestoreClient=void 0,await t}}}function dN(a,t){const i=typeof a=="object"?a:mb(),r=typeof a=="string"?a:$c,o=hb(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=nb("firestore");u&&hN(o,...u)}return o}function Zx(a){if(a._terminated)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||pN(a),a._firestoreClient}function pN(a){const t=a._freezeSettings(),i=(function(o,u,f,p){return new M2(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Kx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new sN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(nn.fromBase64String(t))}catch(i){throw new gt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ve("string",Hn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new gt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new gt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new gt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(ql(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ve("string",Ii._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Oi(t.vectorValues);throw new gt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Ve("string",Oi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^__.*__$/;class gN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}function Jx(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:a})}}class mm{constructor(t,i,r,o,u,f){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new mm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Jx(this.Ac)&&mN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class yN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||gh(t)}Cc(t,i,r,o=!1){return new mm({Ac:t,methodName:i,Dc:r,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tE(a){const t=a._freezeSettings(),i=gh(a._databaseId);return new yN(a._databaseId,!!t.ignoreUndefinedProperties,i)}function vN(a,t,i,r,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,t,i,o);iE("Data must be an object, but it was:",f,r);const p=eE(r,f);let y,m;if(u.merge)y=new ei(f.fieldMask),m=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const A=bN(t,w,i);if(!f.contains(A))throw new gt(at.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);EN(_,A)||_.push(A)}y=new ei(_),m=f.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,m=f.fieldTransforms;return new gN(new qn(p),y,m)}function _N(a,t,i,r=!1){return gm(i,a.Cc(r?4:3,t))}function gm(a,t){if(nE(a=ii(a)))return iE("Unsupported field value:",t,a),eE(a,t);if(a instanceof Wx)return(function(r,o){if(!Jx(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let y=gm(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(a,t)}return(function(r,o){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=he.fromDate(r);return{timestampValue:Wc(o.serializer,u)}}if(r instanceof he){const u=new he(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,u)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:xx(o.serializer,r._byteString)};if(r instanceof Ye){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Oi)return(function(f,p){return{mapValue:{fields:{[Yb]:{stringValue:Kb},[Qc]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return Xp(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${oh(r)}`)})(a,t)}function eE(a,t){const i={};return qb(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qr(a,((r,o)=>{const u=gm(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function nE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof he||a instanceof Ii||a instanceof Hn||a instanceof Ye||a instanceof Wx||a instanceof Oi)}function iE(a,t,i){if(!nE(i)||!zb(i)){const r=oh(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function bN(a,t,i){if((t=ii(t))instanceof pm)return t._internalPath;if(typeof t=="string")return aE(a,t);throw nh("Field path arguments must be of type string or ",a,!1,void 0,i)}const xN=new RegExp("[~\\*/\\[\\]]");function aE(a,t,i){if(t.search(xN)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new pm(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function nh(a,t,i,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new gt(at.INVALID_ARGUMENT,p+a+y)}function EN(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ym("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TN extends rE{data(){return super.data()}}function ym(a,t){return typeof t=="string"?aE(a,t):t instanceof pm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new gt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vm{}class AN extends vm{}function E0(a,t,...i){let r=[];t instanceof vm&&r.push(t),r=r.concat(i),(function(u){const f=u.filter((y=>y instanceof _m)).length,p=u.filter((y=>y instanceof bh)).length;if(f>1||f>0&&p>0)throw new gt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class bh extends AN{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new bh(t,i,r)}_apply(t){const i=this._parse(t);return sE(t._query,i),new uo(t.firestore,t.converter,fp(t._query,i))}_parse(t){const i=tE(t.firestore);return(function(u,f,p,y,m,_,w){let A;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new gt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){w0(w,_);const L=[];for(const V of w)L.push(T0(y,u,V));A={arrayValue:{values:L}}}else A=T0(y,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||w0(w,_),A=_N(p,f,w,_==="in"||_==="not-in");return Me.create(m,_,A)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Ac(a,t,i){const r=t,o=ym("where",a);return bh._create(o,r,i)}class _m extends vm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new _m(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ai.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const y of p)sE(f,y),f=fp(f,y)})(t._query,i),new uo(t.firestore,t.converter,fp(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(a,t,i){if(typeof(i=ii(i))=="string"){if(i==="")throw new gt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ax(t)&&i.indexOf("/")!==-1)throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ue.fromString(i));if(!xt.isDocumentKey(r))throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L_(a,new xt(r))}if(i instanceof Ye)return L_(a,i._key);throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(i)}.`)}function w0(a,t){if(!Array.isArray(a)||a.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sE(a,t){const i=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class SN{convertValue(t,i="none"){switch(nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Qr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((r=>Re(r.doubleValue)));return new Oi(i)}convertGeoPoint(t){return new Ii(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=ch(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=tr(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ue.fromString(t);Zt(Rx(r),9688,{name:t});const o=new Vl(r.get(1),r.get(3)),u=new xt(r.popFirst(5));return o.isEqual(i)||fa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class Sc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $s extends rE{constructor(t,i,r,o,u,f){super(t,i,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=$s._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Ve("string",$s._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class kc extends $s{data(t={}){return super.data(t)}}class Qs{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Sc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new kc(this._firestore,this._userDataWriter,r.key,r,new Sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const y=new kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),_=f.indexOf(p.doc.key)),{type:CN(p.type),doc:y,oldIndex:m,newIndex:_}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function CN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:a})}}Qs._jsonSchemaVersion="firestore/querySnapshot/1.0",Qs._jsonSchema={type:Ve("string",Qs._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class DN extends SN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ye(this.firestore,null,i)}}function A0(a){a=Fc(a,uo);const t=Fc(a.firestore,dm),i=Zx(t),r=new DN(t);return wN(a._query),cN(i,a._query).then((o=>new Qs(t,r,a,o)))}function oE(a,t){const i=Fc(a.firestore,dm),r=fN(a),o=RN(a.converter,t);return NN(i,[vN(tE(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,ua.exists(!1))]).then((()=>r))}function NN(a,t){return(function(r,o){const u=new Za;return r.asyncQueue.enqueueAndForget((async()=>XD(await lN(r),o,u))),u.promise})(Zx(a),t)}(function(t,i=!0){(function(o){ro=o})(db),Nl(new Ks("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new dm(new p2(r.getProvider("auth-internal")),new y2(f,r.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new gt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(m.options.projectId,_)})(f,o),f);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ka(S_,R_,t),Ka(S_,R_,"esm2020")})();var IN="firebase",ON="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka(IN,ON,"app");const MN={apiKey:"AIzaSyDnKX4BJsQRgv9tjl7R9l6edfLb2Pk6au4",authDomain:"nouhin-bolt-test-202508.firebaseapp.com",projectId:"nouhin-bolt-test-202508",storageBucket:"nouhin-bolt-test-202508.firebasestorage.app",messagingSenderId:"143363676790",appId:"1:143363676790:web:193dc5843f55ba891d1d57",measurementId:"G-4PWQ11BFWF"},lE=pb(MN),Fd=l2(lE),jc=dN(lE),VN=()=>{const[a,t]=P.useState(!1),[i,r]=P.useState(null),o=async(f,p,y)=>{const m=`${f}-${p}-${y}`,_=Ud(Fd,m);try{const w=await w_(_);if(w.items.length===0&&w.prefixes.length===0)return m;let A=2;for(;;){const N=`${m}-ver${A}`,L=Ud(Fd,N);try{const V=await w_(L);if(V.items.length===0&&V.prefixes.length===0)return N;A++}catch{return N}}}catch{return m}};return{uploading:a,uploadProgress:i,uploadPhotos:async(f,p)=>{t(!0),r({current:0,total:f.length,percentage:0});try{const y=await o(p.receptionNumber,p.photographerName,p.customerName),m=[];for(let _=0;_<f.length;_++){const w=f[_],A=`${String(_+1).padStart(3,"0")}`,N=Ud(Fd,`${y}/${A}`),L=await s2(N,w.file),V=await o2(L.ref),j={...p,id:w.id,number:_+1,originalName:w.originalName,storageUrl:V,deliveryDate:new Date};await oE(Vc(jc,"photos"),{...j,shootingDate:new Date(p.shootingDate)}),m.push(j);const Z=_+1,W=Math.round(Z/f.length*100);r({current:Z,total:f.length,percentage:W})}return m}finally{t(!1),r(null)}}}},kN=a=>{const t={};return a.photographerName.trim()||(t.photographerName="カメラマン名は必須です"),a.shootingDate||(t.shootingDate="撮影日は必須です"),a.receptionNumber.trim()?/^\d+$/.test(a.receptionNumber)||(t.receptionNumber="受付番号は数字で入力してください"):t.receptionNumber="受付番号は必須です",a.customerName.trim()||(t.customerName="お客様氏名は必須です"),t},jN=()=>{const[a,t]=P.useState([]),[i,r]=P.useState({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),[o,u]=P.useState({}),[f,p]=P.useState(!1),{uploading:y,uploadProgress:m,uploadPhotos:_}=VN(),w=P.useCallback(V=>{t(j=>[...j,...V].map((W,J)=>({...W,number:J+1}))),p(!1)},[]),A=P.useCallback(V=>{t(j=>j.filter(W=>W.id!==V).map((W,J)=>({...W,number:J+1})))},[]),N=P.useCallback(V=>{r(V),u({})},[]),L=async()=>{const V=kN(i);if(Object.keys(V).length>0){u(V);return}if(a.length===0){alert("アップロードする写真を選択してください。");return}try{await _(a,i),p(!0),t([]),r({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),alert("写真のアップロードが完了しました！")}catch(j){console.error("Upload error:",j),alert("アップロード中にエラーが発生しました。")}};return E.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[E.jsx("header",{className:"bg-white shadow-sm mb-8",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ToruTora"})})}),E.jsx("div",{className:"max-w-6xl mx-auto px-4",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-8 text-center",children:"写真納品システム"}),E.jsx("div",{className:"mb-8",children:E.jsx(mA,{onFilesAdded:w})}),E.jsx(gA,{photos:a,onRemove:A}),E.jsx("div",{className:"mt-8",children:E.jsx(yA,{metaInfo:i,onChange:N,errors:o})}),E.jsxs("div",{className:"mt-8 text-center",children:[m&&E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-2",children:[E.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:[m.percentage,"% 進捗中"]}),E.jsxs("span",{className:"text-sm text-gray-600",children:[m.current,"枚 / ",m.total,"枚"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:E.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${m.percentage}%`}})})]}),E.jsx("button",{onClick:L,disabled:y||a.length===0,className:`px-8 py-3 rounded-lg font-semibold text-white transition-colors ${y||a.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:y?"アップロード中...":"アップロード実行"})]}),f&&E.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:"写真のアップロードが正常に完了しました。"})]})})]})},PN=()=>{const a=Ll(),[t,i]=P.useState({receptionNumber:"",shootingDate:"",customerName:""}),[r,o]=P.useState({}),u=(y,m)=>{i(_=>({..._,[y]:m})),o(_=>({..._,[y]:""}))},f=()=>{const y={};return t.receptionNumber.trim()||(y.receptionNumber="受付番号を入力してください"),t.shootingDate||(y.shootingDate="撮影日を入力してください"),t.customerName.trim()||(y.customerName="お客様氏名を入力してください"),o(y),Object.keys(y).length===0},p=()=>{f()&&a("/photo-select",{state:{searchInfo:t}})};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"受付番号と確認番号を入力してください"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号"}),E.jsx("input",{type:"text",value:t.receptionNumber,onChange:y=>u("receptionNumber",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),r.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日"}),E.jsx("input",{type:"date",value:t.shootingDate,onChange:y=>u("shootingDate",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.shootingDate?"border-red-500":"border-gray-300"}`}),r.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ）"}),E.jsx("input",{type:"text",value:t.customerName,onChange:y=>u("customerName",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),r.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.customerName})]}),E.jsx("button",{onClick:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"写真を表示する"})]})]})})]})},bm=()=>{const[a,t]=P.useState(!1),[i,r]=P.useState([]),[o,u]=P.useState(null),f=P.useCallback(async m=>{t(!0),u(null),console.log("Starting gallery photo search with:",m);try{const _=Vc(jc,"gallery"),w=E0(_,Ac("receptionNumber","==",m.receptionNumber),Ac("customerName","==",m.customerName));console.log("Executing Firestore query on gallery collection...");const A=await A0(w);console.log("Query completed, documents found:",A.size);const N=[];return A.forEach(L=>{const V=L.data();try{console.log("Processing document:",L.id,"shootingDate:",V.shootingDate);let j;if(V.shootingDate&&typeof V.shootingDate.toDate=="function")j=V.shootingDate.toDate();else if(V.shootingDate instanceof Date)j=V.shootingDate;else if(typeof V.shootingDate=="string"){if(j=new Date(V.shootingDate),isNaN(j.getTime())){console.warn("Invalid date string:",V.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",L.id,V.shootingDate);return}let Z;V.deliveryDate&&typeof V.deliveryDate.toDate=="function"?Z=V.deliveryDate.toDate():V.deliveryDate instanceof Date?Z=V.deliveryDate:(console.warn("Invalid deliveryDate format for document:",L.id,V.deliveryDate),Z=new Date);const W=new Date(m.shootingDate);console.log("Comparing dates - doc:",j,"search:",W),j.getFullYear()===W.getFullYear()&&j.getMonth()===W.getMonth()&&j.getDate()===W.getDate()&&(N.push({...V,id:L.id,number:V.number,photographerName:V.photographerName,shootingDate:j,receptionNumber:V.receptionNumber,customerName:V.customerName,storageUrl:V.storageUrl,deliveryDate:Z}),console.log("Photo added to results:",V.number))}catch(j){console.error("Error processing document:",L.id,j)}}),console.log("Total photos found:",N.length),N.sort((L,V)=>L.number-V.number),r(N),N}catch(_){return console.error("Error searching gallery photos:",_),u("写真の検索中にエラーが発生しました"),r([]),[]}finally{console.log("Gallery search completed, setting loading to false"),t(!1)}},[]),p=P.useCallback(async m=>{t(!0),u(null),console.log("Starting photo search with:",m);try{const _=Vc(jc,"photos"),w=E0(_,Ac("receptionNumber","==",m.receptionNumber),Ac("customerName","==",m.customerName));console.log("Executing Firestore query...");const A=await A0(w);console.log("Query completed, documents found:",A.size);const N=[];return A.forEach(L=>{const V=L.data();try{console.log("Processing document:",L.id,"shootingDate:",V.shootingDate);let j;if(V.shootingDate&&typeof V.shootingDate.toDate=="function")j=V.shootingDate.toDate();else if(V.shootingDate instanceof Date)j=V.shootingDate;else if(typeof V.shootingDate=="string"){if(j=new Date(V.shootingDate),isNaN(j.getTime())){console.warn("Invalid date string:",V.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",L.id,V.shootingDate);return}let Z;V.deliveryDate&&typeof V.deliveryDate.toDate=="function"?Z=V.deliveryDate.toDate():V.deliveryDate instanceof Date?Z=V.deliveryDate:(console.warn("Invalid deliveryDate format for document:",L.id,V.deliveryDate),Z=new Date);const W=new Date(m.shootingDate);console.log("Comparing dates - doc:",j,"search:",W),j.getFullYear()===W.getFullYear()&&j.getMonth()===W.getMonth()&&j.getDate()===W.getDate()&&(N.push({...V,id:L.id,number:V.number,photographerName:V.photographerName,shootingDate:j,receptionNumber:V.receptionNumber,customerName:V.customerName,storageUrl:V.storageUrl,deliveryDate:Z}),console.log("Photo added to results:",V.number))}catch(j){console.error("Error processing document:",L.id,j)}}),console.log("Total photos found:",N.length),N.sort((L,V)=>L.number-V.number),r(N),N}catch(_){return console.error("Error searching photos:",_),u("写真の検索中にエラーが発生しました"),r([]),[]}finally{console.log("Search completed, setting loading to false"),t(!1)}},[]),y=P.useCallback(async(m,_)=>{t(!0);try{const w=Vc(jc,"gallery");for(const A of m){const N={customerName:A.customerName,deliveryDate:new Date,id:A.id,number:A.number,photographerName:A.photographerName,receptionNumber:A.receptionNumber,shootingDate:A.shootingDate,storageUrl:A.storageUrl,all_photo_flg:_?1:0};await oE(w,N)}}finally{t(!1)}},[]);return{loading:a,error:o,photos:i,searchGalleryPhotos:f,searchPhotos:p,purchasePhotos:y}},ti=new Map,uE=3600*1e3,S0=20,UN=()=>{const a=Date.now();for(const[t,i]of ti.entries())a-i.timestamp>uE&&ti.delete(t)},LN=()=>{if(ti.size<=S0)return;const a=Array.from(ti.entries());a.sort((i,r)=>i[1].timestamp-r[1].timestamp);const t=a.slice(0,a.length-S0);t.forEach(([i])=>{const r=ti.get(i);if(r){const o=r.canvas.getContext("2d");o&&o.clearRect(0,0,r.canvas.width,r.canvas.height)}ti.delete(i)}),console.log(`🧹 Cache cleanup: removed ${t.length} OLD images, current size: ${ti.size}`)},cE=(a,t)=>`${a}|${t}`,zs=new Map,zN=(a,t)=>{const i=cE(a,t);if(ti.has(i))return Promise.resolve();if(zs.has(i))return zs.get(i);console.log("🔄 Starting preload for:",i);const r=u=>u.includes("firebasestorage.googleapis.com")?`${u}&q=5&w=300`:u,o=new Promise((u,f)=>{const p=new Image;p.crossOrigin="anonymous",p.onload=()=>{try{const y=document.createElement("canvas"),m=y.getContext("2d");if(!m){f(new Error("Failed to get preload canvas context"));return}const _=600;let w=p.width,A=p.height;if(w>_||A>_){const J=Math.min(_/w,_/A);w=Math.floor(w*J),A=Math.floor(A*J)}y.width=w,y.height=A,m.drawImage(p,0,0,w,A),m.font=`bold ${Math.max(w*.05,24)}px serif`,m.fillStyle="rgba(255, 255, 255, 0.4)",m.strokeStyle="rgba(0, 0, 0, 0.3)",m.lineWidth=3,m.textAlign="center";const N="ToruTora",L=-Math.PI/6,V=m.measureText(N+"     ").width,j=Math.max(A*.15,80),Z=Math.sqrt(w*w+A*A),W=Math.ceil(Z/j)+6;for(let J=-Math.floor(W/2);J<=Math.floor(W/2);J++){const ut=w/2,ht=A/2,_t=J*j*Math.cos(L+Math.PI/2),O=J*j*Math.sin(L+Math.PI/2),R=Z*1.5,C=Math.floor(R/V)+2;for(let I=0;I<C;I++){const U=(I-C/2)/C,k=ut+_t+U*R*Math.cos(L),S=ht+O+U*R*Math.sin(L);k>=-100&&k<=w+100&&S>=-100&&S<=A+100&&(m.save(),m.translate(k,S),m.rotate(L),m.strokeText(N,0,0),m.fillText(N,0,0),m.restore())}}ti.set(i,{canvas:y,timestamp:Date.now()}),UN(),LN(),console.log("✅ Image preloaded:",i),zs.delete(i),u()}catch(y){console.error("Preload error:",y),zs.delete(i),f(y)}},p.onerror=()=>{console.error("Preload failed for:",a),zs.delete(i),f(new Error(`Failed to load image: ${a}`))},p.src=r(a)});return zs.set(i,o),o},hE=({src:a,alt:t,className:i="",style:r,objectFit:o="cover",onLoadComplete:u,onLoadError:f,hideInternalLoader:p=!1,externalLoading:y=!1,fallbackSrc:m,imageId:_,useCssWatermark:w=!1})=>{const A=P.useRef(null),[N,L]=P.useState(!0),[V,j]=P.useState(!1),[Z,W]=P.useState(a),[J,ut]=P.useState(_),ht=R=>{if(R.includes("firebasestorage.googleapis.com")){const C=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),I=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return C||I?`${R}&q=10&w=400`:`${R}&q=15&w=600`}return R},_t=P.useCallback(R=>{const C=cE(R,t),I=ti.get(C);if(I&&Date.now()-I.timestamp<uE){console.log("✅ Using cached image:",C);const yt=A.current;if(yt){const ct=yt.getContext("2d");ct&&(yt.width=I.canvas.width,yt.height=I.canvas.height,ct.clearRect(0,0,yt.width,yt.height),ct.drawImage(I.canvas,0,0),L(!1),j(!1),u&&setTimeout(()=>u(),50))}return}console.log("❌ Cache miss, loading directly:",R);const U=A.current;if(!U)return;const k=U.getContext("2d");if(!k)return;const S=new Image;S.crossOrigin="anonymous",S.onload=()=>{try{if(_&&J&&_!==J)return;const yt=600;let ct=S.width,K=S.height;if(ct>yt||K>yt){const $=Math.min(yt/ct,yt/K);ct=Math.floor(ct*$),K=Math.floor(K*$)}U.width=ct,U.height=K,k.drawImage(S,0,0,ct,K),k.font=`bold ${Math.max(ct*.05,24)}px serif`,k.fillStyle="rgba(255, 255, 255, 0.4)",k.strokeStyle="rgba(0, 0, 0, 0.3)",k.lineWidth=3,k.textAlign="center";const st="ToruTora",dt=-Math.PI/6,At=k.measureText(st+"     ").width,M=Math.max(K*.15,80),nt=Math.sqrt(ct*ct+K*K),Y=Math.ceil(nt/M)+6;for(let $=-Math.floor(Y/2);$<=Math.floor(Y/2);$++){const ot=ct/2,Tt=K/2,pt=$*M*Math.cos(dt+Math.PI/2),te=$*M*Math.sin(dt+Math.PI/2),Nt=nt*1.5,Bt=Math.floor(Nt/At)+2;for(let Kt=0;Kt<Bt;Kt++){const ce=(Kt-Bt/2)/Bt,ve=ot+pt+ce*Nt*Math.cos(dt),gn=Tt+te+ce*Nt*Math.sin(dt);ve>=-100&&ve<=ct+100&&gn>=-100&&gn<=K+100&&(k.save(),k.translate(ve,gn),k.rotate(dt),k.strokeText(st,0,0),k.fillText(st,0,0),k.restore())}}console.log("✅ Image loaded:",R),L(!1),u&&setTimeout(()=>u(),100)}catch(yt){console.error("Canvas drawing error:",yt),j(!0),L(!1),f&&f()}},S.onerror=()=>{console.error("Image loading error for:",R),j(!0),L(!1),f&&f()},S.src=ht(R)},[t,u,f,_]);if(P.useEffect(()=>{console.log("🔄 Image src changed from",Z,"to",a,"ImageId:",_),W(a),ut(_),L(!0),j(!1),console.log("🖼️ Loading image for display:",a,"ImageId:",_),_t(a)},[a,_]),P.useEffect(()=>{if(w&&a){console.log("🔍 Safari image load detection for:",a);const R=new Image;R.onload=()=>{console.log("✅ Safari pre-check: Image already loaded:",a),L(!1),j(!1),u&&u()},R.onerror=()=>{console.log("❌ Safari pre-check: Image load failed:",a),m&&a!==m?(console.log("Trying fallback for Safari pre-check:",m),W(m)):(j(!0),L(!1),f&&f())},R.src=a}},[a,w,m,u,f]),V)return E.jsx("div",{className:`flex items-center justify-center bg-gray-200 ${i}`,style:r,children:E.jsx("span",{className:"text-gray-500",children:"画像を読み込めませんでした"})});const O=!p&&N&&!y;return w?E.jsxs("div",{className:`relative ${i}`,style:r,children:[O&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E.jsx("img",{src:Z,alt:t,className:`w-full h-full object-${o}`,style:{display:"block",opacity:N&&!y?0:1,transition:"opacity 0.3s ease",visibility:"visible"},onLoad:()=>{console.log("✅ CSS Image loaded:",Z,"FallbackSrc:",m),L(!1),j(!1),u&&u()},onError:()=>{console.log("❌ CSS Image load error:",Z,"FallbackSrc:",m),m&&Z!==m?(console.log("Trying fallback for CSS image:",m),W(m)):(console.log("No fallback available, showing error"),j(!0),L(!1),f&&f())},onLoadStart:()=>{console.log("🔄 CSS Image load started:",Z)}}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:E.jsx("div",{className:"text-white font-bold text-2xl md:text-4xl opacity-40 select-none",style:{textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)",transform:"rotate(-30deg)",letterSpacing:"0.2em"},children:"ToruTora"})})]}):E.jsxs("div",{className:`relative ${i}`,style:r,children:[O&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E.jsx("canvas",{ref:A,className:"w-full h-full",style:{display:"block",objectFit:o,opacity:N&&!y?0:1,transition:"opacity 0.3s ease",backgroundColor:"#f3f4f6"}})]})};window.imageCache=ti;const BN=a=>{if(!a.includes("firebasestorage.googleapis.com"))return{src:a};try{const t=a.split("/o/");if(t.length<2)return{src:a};const i=t[1],r=i.split("?")[0],o=i.includes("?")?"?"+i.split("?")[1]:"",u=decodeURIComponent(r),f=u.split("/");if(f.length<2)return{src:a};const p=f[0],y=f[f.length-1],m=`${y}_200x200`,_=`${p}/thumbs/${m}`,w=`${t[0]}/o/${encodeURIComponent(_)}${o}`;return console.log("Optimal image URL selection:",{original:a,decodedPath:u,folderName:p,fileName:y,thumbnailFileName:m,thumbnailPath:_,thumbnail:w,userAgent:navigator.userAgent,isMobile:qN()}),{src:w,fallbackSrc:a}}catch(t){return console.error("Failed to convert to optimal image URL:",t),{src:a}}},qN=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Gd=a=>a.includes("firebasestorage.googleapis.com")?a.includes("?")?`${a}&quality=5&w=200`:`${a}?quality=5&w=200`:a,HN=(a={})=>{const[t,i]=P.useState(!1),r=P.useRef(null);return P.useEffect(()=>{const o=new IntersectionObserver(([u])=>{i(u.isIntersecting)},{rootMargin:"200px",threshold:.01,...a});return r.current&&o.observe(r.current),()=>o.disconnect()},[]),[r,t]},FN=({photo:a,isSelected:t,onToggleSelection:i,onPhotoClick:r,allPhotoOption:o})=>{const[u,f]=HN(),[p,y]=P.useState(t);return P.useEffect(()=>{y(t)},[t]),E.jsx("div",{ref:u,className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>r(a),children:[E.jsxs("div",{className:"relative aspect-square bg-gray-200",children:[f?(()=>{const{src:m,fallbackSrc:_}=BN(a.storageUrl);return E.jsx(hE,{src:m,alt:`写真 ${a.number}`,className:"w-full h-full",objectFit:"cover",fallbackSrc:_,useCssWatermark:!0})})():E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center text-gray-400",children:[E.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),E.jsx("span",{className:"text-xs",children:"画像を準備中"})]})}),E.jsx("button",{onClick:m=>{m.stopPropagation(),y(!p),i(a.id)},disabled:o,className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${p?"bg-blue-600 border-blue-600":"bg-white border-gray-300"} ${o?"cursor-not-allowed opacity-75":"cursor-pointer"} shadow-sm`,children:p&&E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(a.number).padStart(3,"0")})})]})})},GN=()=>{const a=si(),t=Ll(),{loading:i,error:r,photos:o,searchPhotos:u,searchGalleryPhotos:f}=bm(),[p,y]=P.useState(new Set),[m,_]=P.useState(!1),[w,A]=P.useState(new Set),[N,L]=P.useState(null),[V,j]=P.useState(0),[Z,W]=P.useState(!1),[J,ut]=P.useState(!1),[ht,_t]=P.useState(!1),[O,R]=P.useState(0),C=a.state?.searchInfo,I=a.state?.forceAllPhotoOption;P.useEffect(()=>{if(!C){t("/photo-info");return}console.log("PhotoSelectPage: Starting purchase check...");const Y={receptionNumber:C.receptionNumber,shootingDate:C.shootingDate,customerName:C.customerName};f(Y).then($=>{if($.length>0)console.log("PhotoSelectPage: Already purchased photos found:",$.length),W(!0);else return console.log("PhotoSelectPage: No purchased photos found, proceeding with photo search..."),u(C)}).then(()=>{console.log("PhotoSelectPage: Search completed")}).catch($=>{console.error("PhotoSelectPage: Search failed:",$)})},[C,t,u,f]),P.useEffect(()=>{if(I&&o.length>0){_(!0);const Y=new Set(o.map($=>$.id));y(Y)}},[I,o]);const U=P.useCallback(Y=>{m||(y($=>{const ot=new Set($);return ot.has(Y)?ot.delete(Y):ot.add(Y),ot}),A($=>{const ot=new Set($);return ot.has(Y)?ot.delete(Y):ot.add(Y),ot}))},[m]),k=P.useCallback(Y=>{const ot=`${Gd(Y.storageUrl)}|写真 ${Y.number}`,Tt=window.imageCache;if(!Tt)return console.log("❌ Image cache not available"),!1;const pt=Tt.get(ot);return pt&&Date.now()-pt.timestamp<3600*1e3?(console.log("✅ Image found in cache:",ot,"Size:",pt.canvas?.width,"x",pt.canvas?.height),!0):(console.log("❌ Image not in cache:",ot),!1)},[]),S=P.useCallback(Y=>{console.log(`🚀 Starting preload for index ${Y}, total photos: ${o.length}`);const $=[],ot=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Tt=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let pt=5;if(ot&&Tt){const Nt=window.imageCache;if(Nt){const Bt=Nt.size;console.log("🍎 Safari preload strategy check:",{currentIndex:Y,cacheSize:Bt,maxCacheSize:20,threshold80:16,threshold60:12,threshold40:8}),Bt>16?(pt=0,console.log("🚨 Safari: Emergency preload stop (80% threshold)")):Bt>12?(pt=1,console.log("⚠️ Safari: Minimal preload (60% threshold)")):Bt>8?(pt=2,console.log("🧹 Safari: Moderate preload (40% threshold)")):(pt=3,console.log("✅ Safari: Normal preload (<40% threshold)"))}else pt=2,console.log("⚠️ Safari: Fallback preload (no cache info)")}const te=Array.from({length:pt},(Nt,Bt)=>Y+Bt+1).filter(Nt=>Nt>=0&&Nt<o.length);if(console.log("📋 Indices to preload:",te),te.length===0){console.log(`⚠️ No images to preload for index ${Y}`);return}for(const Nt of te){const Bt=o[Nt],Kt=Gd(Bt.storageUrl);console.log(`🔄 Preloading modal image ${Nt}: ${Bt.number}, src: ${Kt}`),console.log("🔍 Preload URL details:",{originalUrl:Bt.storageUrl,highResUrl:Kt,hasQuery:Kt.includes("?"),quality:Kt.includes("quality="),width:Kt.includes("w=")}),$.push(zN(Kt,`写真 ${Bt.number}`).then(()=>{console.log(`✅ Successfully preloaded modal image ${Nt}: ${Bt.number}`);const ce=`${Kt}|写真 ${Bt.number}`,ve=window.imageCache?.get?.(ce);console.log(`📊 Preload cache verification for ${Bt.number}:`,ve?"CACHED":"NOT CACHED","Key:",ce)}).catch(ce=>console.warn(`❌ Failed to preload modal image ${Nt}:`,ce)))}Promise.allSettled($).then(Nt=>{const Bt=Nt.filter(Kt=>Kt.status==="fulfilled").length;console.log(`🎯 Preload completed: ${Bt}/${$.length} adjacent modal images`),setTimeout(()=>{console.log("🔍 Post-preload cache verification:"),te.forEach(Kt=>{const ce=o[Kt],ve=k(ce);console.log(`  - Photo ${ce.number} (index ${Kt}): ${ve?"CACHED":"NOT CACHED"}`)})},1e3)})},[o,k]),yt=P.useCallback(Y=>{console.log(`✅ Image load complete for index ${Y}`),setTimeout(()=>{console.log(`🔄 Preload status check for index ${Y}`);const $=Y+1;if($<o.length){const ot=o[$],Tt=k(ot);console.log(`📊 Next image (${ot.number}) cache status:`,Tt?"CACHED":"NOT CACHED")}},2e3)},[o,k]),ct=P.useCallback(Y=>{const $=o.findIndex(Tt=>Tt.id===Y.id);console.log(`🖼️ Photo clicked: ${Y.number}, index: ${$}`),j($),L(Y),R(0),k(Y)?(console.log(`✅ Photo ${Y.number} is cached, displaying immediately`),ut(!1),_t(!1)):(console.log(`⏳ Photo ${Y.number} not cached, starting load`),ut(!0),_t(!1)),console.log(`🚀 Starting preload for adjacent images from index ${$} in parallel`),S($)},[o,k,S]),K=P.useCallback(()=>{if(V>0){const Y=V-1,$=o[Y];console.log(`⬅️ Going to previous photo: ${V} -> ${Y}`),j(Y),L($),R(0),k($)?(console.log(`✅ Photo ${$.number} is cached, displaying immediately`),ut(!1),_t(!1)):(console.log(`⏳ Photo ${$.number} not cached, starting load`),ut(!0),_t(!1)),console.log(`🚀 Starting preload for index ${Y} in parallel`),S(Y)}},[V,o,k,S]),st=P.useCallback(()=>{if(V<o.length-1){const Y=V+1,$=o[Y];console.log(`➡️ Going to next photo: ${V} -> ${Y}`),j(Y),L($),R(0),k($)?(console.log(`✅ Photo ${$.number} is cached, displaying immediately`),ut(!1),_t(!1)):(console.log(`⏳ Photo ${$.number} not cached, starting load`),ut(!0),_t(!1)),console.log(`🚀 Starting preload for index ${Y} in parallel`),S(Y)}},[V,o,k,S]);P.useEffect(()=>{},[V,o,N]),P.useEffect(()=>{const Y=$=>{N&&($.key==="ArrowLeft"?K():$.key==="ArrowRight"?st():$.key==="Escape"&&L(null))};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[N,K,st]);const dt=P.useCallback(Y=>{if(_(Y),Y){const $=new Set(o.map(ot=>ot.id));y($)}else y(new Set(w))},[o,w]),At=P.useCallback(()=>{const Y=o.filter($=>p.has($.id));t("/photo-check",{state:{selectedPhotos:Y,allPhotoOption:m,searchInfo:C}})},[o,p,m,C,t]),M=P.useMemo(()=>{if(!N)return"";const Y=Gd(N.storageUrl),$=O>0?`${Y}?t=${Date.now()}`:Y;return console.log(`🖼️ Displaying image ${N.number}, src: ${$}, reloadKey: ${O}`),console.log("🔍 Display URL details:",{originalUrl:N.storageUrl,baseUrl:Y,finalUrl:$,isReload:O>0,hasTimestamp:$.includes("?t="),hasQuery:$.includes("?"),quality:$.includes("quality="),width:$.includes("w=")}),$},[N?.storageUrl,N?.number,O]),nt=P.useMemo(()=>o.map(Y=>E.jsx(FN,{photo:Y,isSelected:p.has(Y.id),onToggleSelection:U,onPhotoClick:ct,allPhotoOption:m},Y.id)),[o,p,U,ct,m]);return i?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"写真を検索中..."}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"写真が多い場合、時間がかかることがあります"}),r&&E.jsx("p",{className:"text-red-600 mt-2",children:r})]})}):r?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-red-600 mb-4",children:"エラーが発生しました"}),E.jsx("p",{className:"text-gray-600 mb-4",children:r}),E.jsx("button",{onClick:()=>t("/photo-info"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"戻る"})]})}):E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:Z?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("svg",{className:"w-16 h-16 text-blue-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"写真選択済み"})]}),E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"すでに写真を選択済みです。"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"変更がある場合にはLineにてお問い合わせください。"}),E.jsx("button",{onClick:()=>t("/photo-info"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"戻る"})]}):o.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"一致する写真が存在しませんでした。"}),E.jsx("p",{className:"text-gray-600",children:"Lineにてお問い合わせください"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:E.jsxs("p",{className:"text-blue-800 font-medium",children:[o.length,"枚の写真が見つかりました"]})}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:nt}),E.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:m,onChange:Y=>dt(Y.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-800 font-medium",children:"全データ購入オプション（+5500円）を適用"}),E.jsx("p",{className:"text-sm text-red-600",children:"19枚以上選択する場合はこちらがおすすめ"})]})]})}),E.jsxs("div",{className:"text-center",children:[E.jsxs("button",{onClick:At,disabled:p.size===0&&!m,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["確認画面へ進む（",m?o.length:p.size,"枚選択中）"]}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※3枚までは追加料金なしで選択可能"}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※写真購入後にウォーターマークなし/高解像度のお写真を再納品します"})]})]})}),N&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-lg flex flex-col relative",style:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh"},children:[E.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 overflow-hidden",style:{height:"calc(90vh - 120px)"},children:[E.jsxs("div",{className:"absolute top-4 left-0 right-0 flex items-center justify-between px-4 z-50",children:[E.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium",children:[V+1," / ",o.length]}),E.jsx("button",{onClick:()=>L(null),className:"bg-black bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all text-lg font-bold",children:"×"})]}),J&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:E.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}),ht&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[E.jsx("div",{className:"w-16 h-16 text-red-500 mx-auto mb-4",children:E.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:"画像の読み込みに失敗しました"}),E.jsx("button",{onClick:()=>{_t(!1),ut(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"再試行"})]})}),E.jsx(hE,{src:M,alt:`写真 ${N.number}`,className:"max-w-full max-h-full",objectFit:"contain",style:{maxWidth:"100%",maxHeight:"100%"},imageId:N.id,onLoadComplete:()=>{console.log("🎉 onLoadComplete called for photo:",N?.number,"index:",V),ut(!1),_t(!1),console.log("✅ Modal loading state cleared"),yt(V)},onLoadError:()=>{console.log("❌ onLoadError called for photo:",N?.number,"index:",V),ut(!1),_t(!0),console.log("✅ Modal loading state cleared due to error")},hideInternalLoader:!0,externalLoading:J},`${N.id}-${O}`),V>0&&E.jsx("button",{onClick:K,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),V<o.length-1&&E.jsx("button",{onClick:st,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),E.jsx("div",{className:"border-t border-gray-200 bg-white flex flex-col justify-center",style:{height:"120px",flexShrink:0},children:E.jsxs("div",{className:"p-3 text-center",children:[E.jsxs("label",{className:"flex items-center justify-center space-x-2 cursor-pointer mb-2",children:[E.jsx("input",{type:"checkbox",checked:p.has(N.id),onChange:()=>U(N.id),disabled:m,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:`font-medium ${m?"text-gray-400":"text-blue-600"}`,children:m?"全データ購入オプション適用中":"選択する"}),E.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:["(",String(N.number).padStart(3,"0"),")"]})]}),E.jsx("button",{onClick:At,disabled:p.size===0&&!m,className:`w-full py-2 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"確認画面へ進む"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※3枚までは基本料金に含まれます"}),E.jsx("p",{className:"text-xs text-gray-500",children:"← → キーで写真切り替え、ESCで閉じる"})]})})]})})]})},$N=()=>{const a=si(),t=Ll(),{loading:i,purchasePhotos:r}=bm(),o=a.state?.selectedPhotos||[],u=a.state?.allPhotoOption||!1,f=a.state?.searchInfo,p=()=>u?5500:o.length<=3?0:(o.length-3)*330,y=async()=>{try{await r(o,u),t("/photo-collect",{state:{selectedPhotos:o,allPhotoOption:u}})}catch(_){console.error("Purchase error:",_),alert("購入処理中にエラーが発生しました。")}};if(!o.length)return t("/photo-info"),null;const m=p();return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:o.map(_=>{const w=A=>{if(!A.includes("firebasestorage.googleapis.com"))return A;const N=A.split("/o/");if(N.length!==2)return A;const L=N[1],V=L.indexOf("?"),j=V!==-1?L.substring(0,V):L,Z=V!==-1?L.substring(V):"",J=decodeURIComponent(j).split("/");if(J.length<2)return A;const ut=J[0],_t=`${J[J.length-1]}_200x200`,O=`${ut}/thumbs/${_t}`;return`${N[0]}/o/${encodeURIComponent(O)}${Z}`};return E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[E.jsxs("div",{className:"relative aspect-square",children:[E.jsx("img",{src:w(_.storageUrl),alt:`写真 ${_.number}`,className:"w-full h-full object-cover"}),E.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(_.number).padStart(3,"0")})})]})},_.id)})}),E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["支払い合計：",m.toLocaleString(),"円"]}),!u&&o.length>3&&E.jsxs("p",{className:"text-gray-600",children:["追加写真",o.length-3,"枚 × 単価330円"]})]}),!u&&E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5",children:"i"}),E.jsx("div",{className:"flex-1",children:E.jsxs("p",{className:"text-blue-800 font-medium mb-2",children:["5500円のお支払いで",E.jsx("button",{onClick:()=>t("/photo-select",{state:{searchInfo:f,forceAllPhotoOption:!0}}),className:"text-blue-600 underline mx-1",children:"こちら"}),"から全てのお写真をご購入することができます"]})})]})}),E.jsx("button",{onClick:y,disabled:i,className:`w-full py-4 rounded-lg font-semibold text-white transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?"処理中...":"購入完了"}),E.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"※お支払い完了後にウォーターマークなしの高品質画像をお届けします"})]})]})]})},QN=()=>{const t=si().state?.selectedPhotos||[],i=()=>{const r=t.map(u=>String(u.number).padStart(3,"0")),o=[];for(let u=0;u<r.length;u+=6)o.push(r.slice(u,u+6).join("/"));return o.join(`
`)};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-md mx-auto px-4 py-16",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"ご購入ありがとうございます"}),t.length>0&&E.jsxs("div",{className:"mb-6",children:[E.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"購入した写真番号:"}),E.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:E.jsx("p",{className:"text-lg font-bold text-blue-600 whitespace-pre-line text-left break-words",children:i()})})]}),E.jsx("p",{className:"text-gray-600 leading-relaxed",children:"※お支払い確認後、ウォーターマークなしの画像を再納品させて頂きます"}),E.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:E.jsx("p",{className:"text-sm text-yellow-800",children:"控えとして本画面をスクリーンショットで保存していただくことをおすすめします"})})]})})]})},YN=()=>{const{loading:a,photos:t,searchGalleryPhotos:i}=bm(),[r,o]=P.useState(!0),[u,f]=P.useState(new Set),[p,y]=P.useState(!1),[m,_]=P.useState(null),[w,A]=P.useState(!1),[N,L]=P.useState(0),[V,j]=P.useState(!1),[Z,W]=P.useState({receptionNumber:"",shootingDate:"",customerName:"",password:""}),[J,ut]=P.useState({}),ht=(S,yt)=>{W(ct=>({...ct,[S]:yt})),ut(ct=>({...ct,[S]:""}))},_t=()=>{const S={};return Z.receptionNumber.trim()||(S.receptionNumber="受付番号を入力してください"),Z.shootingDate||(S.shootingDate="撮影日を入力してください"),Z.customerName.trim()||(S.customerName="お客様氏名を入力してください"),!Z.password||!Z.password.trim()?S.password="パスワードを入力してください":Z.password&&Z.password!=="torutora0820"&&(S.password="パスワードが正しくありません"),ut(S),Object.keys(S).length===0},O=async()=>{_t()&&(await i(Z),o(!1))},R=S=>{f(yt=>{const ct=new Set(yt);return ct.has(S)?ct.delete(S):ct.add(S),ct})},C=S=>{if(y(S),S){const yt=new Set(t.map(ct=>ct.id));f(yt)}else f(new Set)},I=async(S,yt)=>{try{const K=await(await fetch(S)).blob(),st=window.URL.createObjectURL(K),dt=document.createElement("a");dt.href=st,dt.download=yt,document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),window.URL.revokeObjectURL(st)}catch(ct){console.error("Download failed:",ct)}},U=async S=>{A(!0),L(0);const yt=setInterval(()=>{L(ct=>ct>=100?(clearInterval(yt),100):ct+10)},100);try{await I(S.storageUrl,`photo_${S.number}.jpg`),setTimeout(()=>{A(!1),j(!0),L(0)},1200)}catch{A(!1),L(0),alert("ダウンロードに失敗しました")}},k=async()=>{if(u.size===0)return;A(!0),L(0);const S=t.filter(ct=>u.has(ct.id));let yt=0;for(const ct of S)try{await I(ct.storageUrl,`photo_${ct.number}.jpg`),yt++,L(yt/S.length*100)}catch{console.error("Download failed for photo:",ct.number)}setTimeout(()=>{A(!1),j(!0),L(0)},500)};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),r&&E.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50 p-4",children:r&&E.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"受付番号と確認番号を入力してください"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号"}),E.jsx("input",{type:"text",value:Z.receptionNumber,onChange:S=>ht("receptionNumber",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${J.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),J.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:J.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日"}),E.jsx("input",{type:"date",value:Z.shootingDate,onChange:S=>ht("shootingDate",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${J.shootingDate?"border-red-500":"border-gray-300"}`}),J.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:J.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ）"}),E.jsx("input",{type:"text",value:Z.customerName,onChange:S=>ht("customerName",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${J.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),J.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:J.customerName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"パスワード"}),E.jsx("input",{type:"password",value:Z.password,onChange:S=>ht("password",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${J.password?"border-red-500":"border-gray-300"}`,placeholder:""}),J.password&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:J.password})]}),E.jsx("button",{onClick:O,disabled:a,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${a?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:a?"検索中...":"写真を表示する"})]})]})}),w&&E.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:E.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 shadow-lg pointer-events-auto",children:[E.jsx("div",{className:"text-center mb-4",children:E.jsxs("span",{className:"text-lg font-medium",children:[Math.round(N),"%"]})}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${N}%`}})})]})}),V&&E.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:E.jsxs("div",{className:"bg-white rounded-lg p-8 text-center shadow-lg pointer-events-auto",children:[E.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-4",children:"ダウンロードが完了しました"}),E.jsx("button",{onClick:()=>j(!1),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:"閉じる"})]})}),!r&&E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:t.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"写真が登録されていません。"}),E.jsx("p",{className:"text-gray-600",children:"Lineにてお問い合わせください"}),E.jsx("button",{onClick:()=>o(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"再検索"})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[E.jsxs("button",{onClick:k,disabled:u.size===0||w,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors mb-4 ${u.size===0||w?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["選択した写真をダウンロード (",u.size,"枚)"]}),E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:p,onChange:S=>C(S.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:"text-gray-800 font-medium",children:"全ての写真を選択する"})]})]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:t.map(S=>E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>_(S),children:[E.jsxs("div",{className:"relative aspect-square",children:[E.jsx("img",{src:S.storageUrl,alt:`写真 ${S.number}`,className:"w-full h-full object-cover"}),E.jsx("button",{onClick:yt=>{yt.stopPropagation(),R(S.id)},className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${u.has(S.id)?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:u.has(S.id)&&E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(S.number).padStart(3,"0")})})]})},S.id))})]})}),m&&E.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:1e3},children:[E.jsxs("div",{className:"flex items-center justify-between bg-white text-gray-800 p-4 shadow-sm",children:[E.jsx("button",{onClick:()=>_(null),className:"text-gray-800 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),E.jsx("span",{className:"font-medium",children:String(m.number).padStart(3,"0")}),E.jsx("button",{onClick:()=>R(m.id),className:`w-8 h-8 rounded flex items-center justify-center ${u.has(m.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:u.has(m.id)&&E.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"flex items-center justify-center bg-black",style:{height:"calc(100vh - 140px)"},children:E.jsx("img",{src:m.storageUrl,alt:`写真 ${m.number}`,className:"max-w-full max-h-full object-contain"})}),E.jsx("div",{className:"p-4 bg-white border-t border-gray-200",style:{height:"80px"},children:E.jsxs("button",{onClick:()=>U(m),disabled:w,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors flex items-center justify-center ${w?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:[E.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),w?"ダウンロード中...":"ダウンロード"]})})]})]})};function KN(){return E.jsxs(PT,{children:[E.jsx(Fa,{path:"/nouhin",element:E.jsx(jN,{})}),E.jsx(Fa,{path:"/photo-info",element:E.jsx(PN,{})}),E.jsx(Fa,{path:"/photo-select",element:E.jsx(GN,{})}),E.jsx(Fa,{path:"/photo-check",element:E.jsx($N,{})}),E.jsx(Fa,{path:"/photo-collect",element:E.jsx(QN,{})}),E.jsx(Fa,{path:"/gallery",element:E.jsx(YN,{})}),E.jsx(Fa,{path:"/",element:E.jsx(kT,{to:"/photo-info",replace:!0})})]})}$1.createRoot(document.getElementById("root")).render(E.jsx(R0.StrictMode,{children:E.jsx(sw,{children:E.jsx(KN,{})})}));
