(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zl(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var xd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function Lw(){if(Mv)return ml;Mv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:c,ref:o!==void 0?o:null,props:u}}return ml.Fragment=t,ml.jsx=n,ml.jsxs=n,ml}var jv;function Bw(){return jv||(jv=1,xd.exports=Lw()),xd.exports}var V=Bw(),wd={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function qw(){if(Vv)return Kt;Vv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,b={};function T(F,$,B){this.props=F,this.context=$,this.refs=b,this.updater=B||x}T.prototype.isReactComponent={},T.prototype.setState=function(F,$){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,$,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=T.prototype;function M(F,$,B){this.props=F,this.context=$,this.refs=b,this.updater=B||x}var U=M.prototype=new k;U.constructor=M,C(U,T.prototype),U.isPureReactComponent=!0;var K=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function P(F,$,B,Z,ut,yt){return B=yt.ref,{$$typeof:a,type:F,key:$,ref:B!==void 0?B:null,props:yt}}function O(F,$){return P(F.type,$,void 0,void 0,void 0,F.props)}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===a}function L(F){var $={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(B){return $[B]})}var G=/\/+/g;function N(F,$){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):$.toString(36)}function D(){}function R(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(D,D):(F.status="pending",F.then(function($){F.status==="pending"&&(F.status="fulfilled",F.value=$)},function($){F.status==="pending"&&(F.status="rejected",F.reason=$)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function J(F,$,B,Z,ut){var yt=typeof F;(yt==="undefined"||yt==="boolean")&&(F=null);var Dt=!1;if(F===null)Dt=!0;else switch(yt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(F.$$typeof){case a:case t:Dt=!0;break;case y:return Dt=F._init,J(Dt(F._payload),$,B,Z,ut)}}if(Dt)return ut=ut(F),Dt=Z===""?"."+N(F,0):Z,K(ut)?(B="",Dt!=null&&(B=Dt.replace(G,"$&/")+"/"),J(ut,$,B,"",function(jt){return jt})):ut!=null&&(I(ut)&&(ut=O(ut,B+(ut.key==null||F&&F.key===ut.key?"":(""+ut.key).replace(G,"$&/")+"/")+Dt)),$.push(ut)),1;Dt=0;var $t=Z===""?".":Z+":";if(K(F))for(var kt=0;kt<F.length;kt++)Z=F[kt],yt=$t+N(Z,kt),Dt+=J(Z,$,B,yt,ut);else if(kt=w(F),typeof kt=="function")for(F=kt.call(F),kt=0;!(Z=F.next()).done;)Z=Z.value,yt=$t+N(Z,kt++),Dt+=J(Z,$,B,yt,ut);else if(yt==="object"){if(typeof F.then=="function")return J(R(F),$,B,Z,ut);throw $=String(F),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function et(F,$,B){if(F==null)return F;var Z=[],ut=0;return J(F,Z,"","",function(yt){return $.call(B,yt,ut++)}),Z}function tt(F){if(F._status===-1){var $=F._result;$=$(),$.then(function(B){(F._status===0||F._status===-1)&&(F._status=1,F._result=B)},function(B){(F._status===0||F._status===-1)&&(F._status=2,F._result=B)}),F._status===-1&&(F._status=0,F._result=$)}if(F._status===1)return F._result.default;throw F._result}var bt=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ft(){}return Kt.Children={map:et,forEach:function(F,$,B){et(F,function(){$.apply(this,arguments)},B)},count:function(F){var $=0;return et(F,function(){$++}),$},toArray:function(F){return et(F,function($){return $})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Kt.Component=T,Kt.Fragment=n,Kt.Profiler=o,Kt.PureComponent=M,Kt.StrictMode=r,Kt.Suspense=p,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return Y.H.useMemoCache(F)}},Kt.cache=function(F){return function(){return F.apply(null,arguments)}},Kt.cloneElement=function(F,$,B){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Z=C({},F.props),ut=F.key,yt=void 0;if($!=null)for(Dt in $.ref!==void 0&&(yt=void 0),$.key!==void 0&&(ut=""+$.key),$)!rt.call($,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&$.ref===void 0||(Z[Dt]=$[Dt]);var Dt=arguments.length-2;if(Dt===1)Z.children=B;else if(1<Dt){for(var $t=Array(Dt),kt=0;kt<Dt;kt++)$t[kt]=arguments[kt+2];Z.children=$t}return P(F.type,ut,void 0,void 0,yt,Z)},Kt.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},Kt.createElement=function(F,$,B){var Z,ut={},yt=null;if($!=null)for(Z in $.key!==void 0&&(yt=""+$.key),$)rt.call($,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ut[Z]=$[Z]);var Dt=arguments.length-2;if(Dt===1)ut.children=B;else if(1<Dt){for(var $t=Array(Dt),kt=0;kt<Dt;kt++)$t[kt]=arguments[kt+2];ut.children=$t}if(F&&F.defaultProps)for(Z in Dt=F.defaultProps,Dt)ut[Z]===void 0&&(ut[Z]=Dt[Z]);return P(F,yt,void 0,void 0,null,ut)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(F){return{$$typeof:d,render:F}},Kt.isValidElement=I,Kt.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:tt}},Kt.memo=function(F,$){return{$$typeof:m,type:F,compare:$===void 0?null:$}},Kt.startTransition=function(F){var $=Y.T,B={};Y.T=B;try{var Z=F(),ut=Y.S;ut!==null&&ut(B,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ft,bt)}catch(yt){bt(yt)}finally{Y.T=$}},Kt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Kt.use=function(F){return Y.H.use(F)},Kt.useActionState=function(F,$,B){return Y.H.useActionState(F,$,B)},Kt.useCallback=function(F,$){return Y.H.useCallback(F,$)},Kt.useContext=function(F){return Y.H.useContext(F)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(F,$){return Y.H.useDeferredValue(F,$)},Kt.useEffect=function(F,$,B){var Z=Y.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(F,$)},Kt.useId=function(){return Y.H.useId()},Kt.useImperativeHandle=function(F,$,B){return Y.H.useImperativeHandle(F,$,B)},Kt.useInsertionEffect=function(F,$){return Y.H.useInsertionEffect(F,$)},Kt.useLayoutEffect=function(F,$){return Y.H.useLayoutEffect(F,$)},Kt.useMemo=function(F,$){return Y.H.useMemo(F,$)},Kt.useOptimistic=function(F,$){return Y.H.useOptimistic(F,$)},Kt.useReducer=function(F,$,B){return Y.H.useReducer(F,$,B)},Kt.useRef=function(F){return Y.H.useRef(F)},Kt.useState=function(F){return Y.H.useState(F)},Kt.useSyncExternalStore=function(F,$,B){return Y.H.useSyncExternalStore(F,$,B)},Kt.useTransition=function(){return Y.H.useTransition()},Kt.version="19.1.1",Kt}var Pv;function Ap(){return Pv||(Pv=1,wd.exports=qw()),wd.exports}var X=Ap();const k0=zl(X);var Ed={exports:{}},gl={},Td={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Fw(){return zv||(zv=1,(function(a){function t(et,tt){var bt=et.length;et.push(tt);t:for(;0<bt;){var ft=bt-1>>>1,F=et[ft];if(0<o(F,tt))et[ft]=tt,et[bt]=F,bt=ft;else break t}}function n(et){return et.length===0?null:et[0]}function r(et){if(et.length===0)return null;var tt=et[0],bt=et.pop();if(bt!==tt){et[0]=bt;t:for(var ft=0,F=et.length,$=F>>>1;ft<$;){var B=2*(ft+1)-1,Z=et[B],ut=B+1,yt=et[ut];if(0>o(Z,bt))ut<F&&0>o(yt,Z)?(et[ft]=yt,et[ut]=bt,ft=ut):(et[ft]=Z,et[B]=bt,ft=B);else if(ut<F&&0>o(yt,bt))et[ft]=yt,et[ut]=bt,ft=ut;else break t}}return tt}function o(et,tt){var bt=et.sortIndex-tt.sortIndex;return bt!==0?bt:et.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var p=[],m=[],y=1,_=null,w=3,x=!1,C=!1,b=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(et){for(var tt=n(m);tt!==null;){if(tt.callback===null)r(m);else if(tt.startTime<=et)r(m),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=n(m)}}function Y(et){if(b=!1,K(et),!C)if(n(p)!==null)C=!0,rt||(rt=!0,N());else{var tt=n(m);tt!==null&&J(Y,tt.startTime-et)}}var rt=!1,P=-1,O=5,I=-1;function L(){return T?!0:!(a.unstable_now()-I<O)}function G(){if(T=!1,rt){var et=a.unstable_now();I=et;var tt=!0;try{t:{C=!1,b&&(b=!1,M(P),P=-1),x=!0;var bt=w;try{e:{for(K(et),_=n(p);_!==null&&!(_.expirationTime>et&&L());){var ft=_.callback;if(typeof ft=="function"){_.callback=null,w=_.priorityLevel;var F=ft(_.expirationTime<=et);if(et=a.unstable_now(),typeof F=="function"){_.callback=F,K(et),tt=!0;break e}_===n(p)&&r(p),K(et)}else r(p);_=n(p)}if(_!==null)tt=!0;else{var $=n(m);$!==null&&J(Y,$.startTime-et),tt=!1}}break t}finally{_=null,w=bt,x=!1}tt=void 0}}finally{tt?N():rt=!1}}}var N;if(typeof U=="function")N=function(){U(G)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,R=D.port2;D.port1.onmessage=G,N=function(){R.postMessage(null)}}else N=function(){k(G,0)};function J(et,tt){P=k(function(){et(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(et){et.callback=null},a.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<et?Math.floor(1e3/et):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(et){switch(w){case 1:case 2:case 3:var tt=3;break;default:tt=w}var bt=w;w=tt;try{return et()}finally{w=bt}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(et,tt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var bt=w;w=et;try{return tt()}finally{w=bt}},a.unstable_scheduleCallback=function(et,tt,bt){var ft=a.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?ft+bt:ft):bt=ft,et){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=bt+F,et={id:y++,callback:tt,priorityLevel:et,startTime:bt,expirationTime:F,sortIndex:-1},bt>ft?(et.sortIndex=bt,t(m,et),n(p)===null&&et===n(m)&&(b?(M(P),P=-1):b=!0,J(Y,bt-ft))):(et.sortIndex=F,t(p,et),C||x||(C=!0,rt||(rt=!0,N()))),et},a.unstable_shouldYield=L,a.unstable_wrapCallback=function(et){var tt=w;return function(){var bt=w;w=tt;try{return et.apply(this,arguments)}finally{w=bt}}}})(Sd)),Sd}var Uv;function Hw(){return Uv||(Uv=1,Td.exports=Fw()),Td.exports}var Ad={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Gw(){if(Lv)return wn;Lv=1;var a=Ap();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,y)},wn.flushSync=function(p){var m=c.T,y=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=y,r.d.f()}},wn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},wn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},wn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):y==="script"&&r.d.X(p,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},wn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},wn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin);r.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},wn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},wn.requestFormReset=function(p){r.d.r(p)},wn.unstable_batchedUpdates=function(p,m){return p(m)},wn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var Bv;function $w(){if(Bv)return Ad.exports;Bv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ad.exports=Gw(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Yw(){if(qv)return gl;qv=1;var a=Hw(),t=Ap(),n=$w();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,l=i;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return d(f),e;if(g===l)return d(f),i;g=g.sibling}throw Error(r(188))}if(s.return!==l.return)s=f,l=g;else{for(var S=!1,j=f.child;j;){if(j===s){S=!0,s=f,l=g;break}if(j===l){S=!0,l=f,s=g;break}j=j.sibling}if(!S){for(j=g.child;j;){if(j===s){S=!0,s=g,l=f;break}if(j===l){S=!0,l=g,s=f;break}j=j.sibling}if(!S)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function m(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=m(e),i!==null)return i;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case T:return"Profiler";case b:return"StrictMode";case Y:return"Suspense";case rt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case U:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case K:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var J=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},ft=[],F=-1;function $(e){return{current:e}}function B(e){0>F||(e.current=ft[F],ft[F]=null,F--)}function Z(e,i){F++,ft[F]=e.current,e.current=i}var ut=$(null),yt=$(null),Dt=$(null),$t=$(null);function kt(e,i){switch(Z(Dt,i),Z(yt,e),Z(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?lv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=lv(i),e=uv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ut),Z(ut,e)}function jt(){B(ut),B(yt),B(Dt)}function qt(e){e.memoizedState!==null&&Z($t,e);var i=ut.current,s=uv(i,e.type);i!==s&&(Z(yt,e),Z(ut,s))}function Gt(e){yt.current===e&&(B(ut),B(yt)),$t.current===e&&(B($t),cl._currentValue=bt)}var le=Object.prototype.hasOwnProperty,we=a.unstable_scheduleCallback,A=a.unstable_cancelCallback,vt=a.unstable_shouldYield,pt=a.unstable_requestPaint,H=a.unstable_now,q=a.unstable_getCurrentPriorityLevel,nt=a.unstable_ImmediatePriority,wt=a.unstable_UserBlockingPriority,At=a.unstable_NormalPriority,lt=a.unstable_LowPriority,Ct=a.unstable_IdlePriority,dt=a.log,gt=a.unstable_setDisableYieldValue,Rt=null,It=null;function Pt(e){if(typeof dt=="function"&&gt(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Rt,e)}catch{}}var ne=Math.clz32?Math.clz32:hn,cn=Math.log,en=Math.LN2;function hn(e){return e>>>=0,e===0?32:31-(cn(e)/en|0)|0}var ue=256,fn=4194304;function Qe(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Le(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var f=0,g=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var j=l&134217727;return j!==0?(l=j&~g,l!==0?f=Qe(l):(S&=j,S!==0?f=Qe(S):s||(s=j&~e,s!==0&&(f=Qe(s))))):(j=l&~g,j!==0?f=Qe(j):S!==0?f=Qe(S):s||(s=l&~e,s!==0&&(f=Qe(s)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,s=i&-i,g>=s||g===32&&(s&4194048)!==0)?i:f}function On(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function oi(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(){var e=ue;return ue<<=1,(ue&4194048)===0&&(ue=256),e}function hr(){var e=fn;return fn<<=1,(fn&62914560)===0&&(fn=4194304),e}function $n(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function An(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bi(e,i,s,l,f,g){var S=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var j=e.entanglements,Q=e.expirationTimes,ot=e.hiddenUpdates;for(s=S&~s;0<s;){var _t=31-ne(s),Et=1<<_t;j[_t]=0,Q[_t]=-1;var ct=ot[_t];if(ct!==null)for(ot[_t]=null,_t=0;_t<ct.length;_t++){var ht=ct[_t];ht!==null&&(ht.lane&=-536870913)}s&=~Et}l!==0&&xi(e,l,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(S&~i))}function xi(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ne(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function po(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-ne(s),f=1<<l;f&i|e[l]&i&&(e[l]|=i),s&=~f}}function wa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ts(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ea(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Cv(e.type))}function Kl(e,i){var s=tt.p;try{return tt.p=e,i()}finally{tt.p=s}}var Ae=Math.random().toString(36).slice(2),Ke="__reactFiber$"+Ae,Be="__reactProps$"+Ae,Yn="__reactContainer$"+Ae,mo="__reactEvents$"+Ae,Eh="__reactListeners$"+Ae,Ta="__reactHandles$"+Ae,Xl="__reactResources$"+Ae,fr="__reactMarker$"+Ae;function Sa(e){delete e[Ke],delete e[Be],delete e[mo],delete e[Eh],delete e[Ta]}function Yi(e){var i=e[Ke];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Yn]||s[Ke]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=dv(e);e!==null;){if(s=e[Ke])return s;e=dv(e)}return i}e=s,s=e.parentNode}return null}function wi(e){if(e=e[Ke]||e[Yn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Ei(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Rn(e){var i=e[Xl];return i||(i=e[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(e){e[fr]=!0}var go=new Set,es={};function li(e,i){Qi(e,i),Qi(e+"Capture",i)}function Qi(e,i){for(es[e]=i,e=0;e<i.length;e++)go.add(i[e])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},dr={};function Jl(e){return le.call(dr,e)?!0:le.call(Wl,e)?!1:Zl.test(e)?dr[e]=!0:(Wl[e]=!0,!1)}function Aa(e,i,s){if(Jl(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function Ti(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function dn(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}var pr,tu;function Ki(e){if(pr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);pr=i&&i[1]||"",tu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+e+tu}var ns=!1;function is(e,i){if(!e||ns)return"";ns=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(ht){var ct=ht}Reflect.construct(e,[],Et)}else{try{Et.call()}catch(ht){ct=ht}e.call(Et.prototype)}}else{try{throw Error()}catch(ht){ct=ht}(Et=e())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(ht){if(ht&&ct&&typeof ht.stack=="string")return[ht.stack,ct.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),S=g[0],j=g[1];if(S&&j){var Q=S.split(`
`),ot=j.split(`
`);for(f=l=0;l<Q.length&&!Q[l].includes("DetermineComponentFrameRoot");)l++;for(;f<ot.length&&!ot[f].includes("DetermineComponentFrameRoot");)f++;if(l===Q.length||f===ot.length)for(l=Q.length-1,f=ot.length-1;1<=l&&0<=f&&Q[l]!==ot[f];)f--;for(;1<=l&&0<=f;l--,f--)if(Q[l]!==ot[f]){if(l!==1||f!==1)do if(l--,f--,0>f||Q[l]!==ot[f]){var _t=`
`+Q[l].replace(" at new "," at ");return e.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",e.displayName)),_t}while(1<=l&&0<=f);break}}}finally{ns=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ki(s):""}function yo(e){switch(e.tag){case 26:case 27:case 5:return Ki(e.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return is(e.type,!1);case 11:return is(e.type.render,!1);case 1:return is(e.type,!0);case 31:return Ki("Activity");default:return""}}function as(e){try{var i="";do i+=yo(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Th(e){var i=vo(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(S){l=""+S,g.call(this,S)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function rs(e){e._valueTracker||(e._valueTracker=Th(e))}function _o(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=vo(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sh=/[\n"\\]/g;function qe(e){return e.replace(Sh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zn(e,i,s,l,f,g,S,j){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Cn(i)):e.value!==""+Cn(i)&&(e.value=""+Cn(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?Ra(e,S,Cn(i)):s!=null?Ra(e,S,Cn(s)):l!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+Cn(j):e.removeAttribute("name")}function gr(e,i,s,l,f,g,S,j){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;s=s!=null?""+Cn(s):"",i=i!=null?""+Cn(i):s,j||i===e.value||(e.value=i),e.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=j?e.checked:!!l,e.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function Ra(e,i,s){i==="number"&&mr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Xi(e,i,s,l){if(e=e.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=i.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Cn(s),i=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function ge(e,i,s){if(i!=null&&(i=""+Cn(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Cn(s):""}function yr(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(r(92));if(J(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Cn(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Qn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||vr.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function bo(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&eu(e,f,l)}else for(var g in i)i.hasOwnProperty(g)&&eu(e,g,i[g])}function xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ss(e){return Rh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zi=null;function Kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,Ji=null;function wo(e){var i=wi(e);if(i&&(e=i.stateNode)){var s=e[Be]||null;t:switch(e=i.stateNode,i.type){case"input":if(zn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+qe(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var f=l[Be]||null;if(!f)throw Error(r(90));zn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&_o(l)}break t;case"textarea":ge(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Xi(e,!!s.multiple,i,!1)}}}var Si=!1;function nu(e,i,s){if(Si)return e(i,s);Si=!0;try{var l=e(i);return l}finally{if(Si=!1,(Wi!==null||Ji!==null)&&(Ku(),Wi&&(i=Wi,e=Ji,Ji=Wi=null,wo(i),e)))for(i=0;i<e.length;i++)wo(e[i])}}function _r(e,i){var s=e.stateNode;if(s===null)return null;var l=s[Be]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(ui)try{var br={};Object.defineProperty(br,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Xn=!1}var Ai=null,Ca=null,ta=null;function Eo(){if(ta)return ta;var e,i=Ca,s=i.length,l,f="value"in Ai?Ai.value:Ai.textContent,g=f.length;for(e=0;e<s&&i[e]===f[e];e++);var S=s-e;for(l=1;l<=S&&i[s-l]===f[g-l];l++);return ta=f.slice(e,1<l?1-l:void 0)}function Ri(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function To(){return!1}function nn(e){function i(s,l,f,g,S){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(s=e[j],this[j]=s?s(g):g[j]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ci:To,this.isPropagationStopped=To,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),i}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=nn(fe),xr=y({},fe,{view:0,detail:0}),iu=nn(xr),ls,us,Di,wr=y({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(ls=e.screenX-Di.screenX,us=e.screenY-Di.screenY):us=ls=0,Di=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:us}}),Zn=nn(wr),au=y({},wr,{dataTransfer:0}),Ch=nn(au),Er=y({},xr,{relatedTarget:0}),cs=nn(Er),So=y({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),hs=nn(So),ru=y({},fe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fs=nn(ru),Dh=y({},fe,{data:0}),Ao=nn(Dh),Tr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ro(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ou[e])?!!i[e]:!1}function Sr(){return Ro}var lu=y({},xr,{key:function(e){if(e.key){var i=Tr[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return e.type==="keypress"?Ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ds=nn(lu),uu=y({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=nn(uu),ea=y({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),cu=nn(ea),hu=y({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),fu=nn(hu),du=y({},wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ps=nn(du),Dn=y({},fe,{newState:0,oldState:0}),pu=nn(Dn),mu=[9,13,27,32],Ni=ui&&"CompositionEvent"in window,h=null;ui&&"documentMode"in document&&(h=document.documentMode);var v=ui&&"TextEvent"in window&&!h,E=ui&&(!Ni||h&&8<h&&11>=h),z=" ",at=!1;function mt(e,i){switch(e){case"keyup":return mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function Xe(e,i){switch(e){case"compositionend":return Nt(i);case"keypress":return i.which!==32?null:(at=!0,z);case"textInput":return e=i.data,e===z&&at?null:e;default:return null}}function ae(e,i){if(ie)return e==="compositionend"||!Ni&&mt(e,i)?(e=Eo(),ta=Ca=Ai=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ze(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!an[e.type]:i==="textarea"}function na(e,i,s,l){Wi?Ji?Ji.push(l):Ji=[l]:Wi=l,i=ec(i,"onChange"),0<i.length&&(s=new os("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var pn=null,ki=null;function Do(e){iv(e,0)}function gu(e){var i=Ei(e);if(_o(i))return e}function Tm(e,i){if(e==="change")return i}var Sm=!1;if(ui){var Nh;if(ui){var kh="oninput"in document;if(!kh){var Am=document.createElement("div");Am.setAttribute("oninput","return;"),kh=typeof Am.oninput=="function"}Nh=kh}else Nh=!1;Sm=Nh&&(!document.documentMode||9<document.documentMode)}function Rm(){pn&&(pn.detachEvent("onpropertychange",Cm),ki=pn=null)}function Cm(e){if(e.propertyName==="value"&&gu(ki)){var i=[];na(i,ki,e,Kn(e)),nu(Do,i)}}function gx(e,i,s){e==="focusin"?(Rm(),pn=i,ki=s,pn.attachEvent("onpropertychange",Cm)):e==="focusout"&&Rm()}function yx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(ki)}function vx(e,i){if(e==="click")return gu(i)}function _x(e,i){if(e==="input"||e==="change")return gu(i)}function bx(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Un=typeof Object.is=="function"?Object.is:bx;function No(e,i){if(Un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!le.call(i,f)||!Un(e[f],i[f]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nm(e,i){var s=Dm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Dm(s)}}function km(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?km(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=mr(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=mr(e.document)}return i}function Ih(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xx=ui&&"documentMode"in document&&11>=document.documentMode,ms=null,Oh=null,ko=null,Mh=!1;function Om(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||ms==null||ms!==mr(l)||(l=ms,"selectionStart"in l&&Ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&No(ko,l)||(ko=l,l=ec(Oh,"onSelect"),0<l.length&&(i=new os("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=ms)))}function Ar(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var gs={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},jh={},Mm={};ui&&(Mm=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Rr(e){if(jh[e])return jh[e];if(!gs[e])return e;var i=gs[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Mm)return jh[e]=i[s];return e}var jm=Rr("animationend"),Vm=Rr("animationiteration"),Pm=Rr("animationstart"),wx=Rr("transitionrun"),Ex=Rr("transitionstart"),Tx=Rr("transitioncancel"),zm=Rr("transitionend"),Um=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function ci(e,i){Um.set(e,i),li(i,[e])}var Lm=new WeakMap;function Wn(e,i){if(typeof e=="object"&&e!==null){var s=Lm.get(e);return s!==void 0?s:(i={value:e,source:i,stack:as(i)},Lm.set(e,i),i)}return{value:e,source:i,stack:as(i)}}var Jn=[],ys=0,Ph=0;function yu(){for(var e=ys,i=Ph=ys=0;i<e;){var s=Jn[i];Jn[i++]=null;var l=Jn[i];Jn[i++]=null;var f=Jn[i];Jn[i++]=null;var g=Jn[i];if(Jn[i++]=null,l!==null&&f!==null){var S=l.pending;S===null?f.next=f:(f.next=S.next,S.next=f),l.pending=f}g!==0&&Bm(s,f,g)}}function vu(e,i,s,l){Jn[ys++]=e,Jn[ys++]=i,Jn[ys++]=s,Jn[ys++]=l,Ph|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function zh(e,i,s,l){return vu(e,i,s,l),_u(e)}function vs(e,i){return vu(e,null,null,i),_u(e)}function Bm(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,g=e.return;g!==null;)g.childLanes|=s,l=g.alternate,l!==null&&(l.childLanes|=s),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&i!==null&&(f=31-ne(s),e=g.hiddenUpdates,l=e[f],l===null?e[f]=[i]:l.push(i),i.lane=s|536870912),g):null}function _u(e){if(50<nl)throw nl=0,Gf=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var _s={};function Sx(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,i,s,l){return new Sx(e,i,s,l)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,i){var s=e.alternate;return s===null?(s=Ln(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function qm(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function bu(e,i,s,l,f,g){var S=0;if(l=e,typeof e=="function")Uh(e)&&(S=1);else if(typeof e=="string")S=Rw(e,s,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Ln(31,s,i,f),e.elementType=I,e.lanes=g,e;case C:return Cr(s.children,f,g,i);case b:S=8,f|=24;break;case T:return e=Ln(12,s,i,f|2),e.elementType=T,e.lanes=g,e;case Y:return e=Ln(13,s,i,f),e.elementType=Y,e.lanes=g,e;case rt:return e=Ln(19,s,i,f),e.elementType=rt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case U:S=10;break t;case M:S=9;break t;case K:S=11;break t;case P:S=14;break t;case O:S=16,l=null;break t}S=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Ln(S,s,i,f),i.elementType=e,i.type=l,i.lanes=g,i}function Cr(e,i,s,l){return e=Ln(7,e,l,i),e.lanes=s,e}function Lh(e,i,s){return e=Ln(6,e,null,i),e.lanes=s,e}function Bh(e,i,s){return i=Ln(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var bs=[],xs=0,xu=null,wu=0,ti=[],ei=0,Dr=null,aa=1,ra="";function Nr(e,i){bs[xs++]=wu,bs[xs++]=xu,xu=e,wu=i}function Fm(e,i,s){ti[ei++]=aa,ti[ei++]=ra,ti[ei++]=Dr,Dr=e;var l=aa;e=ra;var f=32-ne(l)-1;l&=~(1<<f),s+=1;var g=32-ne(i)+f;if(30<g){var S=f-f%5;g=(l&(1<<S)-1).toString(32),l>>=S,f-=S,aa=1<<32-ne(i)+f|s<<f|l,ra=g+e}else aa=1<<g|s<<f|l,ra=e}function qh(e){e.return!==null&&(Nr(e,1),Fm(e,1,0))}function Fh(e){for(;e===xu;)xu=bs[--xs],bs[xs]=null,wu=bs[--xs],bs[xs]=null;for(;e===Dr;)Dr=ti[--ei],ti[ei]=null,ra=ti[--ei],ti[ei]=null,aa=ti[--ei],ti[ei]=null}var Nn=null,Ie=null,he=!1,kr=null,Ii=!1,Hh=Error(r(519));function Ir(e){var i=Error(r(418,""));throw Mo(Wn(i,e)),Hh}function Hm(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[Ke]=e,i[Be]=l,s){case"dialog":Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":case"embed":Jt("load",i);break;case"video":case"audio":for(s=0;s<al.length;s++)Jt(al[s],i);break;case"source":Jt("error",i);break;case"img":case"image":case"link":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"input":Jt("invalid",i),gr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),rs(i);break;case"select":Jt("invalid",i);break;case"textarea":Jt("invalid",i),yr(i,l.value,l.defaultValue,l.children),rs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||ov(i.textContent,s)?(l.popover!=null&&(Jt("beforetoggle",i),Jt("toggle",i)),l.onScroll!=null&&Jt("scroll",i),l.onScrollEnd!=null&&Jt("scrollend",i),l.onClick!=null&&(i.onclick=nc),i=!0):i=!1,i||Ir(e)}function Gm(e){for(Nn=e.return;Nn;)switch(Nn.tag){case 5:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:Nn=Nn.return}}function Io(e){if(e!==Nn)return!1;if(!he)return Gm(e),he=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||od(e.type,e.memoizedProps)),s=!s),s&&Ie&&Ir(e),Gm(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){Ie=fi(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}Ie=null}}else i===27?(i=Ie,Ha(e.type)?(e=hd,hd=null,Ie=e):Ie=i):Ie=Nn?fi(e.stateNode.nextSibling):null;return!0}function Oo(){Ie=Nn=null,he=!1}function $m(){var e=kr;return e!==null&&(Vn===null?Vn=e:Vn.push.apply(Vn,e),kr=null),e}function Mo(e){kr===null?kr=[e]:kr.push(e)}var Gh=$(null),Or=null,sa=null;function Da(e,i,s){Z(Gh,i._currentValue),i._currentValue=s}function oa(e){e._currentValue=Gh.current,B(Gh)}function $h(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function Yh(e,i,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var S=f.child;g=g.firstContext;t:for(;g!==null;){var j=g;g=f;for(var Q=0;Q<i.length;Q++)if(j.context===i[Q]){g.lanes|=s,j=g.alternate,j!==null&&(j.lanes|=s),$h(g.return,s,e),l||(S=null);break t}g=j.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(r(341));S.lanes|=s,g=S.alternate,g!==null&&(g.lanes|=s),$h(S,s,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function jo(e,i,s,l){e=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var j=f.type;Un(f.pendingProps.value,S.value)||(e!==null?e.push(j):e=[j])}}else if(f===$t.current){if(S=f.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}f=f.return}e!==null&&Yh(i,e,s,l),i.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xn(e){return Ym(Or,e)}function Tu(e,i){return Or===null&&Mr(e),Ym(e,i)}function Ym(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},sa===null){if(e===null)throw Error(r(308));sa=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else sa=sa.next=i;return s}var Ax=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},Rx=a.unstable_scheduleCallback,Cx=a.unstable_NormalPriority,We={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new Ax,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&Rx(Cx,function(){e.controller.abort()})}var Po=null,Kh=0,ws=0,Es=null;function Dx(e,i){if(Po===null){var s=Po=[];Kh=0,ws=Wf(),Es={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Kh++,i.then(Qm,Qm),i}function Qm(){if(--Kh===0&&Po!==null){Es!==null&&(Es.status="fulfilled");var e=Po;Po=null,ws=0,Es=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Nx(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Km=et.S;et.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Dx(e,i),Km!==null&&Km(e,i)};var jr=$(null);function Xh(){var e=jr.current;return e!==null?e:Ee.pooledCache}function Su(e,i){i===null?Z(jr,jr.current):Z(jr,i.pool)}function Xm(){var e=Xh();return e===null?null:{parent:We._currentValue,pool:e}}var zo=Error(r(460)),Zm=Error(r(474)),Au=Error(r(542)),Zh={then:function(){}};function Wm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(){}function Jm(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Ru,Ru),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,eg(e),e;default:if(typeof i.status=="string")i.then(Ru,Ru);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,eg(e),e}throw Uo=i,zo}}var Uo=null;function tg(){if(Uo===null)throw Error(r(459));var e=Uo;return Uo=null,e}function eg(e){if(e===zo||e===Au)throw Error(r(483))}var Na=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(pe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=_u(e),Bm(e,null,s),i}return vu(e,l,i,s),_u(e)}function Lo(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,po(e,s)}}function tf(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?f=g=S:g=g.next=S,s=s.next}while(s!==null);g===null?f=g=i:g=g.next=i}else f=g=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var ef=!1;function Bo(){if(ef){var e=Es;if(e!==null)throw e}}function qo(e,i,s,l){ef=!1;var f=e.updateQueue;Na=!1;var g=f.firstBaseUpdate,S=f.lastBaseUpdate,j=f.shared.pending;if(j!==null){f.shared.pending=null;var Q=j,ot=Q.next;Q.next=null,S===null?g=ot:S.next=ot,S=Q;var _t=e.alternate;_t!==null&&(_t=_t.updateQueue,j=_t.lastBaseUpdate,j!==S&&(j===null?_t.firstBaseUpdate=ot:j.next=ot,_t.lastBaseUpdate=Q))}if(g!==null){var Et=f.baseState;S=0,_t=ot=Q=null,j=g;do{var ct=j.lane&-536870913,ht=ct!==j.lane;if(ht?(re&ct)===ct:(l&ct)===ct){ct!==0&&ct===ws&&(ef=!0),_t!==null&&(_t=_t.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var Ht=e,Lt=j;ct=i;var _e=s;switch(Lt.tag){case 1:if(Ht=Lt.payload,typeof Ht=="function"){Et=Ht.call(_e,Et,ct);break t}Et=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Lt.payload,ct=typeof Ht=="function"?Ht.call(_e,Et,ct):Ht,ct==null)break t;Et=y({},Et,ct);break t;case 2:Na=!0}}ct=j.callback,ct!==null&&(e.flags|=64,ht&&(e.flags|=8192),ht=f.callbacks,ht===null?f.callbacks=[ct]:ht.push(ct))}else ht={lane:ct,tag:j.tag,payload:j.payload,callback:j.callback,next:null},_t===null?(ot=_t=ht,Q=Et):_t=_t.next=ht,S|=ct;if(j=j.next,j===null){if(j=f.shared.pending,j===null)break;ht=j,j=ht.next,ht.next=null,f.lastBaseUpdate=ht,f.shared.pending=null}}while(!0);_t===null&&(Q=Et),f.baseState=Q,f.firstBaseUpdate=ot,f.lastBaseUpdate=_t,g===null&&(f.shared.lanes=0),La|=S,e.lanes=S,e.memoizedState=Et}}function ng(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function ig(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ng(s[e],i)}var Ts=$(null),Cu=$(0);function ag(e,i){e=pa,Z(Cu,e),Z(Ts,i),pa=e|i.baseLanes}function nf(){Z(Cu,pa),Z(Ts,Ts.current)}function af(){pa=Cu.current,B(Ts),B(Cu)}var Oa=0,Xt=null,ye=null,Fe=null,Du=!1,Ss=!1,Vr=!1,Nu=0,Fo=0,As=null,kx=0;function Pe(){throw Error(r(321))}function rf(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!Un(e[s],i[s]))return!1;return!0}function sf(e,i,s,l,f,g){return Oa=g,Xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,et.H=e===null||e.memoizedState===null?Bg:qg,Vr=!1,g=s(l,f),Vr=!1,Ss&&(g=sg(i,s,l,f)),rg(e),g}function rg(e){et.H=Vu;var i=ye!==null&&ye.next!==null;if(Oa=0,Fe=ye=Xt=null,Du=!1,Fo=0,As=null,i)throw Error(r(300));e===null||rn||(e=e.dependencies,e!==null&&Eu(e)&&(rn=!0))}function sg(e,i,s,l){Xt=e;var f=0;do{if(Ss&&(As=null),Fo=0,Ss=!1,25<=f)throw Error(r(301));if(f+=1,Fe=ye=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}et.H=zx,g=i(s,l)}while(Ss);return g}function Ix(){var e=et.H,i=e.useState()[0];return i=typeof i.then=="function"?Ho(i):i,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Xt.flags|=1024),i}function of(){var e=Nu!==0;return Nu=0,e}function lf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function uf(e){if(Du){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Du=!1}Oa=0,Fe=ye=Xt=null,Ss=!1,Fo=Nu=0,As=null}function Mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Xt.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function He(){if(ye===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var i=Fe===null?Xt.memoizedState:Fe.next;if(i!==null)Fe=i,ye=e;else{if(e===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Fe===null?Xt.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var i=Fo;return Fo+=1,As===null&&(As=[]),e=Jm(As,e,i),i=Xt,(Fe===null?i.memoizedState:Fe.next)===null&&(i=i.alternate,et.H=i===null||i.memoizedState===null?Bg:qg),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===U)return xn(e)}throw Error(r(438,String(e)))}function hf(e){var i=null,s=Xt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=cf(),Xt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=L;return i.index++,s}function la(e,i){return typeof i=="function"?i(e):i}function Iu(e){var i=He();return ff(i,ye,e)}function ff(e,i,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var f=e.baseQueue,g=l.pending;if(g!==null){if(f!==null){var S=f.next;f.next=g.next,g.next=S}i.baseQueue=f=g,l.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{i=f.next;var j=S=null,Q=null,ot=i,_t=!1;do{var Et=ot.lane&-536870913;if(Et!==ot.lane?(re&Et)===Et:(Oa&Et)===Et){var ct=ot.revertLane;if(ct===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),Et===ws&&(_t=!0);else if((Oa&ct)===ct){ot=ot.next,ct===ws&&(_t=!0);continue}else Et={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Q===null?(j=Q=Et,S=g):Q=Q.next=Et,Xt.lanes|=ct,La|=ct;Et=ot.action,Vr&&s(g,Et),g=ot.hasEagerState?ot.eagerState:s(g,Et)}else ct={lane:Et,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Q===null?(j=Q=ct,S=g):Q=Q.next=ct,Xt.lanes|=Et,La|=Et;ot=ot.next}while(ot!==null&&ot!==i);if(Q===null?S=g:Q.next=j,!Un(g,e.memoizedState)&&(rn=!0,_t&&(s=Es,s!==null)))throw s;e.memoizedState=g,e.baseState=S,e.baseQueue=Q,l.lastRenderedState=g}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function df(e){var i=He(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,g=i.memoizedState;if(f!==null){s.pending=null;var S=f=f.next;do g=e(g,S.action),S=S.next;while(S!==f);Un(g,i.memoizedState)||(rn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),s.lastRenderedState=g}return[g,l]}function og(e,i,s){var l=Xt,f=He(),g=he;if(g){if(s===void 0)throw Error(r(407));s=s()}else s=i();var S=!Un((ye||f).memoizedState,s);S&&(f.memoizedState=s,rn=!0),f=f.queue;var j=cg.bind(null,l,f,e);if(Go(2048,8,j,[e]),f.getSnapshot!==i||S||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,Rs(9,Ou(),ug.bind(null,l,f,s,i),null),Ee===null)throw Error(r(349));g||(Oa&124)!==0||lg(l,i,s)}return s}function lg(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=Xt.updateQueue,i===null?(i=cf(),Xt.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function ug(e,i,s,l){i.value=s,i.getSnapshot=l,hg(i)&&fg(e)}function cg(e,i,s){return s(function(){hg(i)&&fg(e)})}function hg(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!Un(e,s)}catch{return!0}}function fg(e){var i=vs(e,2);i!==null&&Gn(i,e,2)}function pf(e){var i=Mn();if(typeof e=="function"){var s=e;if(e=s(),Vr){Pt(!0);try{s()}finally{Pt(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},i}function dg(e,i,s,l){return e.baseState=s,ff(e,ye,typeof l=="function"?l:la)}function Ox(e,i,s,l,f){if(ju(e))throw Error(r(485));if(e=i.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};et.T!==null?s(!0):g.isTransition=!1,l(g),s=i.pending,s===null?(g.next=i.pending=g,pg(i,g)):(g.next=s.next,i.pending=s.next=g)}}function pg(e,i){var s=i.action,l=i.payload,f=e.state;if(i.isTransition){var g=et.T,S={};et.T=S;try{var j=s(f,l),Q=et.S;Q!==null&&Q(S,j),mg(e,i,j)}catch(ot){mf(e,i,ot)}finally{et.T=g}}else try{g=s(f,l),mg(e,i,g)}catch(ot){mf(e,i,ot)}}function mg(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){gg(e,i,l)},function(l){return mf(e,i,l)}):gg(e,i,s)}function gg(e,i,s){i.status="fulfilled",i.value=s,yg(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,pg(e,s)))}function mf(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,yg(i),i=i.next;while(i!==l)}e.action=null}function yg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function vg(e,i){return i}function _g(e,i){if(he){var s=Ee.formState;if(s!==null){t:{var l=Xt;if(he){if(Ie){e:{for(var f=Ie,g=Ii;f.nodeType!==8;){if(!g){f=null;break e}if(f=fi(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ie=fi(f.nextSibling),l=f.data==="F!";break t}}Ir(l)}l=!1}l&&(i=s[0])}}return s=Mn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:i},s.queue=l,s=zg.bind(null,Xt,l),l.dispatch=s,l=pf(!1),g=bf.bind(null,Xt,!1,l.queue),l=Mn(),f={state:i,dispatch:null,action:e,pending:null},l.queue=f,s=Ox.bind(null,Xt,f,g,s),f.dispatch=s,l.memoizedState=e,[i,s,!1]}function bg(e){var i=He();return xg(i,ye,e)}function xg(e,i,s){if(i=ff(e,i,vg)[0],e=Iu(la)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ho(i)}catch(S){throw S===zo?Au:S}else l=i;i=He();var f=i.queue,g=f.dispatch;return s!==i.memoizedState&&(Xt.flags|=2048,Rs(9,Ou(),Mx.bind(null,f,s),null)),[l,g,e]}function Mx(e,i){e.action=i}function wg(e){var i=He(),s=ye;if(s!==null)return xg(i,s,e);He(),i=i.memoizedState,s=He();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function Rs(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=Xt.updateQueue,i===null&&(i=cf(),Xt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Ou(){return{destroy:void 0,resource:void 0}}function Eg(){return He().memoizedState}function Mu(e,i,s,l){var f=Mn();l=l===void 0?null:l,Xt.flags|=e,f.memoizedState=Rs(1|i,Ou(),s,l)}function Go(e,i,s,l){var f=He();l=l===void 0?null:l;var g=f.memoizedState.inst;ye!==null&&l!==null&&rf(l,ye.memoizedState.deps)?f.memoizedState=Rs(i,g,s,l):(Xt.flags|=e,f.memoizedState=Rs(1|i,g,s,l))}function Tg(e,i){Mu(8390656,8,e,i)}function Sg(e,i){Go(2048,8,e,i)}function Ag(e,i){return Go(4,2,e,i)}function Rg(e,i){return Go(4,4,e,i)}function Cg(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Dg(e,i,s){s=s!=null?s.concat([e]):null,Go(4,4,Cg.bind(null,i,e),s)}function gf(){}function Ng(e,i){var s=He();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&rf(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function kg(e,i){var s=He();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&rf(i,l[1]))return l[0];if(l=e(),Vr){Pt(!0);try{e()}finally{Pt(!1)}}return s.memoizedState=[l,i],l}function yf(e,i,s){return s===void 0||(Oa&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=My(),Xt.lanes|=e,La|=e,s)}function Ig(e,i,s,l){return Un(s,i)?s:Ts.current!==null?(e=yf(e,s,l),Un(e,i)||(rn=!0),e):(Oa&42)===0?(rn=!0,e.memoizedState=s):(e=My(),Xt.lanes|=e,La|=e,i)}function Og(e,i,s,l,f){var g=tt.p;tt.p=g!==0&&8>g?g:8;var S=et.T,j={};et.T=j,bf(e,!1,i,s);try{var Q=f(),ot=et.S;if(ot!==null&&ot(j,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var _t=Nx(Q,l);$o(e,i,_t,Hn(e))}else $o(e,i,l,Hn(e))}catch(Et){$o(e,i,{then:function(){},status:"rejected",reason:Et},Hn())}finally{tt.p=g,et.T=S}}function jx(){}function vf(e,i,s,l){if(e.tag!==5)throw Error(r(476));var f=Mg(e).queue;Og(e,f,i,bt,s===null?jx:function(){return jg(e),s(l)})}function Mg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:bt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function jg(e){var i=Mg(e).next.queue;$o(e,i,{},Hn())}function _f(){return xn(cl)}function Vg(){return He().memoizedState}function Pg(){return He().memoizedState}function Vx(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Hn();e=ka(s);var l=Ia(i,e,s);l!==null&&(Gn(l,i,s),Lo(l,i,s)),i={cache:Qh()},e.payload=i;return}i=i.return}}function Px(e,i,s){var l=Hn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?Ug(i,s):(s=zh(e,i,s,l),s!==null&&(Gn(s,e,l),Lg(s,i,l)))}function zg(e,i,s){var l=Hn();$o(e,i,s,l)}function $o(e,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))Ug(i,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var S=i.lastRenderedState,j=g(S,s);if(f.hasEagerState=!0,f.eagerState=j,Un(j,S))return vu(e,i,f,0),Ee===null&&yu(),!1}catch{}finally{}if(s=zh(e,i,f,l),s!==null)return Gn(s,e,l),Lg(s,i,l),!0}return!1}function bf(e,i,s,l){if(l={lane:2,revertLane:Wf(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(i)throw Error(r(479))}else i=zh(e,s,l,2),i!==null&&Gn(i,e,2)}function ju(e){var i=e.alternate;return e===Xt||i!==null&&i===Xt}function Ug(e,i){Ss=Du=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Lg(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,po(e,s)}}var Vu={readContext:xn,use:ku,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},Bg={readContext:xn,use:ku,useCallback:function(e,i){return Mn().memoizedState=[e,i===void 0?null:i],e},useContext:xn,useEffect:Tg,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Mu(4194308,4,Cg.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Mu(4194308,4,e,i)},useInsertionEffect:function(e,i){Mu(4,2,e,i)},useMemo:function(e,i){var s=Mn();i=i===void 0?null:i;var l=e();if(Vr){Pt(!0);try{e()}finally{Pt(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=Mn();if(s!==void 0){var f=s(i);if(Vr){Pt(!0);try{s(i)}finally{Pt(!1)}}}else f=i;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Px.bind(null,Xt,e),[l.memoizedState,e]},useRef:function(e){var i=Mn();return e={current:e},i.memoizedState=e},useState:function(e){e=pf(e);var i=e.queue,s=zg.bind(null,Xt,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:gf,useDeferredValue:function(e,i){var s=Mn();return yf(s,e,i)},useTransition:function(){var e=pf(!1);return e=Og.bind(null,Xt,e.queue,!0,!1),Mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=Xt,f=Mn();if(he){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),Ee===null)throw Error(r(349));(re&124)!==0||lg(l,i,s)}f.memoizedState=s;var g={value:s,getSnapshot:i};return f.queue=g,Tg(cg.bind(null,l,g,e),[e]),l.flags|=2048,Rs(9,Ou(),ug.bind(null,l,g,s,i),null),s},useId:function(){var e=Mn(),i=Ee.identifierPrefix;if(he){var s=ra,l=aa;s=(l&~(1<<32-ne(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=Nu++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=kx++,i="«"+i+"r"+s.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:_f,useFormState:_g,useActionState:_g,useOptimistic:function(e){var i=Mn();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=bf.bind(null,Xt,!0,s),s.dispatch=i,[e,i]},useMemoCache:hf,useCacheRefresh:function(){return Mn().memoizedState=Vx.bind(null,Xt)}},qg={readContext:xn,use:ku,useCallback:Ng,useContext:xn,useEffect:Sg,useImperativeHandle:Dg,useInsertionEffect:Ag,useLayoutEffect:Rg,useMemo:kg,useReducer:Iu,useRef:Eg,useState:function(){return Iu(la)},useDebugValue:gf,useDeferredValue:function(e,i){var s=He();return Ig(s,ye.memoizedState,e,i)},useTransition:function(){var e=Iu(la)[0],i=He().memoizedState;return[typeof e=="boolean"?e:Ho(e),i]},useSyncExternalStore:og,useId:Vg,useHostTransitionStatus:_f,useFormState:bg,useActionState:bg,useOptimistic:function(e,i){var s=He();return dg(s,ye,e,i)},useMemoCache:hf,useCacheRefresh:Pg},zx={readContext:xn,use:ku,useCallback:Ng,useContext:xn,useEffect:Sg,useImperativeHandle:Dg,useInsertionEffect:Ag,useLayoutEffect:Rg,useMemo:kg,useReducer:df,useRef:Eg,useState:function(){return df(la)},useDebugValue:gf,useDeferredValue:function(e,i){var s=He();return ye===null?yf(s,e,i):Ig(s,ye.memoizedState,e,i)},useTransition:function(){var e=df(la)[0],i=He().memoizedState;return[typeof e=="boolean"?e:Ho(e),i]},useSyncExternalStore:og,useId:Vg,useHostTransitionStatus:_f,useFormState:wg,useActionState:wg,useOptimistic:function(e,i){var s=He();return ye!==null?dg(s,ye,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Pg},Cs=null,Yo=0;function Pu(e){var i=Yo;return Yo+=1,Cs===null&&(Cs=[]),Jm(Cs,e,i)}function Qo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function zu(e,i){throw i.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Fg(e){var i=e._init;return i(e._payload)}function Hg(e){function i(it,W){if(e){var st=it.deletions;st===null?(it.deletions=[W],it.flags|=16):st.push(W)}}function s(it,W){if(!e)return null;for(;W!==null;)i(it,W),W=W.sibling;return null}function l(it){for(var W=new Map;it!==null;)it.key!==null?W.set(it.key,it):W.set(it.index,it),it=it.sibling;return W}function f(it,W){return it=ia(it,W),it.index=0,it.sibling=null,it}function g(it,W,st){return it.index=st,e?(st=it.alternate,st!==null?(st=st.index,st<W?(it.flags|=67108866,W):st):(it.flags|=67108866,W)):(it.flags|=1048576,W)}function S(it){return e&&it.alternate===null&&(it.flags|=67108866),it}function j(it,W,st,xt){return W===null||W.tag!==6?(W=Lh(st,it.mode,xt),W.return=it,W):(W=f(W,st),W.return=it,W)}function Q(it,W,st,xt){var Vt=st.type;return Vt===C?_t(it,W,st.props.children,xt,st.key):W!==null&&(W.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===O&&Fg(Vt)===W.type)?(W=f(W,st.props),Qo(W,st),W.return=it,W):(W=bu(st.type,st.key,st.props,null,it.mode,xt),Qo(W,st),W.return=it,W)}function ot(it,W,st,xt){return W===null||W.tag!==4||W.stateNode.containerInfo!==st.containerInfo||W.stateNode.implementation!==st.implementation?(W=Bh(st,it.mode,xt),W.return=it,W):(W=f(W,st.children||[]),W.return=it,W)}function _t(it,W,st,xt,Vt){return W===null||W.tag!==7?(W=Cr(st,it.mode,xt,Vt),W.return=it,W):(W=f(W,st),W.return=it,W)}function Et(it,W,st){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Lh(""+W,it.mode,st),W.return=it,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return st=bu(W.type,W.key,W.props,null,it.mode,st),Qo(st,W),st.return=it,st;case x:return W=Bh(W,it.mode,st),W.return=it,W;case O:var xt=W._init;return W=xt(W._payload),Et(it,W,st)}if(J(W)||N(W))return W=Cr(W,it.mode,st,null),W.return=it,W;if(typeof W.then=="function")return Et(it,Pu(W),st);if(W.$$typeof===U)return Et(it,Tu(it,W),st);zu(it,W)}return null}function ct(it,W,st,xt){var Vt=W!==null?W.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Vt!==null?null:j(it,W,""+st,xt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case w:return st.key===Vt?Q(it,W,st,xt):null;case x:return st.key===Vt?ot(it,W,st,xt):null;case O:return Vt=st._init,st=Vt(st._payload),ct(it,W,st,xt)}if(J(st)||N(st))return Vt!==null?null:_t(it,W,st,xt,null);if(typeof st.then=="function")return ct(it,W,Pu(st),xt);if(st.$$typeof===U)return ct(it,W,Tu(it,st),xt);zu(it,st)}return null}function ht(it,W,st,xt,Vt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return it=it.get(st)||null,j(W,it,""+xt,Vt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case w:return it=it.get(xt.key===null?st:xt.key)||null,Q(W,it,xt,Vt);case x:return it=it.get(xt.key===null?st:xt.key)||null,ot(W,it,xt,Vt);case O:var Zt=xt._init;return xt=Zt(xt._payload),ht(it,W,st,xt,Vt)}if(J(xt)||N(xt))return it=it.get(st)||null,_t(W,it,xt,Vt,null);if(typeof xt.then=="function")return ht(it,W,st,Pu(xt),Vt);if(xt.$$typeof===U)return ht(it,W,st,Tu(W,xt),Vt);zu(W,xt)}return null}function Ht(it,W,st,xt){for(var Vt=null,Zt=null,zt=W,Bt=W=0,on=null;zt!==null&&Bt<st.length;Bt++){zt.index>Bt?(on=zt,zt=null):on=zt.sibling;var ce=ct(it,zt,st[Bt],xt);if(ce===null){zt===null&&(zt=on);break}e&&zt&&ce.alternate===null&&i(it,zt),W=g(ce,W,Bt),Zt===null?Vt=ce:Zt.sibling=ce,Zt=ce,zt=on}if(Bt===st.length)return s(it,zt),he&&Nr(it,Bt),Vt;if(zt===null){for(;Bt<st.length;Bt++)zt=Et(it,st[Bt],xt),zt!==null&&(W=g(zt,W,Bt),Zt===null?Vt=zt:Zt.sibling=zt,Zt=zt);return he&&Nr(it,Bt),Vt}for(zt=l(zt);Bt<st.length;Bt++)on=ht(zt,it,Bt,st[Bt],xt),on!==null&&(e&&on.alternate!==null&&zt.delete(on.key===null?Bt:on.key),W=g(on,W,Bt),Zt===null?Vt=on:Zt.sibling=on,Zt=on);return e&&zt.forEach(function(Ka){return i(it,Ka)}),he&&Nr(it,Bt),Vt}function Lt(it,W,st,xt){if(st==null)throw Error(r(151));for(var Vt=null,Zt=null,zt=W,Bt=W=0,on=null,ce=st.next();zt!==null&&!ce.done;Bt++,ce=st.next()){zt.index>Bt?(on=zt,zt=null):on=zt.sibling;var Ka=ct(it,zt,ce.value,xt);if(Ka===null){zt===null&&(zt=on);break}e&&zt&&Ka.alternate===null&&i(it,zt),W=g(Ka,W,Bt),Zt===null?Vt=Ka:Zt.sibling=Ka,Zt=Ka,zt=on}if(ce.done)return s(it,zt),he&&Nr(it,Bt),Vt;if(zt===null){for(;!ce.done;Bt++,ce=st.next())ce=Et(it,ce.value,xt),ce!==null&&(W=g(ce,W,Bt),Zt===null?Vt=ce:Zt.sibling=ce,Zt=ce);return he&&Nr(it,Bt),Vt}for(zt=l(zt);!ce.done;Bt++,ce=st.next())ce=ht(zt,it,Bt,ce.value,xt),ce!==null&&(e&&ce.alternate!==null&&zt.delete(ce.key===null?Bt:ce.key),W=g(ce,W,Bt),Zt===null?Vt=ce:Zt.sibling=ce,Zt=ce);return e&&zt.forEach(function(Uw){return i(it,Uw)}),he&&Nr(it,Bt),Vt}function _e(it,W,st,xt){if(typeof st=="object"&&st!==null&&st.type===C&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case w:t:{for(var Vt=st.key;W!==null;){if(W.key===Vt){if(Vt=st.type,Vt===C){if(W.tag===7){s(it,W.sibling),xt=f(W,st.props.children),xt.return=it,it=xt;break t}}else if(W.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===O&&Fg(Vt)===W.type){s(it,W.sibling),xt=f(W,st.props),Qo(xt,st),xt.return=it,it=xt;break t}s(it,W);break}else i(it,W);W=W.sibling}st.type===C?(xt=Cr(st.props.children,it.mode,xt,st.key),xt.return=it,it=xt):(xt=bu(st.type,st.key,st.props,null,it.mode,xt),Qo(xt,st),xt.return=it,it=xt)}return S(it);case x:t:{for(Vt=st.key;W!==null;){if(W.key===Vt)if(W.tag===4&&W.stateNode.containerInfo===st.containerInfo&&W.stateNode.implementation===st.implementation){s(it,W.sibling),xt=f(W,st.children||[]),xt.return=it,it=xt;break t}else{s(it,W);break}else i(it,W);W=W.sibling}xt=Bh(st,it.mode,xt),xt.return=it,it=xt}return S(it);case O:return Vt=st._init,st=Vt(st._payload),_e(it,W,st,xt)}if(J(st))return Ht(it,W,st,xt);if(N(st)){if(Vt=N(st),typeof Vt!="function")throw Error(r(150));return st=Vt.call(st),Lt(it,W,st,xt)}if(typeof st.then=="function")return _e(it,W,Pu(st),xt);if(st.$$typeof===U)return _e(it,W,Tu(it,st),xt);zu(it,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,W!==null&&W.tag===6?(s(it,W.sibling),xt=f(W,st),xt.return=it,it=xt):(s(it,W),xt=Lh(st,it.mode,xt),xt.return=it,it=xt),S(it)):s(it,W)}return function(it,W,st,xt){try{Yo=0;var Vt=_e(it,W,st,xt);return Cs=null,Vt}catch(zt){if(zt===zo||zt===Au)throw zt;var Zt=Ln(29,zt,null,it.mode);return Zt.lanes=xt,Zt.return=it,Zt}finally{}}}var Ds=Hg(!0),Gg=Hg(!1),ni=$(null),Oi=null;function Ma(e){var i=e.alternate;Z(Je,Je.current&1),Z(ni,e),Oi===null&&(i===null||Ts.current!==null||i.memoizedState!==null)&&(Oi=e)}function $g(e){if(e.tag===22){if(Z(Je,Je.current),Z(ni,e),Oi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Oi=e)}}else ja()}function ja(){Z(Je,Je.current),Z(ni,ni.current)}function ua(e){B(ni),Oi===e&&(Oi=null),B(Je)}var Je=$(0);function Uu(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||cd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function xf(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:y({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wf={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=Hn(),f=ka(l);f.payload=i,s!=null&&(f.callback=s),i=Ia(e,f,l),i!==null&&(Gn(i,e,l),Lo(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=Hn(),f=ka(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Ia(e,f,l),i!==null&&(Gn(i,e,l),Lo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Hn(),l=ka(s);l.tag=2,i!=null&&(l.callback=i),i=Ia(e,l,s),i!==null&&(Gn(i,e,s),Lo(i,e,s))}};function Yg(e,i,s,l,f,g,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,g,S):i.prototype&&i.prototype.isPureReactComponent?!No(s,l)||!No(f,g):!0}function Qg(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&wf.enqueueReplaceState(i,i.state,null)}function Pr(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=y({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kg(e){Lu(e)}function Xg(e){console.error(e)}function Zg(e){Lu(e)}function Bu(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Wg(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ef(e,i,s){return s=ka(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,i)},s}function Jg(e){return e=ka(e),e.tag=3,e}function ty(e,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;e.payload=function(){return f(g)},e.callback=function(){Wg(i,s,l)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Wg(i,s,l),typeof f!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})})}function Ux(e,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&jo(i,s,f,!0),s=ni.current,s!==null){switch(s.tag){case 13:return Oi===null?Yf():s.alternate===null&&Oe===0&&(Oe=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Zh?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Kf(e,l,f)),!1;case 22:return s.flags|=65536,l===Zh?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Kf(e,l,f)),!1}throw Error(r(435,s.tag))}return Kf(e,l,f),Yf(),!1}if(he)return i=ni.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Hh&&(e=Error(r(422),{cause:l}),Mo(Wn(e,s)))):(l!==Hh&&(i=Error(r(423),{cause:l}),Mo(Wn(i,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Wn(l,s),f=Ef(e.stateNode,l,f),tf(e,f),Oe!==4&&(Oe=2)),!1;var g=Error(r(520),{cause:l});if(g=Wn(g,s),el===null?el=[g]:el.push(g),Oe!==4&&(Oe=2),i===null)return!0;l=Wn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Ef(s.stateNode,l,e),tf(s,e),!1;case 1:if(i=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ba===null||!Ba.has(g))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Jg(f),ty(f,e,s,l),tf(s,f),!1}s=s.return}while(s!==null);return!1}var ey=Error(r(461)),rn=!1;function mn(e,i,s,l){i.child=e===null?Gg(i,null,s,l):Ds(i,e.child,s,l)}function ny(e,i,s,l,f){s=s.render;var g=i.ref;if("ref"in l){var S={};for(var j in l)j!=="ref"&&(S[j]=l[j])}else S=l;return Mr(i),l=sf(e,i,s,S,g,f),j=of(),e!==null&&!rn?(lf(e,i,f),ca(e,i,f)):(he&&j&&qh(i),i.flags|=1,mn(e,i,l,f),i.child)}function iy(e,i,s,l,f){if(e===null){var g=s.type;return typeof g=="function"&&!Uh(g)&&g.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=g,ay(e,i,g,l,f)):(e=bu(s.type,null,l,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!kf(e,f)){var S=g.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(S,l)&&e.ref===i.ref)return ca(e,i,f)}return i.flags|=1,e=ia(g,l),e.ref=i.ref,e.return=i,i.child=e}function ay(e,i,s,l,f){if(e!==null){var g=e.memoizedProps;if(No(g,l)&&e.ref===i.ref)if(rn=!1,i.pendingProps=l=g,kf(e,f))(e.flags&131072)!==0&&(rn=!0);else return i.lanes=e.lanes,ca(e,i,f)}return Tf(e,i,s,l,f)}function ry(e,i,s){var l=i.pendingProps,f=l.children,g=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=g!==null?g.baseLanes|s:s,e!==null){for(f=i.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~l}else i.childLanes=0,i.child=null;return sy(e,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(i,g!==null?g.cachePool:null),g!==null?ag(i,g):nf(),$g(i);else return i.lanes=i.childLanes=536870912,sy(e,i,g!==null?g.baseLanes|s:s,s)}else g!==null?(Su(i,g.cachePool),ag(i,g),ja(),i.memoizedState=null):(e!==null&&Su(i,null),nf(),ja());return mn(e,i,f,s),i.child}function sy(e,i,s,l){var f=Xh();return f=f===null?null:{parent:We._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},e!==null&&Su(i,null),nf(),$g(i),e!==null&&jo(e,i,l,!0),null}function qu(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Tf(e,i,s,l,f){return Mr(i),s=sf(e,i,s,l,void 0,f),l=of(),e!==null&&!rn?(lf(e,i,f),ca(e,i,f)):(he&&l&&qh(i),i.flags|=1,mn(e,i,s,f),i.child)}function oy(e,i,s,l,f,g){return Mr(i),i.updateQueue=null,s=sg(i,l,s,f),rg(e),l=of(),e!==null&&!rn?(lf(e,i,g),ca(e,i,g)):(he&&l&&qh(i),i.flags|=1,mn(e,i,s,g),i.child)}function ly(e,i,s,l,f){if(Mr(i),i.stateNode===null){var g=_s,S=s.contextType;typeof S=="object"&&S!==null&&(g=xn(S)),g=new s(l,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wf,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=l,g.state=i.memoizedState,g.refs={},Wh(i),S=s.contextType,g.context=typeof S=="object"&&S!==null?xn(S):_s,g.state=i.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(xf(i,s,S,l),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&wf.enqueueReplaceState(g,g.state,null),qo(i,l,g,f),Bo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){g=i.stateNode;var j=i.memoizedProps,Q=Pr(s,j);g.props=Q;var ot=g.context,_t=s.contextType;S=_s,typeof _t=="object"&&_t!==null&&(S=xn(_t));var Et=s.getDerivedStateFromProps;_t=typeof Et=="function"||typeof g.getSnapshotBeforeUpdate=="function",j=i.pendingProps!==j,_t||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j||ot!==S)&&Qg(i,g,l,S),Na=!1;var ct=i.memoizedState;g.state=ct,qo(i,l,g,f),Bo(),ot=i.memoizedState,j||ct!==ot||Na?(typeof Et=="function"&&(xf(i,s,Et,l),ot=i.memoizedState),(Q=Na||Yg(i,s,Q,l,ct,ot,S))?(_t||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=ot),g.props=l,g.state=ot,g.context=S,l=Q):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{g=i.stateNode,Jh(e,i),S=i.memoizedProps,_t=Pr(s,S),g.props=_t,Et=i.pendingProps,ct=g.context,ot=s.contextType,Q=_s,typeof ot=="object"&&ot!==null&&(Q=xn(ot)),j=s.getDerivedStateFromProps,(ot=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==Et||ct!==Q)&&Qg(i,g,l,Q),Na=!1,ct=i.memoizedState,g.state=ct,qo(i,l,g,f),Bo();var ht=i.memoizedState;S!==Et||ct!==ht||Na||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof j=="function"&&(xf(i,s,j,l),ht=i.memoizedState),(_t=Na||Yg(i,s,_t,l,ct,ht,Q)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(ot||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,ht,Q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,ht,Q)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&ct===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ct===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ht),g.props=l,g.state=ht,g.context=Q,l=_t):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&ct===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ct===e.memoizedState||(i.flags|=1024),l=!1)}return g=l,qu(e,i),l=(i.flags&128)!==0,g||l?(g=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&l?(i.child=Ds(i,e.child,null,f),i.child=Ds(i,null,s,f)):mn(e,i,s,f),i.memoizedState=g.state,e=i.child):e=ca(e,i,f),e}function uy(e,i,s,l){return Oo(),i.flags|=256,mn(e,i,s,l),i.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:Xm()}}function Rf(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=ii),e}function cy(e,i,s){var l=i.pendingProps,f=!1,g=(i.flags&128)!==0,S;if((S=g)||(S=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),S&&(f=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if(he){if(f?Ma(i):ja(),he){var j=Ie,Q;if(Q=j){t:{for(Q=j,j=Ii;Q.nodeType!==8;){if(!j){j=null;break t}if(Q=fi(Q.nextSibling),Q===null){j=null;break t}}j=Q}j!==null?(i.memoizedState={dehydrated:j,treeContext:Dr!==null?{id:aa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},Q=Ln(18,null,null,0),Q.stateNode=j,Q.return=i,i.child=Q,Nn=i,Ie=null,Q=!0):Q=!1}Q||Ir(i)}if(j=i.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return cd(j)?i.lanes=32:i.lanes=536870912,null;ua(i)}return j=l.children,l=l.fallback,f?(ja(),f=i.mode,j=Fu({mode:"hidden",children:j},f),l=Cr(l,f,s,null),j.return=i,l.return=i,j.sibling=l,i.child=j,f=i.child,f.memoizedState=Af(s),f.childLanes=Rf(e,S,s),i.memoizedState=Sf,l):(Ma(i),Cf(i,j))}if(Q=e.memoizedState,Q!==null&&(j=Q.dehydrated,j!==null)){if(g)i.flags&256?(Ma(i),i.flags&=-257,i=Df(e,i,s)):i.memoizedState!==null?(ja(),i.child=e.child,i.flags|=128,i=null):(ja(),f=l.fallback,j=i.mode,l=Fu({mode:"visible",children:l.children},j),f=Cr(f,j,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ds(i,e.child,null,s),l=i.child,l.memoizedState=Af(s),l.childLanes=Rf(e,S,s),i.memoizedState=Sf,i=f);else if(Ma(i),cd(j)){if(S=j.nextSibling&&j.nextSibling.dataset,S)var ot=S.dgst;S=ot,l=Error(r(419)),l.stack="",l.digest=S,Mo({value:l,source:null,stack:null}),i=Df(e,i,s)}else if(rn||jo(e,i,s,!1),S=(s&e.childLanes)!==0,rn||S){if(S=Ee,S!==null&&(l=s&-s,l=(l&42)!==0?1:wa(l),l=(l&(S.suspendedLanes|s))!==0?0:l,l!==0&&l!==Q.retryLane))throw Q.retryLane=l,vs(e,l),Gn(S,e,l),ey;j.data==="$?"||Yf(),i=Df(e,i,s)}else j.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=Q.treeContext,Ie=fi(j.nextSibling),Nn=i,he=!0,kr=null,Ii=!1,e!==null&&(ti[ei++]=aa,ti[ei++]=ra,ti[ei++]=Dr,aa=e.id,ra=e.overflow,Dr=i),i=Cf(i,l.children),i.flags|=4096);return i}return f?(ja(),f=l.fallback,j=i.mode,Q=e.child,ot=Q.sibling,l=ia(Q,{mode:"hidden",children:l.children}),l.subtreeFlags=Q.subtreeFlags&65011712,ot!==null?f=ia(ot,f):(f=Cr(f,j,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,j=e.child.memoizedState,j===null?j=Af(s):(Q=j.cachePool,Q!==null?(ot=We._currentValue,Q=Q.parent!==ot?{parent:ot,pool:ot}:Q):Q=Xm(),j={baseLanes:j.baseLanes|s,cachePool:Q}),f.memoizedState=j,f.childLanes=Rf(e,S,s),i.memoizedState=Sf,l):(Ma(i),s=e.child,e=s.sibling,s=ia(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=s,i.memoizedState=null,s)}function Cf(e,i){return i=Fu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Fu(e,i){return e=Ln(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Df(e,i,s){return Ds(i,e.child,null,s),e=Cf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function hy(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),$h(e.return,i,s)}function Nf(e,i,s,l,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=f)}function fy(e,i,s){var l=i.pendingProps,f=l.revealOrder,g=l.tail;if(mn(e,i,l.children,s),l=Je.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,s,i);else if(e.tag===19)hy(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Z(Je,l),f){case"forwards":for(s=i.child,f=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Nf(i,!1,f,s,g);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Uu(e)===null){i.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Nf(i,!0,s,null,g);break;case"together":Nf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ca(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),La|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(jo(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=ia(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=ia(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function kf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function Lx(e,i,s){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Da(i,We,e.memoizedState.cache),Oo();break;case 27:case 5:qt(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Da(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ma(i),i.flags|=128,null):(s&i.child.childLanes)!==0?cy(e,i,s):(Ma(i),e=ca(e,i,s),e!==null?e.sibling:null);Ma(i);break;case 19:var f=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(jo(e,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return fy(e,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Je,Je.current),l)break;return null;case 22:case 23:return i.lanes=0,ry(e,i,s);case 24:Da(i,We,e.memoizedState.cache)}return ca(e,i,s)}function dy(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)rn=!0;else{if(!kf(e,s)&&(i.flags&128)===0)return rn=!1,Lx(e,i,s);rn=(e.flags&131072)!==0}else rn=!1,he&&(i.flags&1048576)!==0&&Fm(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Uh(l)?(e=Pr(l,e),i.tag=1,i=ly(null,i,l,e,s)):(i.tag=0,i=Tf(null,i,l,e,s));else{if(l!=null){if(f=l.$$typeof,f===K){i.tag=11,i=ny(null,i,l,e,s);break t}else if(f===P){i.tag=14,i=iy(null,i,l,e,s);break t}}throw i=R(l)||l,Error(r(306,i,""))}}return i;case 0:return Tf(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=Pr(l,i.pendingProps),ly(e,i,l,f,s);case 3:t:{if(kt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var g=i.memoizedState;f=g.element,Jh(e,i),qo(i,l,null,s);var S=i.memoizedState;if(l=S.cache,Da(i,We,l),l!==g.cache&&Yh(i,[We],s,!0),Bo(),l=S.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=uy(e,i,l,s);break t}else if(l!==f){f=Wn(Error(r(424)),i),Mo(f),i=uy(e,i,l,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=fi(e.firstChild),Nn=i,he=!0,kr=null,Ii=!0,s=Gg(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oo(),l===f){i=ca(e,i,s);break t}mn(e,i,l,s)}i=i.child}return i;case 26:return qu(e,i),e===null?(s=yv(i.type,null,i.pendingProps,null))?i.memoizedState=s:he||(s=i.type,e=i.pendingProps,l=ic(Dt.current).createElement(s),l[Ke]=i,l[Be]=e,yn(l,s,e),Ve(l),i.stateNode=l):i.memoizedState=yv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return qt(i),e===null&&he&&(l=i.stateNode=pv(i.type,i.pendingProps,Dt.current),Nn=i,Ii=!0,f=Ie,Ha(i.type)?(hd=f,Ie=fi(l.firstChild)):Ie=f),mn(e,i,i.pendingProps.children,s),qu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&he&&((f=l=Ie)&&(l=pw(l,i.type,i.pendingProps,Ii),l!==null?(i.stateNode=l,Nn=i,Ie=fi(l.firstChild),Ii=!1,f=!0):f=!1),f||Ir(i)),qt(i),f=i.type,g=i.pendingProps,S=e!==null?e.memoizedProps:null,l=g.children,od(f,g)?l=null:S!==null&&od(f,S)&&(i.flags|=32),i.memoizedState!==null&&(f=sf(e,i,Ix,null,null,s),cl._currentValue=f),qu(e,i),mn(e,i,l,s),i.child;case 6:return e===null&&he&&((e=s=Ie)&&(s=mw(s,i.pendingProps,Ii),s!==null?(i.stateNode=s,Nn=i,Ie=null,e=!0):e=!1),e||Ir(i)),null;case 13:return cy(e,i,s);case 4:return kt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ds(i,null,l,s):mn(e,i,l,s),i.child;case 11:return ny(e,i,i.type,i.pendingProps,s);case 7:return mn(e,i,i.pendingProps,s),i.child;case 8:return mn(e,i,i.pendingProps.children,s),i.child;case 12:return mn(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Da(i,i.type,l.value),mn(e,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Mr(i),f=xn(f),l=l(f),i.flags|=1,mn(e,i,l,s),i.child;case 14:return iy(e,i,i.type,i.pendingProps,s);case 15:return ay(e,i,i.type,i.pendingProps,s);case 19:return fy(e,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},e===null?(s=Fu(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=ia(e.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return ry(e,i,s);case 24:return Mr(i),l=xn(We),e===null?(f=Xh(),f===null&&(f=Ee,g=Qh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=s),f=g),i.memoizedState={parent:l,cache:f},Wh(i),Da(i,We,f)):((e.lanes&s)!==0&&(Jh(e,i),qo(i,null,null,s),Bo()),f=e.memoizedState,g=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Da(i,We,l)):(l=g.cache,Da(i,We,l),l!==f.cache&&Yh(i,[We],s,!0))),mn(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ha(e){e.flags|=4}function py(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wv(i)){if(i=ni.current,i!==null&&((re&4194048)===re?Oi!==null:(re&62914560)!==re&&(re&536870912)===0||i!==Oi))throw Uo=Zh,Zm;e.flags|=8192}}function Hu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?hr():536870912,e.lanes|=i,Os|=i)}function Ko(e,i){if(!he)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function De(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function Bx(e,i,s){var l=i.pendingProps;switch(Fh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(i),null;case 1:return De(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),oa(We),jt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Io(i)?ha(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$m())),De(i),null;case 26:return s=i.memoizedState,e===null?(ha(i),s!==null?(De(i),py(i,s)):(De(i),i.flags&=-16777217)):s?s!==e.memoizedState?(ha(i),De(i),py(i,s)):(De(i),i.flags&=-16777217):(e.memoizedProps!==l&&ha(i),De(i),i.flags&=-16777217),null;case 27:Gt(i),s=Dt.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ha(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return De(i),null}e=ut.current,Io(i)?Hm(i):(e=pv(f,l,s),i.stateNode=e,ha(i))}return De(i),null;case 5:if(Gt(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ha(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return De(i),null}if(e=ut.current,Io(i))Hm(i);else{switch(f=ic(Dt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}e[Ke]=i,e[Be]=l;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(yn(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ha(i)}}return De(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ha(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Dt.current,Io(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,f=Nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ke]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ov(e.nodeValue,s)),e||Ir(i)}else e=ic(e).createTextNode(l),e[Ke]=i,i.stateNode=e}return De(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Io(i),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ke]=i}else Oo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;De(i),f=!1}else f=$m(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ua(i),i):(ua(i),null)}if(ua(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var g=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),Hu(i,i.updateQueue),De(i),null;case 4:return jt(),e===null&&nd(i.stateNode.containerInfo),De(i),null;case 10:return oa(i.type),De(i),null;case 19:if(B(Je),f=i.memoizedState,f===null)return De(i),null;if(l=(i.flags&128)!==0,g=f.rendering,g===null)if(l)Ko(f,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=Uu(e),g!==null){for(i.flags|=128,Ko(f,!1),e=g.updateQueue,i.updateQueue=e,Hu(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)qm(s,e),s=s.sibling;return Z(Je,Je.current&1|2),i.child}e=e.sibling}f.tail!==null&&H()>Yu&&(i.flags|=128,l=!0,Ko(f,!1),i.lanes=4194304)}else{if(!l)if(e=Uu(g),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Hu(i,e),Ko(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!he)return De(i),null}else 2*H()-f.renderingStartTime>Yu&&s!==536870912&&(i.flags|=128,l=!0,Ko(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(e=f.last,e!==null?e.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=H(),i.sibling=null,e=Je.current,Z(Je,l?e&1|2:e&1),i):(De(i),null);case 22:case 23:return ua(i),af(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(De(i),i.subtreeFlags&6&&(i.flags|=8192)):De(i),s=i.updateQueue,s!==null&&Hu(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&B(jr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),oa(We),De(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function qx(e,i){switch(Fh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return oa(We),jt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Gt(i),null;case 13:if(ua(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Oo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return B(Je),null;case 4:return jt(),null;case 10:return oa(i.type),null;case 22:case 23:return ua(i),af(),e!==null&&B(jr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return oa(We),null;case 25:return null;default:return null}}function my(e,i){switch(Fh(i),i.tag){case 3:oa(We),jt();break;case 26:case 27:case 5:Gt(i);break;case 4:jt();break;case 13:ua(i);break;case 19:B(Je);break;case 10:oa(i.type);break;case 22:case 23:ua(i),af(),e!==null&&B(jr);break;case 24:oa(We)}}function Xo(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var g=s.create,S=s.inst;l=g(),S.destroy=l}s=s.next}while(s!==f)}}catch(j){be(i,i.return,j)}}function Va(e,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&e)===e){var S=l.inst,j=S.destroy;if(j!==void 0){S.destroy=void 0,f=i;var Q=s,ot=j;try{ot()}catch(_t){be(f,Q,_t)}}}l=l.next}while(l!==g)}}catch(_t){be(i,i.return,_t)}}function gy(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{ig(i,s)}catch(l){be(e,e.return,l)}}}function yy(e,i,s){s.props=Pr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){be(e,i,l)}}function Zo(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(f){be(e,i,f)}}function Mi(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){be(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){be(e,i,f)}else s.current=null}function vy(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){be(e,e.return,f)}}function If(e,i,s){try{var l=e.stateNode;uw(l,e.type,s,i),l[Be]=i}catch(f){be(e,e.return,f)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=nc));else if(l!==4&&(l===27&&Ha(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(Mf(e,i,s),e=e.sibling;e!==null;)Mf(e,i,s),e=e.sibling}function Gu(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&Ha(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Gu(e,i,s),e=e.sibling;e!==null;)Gu(e,i,s),e=e.sibling}function by(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);yn(i,l,s),i[Ke]=e,i[Be]=s}catch(g){be(e,e.return,g)}}var fa=!1,ze=!1,jf=!1,xy=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Fx(e,i){if(e=e.containerInfo,rd=uc,e=Im(e),Ih(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break t}var S=0,j=-1,Q=-1,ot=0,_t=0,Et=e,ct=null;e:for(;;){for(var ht;Et!==s||f!==0&&Et.nodeType!==3||(j=S+f),Et!==g||l!==0&&Et.nodeType!==3||(Q=S+l),Et.nodeType===3&&(S+=Et.nodeValue.length),(ht=Et.firstChild)!==null;)ct=Et,Et=ht;for(;;){if(Et===e)break e;if(ct===s&&++ot===f&&(j=S),ct===g&&++_t===l&&(Q=S),(ht=Et.nextSibling)!==null)break;Et=ct,ct=Et.parentNode}Et=ht}s=j===-1||Q===-1?null:{start:j,end:Q}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},uc=!1,sn=i;sn!==null;)if(i=sn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,sn=e;else for(;sn!==null;){switch(i=sn,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,s=i,f=g.memoizedProps,g=g.memoizedState,l=s.stateNode;try{var Ht=Pr(s.type,f,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(Ht,g),l.__reactInternalSnapshotBeforeUpdate=e}catch(Lt){be(s,s.return,Lt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)ud(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,sn=e;break}sn=i.return}}function wy(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Pa(e,s),l&4&&Xo(5,s);break;case 1:if(Pa(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(S){be(s,s.return,S)}else{var f=Pr(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){be(s,s.return,S)}}l&64&&gy(s),l&512&&Zo(s,s.return);break;case 3:if(Pa(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ig(e,i)}catch(S){be(s,s.return,S)}}break;case 27:i===null&&l&4&&by(s);case 26:case 5:Pa(e,s),i===null&&l&4&&vy(s),l&512&&Zo(s,s.return);break;case 12:Pa(e,s);break;case 13:Pa(e,s),l&4&&Sy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Wx.bind(null,s),gw(e,s))));break;case 22:if(l=s.memoizedState!==null||fa,!l){i=i!==null&&i.memoizedState!==null||ze,f=fa;var g=ze;fa=l,(ze=i)&&!g?za(e,s,(s.subtreeFlags&8772)!==0):Pa(e,s),fa=f,ze=g}break;case 30:break;default:Pa(e,s)}}function Ey(e){var i=e.alternate;i!==null&&(e.alternate=null,Ey(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Sa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,jn=!1;function da(e,i,s){for(s=s.child;s!==null;)Ty(e,i,s),s=s.sibling}function Ty(e,i,s){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Rt,s)}catch{}switch(s.tag){case 26:ze||Mi(s,i),da(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ze||Mi(s,i);var l=Re,f=jn;Ha(s.type)&&(Re=s.stateNode,jn=!1),da(e,i,s),sl(s.stateNode),Re=l,jn=f;break;case 5:ze||Mi(s,i);case 6:if(l=Re,f=jn,Re=null,da(e,i,s),Re=l,jn=f,Re!==null)if(jn)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(s.stateNode)}catch(g){be(s,i,g)}else try{Re.removeChild(s.stateNode)}catch(g){be(s,i,g)}break;case 18:Re!==null&&(jn?(e=Re,fv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),pl(e)):fv(Re,s.stateNode));break;case 4:l=Re,f=jn,Re=s.stateNode.containerInfo,jn=!0,da(e,i,s),Re=l,jn=f;break;case 0:case 11:case 14:case 15:ze||Va(2,s,i),ze||Va(4,s,i),da(e,i,s);break;case 1:ze||(Mi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&yy(s,i,l)),da(e,i,s);break;case 21:da(e,i,s);break;case 22:ze=(l=ze)||s.memoizedState!==null,da(e,i,s),ze=l;break;default:da(e,i,s)}}function Sy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pl(e)}catch(s){be(i,i.return,s)}}function Hx(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new xy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new xy),i;default:throw Error(r(435,e.tag))}}function Vf(e,i){var s=Hx(e);i.forEach(function(l){var f=Jx.bind(null,e,l);s.has(l)||(s.add(l),l.then(f,f))})}function Bn(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],g=e,S=i,j=S;t:for(;j!==null;){switch(j.tag){case 27:if(Ha(j.type)){Re=j.stateNode,jn=!1;break t}break;case 5:Re=j.stateNode,jn=!1;break t;case 3:case 4:Re=j.stateNode.containerInfo,jn=!0;break t}j=j.return}if(Re===null)throw Error(r(160));Ty(g,S,f),Re=null,jn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ay(i,e),i=i.sibling}var hi=null;function Ay(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bn(i,e),qn(e),l&4&&(Va(3,e,e.return),Xo(3,e),Va(5,e,e.return));break;case 1:Bn(i,e),qn(e),l&512&&(ze||s===null||Mi(s,s.return)),l&64&&fa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=hi;if(Bn(i,e),qn(e),l&512&&(ze||s===null||Mi(s,s.return)),l&4){var g=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":g=f.getElementsByTagName("title")[0],(!g||g[fr]||g[Ke]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(l),f.head.insertBefore(g,f.querySelector("head > title"))),yn(g,l,s),g[Ke]=e,Ve(g),l=g;break t;case"link":var S=bv("link","href",f).get(l+(s.href||""));if(S){for(var j=0;j<S.length;j++)if(g=S[j],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(j,1);break e}}g=f.createElement(l),yn(g,l,s),f.head.appendChild(g);break;case"meta":if(S=bv("meta","content",f).get(l+(s.content||""))){for(j=0;j<S.length;j++)if(g=S[j],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(j,1);break e}}g=f.createElement(l),yn(g,l,s),f.head.appendChild(g);break;default:throw Error(r(468,l))}g[Ke]=e,Ve(g),l=g}e.stateNode=l}else xv(f,e.type,e.stateNode);else e.stateNode=_v(f,l,e.memoizedProps);else g!==l?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,l===null?xv(f,e.type,e.stateNode):_v(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&If(e,e.memoizedProps,s.memoizedProps)}break;case 27:Bn(i,e),qn(e),l&512&&(ze||s===null||Mi(s,s.return)),s!==null&&l&4&&If(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Bn(i,e),qn(e),l&512&&(ze||s===null||Mi(s,s.return)),e.flags&32){f=e.stateNode;try{Qn(f,"")}catch(ht){be(e,e.return,ht)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,If(e,f,s!==null?s.memoizedProps:f)),l&1024&&(jf=!0);break;case 6:if(Bn(i,e),qn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ht){be(e,e.return,ht)}}break;case 3:if(sc=null,f=hi,hi=ac(i.containerInfo),Bn(i,e),hi=f,qn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{pl(i.containerInfo)}catch(ht){be(e,e.return,ht)}jf&&(jf=!1,Ry(e));break;case 4:l=hi,hi=ac(e.stateNode.containerInfo),Bn(i,e),qn(e),hi=l;break;case 12:Bn(i,e),qn(e);break;case 13:Bn(i,e),qn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(qf=H()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vf(e,l)));break;case 22:f=e.memoizedState!==null;var Q=s!==null&&s.memoizedState!==null,ot=fa,_t=ze;if(fa=ot||f,ze=_t||Q,Bn(i,e),ze=_t,fa=ot,qn(e),l&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||Q||fa||ze||zr(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){Q=s=i;try{if(g=Q.stateNode,f)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{j=Q.stateNode;var Et=Q.memoizedProps.style,ct=Et!=null&&Et.hasOwnProperty("display")?Et.display:null;j.style.display=ct==null||typeof ct=="boolean"?"":(""+ct).trim()}}catch(ht){be(Q,Q.return,ht)}}}else if(i.tag===6){if(s===null){Q=i;try{Q.stateNode.nodeValue=f?"":Q.memoizedProps}catch(ht){be(Q,Q.return,ht)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Vf(e,s))));break;case 19:Bn(i,e),qn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vf(e,l)));break;case 30:break;case 21:break;default:Bn(i,e),qn(e)}}function qn(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(_y(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,g=Of(e);Gu(e,g,f);break;case 5:var S=s.stateNode;s.flags&32&&(Qn(S,""),s.flags&=-33);var j=Of(e);Gu(e,j,S);break;case 3:case 4:var Q=s.stateNode.containerInfo,ot=Of(e);Mf(e,ot,Q);break;default:throw Error(r(161))}}catch(_t){be(e,e.return,_t)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ry(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ry(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pa(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)wy(e,i.alternate,i),i=i.sibling}function zr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Va(4,i,i.return),zr(i);break;case 1:Mi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&yy(i,i.return,s),zr(i);break;case 27:sl(i.stateNode);case 26:case 5:Mi(i,i.return),zr(i);break;case 22:i.memoizedState===null&&zr(i);break;case 30:zr(i);break;default:zr(i)}e=e.sibling}}function za(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=e,g=i,S=g.flags;switch(g.tag){case 0:case 11:case 15:za(f,g,s),Xo(4,g);break;case 1:if(za(f,g,s),l=g,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ot){be(l,l.return,ot)}if(l=g,f=l.updateQueue,f!==null){var j=l.stateNode;try{var Q=f.shared.hiddenCallbacks;if(Q!==null)for(f.shared.hiddenCallbacks=null,f=0;f<Q.length;f++)ng(Q[f],j)}catch(ot){be(l,l.return,ot)}}s&&S&64&&gy(g),Zo(g,g.return);break;case 27:by(g);case 26:case 5:za(f,g,s),s&&l===null&&S&4&&vy(g),Zo(g,g.return);break;case 12:za(f,g,s);break;case 13:za(f,g,s),s&&S&4&&Sy(f,g);break;case 22:g.memoizedState===null&&za(f,g,s),Zo(g,g.return);break;case 30:break;default:za(f,g,s)}i=i.sibling}}function Pf(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vo(s))}function zf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e))}function ji(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cy(e,i,s,l),i=i.sibling}function Cy(e,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ji(e,i,s,l),f&2048&&Xo(9,i);break;case 1:ji(e,i,s,l);break;case 3:ji(e,i,s,l),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e)));break;case 12:if(f&2048){ji(e,i,s,l),e=i.stateNode;try{var g=i.memoizedProps,S=g.id,j=g.onPostCommit;typeof j=="function"&&j(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Q){be(i,i.return,Q)}}else ji(e,i,s,l);break;case 13:ji(e,i,s,l);break;case 23:break;case 22:g=i.stateNode,S=i.alternate,i.memoizedState!==null?g._visibility&2?ji(e,i,s,l):Wo(e,i):g._visibility&2?ji(e,i,s,l):(g._visibility|=2,Ns(e,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&Pf(S,i);break;case 24:ji(e,i,s,l),f&2048&&zf(i.alternate,i);break;default:ji(e,i,s,l)}}function Ns(e,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,S=i,j=s,Q=l,ot=S.flags;switch(S.tag){case 0:case 11:case 15:Ns(g,S,j,Q,f),Xo(8,S);break;case 23:break;case 22:var _t=S.stateNode;S.memoizedState!==null?_t._visibility&2?Ns(g,S,j,Q,f):Wo(g,S):(_t._visibility|=2,Ns(g,S,j,Q,f)),f&&ot&2048&&Pf(S.alternate,S);break;case 24:Ns(g,S,j,Q,f),f&&ot&2048&&zf(S.alternate,S);break;default:Ns(g,S,j,Q,f)}i=i.sibling}}function Wo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,f=l.flags;switch(l.tag){case 22:Wo(s,l),f&2048&&Pf(l.alternate,l);break;case 24:Wo(s,l),f&2048&&zf(l.alternate,l);break;default:Wo(s,l)}i=i.sibling}}var Jo=8192;function ks(e){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 26:ks(e),e.flags&Jo&&e.memoizedState!==null&&Dw(hi,e.memoizedState,e.memoizedProps);break;case 5:ks(e);break;case 3:case 4:var i=hi;hi=ac(e.stateNode.containerInfo),ks(e),hi=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Jo,Jo=16777216,ks(e),Jo=i):ks(e));break;default:ks(e)}}function Ny(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function tl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];sn=l,Iy(l,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ky(e),e=e.sibling}function ky(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Va(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,$u(e)):tl(e);break;default:tl(e)}}function $u(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];sn=l,Iy(l,e)}Ny(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Va(8,i,i.return),$u(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,$u(i));break;default:$u(i)}e=e.sibling}}function Iy(e,i){for(;sn!==null;){var s=sn;switch(s.tag){case 0:case 11:case 15:Va(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,sn=l;else t:for(s=e;sn!==null;){l=sn;var f=l.sibling,g=l.return;if(Ey(l),l===s){sn=null;break t}if(f!==null){f.return=g,sn=f;break t}sn=g}}}var Gx={getCacheForType:function(e){var i=xn(We),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},$x=typeof WeakMap=="function"?WeakMap:Map,pe=0,Ee=null,Wt=null,re=0,me=0,Fn=null,Ua=!1,Is=!1,Uf=!1,pa=0,Oe=0,La=0,Ur=0,Lf=0,ii=0,Os=0,el=null,Vn=null,Bf=!1,qf=0,Yu=1/0,Qu=null,Ba=null,gn=0,qa=null,Ms=null,js=0,Ff=0,Hf=null,Oy=null,nl=0,Gf=null;function Hn(){if((pe&2)!==0&&re!==0)return re&-re;if(et.T!==null){var e=ws;return e!==0?e:Wf()}return Ea()}function My(){ii===0&&(ii=(re&536870912)===0||he?$i():536870912);var e=ni.current;return e!==null&&(e.flags|=32),ii}function Gn(e,i,s){(e===Ee&&(me===2||me===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),Fa(e,re,ii,!1)),An(e,s),((pe&2)===0||e!==Ee)&&(e===Ee&&((pe&2)===0&&(Ur|=s),Oe===4&&Fa(e,re,ii,!1)),Vi(e))}function jy(e,i,s){if((pe&6)!==0)throw Error(r(327));var l=!s&&(i&124)===0&&(i&e.expiredLanes)===0||On(e,i),f=l?Kx(e,i):Qf(e,i,!0),g=l;do{if(f===0){Is&&!l&&Fa(e,i,0,!1);break}else{if(s=e.current.alternate,g&&!Yx(s)){f=Qf(e,i,!1),g=!1;continue}if(f===2){if(g=i,e.errorRecoveryDisabledLanes&g)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;t:{var j=e;f=el;var Q=j.current.memoizedState.isDehydrated;if(Q&&(Vs(j,S).flags|=256),S=Qf(j,S,!1),S!==2){if(Uf&&!Q){j.errorRecoveryDisabledLanes|=g,Ur|=g,f=4;break t}g=Vn,Vn=f,g!==null&&(Vn===null?Vn=g:Vn.push.apply(Vn,g))}f=S}if(g=!1,f!==2)continue}}if(f===1){Vs(e,0),Fa(e,i,0,!0);break}t:{switch(l=e,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Fa(l,i,ii,!Ua);break t;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=qf+300-H(),10<f)){if(Fa(l,i,ii,!Ua),Le(l,0,!0)!==0)break t;l.timeoutHandle=cv(Vy.bind(null,l,s,Vn,Qu,Bf,i,ii,Ur,Os,Ua,g,2,-0,0),f);break t}Vy(l,s,Vn,Qu,Bf,i,ii,Ur,Os,Ua,g,0,-0,0)}}break}while(!0);Vi(e)}function Vy(e,i,s,l,f,g,S,j,Q,ot,_t,Et,ct,ht){if(e.timeoutHandle=-1,Et=i.subtreeFlags,(Et&8192||(Et&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:Cw},Dy(i),Et=Nw(),Et!==null)){e.cancelPendingCommit=Et(Fy.bind(null,e,i,g,s,l,f,S,j,Q,_t,1,ct,ht)),Fa(e,g,S,!ot);return}Fy(e,i,g,s,l,f,S,j,Q)}function Yx(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],g=f.getSnapshot;f=f.value;try{if(!Un(g(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fa(e,i,s,l){i&=~Lf,i&=~Ur,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var f=i;0<f;){var g=31-ne(f),S=1<<g;l[g]=-1,f&=~S}s!==0&&xi(e,s,i)}function Ku(){return(pe&6)===0?(il(0),!1):!0}function $f(){if(Wt!==null){if(me===0)var e=Wt.return;else e=Wt,sa=Or=null,uf(e),Cs=null,Yo=0,e=Wt;for(;e!==null;)my(e.alternate,e),e=e.return;Wt=null}}function Vs(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,hw(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),$f(),Ee=e,Wt=s=ia(e.current,null),re=i,me=0,Fn=null,Ua=!1,Is=On(e,i),Uf=!1,Os=ii=Lf=Ur=La=Oe=0,Vn=el=null,Bf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var f=31-ne(l),g=1<<f;i|=e[f],l&=~g}return pa=i,yu(),s}function Py(e,i){Xt=null,et.H=Vu,i===zo||i===Au?(i=tg(),me=3):i===Zm?(i=tg(),me=4):me=i===ey?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Fn=i,Wt===null&&(Oe=1,Bu(e,Wn(i,e.current)))}function zy(){var e=et.H;return et.H=Vu,e===null?Vu:e}function Uy(){var e=et.A;return et.A=Gx,e}function Yf(){Oe=4,Ua||(re&4194048)!==re&&ni.current!==null||(Is=!0),(La&134217727)===0&&(Ur&134217727)===0||Ee===null||Fa(Ee,re,ii,!1)}function Qf(e,i,s){var l=pe;pe|=2;var f=zy(),g=Uy();(Ee!==e||re!==i)&&(Qu=null,Vs(e,i)),i=!1;var S=Oe;t:do try{if(me!==0&&Wt!==null){var j=Wt,Q=Fn;switch(me){case 8:$f(),S=6;break t;case 3:case 2:case 9:case 6:ni.current===null&&(i=!0);var ot=me;if(me=0,Fn=null,Ps(e,j,Q,ot),s&&Is){S=0;break t}break;default:ot=me,me=0,Fn=null,Ps(e,j,Q,ot)}}Qx(),S=Oe;break}catch(_t){Py(e,_t)}while(!0);return i&&e.shellSuspendCounter++,sa=Or=null,pe=l,et.H=f,et.A=g,Wt===null&&(Ee=null,re=0,yu()),S}function Qx(){for(;Wt!==null;)Ly(Wt)}function Kx(e,i){var s=pe;pe|=2;var l=zy(),f=Uy();Ee!==e||re!==i?(Qu=null,Yu=H()+500,Vs(e,i)):Is=On(e,i);t:do try{if(me!==0&&Wt!==null){i=Wt;var g=Fn;e:switch(me){case 1:me=0,Fn=null,Ps(e,i,g,1);break;case 2:case 9:if(Wm(g)){me=0,Fn=null,By(i);break}i=function(){me!==2&&me!==9||Ee!==e||(me=7),Vi(e)},g.then(i,i);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:Wm(g)?(me=0,Fn=null,By(i)):(me=0,Fn=null,Ps(e,i,g,7));break;case 5:var S=null;switch(Wt.tag){case 26:S=Wt.memoizedState;case 5:case 27:var j=Wt;if(!S||wv(S)){me=0,Fn=null;var Q=j.sibling;if(Q!==null)Wt=Q;else{var ot=j.return;ot!==null?(Wt=ot,Xu(ot)):Wt=null}break e}}me=0,Fn=null,Ps(e,i,g,5);break;case 6:me=0,Fn=null,Ps(e,i,g,6);break;case 8:$f(),Oe=6;break t;default:throw Error(r(462))}}Xx();break}catch(_t){Py(e,_t)}while(!0);return sa=Or=null,et.H=l,et.A=f,pe=s,Wt!==null?0:(Ee=null,re=0,yu(),Oe)}function Xx(){for(;Wt!==null&&!vt();)Ly(Wt)}function Ly(e){var i=dy(e.alternate,e,pa);e.memoizedProps=e.pendingProps,i===null?Xu(e):Wt=i}function By(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=oy(s,i,i.pendingProps,i.type,void 0,re);break;case 11:i=oy(s,i,i.pendingProps,i.type.render,i.ref,re);break;case 5:uf(i);default:my(s,i),i=Wt=qm(i,pa),i=dy(s,i,pa)}e.memoizedProps=e.pendingProps,i===null?Xu(e):Wt=i}function Ps(e,i,s,l){sa=Or=null,uf(i),Cs=null,Yo=0;var f=i.return;try{if(Ux(e,f,i,s,re)){Oe=1,Bu(e,Wn(s,e.current)),Wt=null;return}}catch(g){if(f!==null)throw Wt=f,g;Oe=1,Bu(e,Wn(s,e.current)),Wt=null;return}i.flags&32768?(he||l===1?e=!0:Is||(re&536870912)!==0?e=!1:(Ua=e=!0,(l===2||l===9||l===3||l===6)&&(l=ni.current,l!==null&&l.tag===13&&(l.flags|=16384))),qy(i,e)):Xu(i)}function Xu(e){var i=e;do{if((i.flags&32768)!==0){qy(i,Ua);return}e=i.return;var s=Bx(i.alternate,i,pa);if(s!==null){Wt=s;return}if(i=i.sibling,i!==null){Wt=i;return}Wt=i=e}while(i!==null);Oe===0&&(Oe=5)}function qy(e,i){do{var s=qx(e.alternate,e);if(s!==null){s.flags&=32767,Wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Wt=e;return}Wt=e=s}while(e!==null);Oe=6,Wt=null}function Fy(e,i,s,l,f,g,S,j,Q){e.cancelPendingCommit=null;do Zu();while(gn!==0);if((pe&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=Ph,bi(e,s,g,S,j,Q),e===Ee&&(Wt=Ee=null,re=0),Ms=i,qa=e,js=s,Ff=g,Hf=f,Oy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tw(At,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=et.T,et.T=null,f=tt.p,tt.p=2,S=pe,pe|=4;try{Fx(e,i,s)}finally{pe=S,tt.p=f,et.T=l}}gn=1,Hy(),Gy(),$y()}}function Hy(){if(gn===1){gn=0;var e=qa,i=Ms,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=et.T,et.T=null;var l=tt.p;tt.p=2;var f=pe;pe|=4;try{Ay(i,e);var g=sd,S=Im(e.containerInfo),j=g.focusedElem,Q=g.selectionRange;if(S!==j&&j&&j.ownerDocument&&km(j.ownerDocument.documentElement,j)){if(Q!==null&&Ih(j)){var ot=Q.start,_t=Q.end;if(_t===void 0&&(_t=ot),"selectionStart"in j)j.selectionStart=ot,j.selectionEnd=Math.min(_t,j.value.length);else{var Et=j.ownerDocument||document,ct=Et&&Et.defaultView||window;if(ct.getSelection){var ht=ct.getSelection(),Ht=j.textContent.length,Lt=Math.min(Q.start,Ht),_e=Q.end===void 0?Lt:Math.min(Q.end,Ht);!ht.extend&&Lt>_e&&(S=_e,_e=Lt,Lt=S);var it=Nm(j,Lt),W=Nm(j,_e);if(it&&W&&(ht.rangeCount!==1||ht.anchorNode!==it.node||ht.anchorOffset!==it.offset||ht.focusNode!==W.node||ht.focusOffset!==W.offset)){var st=Et.createRange();st.setStart(it.node,it.offset),ht.removeAllRanges(),Lt>_e?(ht.addRange(st),ht.extend(W.node,W.offset)):(st.setEnd(W.node,W.offset),ht.addRange(st))}}}}for(Et=[],ht=j;ht=ht.parentNode;)ht.nodeType===1&&Et.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Et.length;j++){var xt=Et[j];xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}uc=!!rd,sd=rd=null}finally{pe=f,tt.p=l,et.T=s}}e.current=i,gn=2}}function Gy(){if(gn===2){gn=0;var e=qa,i=Ms,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=et.T,et.T=null;var l=tt.p;tt.p=2;var f=pe;pe|=4;try{wy(e,i.alternate,i)}finally{pe=f,tt.p=l,et.T=s}}gn=3}}function $y(){if(gn===4||gn===3){gn=0,pt();var e=qa,i=Ms,s=js,l=Oy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gn=5:(gn=0,Ms=qa=null,Yy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ba=null),ts(s),i=i.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Rt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=et.T,f=tt.p,tt.p=2,et.T=null;try{for(var g=e.onRecoverableError,S=0;S<l.length;S++){var j=l[S];g(j.value,{componentStack:j.stack})}}finally{et.T=i,tt.p=f}}(js&3)!==0&&Zu(),Vi(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===Gf?nl++:(nl=0,Gf=e):nl=0,il(0)}}function Yy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Vo(i)))}function Zu(e){return Hy(),Gy(),$y(),Qy()}function Qy(){if(gn!==5)return!1;var e=qa,i=Ff;Ff=0;var s=ts(js),l=et.T,f=tt.p;try{tt.p=32>s?32:s,et.T=null,s=Hf,Hf=null;var g=qa,S=js;if(gn=0,Ms=qa=null,js=0,(pe&6)!==0)throw Error(r(331));var j=pe;if(pe|=4,ky(g.current),Cy(g,g.current,S,s),pe=j,il(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Rt,g)}catch{}return!0}finally{tt.p=f,et.T=l,Yy(e,i)}}function Ky(e,i,s){i=Wn(s,i),i=Ef(e.stateNode,i,2),e=Ia(e,i,2),e!==null&&(An(e,2),Vi(e))}function be(e,i,s){if(e.tag===3)Ky(e,e,s);else for(;i!==null;){if(i.tag===3){Ky(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ba===null||!Ba.has(l))){e=Wn(s,e),s=Jg(2),l=Ia(i,s,2),l!==null&&(ty(s,l,i,e),An(l,2),Vi(l));break}}i=i.return}}function Kf(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new $x;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Uf=!0,f.add(s),e=Zx.bind(null,e,i,s),i.then(e,e))}function Zx(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ee===e&&(re&s)===s&&(Oe===4||Oe===3&&(re&62914560)===re&&300>H()-qf?(pe&2)===0&&Vs(e,0):Lf|=s,Os===re&&(Os=0)),Vi(e)}function Xy(e,i){i===0&&(i=hr()),e=vs(e,i),e!==null&&(An(e,i),Vi(e))}function Wx(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Xy(e,s)}function Jx(e,i){var s=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Xy(e,s)}function tw(e,i){return we(e,i)}var Wu=null,zs=null,Xf=!1,Ju=!1,Zf=!1,Lr=0;function Vi(e){e!==zs&&e.next===null&&(zs===null?Wu=zs=e:zs=zs.next=e),Ju=!0,Xf||(Xf=!0,nw())}function il(e,i){if(!Zf&&Ju){Zf=!0;do for(var s=!1,l=Wu;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var g=0;else{var S=l.suspendedLanes,j=l.pingedLanes;g=(1<<31-ne(42|e)+1)-1,g&=f&~(S&~j),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,tv(l,g))}else g=re,g=Le(l,l===Ee?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||On(l,g)||(s=!0,tv(l,g));l=l.next}while(s);Zf=!1}}function ew(){Zy()}function Zy(){Ju=Xf=!1;var e=0;Lr!==0&&(cw()&&(e=Lr),Lr=0);for(var i=H(),s=null,l=Wu;l!==null;){var f=l.next,g=Wy(l,i);g===0?(l.next=null,s===null?Wu=f:s.next=f,f===null&&(zs=s)):(s=l,(e!==0||(g&3)!==0)&&(Ju=!0)),l=f}il(e)}function Wy(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var S=31-ne(g),j=1<<S,Q=f[S];Q===-1?((j&s)===0||(j&l)!==0)&&(f[S]=oi(j,i)):Q<=i&&(e.expiredLanes|=j),g&=~j}if(i=Ee,s=re,s=Le(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(me===2||me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&A(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||On(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&A(l),ts(s)){case 2:case 8:s=wt;break;case 32:s=At;break;case 268435456:s=Ct;break;default:s=At}return l=Jy.bind(null,e),s=we(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&A(l),e.callbackPriority=2,e.callbackNode=null,2}function Jy(e,i){if(gn!==0&&gn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Zu()&&e.callbackNode!==s)return null;var l=re;return l=Le(e,e===Ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jy(e,l,i),Wy(e,H()),e.callbackNode!=null&&e.callbackNode===s?Jy.bind(null,e):null)}function tv(e,i){if(Zu())return null;jy(e,i,!0)}function nw(){fw(function(){(pe&6)!==0?we(nt,ew):Zy()})}function Wf(){return Lr===0&&(Lr=$i()),Lr}function ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ss(""+e)}function nv(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function iw(e,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var g=ev((f[Be]||null).action),S=l.submitter;S&&(i=(i=S[Be]||null)?ev(i.formAction):S.getAttribute("formAction"),i!==null&&(g=i,S=null));var j=new os("action","action",null,l,f);e.push({event:j,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Lr!==0){var Q=S?nv(f,S):new FormData(f);vf(s,{pending:!0,data:Q,method:f.method,action:g},null,Q)}}else typeof g=="function"&&(j.preventDefault(),Q=S?nv(f,S):new FormData(f),vf(s,{pending:!0,data:Q,method:f.method,action:g},g,Q))},currentTarget:f}]})}}for(var Jf=0;Jf<Vh.length;Jf++){var td=Vh[Jf],aw=td.toLowerCase(),rw=td[0].toUpperCase()+td.slice(1);ci(aw,"on"+rw)}ci(jm,"onAnimationEnd"),ci(Vm,"onAnimationIteration"),ci(Pm,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(wx,"onTransitionRun"),ci(Ex,"onTransitionStart"),ci(Tx,"onTransitionCancel"),ci(zm,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function iv(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;t:{var g=void 0;if(i)for(var S=l.length-1;0<=S;S--){var j=l[S],Q=j.instance,ot=j.currentTarget;if(j=j.listener,Q!==g&&f.isPropagationStopped())break t;g=j,f.currentTarget=ot;try{g(f)}catch(_t){Lu(_t)}f.currentTarget=null,g=Q}else for(S=0;S<l.length;S++){if(j=l[S],Q=j.instance,ot=j.currentTarget,j=j.listener,Q!==g&&f.isPropagationStopped())break t;g=j,f.currentTarget=ot;try{g(f)}catch(_t){Lu(_t)}f.currentTarget=null,g=Q}}}}function Jt(e,i){var s=i[mo];s===void 0&&(s=i[mo]=new Set);var l=e+"__bubble";s.has(l)||(av(i,e,2,!1),s.add(l))}function ed(e,i,s){var l=0;i&&(l|=4),av(s,e,l,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[tc]){e[tc]=!0,go.forEach(function(s){s!=="selectionchange"&&(sw.has(s)||ed(s,!1,e),ed(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[tc]||(i[tc]=!0,ed("selectionchange",!1,i))}}function av(e,i,s,l){switch(Cv(i)){case 2:var f=Ow;break;case 8:f=Mw;break;default:f=gd}s=f.bind(null,i,s,e),f=void 0,!Xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(i,s,{capture:!0,passive:f}):e.addEventListener(i,s,!0):f!==void 0?e.addEventListener(i,s,{passive:f}):e.addEventListener(i,s,!1)}function id(e,i,s,l,f){var g=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var j=l.stateNode.containerInfo;if(j===f)break;if(S===4)for(S=l.return;S!==null;){var Q=S.tag;if((Q===3||Q===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;j!==null;){if(S=Yi(j),S===null)return;if(Q=S.tag,Q===5||Q===6||Q===26||Q===27){l=g=S;continue t}j=j.parentNode}}l=l.return}nu(function(){var ot=g,_t=Kn(s),Et=[];t:{var ct=Um.get(e);if(ct!==void 0){var ht=os,Ht=e;switch(e){case"keypress":if(Ri(s)===0)break t;case"keydown":case"keyup":ht=ds;break;case"focusin":Ht="focus",ht=cs;break;case"focusout":Ht="blur",ht=cs;break;case"beforeblur":case"afterblur":ht=cs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=cu;break;case jm:case Vm:case Pm:ht=hs;break;case zm:ht=fu;break;case"scroll":case"scrollend":ht=iu;break;case"wheel":ht=ps;break;case"copy":case"cut":case"paste":ht=fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Co;break;case"toggle":case"beforetoggle":ht=pu}var Lt=(i&4)!==0,_e=!Lt&&(e==="scroll"||e==="scrollend"),it=Lt?ct!==null?ct+"Capture":null:ct;Lt=[];for(var W=ot,st;W!==null;){var xt=W;if(st=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||st===null||it===null||(xt=_r(W,it),xt!=null&&Lt.push(rl(W,xt,st))),_e)break;W=W.return}0<Lt.length&&(ct=new ht(ct,Ht,null,s,_t),Et.push({event:ct,listeners:Lt}))}}if((i&7)===0){t:{if(ct=e==="mouseover"||e==="pointerover",ht=e==="mouseout"||e==="pointerout",ct&&s!==Zi&&(Ht=s.relatedTarget||s.fromElement)&&(Yi(Ht)||Ht[Yn]))break t;if((ht||ct)&&(ct=_t.window===_t?_t:(ct=_t.ownerDocument)?ct.defaultView||ct.parentWindow:window,ht?(Ht=s.relatedTarget||s.toElement,ht=ot,Ht=Ht?Yi(Ht):null,Ht!==null&&(_e=u(Ht),Lt=Ht.tag,Ht!==_e||Lt!==5&&Lt!==27&&Lt!==6)&&(Ht=null)):(ht=null,Ht=ot),ht!==Ht)){if(Lt=Zn,xt="onMouseLeave",it="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(Lt=Co,xt="onPointerLeave",it="onPointerEnter",W="pointer"),_e=ht==null?ct:Ei(ht),st=Ht==null?ct:Ei(Ht),ct=new Lt(xt,W+"leave",ht,s,_t),ct.target=_e,ct.relatedTarget=st,xt=null,Yi(_t)===ot&&(Lt=new Lt(it,W+"enter",Ht,s,_t),Lt.target=st,Lt.relatedTarget=_e,xt=Lt),_e=xt,ht&&Ht)e:{for(Lt=ht,it=Ht,W=0,st=Lt;st;st=Us(st))W++;for(st=0,xt=it;xt;xt=Us(xt))st++;for(;0<W-st;)Lt=Us(Lt),W--;for(;0<st-W;)it=Us(it),st--;for(;W--;){if(Lt===it||it!==null&&Lt===it.alternate)break e;Lt=Us(Lt),it=Us(it)}Lt=null}else Lt=null;ht!==null&&rv(Et,ct,ht,Lt,!1),Ht!==null&&_e!==null&&rv(Et,_e,Ht,Lt,!0)}}t:{if(ct=ot?Ei(ot):window,ht=ct.nodeName&&ct.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ct.type==="file")var Vt=Tm;else if(Ze(ct))if(Sm)Vt=_x;else{Vt=yx;var Zt=gx}else ht=ct.nodeName,!ht||ht.toLowerCase()!=="input"||ct.type!=="checkbox"&&ct.type!=="radio"?ot&&xo(ot.elementType)&&(Vt=Tm):Vt=vx;if(Vt&&(Vt=Vt(e,ot))){na(Et,Vt,s,_t);break t}Zt&&Zt(e,ct,ot),e==="focusout"&&ot&&ct.type==="number"&&ot.memoizedProps.value!=null&&Ra(ct,"number",ct.value)}switch(Zt=ot?Ei(ot):window,e){case"focusin":(Ze(Zt)||Zt.contentEditable==="true")&&(ms=Zt,Oh=ot,ko=null);break;case"focusout":ko=Oh=ms=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Om(Et,s,_t);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":Om(Et,s,_t)}var zt;if(Ni)t:{switch(e){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else ie?mt(e,s)&&(Bt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Bt="onCompositionStart");Bt&&(E&&s.locale!=="ko"&&(ie||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ie&&(zt=Eo()):(Ai=_t,Ca="value"in Ai?Ai.value:Ai.textContent,ie=!0)),Zt=ec(ot,Bt),0<Zt.length&&(Bt=new Ao(Bt,e,null,s,_t),Et.push({event:Bt,listeners:Zt}),zt?Bt.data=zt:(zt=Nt(s),zt!==null&&(Bt.data=zt)))),(zt=v?Xe(e,s):ae(e,s))&&(Bt=ec(ot,"onBeforeInput"),0<Bt.length&&(Zt=new Ao("onBeforeInput","beforeinput",null,s,_t),Et.push({event:Zt,listeners:Bt}),Zt.data=zt)),iw(Et,e,ot,s,_t)}iv(Et,i)})}function rl(e,i,s){return{instance:e,listener:i,currentTarget:s}}function ec(e,i){for(var s=i+"Capture",l=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=_r(e,s),f!=null&&l.unshift(rl(e,f,g)),f=_r(e,i),f!=null&&l.push(rl(e,f,g))),e.tag===3)return l;e=e.return}return[]}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rv(e,i,s,l,f){for(var g=i._reactName,S=[];s!==null&&s!==l;){var j=s,Q=j.alternate,ot=j.stateNode;if(j=j.tag,Q!==null&&Q===l)break;j!==5&&j!==26&&j!==27||ot===null||(Q=ot,f?(ot=_r(s,g),ot!=null&&S.unshift(rl(s,ot,Q))):f||(ot=_r(s,g),ot!=null&&S.push(rl(s,ot,Q)))),s=s.return}S.length!==0&&e.push({event:i,listeners:S})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function sv(e){return(typeof e=="string"?e:""+e).replace(ow,`
`).replace(lw,"")}function ov(e,i){return i=sv(i),sv(e)===i}function nc(){}function ve(e,i,s,l,f,g){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Qn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Qn(e,""+l);break;case"className":Ti(e,"class",l);break;case"tabIndex":Ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,s,l);break;case"style":bo(e,l,g);break;case"data":if(i!=="object"){Ti(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ss(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(i!=="input"&&ve(e,i,"name",f.name,f,null),ve(e,i,"formEncType",f.formEncType,f,null),ve(e,i,"formMethod",f.formMethod,f,null),ve(e,i,"formTarget",f.formTarget,f,null)):(ve(e,i,"encType",f.encType,f,null),ve(e,i,"method",f.method,f,null),ve(e,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ss(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=nc);break;case"onScroll":l!=null&&Jt("scroll",e);break;case"onScrollEnd":l!=null&&Jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ss(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Jt("beforetoggle",e),Jt("toggle",e),Aa(e,"popover",l);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ah.get(s)||s,Aa(e,s,l))}}function ad(e,i,s,l,f,g){switch(s){case"style":bo(e,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Qn(e,l):(typeof l=="number"||typeof l=="bigint")&&Qn(e,""+l);break;case"onScroll":l!=null&&Jt("scroll",e);break;case"onScrollEnd":l!=null&&Jt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!es.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),g=e[Be]||null,g=g!=null?g[s]:null,typeof g=="function"&&e.removeEventListener(i,g,f),typeof l=="function")){typeof g!="function"&&g!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,f);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Aa(e,s,l)}}}function yn(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",e),Jt("load",e);var l=!1,f=!1,g;for(g in s)if(s.hasOwnProperty(g)){var S=s[g];if(S!=null)switch(g){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ve(e,i,g,S,s,null)}}f&&ve(e,i,"srcSet",s.srcSet,s,null),l&&ve(e,i,"src",s.src,s,null);return;case"input":Jt("invalid",e);var j=g=S=f=null,Q=null,ot=null;for(l in s)if(s.hasOwnProperty(l)){var _t=s[l];if(_t!=null)switch(l){case"name":f=_t;break;case"type":S=_t;break;case"checked":Q=_t;break;case"defaultChecked":ot=_t;break;case"value":g=_t;break;case"defaultValue":j=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,i));break;default:ve(e,i,l,_t,s,null)}}gr(e,g,j,Q,ot,S,f,!1),rs(e);return;case"select":Jt("invalid",e),l=S=g=null;for(f in s)if(s.hasOwnProperty(f)&&(j=s[f],j!=null))switch(f){case"value":g=j;break;case"defaultValue":S=j;break;case"multiple":l=j;default:ve(e,i,f,j,s,null)}i=g,s=S,e.multiple=!!l,i!=null?Xi(e,!!l,i,!1):s!=null&&Xi(e,!!l,s,!0);return;case"textarea":Jt("invalid",e),g=f=l=null;for(S in s)if(s.hasOwnProperty(S)&&(j=s[S],j!=null))switch(S){case"value":l=j;break;case"defaultValue":f=j;break;case"children":g=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:ve(e,i,S,j,s,null)}yr(e,l,f,g),rs(e);return;case"option":for(Q in s)if(s.hasOwnProperty(Q)&&(l=s[Q],l!=null))switch(Q){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ve(e,i,Q,l,s,null)}return;case"dialog":Jt("beforetoggle",e),Jt("toggle",e),Jt("cancel",e),Jt("close",e);break;case"iframe":case"object":Jt("load",e);break;case"video":case"audio":for(l=0;l<al.length;l++)Jt(al[l],e);break;case"image":Jt("error",e),Jt("load",e);break;case"details":Jt("toggle",e);break;case"embed":case"source":case"link":Jt("error",e),Jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in s)if(s.hasOwnProperty(ot)&&(l=s[ot],l!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ve(e,i,ot,l,s,null)}return;default:if(xo(i)){for(_t in s)s.hasOwnProperty(_t)&&(l=s[_t],l!==void 0&&ad(e,i,_t,l,s,void 0));return}}for(j in s)s.hasOwnProperty(j)&&(l=s[j],l!=null&&ve(e,i,j,l,s,null))}function uw(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,S=null,j=null,Q=null,ot=null,_t=null;for(ht in s){var Et=s[ht];if(s.hasOwnProperty(ht)&&Et!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":Q=Et;default:l.hasOwnProperty(ht)||ve(e,i,ht,null,l,Et)}}for(var ct in l){var ht=l[ct];if(Et=s[ct],l.hasOwnProperty(ct)&&(ht!=null||Et!=null))switch(ct){case"type":g=ht;break;case"name":f=ht;break;case"checked":ot=ht;break;case"defaultChecked":_t=ht;break;case"value":S=ht;break;case"defaultValue":j=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,i));break;default:ht!==Et&&ve(e,i,ct,ht,l,Et)}}zn(e,S,j,Q,ot,_t,g,f);return;case"select":ht=S=j=ct=null;for(g in s)if(Q=s[g],s.hasOwnProperty(g)&&Q!=null)switch(g){case"value":break;case"multiple":ht=Q;default:l.hasOwnProperty(g)||ve(e,i,g,null,l,Q)}for(f in l)if(g=l[f],Q=s[f],l.hasOwnProperty(f)&&(g!=null||Q!=null))switch(f){case"value":ct=g;break;case"defaultValue":j=g;break;case"multiple":S=g;default:g!==Q&&ve(e,i,f,g,l,Q)}i=j,s=S,l=ht,ct!=null?Xi(e,!!s,ct,!1):!!l!=!!s&&(i!=null?Xi(e,!!s,i,!0):Xi(e,!!s,s?[]:"",!1));return;case"textarea":ht=ct=null;for(j in s)if(f=s[j],s.hasOwnProperty(j)&&f!=null&&!l.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ve(e,i,j,null,l,f)}for(S in l)if(f=l[S],g=s[S],l.hasOwnProperty(S)&&(f!=null||g!=null))switch(S){case"value":ct=f;break;case"defaultValue":ht=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&ve(e,i,S,f,l,g)}ge(e,ct,ht);return;case"option":for(var Ht in s)if(ct=s[Ht],s.hasOwnProperty(Ht)&&ct!=null&&!l.hasOwnProperty(Ht))switch(Ht){case"selected":e.selected=!1;break;default:ve(e,i,Ht,null,l,ct)}for(Q in l)if(ct=l[Q],ht=s[Q],l.hasOwnProperty(Q)&&ct!==ht&&(ct!=null||ht!=null))switch(Q){case"selected":e.selected=ct&&typeof ct!="function"&&typeof ct!="symbol";break;default:ve(e,i,Q,ct,l,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in s)ct=s[Lt],s.hasOwnProperty(Lt)&&ct!=null&&!l.hasOwnProperty(Lt)&&ve(e,i,Lt,null,l,ct);for(ot in l)if(ct=l[ot],ht=s[ot],l.hasOwnProperty(ot)&&ct!==ht&&(ct!=null||ht!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,i));break;default:ve(e,i,ot,ct,l,ht)}return;default:if(xo(i)){for(var _e in s)ct=s[_e],s.hasOwnProperty(_e)&&ct!==void 0&&!l.hasOwnProperty(_e)&&ad(e,i,_e,void 0,l,ct);for(_t in l)ct=l[_t],ht=s[_t],!l.hasOwnProperty(_t)||ct===ht||ct===void 0&&ht===void 0||ad(e,i,_t,ct,l,ht);return}}for(var it in s)ct=s[it],s.hasOwnProperty(it)&&ct!=null&&!l.hasOwnProperty(it)&&ve(e,i,it,null,l,ct);for(Et in l)ct=l[Et],ht=s[Et],!l.hasOwnProperty(Et)||ct===ht||ct==null&&ht==null||ve(e,i,Et,ct,l,ht)}var rd=null,sd=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function lv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function od(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ld=null;function cw(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(e){return hv.resolve(null).then(e).catch(dw)}:cv;function dw(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function fv(e,i){var s=i,l=0,f=0;do{var g=s.nextSibling;if(e.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<l&&8>l){s=l;var S=e.ownerDocument;if(s&1&&sl(S.documentElement),s&2&&sl(S.body),s&4)for(s=S.head,sl(s),S=s.firstChild;S;){var j=S.nextSibling,Q=S.nodeName;S[fr]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&S.rel.toLowerCase()==="stylesheet"||s.removeChild(S),S=j}}if(f===0){e.removeChild(g),pl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=g}while(s);pl(i)}function ud(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ud(s),Sa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function pw(e,i,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=fi(e.nextSibling),e===null)break}return null}function mw(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=fi(e.nextSibling),e===null))return null;return e}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gw(e,i){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function fi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var hd=null;function dv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function pv(e,i,s){switch(i=ic(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function sl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Sa(e)}var ai=new Map,mv=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ma=tt.d;tt.d={f:yw,r:vw,D:_w,C:bw,L:xw,m:ww,X:Tw,S:Ew,M:Sw};function yw(){var e=ma.f(),i=Ku();return e||i}function vw(e){var i=wi(e);i!==null&&i.tag===5&&i.type==="form"?jg(i):ma.r(e)}var Ls=typeof document>"u"?null:document;function gv(e,i,s){var l=Ls;if(l&&typeof i=="string"&&i){var f=qe(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),mv.has(f)||(mv.add(f),e={rel:e,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),yn(i,"link",e),Ve(i),l.head.appendChild(i)))}}function _w(e){ma.D(e),gv("dns-prefetch",e,null)}function bw(e,i){ma.C(e,i),gv("preconnect",e,i)}function xw(e,i,s){ma.L(e,i,s);var l=Ls;if(l&&e&&i){var f='link[rel="preload"][as="'+qe(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+qe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+qe(s.imageSizes)+'"]')):f+='[href="'+qe(e)+'"]';var g=f;switch(i){case"style":g=Bs(e);break;case"script":g=qs(e)}ai.has(g)||(e=y({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),ai.set(g,e),l.querySelector(f)!==null||i==="style"&&l.querySelector(ol(g))||i==="script"&&l.querySelector(ll(g))||(i=l.createElement("link"),yn(i,"link",e),Ve(i),l.head.appendChild(i)))}}function ww(e,i){ma.m(e,i);var s=Ls;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+qe(l)+'"][href="'+qe(e)+'"]',g=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qs(e)}if(!ai.has(g)&&(e=y({rel:"modulepreload",href:e},i),ai.set(g,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ll(g)))return}l=s.createElement("link"),yn(l,"link",e),Ve(l),s.head.appendChild(l)}}}function Ew(e,i,s){ma.S(e,i,s);var l=Ls;if(l&&e){var f=Rn(l).hoistableStyles,g=Bs(e);i=i||"default";var S=f.get(g);if(!S){var j={loading:0,preload:null};if(S=l.querySelector(ol(g)))j.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":i},s),(s=ai.get(g))&&fd(e,s);var Q=S=l.createElement("link");Ve(Q),yn(Q,"link",e),Q._p=new Promise(function(ot,_t){Q.onload=ot,Q.onerror=_t}),Q.addEventListener("load",function(){j.loading|=1}),Q.addEventListener("error",function(){j.loading|=2}),j.loading|=4,rc(S,i,l)}S={type:"stylesheet",instance:S,count:1,state:j},f.set(g,S)}}}function Tw(e,i){ma.X(e,i);var s=Ls;if(s&&e){var l=Rn(s).hoistableScripts,f=qs(e),g=l.get(f);g||(g=s.querySelector(ll(f)),g||(e=y({src:e,async:!0},i),(i=ai.get(f))&&dd(e,i),g=s.createElement("script"),Ve(g),yn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function Sw(e,i){ma.M(e,i);var s=Ls;if(s&&e){var l=Rn(s).hoistableScripts,f=qs(e),g=l.get(f);g||(g=s.querySelector(ll(f)),g||(e=y({src:e,async:!0,type:"module"},i),(i=ai.get(f))&&dd(e,i),g=s.createElement("script"),Ve(g),yn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function yv(e,i,s,l){var f=(f=Dt.current)?ac(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Bs(s.href),s=Rn(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Bs(s.href);var g=Rn(f).hoistableStyles,S=g.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,S),(g=f.querySelector(ol(e)))&&!g._p&&(S.instance=g,S.state.loading=5),ai.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ai.set(e,s),g||Aw(f,e,s,S.state))),i&&l===null)throw Error(r(528,""));return S}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qs(s),s=Rn(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Bs(e){return'href="'+qe(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function vv(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Aw(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),yn(i,"link",s),Ve(i),e.head.appendChild(i))}function qs(e){return'[src="'+qe(e)+'"]'}function ll(e){return"script[async]"+e}function _v(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+qe(s.href)+'"]');if(l)return i.instance=l,Ve(l),l;var f=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ve(l),yn(l,"style",f),rc(l,s.precedence,e),i.instance=l;case"stylesheet":f=Bs(s.href);var g=e.querySelector(ol(f));if(g)return i.state.loading|=4,i.instance=g,Ve(g),g;l=vv(s),(f=ai.get(f))&&fd(l,f),g=(e.ownerDocument||e).createElement("link"),Ve(g);var S=g;return S._p=new Promise(function(j,Q){S.onload=j,S.onerror=Q}),yn(g,"link",l),i.state.loading|=4,rc(g,s.precedence,e),i.instance=g;case"script":return g=qs(s.src),(f=e.querySelector(ll(g)))?(i.instance=f,Ve(f),f):(l=s,(f=ai.get(g))&&(l=y({},s),dd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ve(f),yn(f,"link",l),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rc(l,s.precedence,e));return i.instance}function rc(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,g=f,S=0;S<l.length;S++){var j=l[S];if(j.dataset.precedence===i)g=j;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var sc=null;function bv(e,i,s){if(sc===null){var l=new Map,f=sc=new Map;f.set(s,l)}else f=sc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var g=s[f];if(!(g[fr]||g[Ke]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(i)||"";S=e+S;var j=l.get(S);j?j.push(g):l.set(S,[g])}}return l}function xv(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function Rw(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function wv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function Cw(){}function Dw(e,i,s){if(ul===null)throw Error(r(475));var l=ul;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Bs(s.href),g=e.querySelector(ol(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=oc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=g,Ve(g);return}g=e.ownerDocument||e,s=vv(s),(f=ai.get(f))&&fd(s,f),g=g.createElement("link"),Ve(g);var S=g;S._p=new Promise(function(j,Q){S.onload=j,S.onerror=Q}),yn(g,"link",s),i.instance=g}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=oc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function Nw(){if(ul===null)throw Error(r(475));var e=ul;return e.stylesheets&&e.count===0&&pd(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&pd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function pd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,i.forEach(kw,e),lc=null,oc.call(e))}function kw(e,i){if(!(i.state.loading&4)){var s=lc.get(e);if(s)var l=s.get(null);else{s=new Map,lc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var S=f[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),l=S)}l&&s.set(null,l)}f=i.instance,S=f.getAttribute("data-precedence"),g=s.get(S)||l,g===l&&s.set(null,f),s.set(S,f),this.count++,l=oc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var cl={$$typeof:U,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function Iw(e,i,s,l,f,g,S,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Ev(e,i,s,l,f,g,S,j,Q,ot,_t,Et){return e=new Iw(e,i,s,S,j,Q,ot,Et),i=1,g===!0&&(i|=24),g=Ln(3,null,null,i),e.current=g,g.stateNode=e,i=Qh(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:l,isDehydrated:s,cache:i},Wh(g),e}function Tv(e){return e?(e=_s,e):_s}function Sv(e,i,s,l,f,g){f=Tv(f),l.context===null?l.context=f:l.pendingContext=f,l=ka(i),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=Ia(e,l,i),s!==null&&(Gn(s,e,i),Lo(s,e,i))}function Av(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function md(e,i){Av(e,i),(e=e.alternate)&&Av(e,i)}function Rv(e){if(e.tag===13){var i=vs(e,67108864);i!==null&&Gn(i,e,67108864),md(e,67108864)}}var uc=!0;function Ow(e,i,s,l){var f=et.T;et.T=null;var g=tt.p;try{tt.p=2,gd(e,i,s,l)}finally{tt.p=g,et.T=f}}function Mw(e,i,s,l){var f=et.T;et.T=null;var g=tt.p;try{tt.p=8,gd(e,i,s,l)}finally{tt.p=g,et.T=f}}function gd(e,i,s,l){if(uc){var f=yd(l);if(f===null)id(e,i,l,cc,s),Dv(e,l);else if(Vw(f,e,i,s,l))l.stopPropagation();else if(Dv(e,l),i&4&&-1<jw.indexOf(e)){for(;f!==null;){var g=wi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Qe(g.pendingLanes);if(S!==0){var j=g;for(j.pendingLanes|=2,j.entangledLanes|=2;S;){var Q=1<<31-ne(S);j.entanglements[1]|=Q,S&=~Q}Vi(g),(pe&6)===0&&(Yu=H()+500,il(0))}}break;case 13:j=vs(g,2),j!==null&&Gn(j,g,2),Ku(),md(g,2)}if(g=yd(l),g===null&&id(e,i,l,cc,s),g===f)break;f=g}f!==null&&l.stopPropagation()}else id(e,i,l,null,s)}}function yd(e){return e=Kn(e),vd(e)}var cc=null;function vd(e){if(cc=null,e=Yi(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=c(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return cc=e,null}function Cv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q()){case nt:return 2;case wt:return 8;case At:case lt:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var _d=!1,Ga=null,$a=null,Ya=null,hl=new Map,fl=new Map,Qa=[],jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(e,i){switch(e){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(e,i,s,l,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},i!==null&&(i=wi(i),i!==null&&Rv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function Vw(e,i,s,l,f){switch(i){case"focusin":return Ga=dl(Ga,e,i,s,l,f),!0;case"dragenter":return $a=dl($a,e,i,s,l,f),!0;case"mouseover":return Ya=dl(Ya,e,i,s,l,f),!0;case"pointerover":var g=f.pointerId;return hl.set(g,dl(hl.get(g)||null,e,i,s,l,f)),!0;case"gotpointercapture":return g=f.pointerId,fl.set(g,dl(fl.get(g)||null,e,i,s,l,f)),!0}return!1}function Nv(e){var i=Yi(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){e.blockedOn=i,Kl(e.priority,function(){if(s.tag===13){var l=Hn();l=wa(l);var f=vs(s,l);f!==null&&Gn(f,s,l),md(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=yd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Zi=l,s.target.dispatchEvent(l),Zi=null}else return i=wi(s),i!==null&&Rv(i),e.blockedOn=s,!1;i.shift()}return!0}function kv(e,i,s){hc(e)&&s.delete(i)}function Pw(){_d=!1,Ga!==null&&hc(Ga)&&(Ga=null),$a!==null&&hc($a)&&($a=null),Ya!==null&&hc(Ya)&&(Ya=null),hl.forEach(kv),fl.forEach(kv)}function fc(e,i){e.blockedOn===i&&(e.blockedOn=null,_d||(_d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Pw)))}var dc=null;function Iv(e){dc!==e&&(dc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],f=e[i+2];if(typeof l!="function"){if(vd(l||s)===null)continue;break}var g=wi(s);g!==null&&(e.splice(i,3),i-=3,vf(g,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function pl(e){function i(Q){return fc(Q,e)}Ga!==null&&fc(Ga,e),$a!==null&&fc($a,e),Ya!==null&&fc(Ya,e),hl.forEach(i),fl.forEach(i);for(var s=0;s<Qa.length;s++){var l=Qa[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qa.length&&(s=Qa[0],s.blockedOn===null);)Nv(s),s.blockedOn===null&&Qa.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],g=s[l+1],S=f[Be]||null;if(typeof g=="function")S||Iv(s);else if(S){var j=null;if(g&&g.hasAttribute("formAction")){if(f=g,S=g[Be]||null)j=S.formAction;else if(vd(f)!==null)continue}else j=S.action;typeof j=="function"?s[l+1]=j:(s.splice(l,3),l-=3),Iv(s)}}}function bd(e){this._internalRoot=e}pc.prototype.render=bd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,l=Hn();Sv(s,l,e,i,null,null)},pc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sv(e.current,2,null,e,null,null),Ku(),i[Yn]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ea();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qa.length&&i!==0&&i<Qa[s].priority;s++);Qa.splice(s,0,e),s===0&&Nv(e)}};var Ov=t.version;if(Ov!=="19.1.1")throw Error(r(527,Ov,"19.1.1"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var zw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Rt=mc.inject(zw),It=mc}catch{}}return gl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var s=!1,l="",f=Kg,g=Xg,S=Zg,j=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(j=i.unstable_transitionCallbacks)),i=Ev(e,1,!1,null,null,s,l,f,g,S,j,null),e[Yn]=i.current,nd(e),new bd(i)},gl.hydrateRoot=function(e,i,s){if(!o(e))throw Error(r(299));var l=!1,f="",g=Kg,S=Xg,j=Zg,Q=null,ot=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Q=s.unstable_transitionCallbacks),s.formState!==void 0&&(ot=s.formState)),i=Ev(e,1,!0,i,s??null,l,f,g,S,j,Q,ot),i.context=Tv(null),s=i.current,l=Hn(),l=wa(l),f=ka(l),f.callback=null,Ia(s,f,l),s=l,i.current.lanes=s,An(i,s),Vi(i),e[Yn]=i.current,nd(e),new pc(i)},gl.version="19.1.1",gl}var Fv;function Qw(){if(Fv)return Ed.exports;Fv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ed.exports=Yw(),Ed.exports}var Kw=Qw();const Xw=zl(Kw);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hv="popstate";function Zw(a={}){function t(r,o){let{pathname:u,search:c,hash:d}=r.location;return Kd("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Cl(o)}return Jw(t,n,null,a)}function Ce(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function mi(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ww(){return Math.random().toString(36).substring(2,10)}function Gv(a,t){return{usr:a.state,key:a.key,idx:t}}function Kd(a,t,n=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?ro(t):t,state:n,key:t&&t.key||r||Ww()}}function Cl({pathname:a="/",search:t="",hash:n=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function ro(a){let t={};if(a){let n=a.indexOf("#");n>=0&&(t.hash=a.substring(n),a=a.substring(0,n));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function Jw(a,t,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,d="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let T=y(),k=T==null?null:T-m;m=T,p&&p({action:d,location:b.location,delta:k})}function w(T,k){d="PUSH";let M=Kd(b.location,T,k);m=y()+1;let U=Gv(M,m),K=b.createHref(M);try{c.pushState(U,"",K)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(K)}u&&p&&p({action:d,location:b.location,delta:1})}function x(T,k){d="REPLACE";let M=Kd(b.location,T,k);m=y();let U=Gv(M,m),K=b.createHref(M);c.replaceState(U,"",K),u&&p&&p({action:d,location:b.location,delta:0})}function C(T){return tE(T)}let b={get action(){return d},get location(){return a(o,c)},listen(T){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,_),p=T,()=>{o.removeEventListener(Hv,_),p=null}},createHref(T){return t(o,T)},createURL:C,encodeLocation(T){let k=C(T);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:x,go(T){return c.go(T)}};return b}function tE(a,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ce(n,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Cl(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function I0(a,t,n="/"){return eE(a,t,n,!1)}function eE(a,t,n,r){let o=typeof t=="string"?ro(t):t,u=va(o.pathname||"/",n);if(u==null)return null;let c=O0(a);nE(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=dE(u);d=hE(c[p],m,r)}return d}function O0(a,t=[],n=[],r="",o=!1){let u=(c,d,p=o,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&p)return;Ce(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=ga([r,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(Ce(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),O0(c.children,t,w,_,p)),!(c.path==null&&!c.index)&&t.push({path:_,score:uE(_,c.index),routesMeta:w})};return a.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let p of M0(c.path))u(c,d,!0,p)}),t}function M0(a){let t=a.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=M0(r.join("/")),d=[];return d.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...c),d.map(p=>a.startsWith("/")&&p===""?"/":p)}function nE(a){a.sort((t,n)=>t.score!==n.score?n.score-t.score:cE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iE=/^:[\w-]+$/,aE=3,rE=2,sE=1,oE=10,lE=-2,$v=a=>a==="*";function uE(a,t){let n=a.split("/"),r=n.length;return n.some($v)&&(r+=lE),t&&(r+=rE),n.filter(o=>!$v(o)).reduce((o,u)=>o+(iE.test(u)?aE:u===""?sE:oE),r)}function cE(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function hE(a,t,n=!1){let{routesMeta:r}=a,o={},u="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],m=d===r.length-1,y=u==="/"?t:t.slice(u.length)||"/",_=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),w=p.route;if(!_&&m&&n&&!r[r.length-1].route.index&&(_=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:ga([u,_.pathname]),pathnameBase:yE(ga([u,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(u=ga([u,_.pathnameBase]))}return c}function Lc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,r]=fE(a.path,a.caseSensitive,a.end),o=t.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:_},w)=>{if(y==="*"){let C=d[w]||"";c=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const x=d[w];return _&&!x?m[y]=void 0:m[y]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:a}}function fE(a,t=!1,n=!0){mi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function dE(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mi(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function va(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=a.charAt(n);return r&&r!=="/"?null:a.slice(n)||"/"}function pE(a,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof a=="string"?ro(a):a;return{pathname:n?n.startsWith("/")?n:mE(n,t):t,search:vE(r),hash:_E(o)}}function mE(a,t){let n=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rd(a,t,n,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gE(a){return a.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rp(a){let t=gE(a);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Cp(a,t,n,r=!1){let o;typeof a=="string"?o=ro(a):(o={...a},Ce(!o.pathname||!o.pathname.includes("?"),Rd("?","pathname","search",o)),Ce(!o.pathname||!o.pathname.includes("#"),Rd("#","pathname","hash",o)),Ce(!o.search||!o.search.includes("#"),Rd("#","search","hash",o)));let u=a===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}d=_>=0?t[_]:"/"}let p=pE(o,d),m=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var ga=a=>a.join("/").replace(/\/\/+/g,"/"),yE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),vE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,_E=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function bE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var j0=["POST","PUT","PATCH","DELETE"];new Set(j0);var xE=["GET",...j0];new Set(xE);var so=X.createContext(null);so.displayName="DataRouter";var sh=X.createContext(null);sh.displayName="DataRouterState";X.createContext(!1);var V0=X.createContext({isTransitioning:!1});V0.displayName="ViewTransition";var wE=X.createContext(new Map);wE.displayName="Fetchers";var EE=X.createContext(null);EE.displayName="Await";var vi=X.createContext(null);vi.displayName="Navigation";var Ul=X.createContext(null);Ul.displayName="Location";var Gi=X.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var Dp=X.createContext(null);Dp.displayName="RouteError";function TE(a,{relative:t}={}){Ce(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=X.useContext(vi),{hash:o,pathname:u,search:c}=Bl(a,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:ga([n,u])),r.createHref({pathname:d,search:c,hash:o})}function oo(){return X.useContext(Ul)!=null}function _i(){return Ce(oo(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Ul).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z0(a){X.useContext(vi).static||X.useLayoutEffect(a)}function Ll(){let{isDataRoute:a}=X.useContext(Gi);return a?PE():SE()}function SE(){Ce(oo(),"useNavigate() may be used only in the context of a <Router> component.");let a=X.useContext(so),{basename:t,navigator:n}=X.useContext(vi),{matches:r}=X.useContext(Gi),{pathname:o}=_i(),u=JSON.stringify(Rp(r)),c=X.useRef(!1);return z0(()=>{c.current=!0}),X.useCallback((p,m={})=>{if(mi(c.current,P0),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Cp(p,JSON.parse(u),o,m.relative==="path");a==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ga([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,u,o,a])}X.createContext(null);function Bl(a,{relative:t}={}){let{matches:n}=X.useContext(Gi),{pathname:r}=_i(),o=JSON.stringify(Rp(n));return X.useMemo(()=>Cp(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function AE(a,t){return U0(a,t)}function U0(a,t,n,r,o){Ce(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=X.useContext(vi),{matches:c}=X.useContext(Gi),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let M=_&&_.path||"";L0(m,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=_i(),x;if(t){let M=typeof t=="string"?ro(t):t;Ce(y==="/"||M.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${M.pathname}" was given in the \`location\` prop.`),x=M}else x=w;let C=x.pathname||"/",b=C;if(y!=="/"){let M=y.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=I0(a,{pathname:b});mi(_||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),mi(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=kE(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:ga([y,u.encodeLocation?u.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?y:ga([y,u.encodeLocation?u.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,n,r,o);return t&&k?X.createElement(Ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function RE(){let a=VE(),t=bE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),n?X.createElement("pre",{style:o},n):null,c)}var CE=X.createElement(RE,null),DE=class extends X.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?X.createElement(Gi.Provider,{value:this.props.routeContext},X.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NE({routeContext:a,match:t,children:n}){let r=X.useContext(so);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Gi.Provider,{value:a},n)}function kE(a,t=[],n=null,r=null,o=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let u=a,c=n?.errors;if(c!=null){let m=u.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Ce(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let d=!1,p=-1;if(n)for(let m=0;m<u.length;m++){let y=u[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:_,errors:w}=n,x=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||x){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((m,y,_)=>{let w,x=!1,C=null,b=null;n&&(w=c&&y.route.id?c[y.route.id]:void 0,C=y.route.errorElement||CE,d&&(p<0&&_===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):p===_&&(x=!0,b=y.route.hydrateFallbackElement||null)));let T=t.concat(u.slice(0,_+1)),k=()=>{let M;return w?M=C:x?M=b:y.route.Component?M=X.createElement(y.route.Component,null):y.route.element?M=y.route.element:M=m,X.createElement(NE,{match:y,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:M})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?X.createElement(DE,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:k(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):k()},null)}function Np(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IE(a){let t=X.useContext(so);return Ce(t,Np(a)),t}function OE(a){let t=X.useContext(sh);return Ce(t,Np(a)),t}function ME(a){let t=X.useContext(Gi);return Ce(t,Np(a)),t}function kp(a){let t=ME(a),n=t.matches[t.matches.length-1];return Ce(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function jE(){return kp("useRouteId")}function VE(){let a=X.useContext(Dp),t=OE("useRouteError"),n=kp("useRouteError");return a!==void 0?a:t.errors?.[n]}function PE(){let{router:a}=IE("useNavigate"),t=kp("useNavigate"),n=X.useRef(!1);return z0(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{mi(n.current,P0),n.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var Yv={};function L0(a,t,n){!t&&!Yv[a]&&(Yv[a]=!0,mi(!1,n))}X.memo(zE);function zE({routes:a,future:t,state:n,unstable_onError:r}){return U0(a,void 0,n,r,t)}function UE({to:a,replace:t,state:n,relative:r}){Ce(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=X.useContext(vi);mi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=X.useContext(Gi),{pathname:c}=_i(),d=Ll(),p=Cp(a,Rp(u),c,r==="path"),m=JSON.stringify(p);return X.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:r})},[d,m,r,t,n]),null}function Xa(a){Ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LE({basename:a="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){Ce(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=ro(n));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:w="default"}=n,x=X.useMemo(()=>{let C=va(p,c);return C==null?null:{location:{pathname:C,search:m,hash:y,state:_,key:w},navigationType:r}},[c,p,m,y,_,w,r]);return mi(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:X.createElement(vi.Provider,{value:d},X.createElement(Ul.Provider,{children:t,value:x}))}function BE({children:a,location:t}){return AE(Xd(a),t)}function Xd(a,t=[]){let n=[];return X.Children.forEach(a,(r,o)=>{if(!X.isValidElement(r))return;let u=[...t,o];if(r.type===X.Fragment){n.push.apply(n,Xd(r.props.children,u));return}Ce(r.type===Xa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Xd(r.props.children,u)),n.push(c)}),n}var Nc="get",kc="application/x-www-form-urlencoded";function oh(a){return a!=null&&typeof a.tagName=="string"}function qE(a){return oh(a)&&a.tagName.toLowerCase()==="button"}function FE(a){return oh(a)&&a.tagName.toLowerCase()==="form"}function HE(a){return oh(a)&&a.tagName.toLowerCase()==="input"}function GE(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function $E(a,t){return a.button===0&&(!t||t==="_self")&&!GE(a)}var yc=null;function YE(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var QE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cd(a){return a!=null&&!QE.has(a)?(mi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):a}function KE(a,t){let n,r,o,u,c;if(FE(a)){let d=a.getAttribute("action");r=d?va(d,t):null,n=a.getAttribute("method")||Nc,o=Cd(a.getAttribute("enctype"))||kc,u=new FormData(a)}else if(qE(a)||HE(a)&&(a.type==="submit"||a.type==="image")){let d=a.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||d.getAttribute("action");if(r=p?va(p,t):null,n=a.getAttribute("formmethod")||d.getAttribute("method")||Nc,o=Cd(a.getAttribute("formenctype"))||Cd(d.getAttribute("enctype"))||kc,u=new FormData(d,a),!YE()){let{name:m,type:y,value:_}=a;if(y==="image"){let w=m?`${m}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else m&&u.append(m,_)}}else{if(oh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nc,r=null,o=kc,c=a}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function XE(a,t,n){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&va(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ZE(a,t){if(a.id in t)return t[a.id];try{let n=await import(a.module);return t[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WE(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function JE(a,t,n){let r=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await ZE(u,n);return c.links?c.links():[]}return[]}));return i2(r.flat(1).filter(WE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qv(a,t,n,r,o,u){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,d=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,m)=>c(p,m)||d(p,m)):u==="data"?t.filter((p,m)=>{let y=r.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function t2(a,t,{includeHydrateFallback:n}={}){return e2(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function e2(a){return[...new Set(a)]}function n2(a){let t={},n=Object.keys(a).sort();for(let r of n)t[r]=a[r];return t}function i2(a,t){let n=new Set;return new Set(t),a.reduce((r,o)=>{let u=JSON.stringify(n2(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function B0(){let a=X.useContext(so);return Ip(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function a2(){let a=X.useContext(sh);return Ip(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Op=X.createContext(void 0);Op.displayName="FrameworkContext";function q0(){let a=X.useContext(Op);return Ip(a,"You must render this element inside a <HydratedRouter> element"),a}function r2(a,t){let n=X.useContext(Op),[r,o]=X.useState(!1),[u,c]=X.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=t,w=X.useRef(null);X.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let b=k=>{k.forEach(M=>{c(M.isIntersecting)})},T=new IntersectionObserver(b,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[a]),X.useEffect(()=>{if(r){let b=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(b)}}},[r]);let x=()=>{o(!0)},C=()=>{o(!1),c(!1)};return n?a!=="intent"?[u,w,{}]:[u,w,{onFocus:yl(d,x),onBlur:yl(p,C),onMouseEnter:yl(m,x),onMouseLeave:yl(y,C),onTouchStart:yl(_,x)}]:[!1,w,{}]}function yl(a,t){return n=>{a&&a(n),n.defaultPrevented||t(n)}}function s2({page:a,...t}){let{router:n}=B0(),r=X.useMemo(()=>I0(n.routes,a,n.basename),[n.routes,a,n.basename]);return r?X.createElement(l2,{page:a,matches:r,...t}):null}function o2(a){let{manifest:t,routeModules:n}=q0(),[r,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return JE(a,t,n).then(c=>{u||o(c)}),()=>{u=!0}},[a,t,n]),r}function l2({page:a,matches:t,...n}){let r=_i(),{manifest:o,routeModules:u}=q0(),{basename:c}=B0(),{loaderData:d,matches:p}=a2(),m=X.useMemo(()=>Qv(a,t,p,o,r,"data"),[a,t,p,o,r]),y=X.useMemo(()=>Qv(a,t,p,o,r,"assets"),[a,t,p,o,r]),_=X.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let C=new Set,b=!1;if(t.forEach(k=>{let M=o.routes[k.route.id];!M||!M.hasLoader||(!m.some(U=>U.route.id===k.route.id)&&k.route.id in d&&u[k.route.id]?.shouldRevalidate||M.hasClientLoader?b=!0:C.add(k.route.id))}),C.size===0)return[];let T=XE(a,c,"data");return b&&C.size>0&&T.searchParams.set("_routes",t.filter(k=>C.has(k.route.id)).map(k=>k.route.id).join(",")),[T.pathname+T.search]},[c,d,r,o,m,t,a,u]),w=X.useMemo(()=>t2(y,o),[y,o]),x=o2(y);return X.createElement(X.Fragment,null,_.map(C=>X.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),w.map(C=>X.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),x.map(({key:C,link:b})=>X.createElement("link",{key:C,nonce:n.nonce,...b})))}function u2(...a){return t=>{a.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F0&&(window.__reactRouterVersion="7.8.2")}catch{}function c2({basename:a,children:t,window:n}){let r=X.useRef();r.current==null&&(r.current=Zw({window:n,v5Compat:!0}));let o=r.current,[u,c]=X.useState({action:o.action,location:o.location}),d=X.useCallback(p=>{X.startTransition(()=>c(p))},[c]);return X.useLayoutEffect(()=>o.listen(d),[o,d]),X.createElement(LE,{basename:a,children:t,location:u.location,navigationType:u.action,navigator:o})}var H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G0=X.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:d,target:p,to:m,preventScrollReset:y,viewTransition:_,...w},x){let{basename:C}=X.useContext(vi),b=typeof m=="string"&&H0.test(m),T,k=!1;if(typeof m=="string"&&b&&(T=m,F0))try{let I=new URL(window.location.href),L=m.startsWith("//")?new URL(I.protocol+m):new URL(m),G=va(L.pathname,C);L.origin===I.origin&&G!=null?m=G+L.search+L.hash:k=!0}catch{mi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=TE(m,{relative:o}),[U,K,Y]=r2(r,w),rt=p2(m,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:_});function P(I){t&&t(I),I.defaultPrevented||rt(I)}let O=X.createElement("a",{...w,...Y,href:T||M,onClick:k||u?t:P,ref:u2(x,K),target:p,"data-discover":!b&&n==="render"?"true":void 0});return U&&!b?X.createElement(X.Fragment,null,O,X.createElement(s2,{page:M})):O});G0.displayName="Link";var h2=X.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:d,children:p,...m},y){let _=Bl(c,{relative:m.relative}),w=_i(),x=X.useContext(sh),{navigator:C,basename:b}=X.useContext(vi),T=x!=null&&_2(_)&&d===!0,k=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,M=w.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),U=U?U.toLowerCase():null,k=k.toLowerCase()),U&&b&&(U=va(U,b)||U);const K=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let Y=M===k||!o&&M.startsWith(k)&&M.charAt(K)==="/",rt=U!=null&&(U===k||!o&&U.startsWith(k)&&U.charAt(k.length)==="/"),P={isActive:Y,isPending:rt,isTransitioning:T},O=Y?t:void 0,I;typeof r=="function"?I=r(P):I=[r,Y?"active":null,rt?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(P):u;return X.createElement(G0,{...m,"aria-current":O,className:I,ref:y,style:L,to:c,viewTransition:d},typeof p=="function"?p(P):p)});h2.displayName="NavLink";var f2=X.forwardRef(({discover:a="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:u,method:c=Nc,action:d,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...w},x)=>{let C=y2(),b=v2(d,{relative:m}),T=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&H0.test(d),M=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let K=U.nativeEvent.submitter,Y=K?.getAttribute("formmethod")||c;C(K||U.currentTarget,{fetcherKey:t,method:Y,navigate:n,replace:o,state:u,relative:m,preventScrollReset:y,viewTransition:_})};return X.createElement("form",{ref:x,method:T,action:b,onSubmit:r?p:M,...w,"data-discover":!k&&a==="render"?"true":void 0})});f2.displayName="Form";function d2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $0(a){let t=X.useContext(so);return Ce(t,d2(a)),t}function p2(a,{target:t,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let d=Ll(),p=_i(),m=Bl(a,{relative:u});return X.useCallback(y=>{if($E(y,t)){y.preventDefault();let _=n!==void 0?n:Cl(p)===Cl(m);d(a,{replace:_,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[p,d,m,n,r,t,a,o,u,c])}var m2=0,g2=()=>`__${String(++m2)}__`;function y2(){let{router:a}=$0("useSubmit"),{basename:t}=X.useContext(vi),n=jE();return X.useCallback(async(r,o={})=>{let{action:u,method:c,encType:d,formData:p,body:m}=KE(r,t);if(o.navigate===!1){let y=o.fetcherKey||g2();await a.fetch(y,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,t,n])}function v2(a,{relative:t}={}){let{basename:n}=X.useContext(vi),r=X.useContext(Gi);Ce(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Bl(a||".",{relative:t})},c=_i();if(a==null){u.search=c.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();u.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ga([n,u.pathname])),Cl(u)}function _2(a,{relative:t}={}){let n=X.useContext(V0);Ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$0("useViewTransitionState"),o=Bl(a,{relative:t});if(!n.isTransitioning)return!1;let u=va(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=va(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lc(o.pathname,c)!=null||Lc(o.pathname,u)!=null}var Dd={exports:{}},Nd,Kv;function b2(){if(Kv)return Nd;Kv=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nd=a,Nd}var kd,Xv;function x2(){if(Xv)return kd;Xv=1;var a=b2();function t(){}function n(){}return n.resetWarningCache=t,kd=function(){function r(c,d,p,m,y,_){if(_!==a){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function o(){return r}var u={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},kd}var Zv;function w2(){return Zv||(Zv=1,Dd.exports=x2()()),Dd.exports}var E2=w2();const xe=zl(E2);function Qr(a,t,n,r){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function d(y){try{m(r.next(y))}catch(_){c(_)}}function p(y){try{m(r.throw(y))}catch(_){c(_)}}function m(y){y.done?u(y.value):o(y.value).then(d,p)}m((r=r.apply(a,t||[])).next())})}const T2=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Zs(a,t,n){const r=S2(a),{webkitRelativePath:o}=a,u=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${a.name}`;return typeof r.path!="string"&&Wv(r,"path",u),Wv(r,"relativePath",u),r}function S2(a){const{name:t}=a;if(t&&t.lastIndexOf(".")!==-1&&!a.type){const r=t.split(".").pop().toLowerCase(),o=T2.get(r);o&&Object.defineProperty(a,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return a}function Wv(a,t,n){Object.defineProperty(a,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const A2=[".DS_Store","Thumbs.db"];function R2(a){return Qr(this,void 0,void 0,function*(){return Bc(a)&&C2(a.dataTransfer)?I2(a.dataTransfer,a.type):D2(a)?N2(a):Array.isArray(a)&&a.every(t=>"getFile"in t&&typeof t.getFile=="function")?k2(a):[]})}function C2(a){return Bc(a)}function D2(a){return Bc(a)&&Bc(a.target)}function Bc(a){return typeof a=="object"&&a!==null}function N2(a){return Zd(a.target.files).map(t=>Zs(t))}function k2(a){return Qr(this,void 0,void 0,function*(){return(yield Promise.all(a.map(n=>n.getFile()))).map(n=>Zs(n))})}function I2(a,t){return Qr(this,void 0,void 0,function*(){if(a.items){const n=Zd(a.items).filter(o=>o.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(O2));return Jv(Y0(r))}return Jv(Zd(a.files).map(n=>Zs(n)))})}function Jv(a){return a.filter(t=>A2.indexOf(t.name)===-1)}function Zd(a){if(a===null)return[];const t=[];for(let n=0;n<a.length;n++){const r=a[n];t.push(r)}return t}function O2(a){if(typeof a.webkitGetAsEntry!="function")return t_(a);const t=a.webkitGetAsEntry();return t&&t.isDirectory?Q0(t):t_(a,t)}function Y0(a){return a.reduce((t,n)=>[...t,...Array.isArray(n)?Y0(n):[n]],[])}function t_(a,t){return Qr(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof a.getAsFileSystemHandle=="function"){const u=yield a.getAsFileSystemHandle();if(u===null)throw new Error(`${a} is not a File`);if(u!==void 0){const c=yield u.getFile();return c.handle=u,Zs(c)}}const r=a.getAsFile();if(!r)throw new Error(`${a} is not a File`);return Zs(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function M2(a){return Qr(this,void 0,void 0,function*(){return a.isDirectory?Q0(a):j2(a)})}function Q0(a){const t=a.createReader();return new Promise((n,r)=>{const o=[];function u(){t.readEntries(c=>Qr(this,void 0,void 0,function*(){if(c.length){const d=Promise.all(c.map(M2));o.push(d),u()}else try{const d=yield Promise.all(o);n(d)}catch(d){r(d)}}),c=>{r(c)})}u()})}function j2(a){return Qr(this,void 0,void 0,function*(){return new Promise((t,n)=>{a.file(r=>{const o=Zs(r,a.fullPath);t(o)},r=>{n(r)})})})}var vc={},e_;function V2(){return e_||(e_=1,vc.__esModule=!0,vc.default=function(a,t){if(a&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=a.name||"",o=(a.type||"").toLowerCase(),u=o.replace(/\/.*$/,"");return n.some(function(c){var d=c.trim().toLowerCase();return d.charAt(0)==="."?r.toLowerCase().endsWith(d):d.endsWith("/*")?u===d.replace(/\/.*$/,""):o===d})}return!0}),vc}var P2=V2();const Id=zl(P2);function n_(a){return L2(a)||U2(a)||X0(a)||z2()}function z2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function L2(a){if(Array.isArray(a))return Wd(a)}function i_(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,r)}return n}function a_(a){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){K0(a,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(n,r))})}return a}function K0(a,t,n){return t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function Dl(a,t){return F2(a)||q2(a,t)||X0(a,t)||B2()}function B2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0(a,t){if(a){if(typeof a=="string")return Wd(a,t);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wd(a,t)}}function Wd(a,t){(t==null||t>a.length)&&(t=a.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=a[n];return r}function q2(a,t){var n=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var r=[],o=!0,u=!1,c,d;try{for(n=n.call(a);!(o=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));o=!0);}catch(p){u=!0,d=p}finally{try{!o&&n.return!=null&&n.return()}finally{if(u)throw d}}return r}}function F2(a){if(Array.isArray(a))return a}var H2=typeof Id=="function"?Id:Id.default,G2="file-invalid-type",$2="file-too-large",Y2="file-too-small",Q2="too-many-files",K2=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:G2,message:"File type must be ".concat(r)}},r_=function(t){return{code:$2,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},s_=function(t){return{code:Y2,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},X2={code:Q2,message:"Too many files"};function Z0(a,t){var n=a.type==="application/x-moz-file"||H2(a,t);return[n,n?null:K2(t)]}function W0(a,t,n){if(qr(a.size))if(qr(t)&&qr(n)){if(a.size>n)return[!1,r_(n)];if(a.size<t)return[!1,s_(t)]}else{if(qr(t)&&a.size<t)return[!1,s_(t)];if(qr(n)&&a.size>n)return[!1,r_(n)]}return[!0,null]}function qr(a){return a!=null}function Z2(a){var t=a.files,n=a.accept,r=a.minSize,o=a.maxSize,u=a.multiple,c=a.maxFiles,d=a.validator;return!u&&t.length>1||u&&c>=1&&t.length>c?!1:t.every(function(p){var m=Z0(p,n),y=Dl(m,1),_=y[0],w=W0(p,r,o),x=Dl(w,1),C=x[0],b=d?d(p):null;return _&&C&&!b})}function qc(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function _c(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!a.target&&!!a.target.files}function o_(a){a.preventDefault()}function W2(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function J2(a){return a.indexOf("Edge/")!==-1}function tT(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return W2(a)||J2(a)}function Pi(){for(var a=arguments.length,t=new Array(a),n=0;n<a;n++)t[n]=arguments[n];return function(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];return t.some(function(d){return!qc(r)&&d&&d.apply(void 0,[r].concat(u)),qc(r)})}}function eT(){return"showOpenFilePicker"in window}function nT(a){if(qr(a)){var t=Object.entries(a).filter(function(n){var r=Dl(n,2),o=r[0],u=r[1],c=!0;return J0(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(u)||!u.every(tb))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,r){var o=Dl(r,2),u=o[0],c=o[1];return a_(a_({},n),{},K0({},u,c))},{});return[{description:"Files",accept:t}]}return a}function iT(a){if(qr(a))return Object.entries(a).reduce(function(t,n){var r=Dl(n,2),o=r[0],u=r[1];return[].concat(n_(t),[o],n_(u))},[]).filter(function(t){return J0(t)||tb(t)}).join(",")}function aT(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function rT(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function J0(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||a==="application/*"||/\w+\/[-+.\w]+/g.test(a)}function tb(a){return/^.*\.[\w]+$/.test(a)}var sT=["children"],oT=["open"],lT=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],uT=["refKey","onChange","onClick"];function cT(a){return dT(a)||fT(a)||eb(a)||hT()}function hT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fT(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function dT(a){if(Array.isArray(a))return Jd(a)}function Od(a,t){return gT(a)||mT(a,t)||eb(a,t)||pT()}function pT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eb(a,t){if(a){if(typeof a=="string")return Jd(a,t);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jd(a,t)}}function Jd(a,t){(t==null||t>a.length)&&(t=a.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=a[n];return r}function mT(a,t){var n=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var r=[],o=!0,u=!1,c,d;try{for(n=n.call(a);!(o=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));o=!0);}catch(p){u=!0,d=p}finally{try{!o&&n.return!=null&&n.return()}finally{if(u)throw d}}return r}}function gT(a){if(Array.isArray(a))return a}function l_(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,r)}return n}function Ne(a){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){tp(a,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(n,r))})}return a}function tp(a,t,n){return t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function Fc(a,t){if(a==null)return{};var n=yT(a,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(n[r]=a[r])}return n}function yT(a,t){if(a==null)return{};var n={},r=Object.keys(a),o,u;for(u=0;u<r.length;u++)o=r[u],!(t.indexOf(o)>=0)&&(n[o]=a[o]);return n}var Mp=X.forwardRef(function(a,t){var n=a.children,r=Fc(a,sT),o=ib(r),u=o.open,c=Fc(o,oT);return X.useImperativeHandle(t,function(){return{open:u}},[u]),k0.createElement(X.Fragment,null,n(Ne(Ne({},c),{},{open:u})))});Mp.displayName="Dropzone";var nb={disabled:!1,getFilesFromEvent:R2,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Mp.defaultProps=nb;Mp.propTypes={children:xe.func,accept:xe.objectOf(xe.arrayOf(xe.string)),multiple:xe.bool,preventDropOnDocument:xe.bool,noClick:xe.bool,noKeyboard:xe.bool,noDrag:xe.bool,noDragEventsBubbling:xe.bool,minSize:xe.number,maxSize:xe.number,maxFiles:xe.number,disabled:xe.bool,getFilesFromEvent:xe.func,onFileDialogCancel:xe.func,onFileDialogOpen:xe.func,useFsAccessApi:xe.bool,autoFocus:xe.bool,onDragEnter:xe.func,onDragLeave:xe.func,onDragOver:xe.func,onDrop:xe.func,onDropAccepted:xe.func,onDropRejected:xe.func,onError:xe.func,validator:xe.func};var ep={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ib(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Ne(Ne({},nb),a),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,u=t.maxSize,c=t.minSize,d=t.multiple,p=t.maxFiles,m=t.onDragEnter,y=t.onDragLeave,_=t.onDragOver,w=t.onDrop,x=t.onDropAccepted,C=t.onDropRejected,b=t.onFileDialogCancel,T=t.onFileDialogOpen,k=t.useFsAccessApi,M=t.autoFocus,U=t.preventDropOnDocument,K=t.noClick,Y=t.noKeyboard,rt=t.noDrag,P=t.noDragEventsBubbling,O=t.onError,I=t.validator,L=X.useMemo(function(){return iT(n)},[n]),G=X.useMemo(function(){return nT(n)},[n]),N=X.useMemo(function(){return typeof T=="function"?T:u_},[T]),D=X.useMemo(function(){return typeof b=="function"?b:u_},[b]),R=X.useRef(null),J=X.useRef(null),et=X.useReducer(vT,ep),tt=Od(et,2),bt=tt[0],ft=tt[1],F=bt.isFocused,$=bt.isFileDialogActive,B=X.useRef(typeof window<"u"&&window.isSecureContext&&k&&eT()),Z=function(){!B.current&&$&&setTimeout(function(){if(J.current){var gt=J.current.files;gt.length||(ft({type:"closeDialog"}),D())}},300)};X.useEffect(function(){return window.addEventListener("focus",Z,!1),function(){window.removeEventListener("focus",Z,!1)}},[J,$,D,B]);var ut=X.useRef([]),yt=function(gt){R.current&&R.current.contains(gt.target)||(gt.preventDefault(),ut.current=[])};X.useEffect(function(){return U&&(document.addEventListener("dragover",o_,!1),document.addEventListener("drop",yt,!1)),function(){U&&(document.removeEventListener("dragover",o_),document.removeEventListener("drop",yt))}},[R,U]),X.useEffect(function(){return!r&&M&&R.current&&R.current.focus(),function(){}},[R,M,r]);var Dt=X.useCallback(function(dt){O?O(dt):console.error(dt)},[O]),$t=X.useCallback(function(dt){dt.preventDefault(),dt.persist(),wt(dt),ut.current=[].concat(cT(ut.current),[dt.target]),_c(dt)&&Promise.resolve(o(dt)).then(function(gt){if(!(qc(dt)&&!P)){var Rt=gt.length,It=Rt>0&&Z2({files:gt,accept:L,minSize:c,maxSize:u,multiple:d,maxFiles:p,validator:I}),Pt=Rt>0&&!It;ft({isDragAccept:It,isDragReject:Pt,isDragActive:!0,type:"setDraggedFiles"}),m&&m(dt)}}).catch(function(gt){return Dt(gt)})},[o,m,Dt,P,L,c,u,d,p,I]),kt=X.useCallback(function(dt){dt.preventDefault(),dt.persist(),wt(dt);var gt=_c(dt);if(gt&&dt.dataTransfer)try{dt.dataTransfer.dropEffect="copy"}catch{}return gt&&_&&_(dt),!1},[_,P]),jt=X.useCallback(function(dt){dt.preventDefault(),dt.persist(),wt(dt);var gt=ut.current.filter(function(It){return R.current&&R.current.contains(It)}),Rt=gt.indexOf(dt.target);Rt!==-1&&gt.splice(Rt,1),ut.current=gt,!(gt.length>0)&&(ft({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),_c(dt)&&y&&y(dt))},[R,y,P]),qt=X.useCallback(function(dt,gt){var Rt=[],It=[];dt.forEach(function(Pt){var ne=Z0(Pt,L),cn=Od(ne,2),en=cn[0],hn=cn[1],ue=W0(Pt,c,u),fn=Od(ue,2),Qe=fn[0],Le=fn[1],On=I?I(Pt):null;if(en&&Qe&&!On)Rt.push(Pt);else{var oi=[hn,Le];On&&(oi=oi.concat(On)),It.push({file:Pt,errors:oi.filter(function($i){return $i})})}}),(!d&&Rt.length>1||d&&p>=1&&Rt.length>p)&&(Rt.forEach(function(Pt){It.push({file:Pt,errors:[X2]})}),Rt.splice(0)),ft({acceptedFiles:Rt,fileRejections:It,isDragReject:It.length>0,type:"setFiles"}),w&&w(Rt,It,gt),It.length>0&&C&&C(It,gt),Rt.length>0&&x&&x(Rt,gt)},[ft,d,L,c,u,p,w,x,C,I]),Gt=X.useCallback(function(dt){dt.preventDefault(),dt.persist(),wt(dt),ut.current=[],_c(dt)&&Promise.resolve(o(dt)).then(function(gt){qc(dt)&&!P||qt(gt,dt)}).catch(function(gt){return Dt(gt)}),ft({type:"reset"})},[o,qt,Dt,P]),le=X.useCallback(function(){if(B.current){ft({type:"openDialog"}),N();var dt={multiple:d,types:G};window.showOpenFilePicker(dt).then(function(gt){return o(gt)}).then(function(gt){qt(gt,null),ft({type:"closeDialog"})}).catch(function(gt){aT(gt)?(D(gt),ft({type:"closeDialog"})):rT(gt)?(B.current=!1,J.current?(J.current.value=null,J.current.click()):Dt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Dt(gt)});return}J.current&&(ft({type:"openDialog"}),N(),J.current.value=null,J.current.click())},[ft,N,D,k,qt,Dt,G,d]),we=X.useCallback(function(dt){!R.current||!R.current.isEqualNode(dt.target)||(dt.key===" "||dt.key==="Enter"||dt.keyCode===32||dt.keyCode===13)&&(dt.preventDefault(),le())},[R,le]),A=X.useCallback(function(){ft({type:"focus"})},[]),vt=X.useCallback(function(){ft({type:"blur"})},[]),pt=X.useCallback(function(){K||(tT()?setTimeout(le,0):le())},[K,le]),H=function(gt){return r?null:gt},q=function(gt){return Y?null:H(gt)},nt=function(gt){return rt?null:H(gt)},wt=function(gt){P&&gt.stopPropagation()},At=X.useMemo(function(){return function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gt=dt.refKey,Rt=gt===void 0?"ref":gt,It=dt.role,Pt=dt.onKeyDown,ne=dt.onFocus,cn=dt.onBlur,en=dt.onClick,hn=dt.onDragEnter,ue=dt.onDragOver,fn=dt.onDragLeave,Qe=dt.onDrop,Le=Fc(dt,lT);return Ne(Ne(tp({onKeyDown:q(Pi(Pt,we)),onFocus:q(Pi(ne,A)),onBlur:q(Pi(cn,vt)),onClick:H(Pi(en,pt)),onDragEnter:nt(Pi(hn,$t)),onDragOver:nt(Pi(ue,kt)),onDragLeave:nt(Pi(fn,jt)),onDrop:nt(Pi(Qe,Gt)),role:typeof It=="string"&&It!==""?It:"presentation"},Rt,R),!r&&!Y?{tabIndex:0}:{}),Le)}},[R,we,A,vt,pt,$t,kt,jt,Gt,Y,rt,r]),lt=X.useCallback(function(dt){dt.stopPropagation()},[]),Ct=X.useMemo(function(){return function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gt=dt.refKey,Rt=gt===void 0?"ref":gt,It=dt.onChange,Pt=dt.onClick,ne=Fc(dt,uT),cn=tp({accept:L,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:H(Pi(It,Gt)),onClick:H(Pi(Pt,lt)),tabIndex:-1},Rt,J);return Ne(Ne({},cn),ne)}},[J,n,d,Gt,r]);return Ne(Ne({},bt),{},{isFocused:F&&!r,getRootProps:At,getInputProps:Ct,rootRef:R,inputRef:J,open:H(le)})}function vT(a,t){switch(t.type){case"focus":return Ne(Ne({},a),{},{isFocused:!0});case"blur":return Ne(Ne({},a),{},{isFocused:!1});case"openDialog":return Ne(Ne({},ep),{},{isFileDialogActive:!0});case"closeDialog":return Ne(Ne({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ne(Ne({},a),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Ne(Ne({},a),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Ne({},ep);default:return a}}function u_(){}const _T=({onFilesAdded:a})=>{const t=X.useCallback(u=>{const c=u.map((d,p)=>({id:crypto.randomUUID(),file:d,preview:URL.createObjectURL(d),originalName:d.name,number:p+1}));a(c)},[a]),{getRootProps:n,getInputProps:r,isDragActive:o}=ib({onDrop:t,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp"]},multiple:!0});return V.jsxs("div",{...n(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[V.jsx("input",{...r()}),V.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[V.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),V.jsxs("div",{children:[V.jsx("p",{className:"text-lg font-medium text-gray-700",children:o?"写真をドロップしてください":"写真をドラッグ&ドロップ"}),V.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["または",V.jsx("span",{className:"text-blue-500 underline",children:"ファイルを選択"})]})]})]})]})},bT=({photos:a,onRemove:t})=>a.length===0?null:V.jsxs("div",{className:"mt-6",children:[V.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["プレビュー (",a.length,"枚)"]}),V.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(n=>V.jsx("div",{className:"relative group",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[V.jsxs("div",{className:"relative",children:[V.jsx("img",{src:n.preview,alt:n.originalName,className:"w-full h-32 object-cover"}),V.jsx("button",{onClick:()=>t(n.id),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"×"}),V.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:n.number})]}),V.jsx("div",{className:"p-3",children:V.jsx("p",{className:"text-xs text-gray-600 truncate",title:n.originalName,children:n.originalName})})]})},n.id))})]}),xT=({metaInfo:a,onChange:t,errors:n})=>{const r=(o,u)=>{t({...a,[o]:u})};return V.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[V.jsx("h3",{className:"text-lg font-semibold mb-4",children:"撮影情報"}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"カメラマン名 *"}),V.jsx("input",{type:"text",value:a.photographerName,onChange:o=>r("photographerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.photographerName?"border-red-500":"border-gray-300"}`,placeholder:"カメラマン名を入力"}),n.photographerName&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.photographerName})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日 *"}),V.jsx("input",{type:"date",value:a.shootingDate,onChange:o=>r("shootingDate",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.shootingDate?"border-red-500":"border-gray-300"}`}),n.shootingDate&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.shootingDate})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号 *"}),V.jsx("input",{type:"number",value:a.receptionNumber,onChange:o=>r("receptionNumber",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:"受付番号を入力"}),n.receptionNumber&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.receptionNumber})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ） *"}),V.jsx("input",{type:"text",value:a.customerName,onChange:o=>r("customerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.customerName?"border-red-500":"border-gray-300"}`,placeholder:"お客様氏名（苗字のみ）を入力"}),n.customerName&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.customerName})]})]})]})},wT=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=function(a){const t=[];let n=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},ET=function(a){const t=[];let n=0,r=0;for(;n<a.length;){const o=a[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[n++],c=a[n++],d=a[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=a[n++],c=a[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],c=o+1<a.length,d=c?a[o+1]:0,p=o+2<a.length,m=p?a[o+2]:0,y=u>>2,_=(u&3)<<4|d>>4;let w=(d&15)<<2|m>>6,x=m&63;p||(x=64,c||(w=64)),r.push(n[y],n[_],n[w],n[x])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(ab(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):ET(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=n[a.charAt(o++)],d=o<a.length?n[a.charAt(o)]:0;++o;const m=o<a.length?n[a.charAt(o)]:64;++o;const _=o<a.length?n[a.charAt(o)]:64;if(++o,u==null||d==null||m==null||_==null)throw new TT;const w=u<<2|d>>4;if(r.push(w),m!==64){const x=d<<4&240|m>>2;if(r.push(x),_!==64){const C=m<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class TT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ST=function(a){const t=ab(a);return rb.encodeByteArray(t,!0)},Hc=function(a){return ST(a).replace(/\./g,"")},AT=function(a){try{return rb.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=()=>RT().__FIREBASE_DEFAULTS__,DT=()=>{if(typeof process>"u"||typeof c_>"u")return;const a=c_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},NT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&AT(a[1]);return t&&JSON.parse(t)},jp=()=>{try{return wT()||CT()||DT()||NT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},kT=a=>jp()?.emulatorHosts?.[a],sb=a=>{const t=kT(a);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ob=()=>jp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lb(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Hc(JSON.stringify(n)),Hc(JSON.stringify(c)),""].join(".")}const wl={};function OT(){const a={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?a.emulator.push(t):a.prod.push(t);return a}function MT(a){let t=document.getElementById(a),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),n=!0),{created:n,element:t}}let h_=!1;function cb(a,t){if(typeof window>"u"||typeof document>"u"||!ql(window.location.host)||wl[a]===t||wl[a]||h_)return;wl[a]=t;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=OT().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{h_=!0,c()},w}function y(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=MT(r),x=n("text"),C=document.getElementById(x)||document.createElement("span"),b=n("learnmore"),T=document.getElementById(b)||document.createElement("a"),k=n("preprendIcon"),M=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;d(U),y(T,b);const K=m();p(M,k),U.append(M,C,T,K),document.body.appendChild(U)}u?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VT(){const a=jp()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PT(){return!VT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zT(){try{return typeof indexedDB=="object"}catch{return!1}}function UT(){return new Promise((a,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FirebaseError";class Kr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=LT,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hb.prototype.create)}}class hb{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?BT(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Kr(o,d,r)}}function BT(a,t){return a.replace(qT,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const qT=/\{\$([^}]+)}/g;function Gc(a,t){if(a===t)return!0;const n=Object.keys(a),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=a[o],c=t[o];if(f_(u)&&f_(c)){if(!Gc(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function f_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(a){return a&&a._delegate?a._delegate:a}class Ws{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new IT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GT(t))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Br){return this.instances.has(t)}getOptions(t=Br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HT(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Br){return this.component?this.component.multipleInstances?t:Br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HT(a){return a===Br?void 0:a}function GT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FT(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(oe||(oe={}));const YT={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},QT=oe.INFO,KT={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},XT=(a,t,...n)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=KT[t];if(o)console[o](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fb{constructor(t){this.name=t,this._logLevel=QT,this._logHandler=XT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}}const ZT=(a,t)=>t.some(n=>a instanceof n);let d_,p_;function WT(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JT(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const db=new WeakMap,np=new WeakMap,pb=new WeakMap,Md=new WeakMap,Vp=new WeakMap;function tS(a){const t=new Promise((n,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",c)},u=()=>{n(Ja(a.result)),o()},c=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&db.set(n,a)}).catch(()=>{}),Vp.set(t,a),t}function eS(a){if(np.has(a))return;const t=new Promise((n,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",c),a.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",c),a.addEventListener("abort",c)});np.set(a,t)}let ip={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return np.get(a);if(t==="objectStoreNames")return a.objectStoreNames||pb.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function nS(a){ip=a(ip)}function iS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=a.call(jd(this),t,...n);return pb.set(r,t.sort?t.sort():[t]),Ja(r)}:JT().includes(a)?function(...t){return a.apply(jd(this),t),Ja(db.get(this))}:function(...t){return Ja(a.apply(jd(this),t))}}function aS(a){return typeof a=="function"?iS(a):(a instanceof IDBTransaction&&eS(a),ZT(a,WT())?new Proxy(a,ip):a)}function Ja(a){if(a instanceof IDBRequest)return tS(a);if(Md.has(a))return Md.get(a);const t=aS(a);return t!==a&&(Md.set(a,t),Vp.set(t,a)),t}const jd=a=>Vp.get(a);function rS(a,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(a,t),d=Ja(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Ja(c.result),p.oldVersion,p.newVersion,Ja(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const sS=["get","getKey","getAll","getAllKeys","count"],oS=["put","add","delete","clear"],Vd=new Map;function m_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=oS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||sS.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),o&&p.done]))[0]};return Vd.set(t,u),u}nS(a=>({...a,get:(t,n,r)=>m_(t,n)||a.get(t,n,r),has:(t,n)=>!!m_(t,n)||a.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uS(a){return a.getComponent()?.type==="VERSION"}const ap="@firebase/app",g_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new fb("@firebase/app"),cS="@firebase/app-compat",hS="@firebase/analytics-compat",fS="@firebase/analytics",dS="@firebase/app-check-compat",pS="@firebase/app-check",mS="@firebase/auth",gS="@firebase/auth-compat",yS="@firebase/database",vS="@firebase/data-connect",_S="@firebase/database-compat",bS="@firebase/functions",xS="@firebase/functions-compat",wS="@firebase/installations",ES="@firebase/installations-compat",TS="@firebase/messaging",SS="@firebase/messaging-compat",AS="@firebase/performance",RS="@firebase/performance-compat",CS="@firebase/remote-config",DS="@firebase/remote-config-compat",NS="@firebase/storage",kS="@firebase/storage-compat",IS="@firebase/firestore",OS="@firebase/ai",MS="@firebase/firestore-compat",jS="firebase",VS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",PS={[ap]:"fire-core",[cS]:"fire-core-compat",[fS]:"fire-analytics",[hS]:"fire-analytics-compat",[pS]:"fire-app-check",[dS]:"fire-app-check-compat",[mS]:"fire-auth",[gS]:"fire-auth-compat",[yS]:"fire-rtdb",[vS]:"fire-data-connect",[_S]:"fire-rtdb-compat",[bS]:"fire-fn",[xS]:"fire-fn-compat",[wS]:"fire-iid",[ES]:"fire-iid-compat",[TS]:"fire-fcm",[SS]:"fire-fcm-compat",[AS]:"fire-perf",[RS]:"fire-perf-compat",[CS]:"fire-rc",[DS]:"fire-rc-compat",[NS]:"fire-gcs",[kS]:"fire-gcs-compat",[IS]:"fire-fst",[MS]:"fire-fst-compat",[OS]:"fire-vertex","fire-js":"fire-js",[jS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,zS=new Map,sp=new Map;function y_(a,t){try{a.container.addComponent(t)}catch(n){_a.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function Nl(a){const t=a.name;if(sp.has(t))return _a.debug(`There were multiple attempts to register component ${t}.`),!1;sp.set(t,a);for(const n of $c.values())y_(n,a);for(const n of zS.values())y_(n,a);return!0}function mb(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function gb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new hb("app","Firebase",US);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=VS;function vb(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const r={name:rp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw tr.create("bad-app-name",{appName:String(o)});if(n||(n=ob()),!n)throw tr.create("no-options");const u=$c.get(o);if(u){if(Gc(n,u.options)&&Gc(r,u.config))return u;throw tr.create("duplicate-app",{appName:o})}const c=new $T(o);for(const p of sp.values())c.addComponent(p);const d=new LS(n,r,c);return $c.set(o,d),d}function _b(a=rp){const t=$c.get(a);if(!t&&a===rp&&ob())return vb();if(!t)throw tr.create("no-app",{appName:a});return t}function er(a,t,n){let r=PS[a]??a;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_a.warn(c.join(" "));return}Nl(new Ws(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebase-heartbeat-database",qS=1,kl="firebase-heartbeat-store";let Pd=null;function bb(){return Pd||(Pd=rS(BS,qS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(a=>{throw tr.create("idb-open",{originalErrorMessage:a.message})})),Pd}async function FS(a){try{const n=(await bb()).transaction(kl),r=await n.objectStore(kl).get(xb(a));return await n.done,r}catch(t){if(t instanceof Kr)_a.warn(t.message);else{const n=tr.create("idb-get",{originalErrorMessage:t?.message});_a.warn(n.message)}}}async function v_(a,t){try{const r=(await bb()).transaction(kl,"readwrite");await r.objectStore(kl).put(t,xb(a)),await r.done}catch(n){if(n instanceof Kr)_a.warn(n.message);else{const r=tr.create("idb-set",{originalErrorMessage:n?.message});_a.warn(r.message)}}}function xb(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=1024,GS=30;class $S{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=__();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>GS){const o=KS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_a.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=__(),{heartbeatsToSend:n,unsentEntries:r}=YS(this._heartbeatsCache.heartbeats),o=Hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _a.warn(t),""}}}function __(){return new Date().toISOString().substring(0,10)}function YS(a,t=HS){const n=[];let r=a.slice();for(const o of a){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),b_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),b_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zT()?UT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function b_(a){return Hc(JSON.stringify({version:2,heartbeats:a})).length}function KS(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(a){Nl(new Ws("platform-logger",t=>new lS(t),"PRIVATE")),Nl(new Ws("heartbeat",t=>new $S(t),"PRIVATE")),er(ap,g_,a),er(ap,g_,"esm2020"),er("fire-js","")}XS("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebasestorage.googleapis.com",Eb="storageBucket",ZS=120*1e3,WS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je extends Kr{constructor(t,n,r=0){super(zd(t),`Firebase Storage: ${n} (${zd(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,je.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return zd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Me;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Me||(Me={}));function zd(a){return"storage/"+a}function Pp(){const a="An unknown error occurred, please check the error payload for server response.";return new je(Me.UNKNOWN,a)}function JS(a){return new je(Me.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function tA(a){return new je(Me.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eA(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new je(Me.UNAUTHENTICATED,a)}function nA(){return new je(Me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iA(a){return new je(Me.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function aA(){return new je(Me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rA(){return new je(Me.CANCELED,"User canceled the upload/download.")}function sA(a){return new je(Me.INVALID_URL,"Invalid URL '"+a+"'.")}function oA(a){return new je(Me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function lA(){return new je(Me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Eb+"' property when initializing the app?")}function uA(){return new je(Me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cA(){return new je(Me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hA(a){return new je(Me.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function op(a){return new je(Me.INVALID_ARGUMENT,a)}function Tb(){return new je(Me.APP_DELETED,"The Firebase app was deleted.")}function fA(a){return new je(Me.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function El(a,t){return new je(Me.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function vl(a){throw new je(Me.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=In.makeFromUrl(t,n)}catch{return new In(t,"")}if(r.path==="")return r;throw oA(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function m(K){K.path_=decodeURIComponent(K.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${y}/b/${o}/o${w}`,"i"),C={bucket:1,path:3},b=n===wb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",k=new RegExp(`^https?://${b}/${o}/${T}`,"i"),U=[{regex:d,indices:p,postModify:u},{regex:x,indices:C,postModify:m},{regex:k,indices:{bucket:1,path:2},postModify:m}];for(let K=0;K<U.length;K++){const Y=U[K],rt=Y.regex.exec(t);if(rt){const P=rt[Y.indices.bucket];let O=rt[Y.indices.path];O||(O=""),r=new In(P,O),Y.postModify(r);break}}if(r==null)throw sA(t);return r}}class dA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(a,t,n){let r=1,o=null,u=null,c=!1,d=0;function p(){return d===2}let m=!1;function y(...T){m||(m=!0,t.apply(null,T))}function _(T){o=setTimeout(()=>{o=null,a(x,p())},T)}function w(){u&&clearTimeout(u)}function x(T,...k){if(m){w();return}if(T){w(),y.call(null,T,...k);return}if(p()||c){w(),y.call(null,T,...k);return}r<64&&(r*=2);let U;d===1?(d=2,U=0):U=(r+Math.random())*1e3,_(U)}let C=!1;function b(T){C||(C=!0,w(),!m&&(o!==null?(T||(d=2),clearTimeout(o),_(0)):T||(d=1)))}return _(0),u=setTimeout(()=>{c=!0,b(!0)},n),b}function mA(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(a){return a!==void 0}function yA(a){return typeof a=="object"&&!Array.isArray(a)}function zp(a){return typeof a=="string"||a instanceof String}function x_(a){return Up()&&a instanceof Blob}function Up(){return typeof Blob<"u"}function lp(a,t,n,r){if(r<t)throw op(`Invalid value for '${a}'. Expected ${t} or greater.`);if(r>n)throw op(`Invalid value for '${a}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(a,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${a}`}function Sb(a){const t=encodeURIComponent;let n="?";for(const r in a)if(a.hasOwnProperty(r)){const o=t(r)+"="+t(a[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Hr;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Hr||(Hr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(a,t){const n=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,u=t.indexOf(a)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t,n,r,o,u,c,d,p,m,y,_,w=!0,x=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,b)=>{this.resolve_=C,this.reject_=b,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new bc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===Hr.NO_ERROR,p=u.getStatus();if(!d||vA(p,this.additionalRetryCodes_)&&this.retry){const y=u.getErrorCode()===Hr.ABORT;r(!1,new bc(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new bc(m,u))})},n=(r,o)=>{const u=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());gA(p)?u(p):u()}catch(p){c(p)}else if(d!==null){const p=Pp();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?Tb():rA();c(p)}else{const p=aA();c(p)}};this.canceled_?n(!1,new bc(!1,null,!0)):this.backoffId_=pA(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&mA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function bA(a,t){t!==null&&t.length>0&&(a.Authorization="Firebase "+t)}function xA(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wA(a,t){t&&(a["X-Firebase-GMPID"]=t)}function EA(a,t){t!==null&&(a["X-Firebase-AppCheck"]=t)}function TA(a,t,n,r,o,u,c=!0,d=!1){const p=Sb(a.urlParams),m=a.url+p,y=Object.assign({},a.headers);return wA(y,t),bA(y,n),xA(y,u),EA(y,r),new _A(m,a.method,y,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AA(...a){const t=SA();if(t!==void 0){const n=new t;for(let r=0;r<a.length;r++)n.append(a[r]);return n.getBlob()}else{if(Up())return new Blob(a);throw new je(Me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RA(a,t,n){return a.webkitSlice?a.webkitSlice(t,n):a.mozSlice?a.mozSlice(t,n):a.slice?a.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(a){if(typeof atob>"u")throw hA("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ud{constructor(t,n){this.data=t,this.contentType=n||null}}function DA(a,t){switch(a){case Ui.RAW:return new Ud(Ab(t));case Ui.BASE64:case Ui.BASE64URL:return new Ud(Rb(a,t));case Ui.DATA_URL:return new Ud(kA(t),IA(t))}throw Pp()}function Ab(a){const t=[];for(let n=0;n<a.length;n++){let r=a.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<a.length-1&&(a.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=r,c=a.charCodeAt(++n);r=65536|(u&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function NA(a){let t;try{t=decodeURIComponent(a)}catch{throw El(Ui.DATA_URL,"Malformed data URL.")}return Ab(t)}function Rb(a,t){switch(a){case Ui.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw El(a,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ui.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw El(a,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=CA(t)}catch(o){throw o.message.includes("polyfill")?o:El(a,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Cb{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw El(Ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=OA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function kA(a){const t=new Cb(a);return t.base64?Rb(Ui.BASE64,t.rest):NA(t.rest)}function IA(a){return new Cb(a).contentType}function OA(a,t){return a.length>=t.length?a.substring(a.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n){let r=0,o="";x_(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(x_(this.data_)){const r=this.data_,o=RA(r,t,n);return o===null?null:new Za(o)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Za(r,!0)}}static getBlob(...t){if(Up()){const n=t.map(r=>r instanceof Za?r.data_:r);return new Za(AA.apply(null,n))}else{const n=t.map(c=>zp(c)?DA(Ui.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)o[u++]=c[d]}),new Za(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(a){let t;try{t=JSON.parse(a)}catch{return null}return yA(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(a){if(a.length===0)return null;const t=a.lastIndexOf("/");return t===-1?"":a.slice(0,t)}function jA(a,t){const n=t.split("/").filter(r=>r.length>0).join("/");return a.length===0?n:a+"/"+n}function Db(a){const t=a.lastIndexOf("/",a.length-2);return t===-1?a:a.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(a,t){return t}class kn{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||VA}}let xc=null;function PA(a){return!zp(a)||a.length<2?a:Db(a)}function Nb(){if(xc)return xc;const a=[];a.push(new kn("bucket")),a.push(new kn("generation")),a.push(new kn("metageneration")),a.push(new kn("name","fullPath",!0));function t(u,c){return PA(c)}const n=new kn("name");n.xform=t,a.push(n);function r(u,c){return c!==void 0?Number(c):c}const o=new kn("size");return o.xform=r,a.push(o),a.push(new kn("timeCreated")),a.push(new kn("updated")),a.push(new kn("md5Hash",null,!0)),a.push(new kn("cacheControl",null,!0)),a.push(new kn("contentDisposition",null,!0)),a.push(new kn("contentEncoding",null,!0)),a.push(new kn("contentLanguage",null,!0)),a.push(new kn("contentType",null,!0)),a.push(new kn("metadata","customMetadata",!0)),xc=a,xc}function zA(a,t){function n(){const r=a.bucket,o=a.fullPath,u=new In(r,o);return t._makeStorageReference(u)}Object.defineProperty(a,"ref",{get:n})}function UA(a,t,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];r[c.local]=c.xform(r,t[c.server])}return zA(r,a),r}function kb(a,t,n){const r=Lp(t);return r===null?null:UA(a,r,n)}function LA(a,t,n,r){const o=Lp(t);if(o===null||!zp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(m=>{const y=a.bucket,_=a.fullPath,w="/b/"+c(y)+"/o/"+c(_),x=lh(w,n,r),C=Sb({alt:"media",token:m});return x+C})[0]}function BA(a,t){const n={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(n[u.server]=a[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="prefixes",E_="items";function qA(a,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[w_])for(const o of n[w_]){const u=o.replace(/\/$/,""),c=a._makeStorageReference(new In(t,u));r.prefixes.push(c)}if(n[E_])for(const o of n[E_]){const u=a._makeStorageReference(new In(t,o.name));r.items.push(u)}return r}function FA(a,t,n){const r=Lp(n);return r===null?null:qA(a,t,r)}class Bp{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(a){if(!a)throw Pp()}function HA(a,t){function n(r,o){const u=kb(a,o,t);return qp(u!==null),u}return n}function GA(a,t){function n(r,o){const u=FA(a,t,o);return qp(u!==null),u}return n}function $A(a,t){function n(r,o){const u=kb(a,o,t);return qp(u!==null),LA(u,o,a.host,a._protocol)}return n}function Fp(a){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=nA():o=eA():n.getStatus()===402?o=tA(a.bucket):n.getStatus()===403?o=iA(a.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function YA(a){const t=Fp(a);function n(r,o){let u=t(r,o);return r.getStatus()===404&&(u=JS(a.path)),u.serverResponse=o.serverResponse,u}return n}function QA(a,t,n,r,o){const u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),o&&(u.maxResults=o);const c=t.bucketOnlyServerUrl(),d=lh(c,a.host,a._protocol),p="GET",m=a.maxOperationRetryTime,y=new Bp(d,p,GA(a,t.bucket),m);return y.urlParams=u,y.errorHandler=Fp(t),y}function KA(a,t,n){const r=t.fullServerUrl(),o=lh(r,a.host,a._protocol),u="GET",c=a.maxOperationRetryTime,d=new Bp(o,u,$A(a,n),c);return d.errorHandler=YA(t),d}function XA(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}function ZA(a,t,n){const r=Object.assign({},n);return r.fullPath=a.path,r.size=t.size(),r.contentType||(r.contentType=XA(null,t)),r}function WA(a,t,n,r,o){const u=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let U="";for(let K=0;K<2;K++)U=U+Math.random().toString().slice(2);return U}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const m=ZA(t,r,o),y=BA(m,n),_="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+p+"--",x=Za.getBlob(_,r,w);if(x===null)throw uA();const C={name:m.fullPath},b=lh(u,a.host,a._protocol),T="POST",k=a.maxUploadRetryTime,M=new Bp(b,T,HA(a,n),k);return M.urlParams=C,M.headers=c,M.body=x.uploadData(),M.errorHandler=Fp(t),M}class JA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o,u){if(this.sent_)throw vl("cannot .send() more than once");if(ql(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class tR extends JA{initXhr(){this.xhr_.responseType="text"}}function Hp(){return new tR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,n){this._service=t,n instanceof In?this._location=n:this._location=In.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Gr(t,n)}get root(){const t=new In(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Db(this._location.path)}get storage(){return this._service}get parent(){const t=MA(this._location.path);if(t===null)return null;const n=new In(this._location.bucket,t);return new Gr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw fA(t)}}function eR(a,t,n){a._throwIfRoot("uploadBytes");const r=WA(a.storage,a._location,Nb(),new Za(t,!0),n);return a.storage.makeRequestWithTokens(r,Hp).then(o=>({metadata:o,ref:a}))}function nR(a){const t={prefixes:[],items:[]};return Ib(a,t).then(()=>t)}async function Ib(a,t,n){const o=await iR(a,{pageToken:n});t.prefixes.push(...o.prefixes),t.items.push(...o.items),o.nextPageToken!=null&&await Ib(a,t,o.nextPageToken)}function iR(a,t){t!=null&&typeof t.maxResults=="number"&&lp("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=QA(a.storage,a._location,"/",n.pageToken,n.maxResults);return a.storage.makeRequestWithTokens(r,Hp)}function aR(a){a._throwIfRoot("getDownloadURL");const t=KA(a.storage,a._location,Nb());return a.storage.makeRequestWithTokens(t,Hp).then(n=>{if(n===null)throw cA();return n})}function rR(a,t){const n=jA(a._location.path,t),r=new In(a._location.bucket,n);return new Gr(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(a){return/^[A-Za-z]+:\/\//.test(a)}function oR(a,t){return new Gr(a,t)}function Ob(a,t){if(a instanceof Gp){const n=a;if(n._bucket==null)throw lA();const r=new Gr(n,n._bucket);return t!=null?Ob(r,t):r}else return t!==void 0?rR(a,t):a}function lR(a,t){if(t&&sR(t)){if(a instanceof Gp)return oR(a,t);throw op("To use ref(service, url), the first argument must be a Storage instance.")}else return Ob(a,t)}function T_(a,t){const n=t?.[Eb];return n==null?null:In.makeFromBucketSpec(n,a)}function uR(a,t,n,r={}){a.host=`${t}:${n}`;const o=ql(t);o&&(lb(`https://${a.host}/b`),cb("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(a._overrideAuthToken=typeof u=="string"?u:ub(u,a.app.options.projectId))}class Gp{constructor(t,n,r,o,u,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=wb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZS,this._maxUploadRetryTime=WS,this._requests=new Set,o!=null?this._bucket=In.makeFromBucketSpec(o,this._host):this._bucket=T_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,t):this._bucket=T_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){lp("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){lp("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gr(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new dA(Tb());{const c=TA(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const S_="@firebase/storage",A_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="storage";function cR(a,t,n){return a=gi(a),eR(a,t,n)}function R_(a){return a=gi(a),nR(a)}function hR(a){return a=gi(a),aR(a)}function Ld(a,t){return a=gi(a),lR(a,t)}function fR(a=_b(),t){a=gi(a);const r=mb(a,Mb).getImmediate({identifier:t}),o=sb("storage");return o&&dR(r,...o),r}function dR(a,t,n,r={}){uR(a,t,n,r)}function pR(a,{instanceIdentifier:t}){const n=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new Gp(n,r,o,t,yb)}function mR(){Nl(new Ws(Mb,pR,"PUBLIC").setMultipleInstances(!0)),er(S_,A_,""),er(S_,A_,"esm2020")}mR();var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nr,jb;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,O){function I(){}I.prototype=O.prototype,P.D=O.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(L,G,N){for(var D=Array(arguments.length-2),R=2;R<arguments.length;R++)D[R-2]=arguments[R];return O.prototype[G].apply(L,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,O,I){I||(I=0);var L=Array(16);if(typeof O=="string")for(var G=0;16>G;++G)L[G]=O.charCodeAt(I++)|O.charCodeAt(I++)<<8|O.charCodeAt(I++)<<16|O.charCodeAt(I++)<<24;else for(G=0;16>G;++G)L[G]=O[I++]|O[I++]<<8|O[I++]<<16|O[I++]<<24;O=P.g[0],I=P.g[1],G=P.g[2];var N=P.g[3],D=O+(N^I&(G^N))+L[0]+3614090360&4294967295;O=I+(D<<7&4294967295|D>>>25),D=N+(G^O&(I^G))+L[1]+3905402710&4294967295,N=O+(D<<12&4294967295|D>>>20),D=G+(I^N&(O^I))+L[2]+606105819&4294967295,G=N+(D<<17&4294967295|D>>>15),D=I+(O^G&(N^O))+L[3]+3250441966&4294967295,I=G+(D<<22&4294967295|D>>>10),D=O+(N^I&(G^N))+L[4]+4118548399&4294967295,O=I+(D<<7&4294967295|D>>>25),D=N+(G^O&(I^G))+L[5]+1200080426&4294967295,N=O+(D<<12&4294967295|D>>>20),D=G+(I^N&(O^I))+L[6]+2821735955&4294967295,G=N+(D<<17&4294967295|D>>>15),D=I+(O^G&(N^O))+L[7]+4249261313&4294967295,I=G+(D<<22&4294967295|D>>>10),D=O+(N^I&(G^N))+L[8]+1770035416&4294967295,O=I+(D<<7&4294967295|D>>>25),D=N+(G^O&(I^G))+L[9]+2336552879&4294967295,N=O+(D<<12&4294967295|D>>>20),D=G+(I^N&(O^I))+L[10]+4294925233&4294967295,G=N+(D<<17&4294967295|D>>>15),D=I+(O^G&(N^O))+L[11]+2304563134&4294967295,I=G+(D<<22&4294967295|D>>>10),D=O+(N^I&(G^N))+L[12]+1804603682&4294967295,O=I+(D<<7&4294967295|D>>>25),D=N+(G^O&(I^G))+L[13]+4254626195&4294967295,N=O+(D<<12&4294967295|D>>>20),D=G+(I^N&(O^I))+L[14]+2792965006&4294967295,G=N+(D<<17&4294967295|D>>>15),D=I+(O^G&(N^O))+L[15]+1236535329&4294967295,I=G+(D<<22&4294967295|D>>>10),D=O+(G^N&(I^G))+L[1]+4129170786&4294967295,O=I+(D<<5&4294967295|D>>>27),D=N+(I^G&(O^I))+L[6]+3225465664&4294967295,N=O+(D<<9&4294967295|D>>>23),D=G+(O^I&(N^O))+L[11]+643717713&4294967295,G=N+(D<<14&4294967295|D>>>18),D=I+(N^O&(G^N))+L[0]+3921069994&4294967295,I=G+(D<<20&4294967295|D>>>12),D=O+(G^N&(I^G))+L[5]+3593408605&4294967295,O=I+(D<<5&4294967295|D>>>27),D=N+(I^G&(O^I))+L[10]+38016083&4294967295,N=O+(D<<9&4294967295|D>>>23),D=G+(O^I&(N^O))+L[15]+3634488961&4294967295,G=N+(D<<14&4294967295|D>>>18),D=I+(N^O&(G^N))+L[4]+3889429448&4294967295,I=G+(D<<20&4294967295|D>>>12),D=O+(G^N&(I^G))+L[9]+568446438&4294967295,O=I+(D<<5&4294967295|D>>>27),D=N+(I^G&(O^I))+L[14]+3275163606&4294967295,N=O+(D<<9&4294967295|D>>>23),D=G+(O^I&(N^O))+L[3]+4107603335&4294967295,G=N+(D<<14&4294967295|D>>>18),D=I+(N^O&(G^N))+L[8]+1163531501&4294967295,I=G+(D<<20&4294967295|D>>>12),D=O+(G^N&(I^G))+L[13]+2850285829&4294967295,O=I+(D<<5&4294967295|D>>>27),D=N+(I^G&(O^I))+L[2]+4243563512&4294967295,N=O+(D<<9&4294967295|D>>>23),D=G+(O^I&(N^O))+L[7]+1735328473&4294967295,G=N+(D<<14&4294967295|D>>>18),D=I+(N^O&(G^N))+L[12]+2368359562&4294967295,I=G+(D<<20&4294967295|D>>>12),D=O+(I^G^N)+L[5]+4294588738&4294967295,O=I+(D<<4&4294967295|D>>>28),D=N+(O^I^G)+L[8]+2272392833&4294967295,N=O+(D<<11&4294967295|D>>>21),D=G+(N^O^I)+L[11]+1839030562&4294967295,G=N+(D<<16&4294967295|D>>>16),D=I+(G^N^O)+L[14]+4259657740&4294967295,I=G+(D<<23&4294967295|D>>>9),D=O+(I^G^N)+L[1]+2763975236&4294967295,O=I+(D<<4&4294967295|D>>>28),D=N+(O^I^G)+L[4]+1272893353&4294967295,N=O+(D<<11&4294967295|D>>>21),D=G+(N^O^I)+L[7]+4139469664&4294967295,G=N+(D<<16&4294967295|D>>>16),D=I+(G^N^O)+L[10]+3200236656&4294967295,I=G+(D<<23&4294967295|D>>>9),D=O+(I^G^N)+L[13]+681279174&4294967295,O=I+(D<<4&4294967295|D>>>28),D=N+(O^I^G)+L[0]+3936430074&4294967295,N=O+(D<<11&4294967295|D>>>21),D=G+(N^O^I)+L[3]+3572445317&4294967295,G=N+(D<<16&4294967295|D>>>16),D=I+(G^N^O)+L[6]+76029189&4294967295,I=G+(D<<23&4294967295|D>>>9),D=O+(I^G^N)+L[9]+3654602809&4294967295,O=I+(D<<4&4294967295|D>>>28),D=N+(O^I^G)+L[12]+3873151461&4294967295,N=O+(D<<11&4294967295|D>>>21),D=G+(N^O^I)+L[15]+530742520&4294967295,G=N+(D<<16&4294967295|D>>>16),D=I+(G^N^O)+L[2]+3299628645&4294967295,I=G+(D<<23&4294967295|D>>>9),D=O+(G^(I|~N))+L[0]+4096336452&4294967295,O=I+(D<<6&4294967295|D>>>26),D=N+(I^(O|~G))+L[7]+1126891415&4294967295,N=O+(D<<10&4294967295|D>>>22),D=G+(O^(N|~I))+L[14]+2878612391&4294967295,G=N+(D<<15&4294967295|D>>>17),D=I+(N^(G|~O))+L[5]+4237533241&4294967295,I=G+(D<<21&4294967295|D>>>11),D=O+(G^(I|~N))+L[12]+1700485571&4294967295,O=I+(D<<6&4294967295|D>>>26),D=N+(I^(O|~G))+L[3]+2399980690&4294967295,N=O+(D<<10&4294967295|D>>>22),D=G+(O^(N|~I))+L[10]+4293915773&4294967295,G=N+(D<<15&4294967295|D>>>17),D=I+(N^(G|~O))+L[1]+2240044497&4294967295,I=G+(D<<21&4294967295|D>>>11),D=O+(G^(I|~N))+L[8]+1873313359&4294967295,O=I+(D<<6&4294967295|D>>>26),D=N+(I^(O|~G))+L[15]+4264355552&4294967295,N=O+(D<<10&4294967295|D>>>22),D=G+(O^(N|~I))+L[6]+2734768916&4294967295,G=N+(D<<15&4294967295|D>>>17),D=I+(N^(G|~O))+L[13]+1309151649&4294967295,I=G+(D<<21&4294967295|D>>>11),D=O+(G^(I|~N))+L[4]+4149444226&4294967295,O=I+(D<<6&4294967295|D>>>26),D=N+(I^(O|~G))+L[11]+3174756917&4294967295,N=O+(D<<10&4294967295|D>>>22),D=G+(O^(N|~I))+L[2]+718787259&4294967295,G=N+(D<<15&4294967295|D>>>17),D=I+(N^(G|~O))+L[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(G+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+G&4294967295,P.g[3]=P.g[3]+N&4294967295}r.prototype.u=function(P,O){O===void 0&&(O=P.length);for(var I=O-this.blockSize,L=this.B,G=this.h,N=0;N<O;){if(G==0)for(;N<=I;)o(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<O;)if(L[G++]=P.charCodeAt(N++),G==this.blockSize){o(this,L),G=0;break}}else for(;N<O;)if(L[G++]=P[N++],G==this.blockSize){o(this,L),G=0;break}}this.h=G,this.o+=O},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;var I=8*this.o;for(O=P.length-8;O<P.length;++O)P[O]=I&255,I/=256;for(this.u(P),P=Array(16),O=I=0;4>O;++O)for(var L=0;32>L;L+=8)P[I++]=this.g[O]>>>L&255;return P};function u(P,O){var I=d;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=O(P)}function c(P,O){this.h=O;for(var I=[],L=!0,G=P.length-1;0<=G;G--){var N=P[G]|0;L&&N==O||(I[G]=N,L=!1)}this.g=I}var d={};function p(P){return-128<=P&&128>P?u(P,function(O){return new c([O|0],0>O?-1:0)}):new c([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return T(m(-P));for(var O=[],I=1,L=0;P>=I;L++)O[L]=P/I|0,I*=4294967296;return new c(O,0)}function y(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return T(y(P.substring(1),O));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(O,8)),L=_,G=0;G<P.length;G+=8){var N=Math.min(8,P.length-G),D=parseInt(P.substring(G,G+N),O);8>N?(N=m(Math.pow(O,N)),L=L.j(N).add(m(D))):(L=L.j(I),L=L.add(m(D)))}return L}var _=p(0),w=p(1),x=p(16777216);a=c.prototype,a.m=function(){if(b(this))return-T(this).m();for(var P=0,O=1,I=0;I<this.g.length;I++){var L=this.i(I);P+=(0<=L?L:4294967296+L)*O,O*=4294967296}return P},a.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(b(this))return"-"+T(this).toString(P);for(var O=m(Math.pow(P,6)),I=this,L="";;){var G=K(I,O).g;I=k(I,G.j(O));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=G,C(I))return N+L;for(;6>N.length;)N="0"+N;L=N+L}},a.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function b(P){return P.h==-1}a.l=function(P){return P=k(this,P),b(P)?-1:C(P)?0:1};function T(P){for(var O=P.g.length,I=[],L=0;L<O;L++)I[L]=~P.g[L];return new c(I,~P.h).add(w)}a.abs=function(){return b(this)?T(this):this},a.add=function(P){for(var O=Math.max(this.g.length,P.g.length),I=[],L=0,G=0;G<=O;G++){var N=L+(this.i(G)&65535)+(P.i(G)&65535),D=(N>>>16)+(this.i(G)>>>16)+(P.i(G)>>>16);L=D>>>16,N&=65535,D&=65535,I[G]=D<<16|N}return new c(I,I[I.length-1]&-2147483648?-1:0)};function k(P,O){return P.add(T(O))}a.j=function(P){if(C(this)||C(P))return _;if(b(this))return b(P)?T(this).j(T(P)):T(T(this).j(P));if(b(P))return T(this.j(T(P)));if(0>this.l(x)&&0>P.l(x))return m(this.m()*P.m());for(var O=this.g.length+P.g.length,I=[],L=0;L<2*O;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var G=0;G<P.g.length;G++){var N=this.i(L)>>>16,D=this.i(L)&65535,R=P.i(G)>>>16,J=P.i(G)&65535;I[2*L+2*G]+=D*J,M(I,2*L+2*G),I[2*L+2*G+1]+=N*J,M(I,2*L+2*G+1),I[2*L+2*G+1]+=D*R,M(I,2*L+2*G+1),I[2*L+2*G+2]+=N*R,M(I,2*L+2*G+2)}for(L=0;L<O;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=O;L<2*O;L++)I[L]=0;return new c(I,0)};function M(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function U(P,O){this.g=P,this.h=O}function K(P,O){if(C(O))throw Error("division by zero");if(C(P))return new U(_,_);if(b(P))return O=K(T(P),O),new U(T(O.g),T(O.h));if(b(O))return O=K(P,T(O)),new U(T(O.g),O.h);if(30<P.g.length){if(b(P)||b(O))throw Error("slowDivide_ only works with positive integers.");for(var I=w,L=O;0>=L.l(P);)I=Y(I),L=Y(L);var G=rt(I,1),N=rt(L,1);for(L=rt(L,2),I=rt(I,2);!C(L);){var D=N.add(L);0>=D.l(P)&&(G=G.add(I),N=D),L=rt(L,1),I=rt(I,1)}return O=k(P,G.j(O)),new U(G,O)}for(G=_;0<=P.l(O);){for(I=Math.max(1,Math.floor(P.m()/O.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),N=m(I),D=N.j(O);b(D)||0<D.l(P);)I-=L,N=m(I),D=N.j(O);C(N)&&(N=w),G=G.add(N),P=k(P,D)}return new U(G,P)}a.A=function(P){return K(this,P).h},a.and=function(P){for(var O=Math.max(this.g.length,P.g.length),I=[],L=0;L<O;L++)I[L]=this.i(L)&P.i(L);return new c(I,this.h&P.h)},a.or=function(P){for(var O=Math.max(this.g.length,P.g.length),I=[],L=0;L<O;L++)I[L]=this.i(L)|P.i(L);return new c(I,this.h|P.h)},a.xor=function(P){for(var O=Math.max(this.g.length,P.g.length),I=[],L=0;L<O;L++)I[L]=this.i(L)^P.i(L);return new c(I,this.h^P.h)};function Y(P){for(var O=P.g.length+1,I=[],L=0;L<O;L++)I[L]=P.i(L)<<1|P.i(L-1)>>>31;return new c(I,P.h)}function rt(P,O){var I=O>>5;O%=32;for(var L=P.g.length-I,G=[],N=0;N<L;N++)G[N]=0<O?P.i(N+I)>>>O|P.i(N+I+1)<<32-O:P.i(N+I);return new c(G,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,nr=c}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vb,_l,Pb,Ic,up,zb,Ub,Lb;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(h,v){if(v)t:{var E=r;h=h.split(".");for(var z=0;z<h.length-1;z++){var at=h[z];if(!(at in E))break t;E=E[at]}h=h[h.length-1],z=E[h],v=v(z),v!=z&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}function u(h,v){h instanceof String&&(h+="");var E=0,z=!1,at={next:function(){if(!z&&E<h.length){var mt=E++;return{value:v(mt,h[mt]),done:!1}}return z=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}o("Array.prototype.values",function(h){return h||function(){return u(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function _(h,v,E){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,z),h.apply(v,at)}}return function(){return h.apply(v,arguments)}}function w(h,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function x(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var z=E.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function C(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(z,at,mt){for(var Nt=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)Nt[ie-2]=arguments[ie];return v.prototype[at].apply(z,Nt)}}function b(h){const v=h.length;if(0<v){const E=Array(v);for(let z=0;z<v;z++)E[z]=h[z];return E}return[]}function T(h,v){for(let E=1;E<arguments.length;E++){const z=arguments[E];if(p(z)){const at=h.length||0,mt=z.length||0;h.length=at+mt;for(let Nt=0;Nt<mt;Nt++)h[at+Nt]=z[Nt]}else h.push(z)}}class k{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(h){return/^[\s\xa0]*$/.test(h)}function U(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function K(h){return K[" "](h),h}K[" "]=function(){};var Y=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function rt(h,v,E){for(const z in h)v.call(E,h[z],z,h)}function P(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function O(h){const v={};for(const E in h)v[E]=h[E];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,v){let E,z;for(let at=1;at<arguments.length;at++){z=arguments[at];for(E in z)h[E]=z[E];for(let mt=0;mt<I.length;mt++)E=I[mt],Object.prototype.hasOwnProperty.call(z,E)&&(h[E]=z[E])}}function G(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function N(h){d.setTimeout(()=>{throw h},0)}function D(){var h=ft;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class R{constructor(){this.h=this.g=null}add(v,E){const z=J.get();z.set(v,E),this.h?this.h.next=z:this.g=z,this.h=z}}var J=new k(()=>new et,h=>h.reset());class et{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,bt=!1,ft=new R,F=()=>{const h=d.Promise.resolve(void 0);tt=()=>{h.then($)}};var $=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(E){N(E)}var v=J;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}bt=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ut=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function yt(h,v){if(Z.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Y){t:{try{K(v.nodeName);var at=!0;break t}catch{}at=!1}at||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Dt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&yt.aa.h.call(this)}}C(yt,Z);var Dt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),kt=0;function jt(h,v,E,z,at){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!z,this.ha=at,this.key=++kt,this.da=this.fa=!1}function qt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Gt(h){this.src=h,this.g={},this.h=0}Gt.prototype.add=function(h,v,E,z,at){var mt=h.toString();h=this.g[mt],h||(h=this.g[mt]=[],this.h++);var Nt=we(h,v,z,at);return-1<Nt?(v=h[Nt],E||(v.fa=!1)):(v=new jt(v,this.src,mt,!!z,at),v.fa=E,h.push(v)),v};function le(h,v){var E=v.type;if(E in h.g){var z=h.g[E],at=Array.prototype.indexOf.call(z,v,void 0),mt;(mt=0<=at)&&Array.prototype.splice.call(z,at,1),mt&&(qt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function we(h,v,E,z){for(var at=0;at<h.length;++at){var mt=h[at];if(!mt.da&&mt.listener==v&&mt.capture==!!E&&mt.ha==z)return at}return-1}var A="closure_lm_"+(1e6*Math.random()|0),vt={};function pt(h,v,E,z,at){if(Array.isArray(v)){for(var mt=0;mt<v.length;mt++)pt(h,v[mt],E,z,at);return null}return E=gt(E),h&&h[$t]?h.K(v,E,m(z)?!!z.capture:!1,at):H(h,v,E,!1,z,at)}function H(h,v,E,z,at,mt){if(!v)throw Error("Invalid event type");var Nt=m(at)?!!at.capture:!!at,ie=Ct(h);if(ie||(h[A]=ie=new Gt(h)),E=ie.add(v,E,z,Nt,mt),E.proxy)return E;if(z=q(),E.proxy=z,z.src=h,z.listener=E,h.addEventListener)ut||(at=Nt),at===void 0&&(at=!1),h.addEventListener(v.toString(),z,at);else if(h.attachEvent)h.attachEvent(At(v.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return E}function q(){function h(E){return v.call(h.src,h.listener,E)}const v=lt;return h}function nt(h,v,E,z,at){if(Array.isArray(v))for(var mt=0;mt<v.length;mt++)nt(h,v[mt],E,z,at);else z=m(z)?!!z.capture:!!z,E=gt(E),h&&h[$t]?(h=h.i,v=String(v).toString(),v in h.g&&(mt=h.g[v],E=we(mt,E,z,at),-1<E&&(qt(mt[E]),Array.prototype.splice.call(mt,E,1),mt.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ct(h))&&(v=h.g[v.toString()],h=-1,v&&(h=we(v,E,z,at)),(E=-1<h?v[h]:null)&&wt(E))}function wt(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[$t])le(v.i,h);else{var E=h.type,z=h.proxy;v.removeEventListener?v.removeEventListener(E,z,h.capture):v.detachEvent?v.detachEvent(At(E),z):v.addListener&&v.removeListener&&v.removeListener(z),(E=Ct(v))?(le(E,h),E.h==0&&(E.src=null,v[A]=null)):qt(h)}}}function At(h){return h in vt?vt[h]:vt[h]="on"+h}function lt(h,v){if(h.da)h=!0;else{v=new yt(v,this);var E=h.listener,z=h.ha||h.src;h.fa&&wt(h),h=E.call(z,v)}return h}function Ct(h){return h=h[A],h instanceof Gt?h:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(h){return typeof h=="function"?h:(h[dt]||(h[dt]=function(v){return h.handleEvent(v)}),h[dt])}function Rt(){B.call(this),this.i=new Gt(this),this.M=this,this.F=null}C(Rt,B),Rt.prototype[$t]=!0,Rt.prototype.removeEventListener=function(h,v,E,z){nt(this,h,v,E,z)};function It(h,v){var E,z=h.F;if(z)for(E=[];z;z=z.F)E.push(z);if(h=h.M,z=v.type||v,typeof v=="string")v=new Z(v,h);else if(v instanceof Z)v.target=v.target||h;else{var at=v;v=new Z(z,h),L(v,at)}if(at=!0,E)for(var mt=E.length-1;0<=mt;mt--){var Nt=v.g=E[mt];at=Pt(Nt,z,!0,v)&&at}if(Nt=v.g=h,at=Pt(Nt,z,!0,v)&&at,at=Pt(Nt,z,!1,v)&&at,E)for(mt=0;mt<E.length;mt++)Nt=v.g=E[mt],at=Pt(Nt,z,!1,v)&&at}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],z=0;z<E.length;z++)qt(E[z]);delete h.g[v],h.h--}}this.F=null},Rt.prototype.K=function(h,v,E,z){return this.i.add(String(h),v,!1,E,z)},Rt.prototype.L=function(h,v,E,z){return this.i.add(String(h),v,!0,E,z)};function Pt(h,v,E,z){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var at=!0,mt=0;mt<v.length;++mt){var Nt=v[mt];if(Nt&&!Nt.da&&Nt.capture==E){var ie=Nt.listener,Xe=Nt.ha||Nt.src;Nt.fa&&le(h.i,Nt),at=ie.call(Xe,z)!==!1&&at}}return at&&!z.defaultPrevented}function ne(h,v,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function cn(h){h.g=ne(()=>{h.g=null,h.i&&(h.i=!1,cn(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class en extends B{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(h){B.call(this),this.h=h,this.g={}}C(hn,B);var ue=[];function fn(h){rt(h.g,function(v,E){this.g.hasOwnProperty(E)&&wt(v)},h),h.g={}}hn.prototype.N=function(){hn.aa.N.call(this),fn(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=d.JSON.stringify,Le=d.JSON.parse,On=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function oi(){}oi.prototype.h=null;function $i(h){return h.h||(h.h=h.i())}function hr(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function An(){Z.call(this,"d")}C(An,Z);function bi(){Z.call(this,"c")}C(bi,Z);var xi={},po=null;function wa(){return po=po||new Rt}xi.La="serverreachability";function ts(h){Z.call(this,xi.La,h)}C(ts,Z);function Ea(h){const v=wa();It(v,new ts(v))}xi.STAT_EVENT="statevent";function Kl(h,v){Z.call(this,xi.STAT_EVENT,h),this.stat=v}C(Kl,Z);function Ae(h){const v=wa();It(v,new Kl(v,h))}xi.Ma="timingevent";function Ke(h,v){Z.call(this,xi.Ma,h),this.size=v}C(Ke,Z);function Be(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function mo(h,v,E,z,at,mt){h.info(function(){if(h.g)if(mt)for(var Nt="",ie=mt.split("&"),Xe=0;Xe<ie.length;Xe++){var ae=ie[Xe].split("=");if(1<ae.length){var an=ae[0];ae=ae[1];var Ze=an.split("_");Nt=2<=Ze.length&&Ze[1]=="type"?Nt+(an+"="+ae+"&"):Nt+(an+"=redacted&")}}else Nt=null;else Nt=mt;return"XMLHTTP REQ ("+z+") [attempt "+at+"]: "+v+`
`+E+`
`+Nt})}function Eh(h,v,E,z,at,mt,Nt){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+at+"]: "+v+`
`+E+`
`+mt+" "+Nt})}function Ta(h,v,E,z){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+fr(h,E)+(z?" "+z:"")})}function Xl(h,v){h.info(function(){return"TIMEOUT: "+v})}Yn.prototype.info=function(){};function fr(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var z=E[h];if(!(2>z.length)){var at=z[1];if(Array.isArray(at)&&!(1>at.length)){var mt=at[0];if(mt!="noop"&&mt!="stop"&&mt!="close")for(var Nt=1;Nt<at.length;Nt++)at[Nt]=""}}}}return Qe(E)}catch{return v}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wi;function Ei(){}C(Ei,oi),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},wi=new Ei;function Rn(h,v,E,z){this.j=h,this.i=v,this.l=E,this.R=z||1,this.U=new hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var go={},es={};function li(h,v,E){h.L=1,h.v=yr(zn(v)),h.m=E,h.P=!0,Qi(h,null)}function Qi(h,v){h.F=Date.now(),dr(h),h.A=zn(h.v);var E=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),wo(E.i,"t",z),h.C=0,E=h.j.J,h.h=new Ve,h.g=fu(h.j,E?v:null,!h.m),0<h.O&&(h.M=new en(w(h.Y,h,h.g),h.O)),v=h.U,E=h.g,z=h.ca;var at="readystatechange";Array.isArray(at)||(at&&(ue[0]=at.toString()),at=ue);for(var mt=0;mt<at.length;mt++){var Nt=pt(E,at[mt],z||v.handleEvent,!1,v.h||v);if(!Nt)break;v.g[Nt.key]=Nt}v=h.H?O(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ea(),mo(h.i,h.u,h.A,h.l,h.R,h.m)}Rn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Zn(h)==3?v.j():this.Y(h)},Rn.prototype.Y=function(h){try{if(h==this.g)t:{const Ze=Zn(this.g);var v=this.g.Ba();const na=this.g.Z();if(!(3>Ze)&&(Ze!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Ze!=4||v==7||(v==8||0>=na?Ea(3):Ea(2)),Aa(this);var E=this.g.Z();this.X=E;e:if(Zl(this)){var z=au(this.g);h="";var at=z.length,mt=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Ti(this);var Nt="";break e}this.h.i=new d.TextDecoder}for(v=0;v<at;v++)this.h.h=!0,h+=this.h.i.decode(z[v],{stream:!(mt&&v==at-1)});z.length=0,this.h.g+=h,this.C=0,Nt=this.h.g}else Nt=this.g.oa();if(this.o=E==200,Eh(this.i,this.u,this.A,this.l,this.R,Ze,E),this.o){if(this.T&&!this.K){e:{if(this.g){var ie,Xe=this.g;if((ie=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ie)){var ae=ie;break e}}ae=null}if(E=ae)Ta(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,E);else{this.o=!1,this.s=3,Ae(12),dn(this),Ti(this);break t}}if(this.P){E=!0;let pn;for(;!this.J&&this.C<Nt.length;)if(pn=Wl(this,Nt),pn==es){Ze==4&&(this.s=4,Ae(14),E=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==go){this.s=4,Ae(15),Ta(this.i,this.l,Nt,"[Invalid Chunk]"),E=!1;break}else Ta(this.i,this.l,pn,null),pr(this,pn);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||Nt.length!=0||this.h.h||(this.s=1,Ae(16),E=!1),this.o=this.o&&E,!E)Ta(this.i,this.l,Nt,"[Invalid Chunked Response]"),dn(this),Ti(this);else if(0<Nt.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+Nt.length),Sr(an),an.M=!0,Ae(11))}}else Ta(this.i,this.l,Nt,null),pr(this,Nt);Ze==4&&dn(this),this.o&&!this.J&&(Ze==4?uu(this.j,this):(this.o=!1,dr(this)))}else Ch(this.g),E==400&&0<Nt.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),dn(this),Ti(this)}}}catch{}finally{}};function Zl(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Wl(h,v){var E=h.C,z=v.indexOf(`
`,E);return z==-1?es:(E=Number(v.substring(E,z)),isNaN(E)?go:(z+=1,z+E>v.length?es:(v=v.slice(z,z+E),h.C=z+E,v)))}Rn.prototype.cancel=function(){this.J=!0,dn(this)};function dr(h){h.S=Date.now()+h.I,Jl(h,h.I)}function Jl(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Be(w(h.ba,h),v)}function Aa(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Rn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Xl(this.i,this.A),this.L!=2&&(Ea(),Ae(17)),dn(this),this.s=2,Ti(this)):Jl(this,this.S-h)};function Ti(h){h.j.G==0||h.J||uu(h.j,h)}function dn(h){Aa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,fn(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function pr(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||yo(E.h,h))){if(!h.K&&yo(E.h,h)&&E.G==3){try{var z=E.Da.g.parse(v)}catch{z=null}if(Array.isArray(z)&&z.length==3){var at=z;if(at[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)ds(E),hs(E);else break t;Ro(E),Ae(18)}}else E.za=at[1],0<E.za-E.T&&37500>at[2]&&E.F&&E.v==0&&!E.C&&(E.C=Be(w(E.Za,E),6e3));if(1>=is(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ea(E,11)}else if((h.K||E.g==h)&&ds(E),!M(v))for(at=E.Da.g.parse(v),v=0;v<at.length;v++){let ae=at[v];if(E.T=ae[0],ae=ae[1],E.G==2)if(ae[0]=="c"){E.K=ae[1],E.ia=ae[2];const an=ae[3];an!=null&&(E.la=an,E.j.info("VER="+E.la));const Ze=ae[4];Ze!=null&&(E.Aa=Ze,E.j.info("SVER="+E.Aa));const na=ae[5];na!=null&&typeof na=="number"&&0<na&&(z=1.5*na,E.L=z,E.j.info("backChannelRequestTimeoutMs_="+z)),z=E;const pn=h.g;if(pn){const ki=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var mt=z.h;mt.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(mt.j=mt.l,mt.g=new Set,mt.h&&(as(mt,mt.h),mt.h=null))}if(z.D){const Do=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(z.ya=Do,ge(z.I,z.D,Do))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),z=E;var Nt=h;if(z.qa=hu(z,z.J?z.ia:null,z.W),Nt.K){Cn(z.h,Nt);var ie=Nt,Xe=z.L;Xe&&(ie.I=Xe),ie.B&&(Aa(ie),dr(ie)),z.g=Nt}else ou(z);0<E.i.length&&fs(E)}else ae[0]!="stop"&&ae[0]!="close"||ea(E,7);else E.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?ea(E,7):So(E):ae[0]!="noop"&&E.l&&E.l.ta(ae),E.v=0)}}Ea(4)}catch{}}var tu=class{constructor(h,v){this.g=h,this.map=v}};function Ki(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ns(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function is(h){return h.h?1:h.g?h.g.size:0}function yo(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function as(h,v){h.g?h.g.add(v):h.h=v}function Cn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ki.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return b(h.i)}function Th(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],E=h.length,z=0;z<E;z++)v.push(h[z]);return v}v=[],E=0;for(z in h)v[E++]=h[z];return v}function rs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const z in h)v[E++]=z;return v}}}function _o(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=rs(h),z=Th(h),at=z.length,mt=0;mt<at;mt++)v.call(void 0,z[mt],E&&E[mt],h)}var mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sh(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var z=h[E].indexOf("="),at=null;if(0<=z){var mt=h[E].substring(0,z);at=h[E].substring(z+1)}else mt=h[E];v(mt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}function qe(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof qe){this.h=h.h,gr(this,h.j),this.o=h.o,this.g=h.g,Ra(this,h.s),this.l=h.l;var v=h.i,E=new Zi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Xi(this,E),this.m=h.m}else h&&(v=String(h).match(mr))?(this.h=!1,gr(this,v[1]||"",!0),this.o=Qn(v[2]||""),this.g=Qn(v[3]||"",!0),Ra(this,v[4]),this.l=Qn(v[5]||"",!0),Xi(this,v[6]||"",!0),this.m=Qn(v[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}qe.prototype.toString=function(){var h=[],v=this.j;v&&h.push(vr(v,bo,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(vr(v,bo,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(vr(E,E.charAt(0)=="/"?Ah:xo,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",vr(E,ss)),h.join("")};function zn(h){return new qe(h)}function gr(h,v,E){h.j=E?Qn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ra(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Xi(h,v,E){v instanceof Zi?(h.i=v,nu(h.i,h.h)):(E||(v=vr(v,Rh)),h.i=new Zi(v,h.h))}function ge(h,v,E){h.i.set(v,E)}function yr(h){return ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Qn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function vr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,eu),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function eu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bo=/[#\/\?@]/g,xo=/[#\?:]/g,Ah=/[#\?]/g,Rh=/[#\?@]/g,ss=/#/g;function Zi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Kn(h){h.g||(h.g=new Map,h.h=0,h.i&&Sh(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}a=Zi.prototype,a.add=function(h,v){Kn(this),this.i=null,h=Si(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Wi(h,v){Kn(h),v=Si(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ji(h,v){return Kn(h),v=Si(h,v),h.g.has(v)}a.forEach=function(h,v){Kn(this),this.g.forEach(function(E,z){E.forEach(function(at){h.call(v,at,z,this)},this)},this)},a.na=function(){Kn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let z=0;z<v.length;z++){const at=h[z];for(let mt=0;mt<at.length;mt++)E.push(v[z])}return E},a.V=function(h){Kn(this);let v=[];if(typeof h=="string")Ji(this,h)&&(v=v.concat(this.g.get(Si(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},a.set=function(h,v){return Kn(this),this.i=null,h=Si(this,h),Ji(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},a.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function wo(h,v,E){Wi(h,v),0<E.length&&(h.i=null,h.g.set(Si(h,v),b(E)),h.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var z=v[E];const mt=encodeURIComponent(String(z)),Nt=this.V(z);for(z=0;z<Nt.length;z++){var at=mt;Nt[z]!==""&&(at+="="+encodeURIComponent(String(Nt[z]))),h.push(at)}}return this.i=h.join("&")};function Si(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function nu(h,v){v&&!h.j&&(Kn(h),h.i=null,h.g.forEach(function(E,z){var at=z.toLowerCase();z!=at&&(Wi(this,z),wo(this,at,E))},h)),h.j=v}function _r(h,v){const E=new Yn;if(d.Image){const z=new Image;z.onload=x(Xn,E,"TestLoadImage: loaded",!0,v,z),z.onerror=x(Xn,E,"TestLoadImage: error",!1,v,z),z.onabort=x(Xn,E,"TestLoadImage: abort",!1,v,z),z.ontimeout=x(Xn,E,"TestLoadImage: timeout",!1,v,z),d.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else v(!1)}function ui(h,v){const E=new Yn,z=new AbortController,at=setTimeout(()=>{z.abort(),Xn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:z.signal}).then(mt=>{clearTimeout(at),mt.ok?Xn(E,"TestPingServer: ok",!0,v):Xn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(at),Xn(E,"TestPingServer: error",!1,v)})}function Xn(h,v,E,z,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),z(E)}catch{}}function br(){this.g=new On}function Ai(h,v,E){const z=E||"";try{_o(h,function(at,mt){let Nt=at;m(at)&&(Nt=Qe(at)),v.push(z+mt+"="+encodeURIComponent(Nt))})}catch(at){throw v.push(z+"type="+encodeURIComponent("_badmap")),at}}function Ca(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Ca,oi),Ca.prototype.g=function(){return new ta(this.l,this.j)},Ca.prototype.i=(function(h){return function(){return h}})({});function ta(h,v){Rt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ta,Rt),a=ta.prototype,a.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ci(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},a.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}a.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ri(this):Ci(this),this.readyState==3&&Eo(this)}},a.Ra=function(h){this.g&&(this.response=this.responseText=h,Ri(this))},a.Qa=function(h){this.g&&(this.response=h,Ri(this))},a.ga=function(){this.g&&Ri(this)};function Ri(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ci(h)}a.setRequestHeader=function(h,v){this.u.append(h,v)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function To(h){let v="";return rt(h,function(E,z){v+=z,v+=":",v+=E,v+=`\r
`}),v}function nn(h,v,E){t:{for(z in E){var z=!1;break t}z=!0}z||(E=To(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):ge(h,v,E))}function fe(h){Rt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(fe,Rt);var os=/^https?$/i,xr=["POST","PUT"];a=fe.prototype,a.Ha=function(h){this.J=h},a.ea=function(h,v,E,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wi.g(),this.v=this.o?$i(this.o):$i(wi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(mt){iu(this,mt);return}if(h=E||"",E=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var at in z)E.set(at,z[at]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const mt of z.keys())E.set(mt,z.get(mt));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(E.keys()).find(mt=>mt.toLowerCase()=="content-type"),at=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xr,v,void 0))||z||at||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[mt,Nt]of E)this.g.setRequestHeader(mt,Nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wr(this),this.u=!0,this.g.send(h),this.u=!1}catch(mt){iu(this,mt)}};function iu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ls(h),Di(h)}function ls(h){h.A||(h.A=!0,It(h,"complete"),It(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,It(this,"complete"),It(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),fe.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?us(this):this.bb())},a.bb=function(){us(this)};function us(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Zn(h)!=4||h.Z()!=2)){if(h.u&&Zn(h)==4)ne(h.Ea,0,h);else if(It(h,"readystatechange"),Zn(h)==4){h.h=!1;try{const Nt=h.Z();t:switch(Nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var z;if(z=Nt===0){var at=String(h.D).match(mr)[1]||null;!at&&d.self&&d.self.location&&(at=d.self.location.protocol.slice(0,-1)),z=!os.test(at?at.toLowerCase():"")}E=z}if(E)It(h,"complete"),It(h,"success");else{h.m=6;try{var mt=2<Zn(h)?h.g.statusText:""}catch{mt=""}h.l=mt+" ["+h.Z()+"]",ls(h)}}finally{Di(h)}}}}function Di(h,v){if(h.g){wr(h);const E=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||It(h,"ready");try{E.onreadystatechange=z}catch{}}}function wr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}a.isActive=function(){return!!this.g};function Zn(h){return h.g?h.g.readyState:0}a.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Le(v)}};function au(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ch(h){const v={};h=(h.g&&2<=Zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(M(h[z]))continue;var E=G(h[z]);const at=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const mt=v[at]||[];v[at]=mt,mt.push(E)}P(v,function(z){return z.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function cs(h){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,h),this.cb=Er("retryDelaySeedMs",1e4,h),this.Wa=Er("forwardChannelMaxRetries",2,h),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(h&&h.concurrentRequestLimit),this.Da=new br,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=cs.prototype,a.la=8,a.G=1,a.connect=function(h,v,E,z){Ae(0),this.W=h,this.H=v||{},E&&z!==void 0&&(this.H.OSID=E,this.H.OAID=z),this.F=this.X,this.I=hu(this,null,this.W),fs(this)};function So(h){if(ru(h),h.G==3){var v=h.U++,E=zn(h.I);if(ge(E,"SID",h.K),ge(E,"RID",v),ge(E,"TYPE","terminate"),Tr(h,E),v=new Rn(h,h.j,v),v.L=2,v.v=yr(zn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=fu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),dr(v)}cu(h)}function hs(h){h.g&&(Sr(h),h.g.cancel(),h.g=null)}function ru(h){hs(h),h.u&&(d.clearTimeout(h.u),h.u=null),ds(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function fs(h){if(!ns(h.h)&&!h.s){h.s=!0;var v=h.Ga;tt||F(),bt||(tt(),bt=!0),ft.add(v,h),h.B=0}}function Dh(h,v){return is(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Be(w(h.Ga,h,v),Co(h,h.B)),h.B++,!0)}a.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const at=new Rn(this,this.j,h);let mt=this.o;if(this.S&&(mt?(mt=O(mt),L(mt,this.S)):mt=this.S),this.m!==null||this.O||(at.H=mt,mt=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var z=this.i[E];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break e}z=void 0}if(z===void 0)break;if(v+=z,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=su(this,at,v),E=zn(this.I),ge(E,"RID",h),ge(E,"CVER",22),this.D&&ge(E,"X-HTTP-Session-Id",this.D),Tr(this,E),mt&&(this.O?v="headers="+encodeURIComponent(String(To(mt)))+"&"+v:this.m&&nn(E,this.m,mt)),as(this.h,at),this.Ua&&ge(E,"TYPE","init"),this.P?(ge(E,"$req",v),ge(E,"SID","null"),at.T=!0,li(at,E,null)):li(at,E,v),this.G=2}}else this.G==3&&(h?Ao(this,h):this.i.length==0||ns(this.h)||Ao(this))};function Ao(h,v){var E;v?E=v.l:E=h.U++;const z=zn(h.I);ge(z,"SID",h.K),ge(z,"RID",E),ge(z,"AID",h.T),Tr(h,z),h.m&&h.o&&nn(z,h.m,h.o),E=new Rn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=su(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),as(h.h,E),li(E,z,v)}function Tr(h,v){h.H&&rt(h.H,function(E,z){ge(v,z,E)}),h.l&&_o({},function(E,z){ge(v,z,E)})}function su(h,v,E){E=Math.min(h.i.length,E);var z=h.l?w(h.l.Na,h.l,h):null;t:{var at=h.i;let mt=-1;for(;;){const Nt=["count="+E];mt==-1?0<E?(mt=at[0].g,Nt.push("ofs="+mt)):mt=0:Nt.push("ofs="+mt);let ie=!0;for(let Xe=0;Xe<E;Xe++){let ae=at[Xe].g;const an=at[Xe].map;if(ae-=mt,0>ae)mt=Math.max(0,at[Xe].g-100),ie=!1;else try{Ai(an,Nt,"req"+ae+"_")}catch{z&&z(an)}}if(ie){z=Nt.join("&");break t}}}return h=h.i.splice(0,E),v.D=h,z}function ou(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;tt||F(),bt||(tt(),bt=!0),ft.add(v,h),h.v=0}}function Ro(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Be(w(h.Fa,h),Co(h,h.v)),h.v++,!0)}a.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Be(w(this.ab,this),h)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),hs(this),lu(this))};function Sr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function lu(h){h.g=new Rn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=zn(h.qa);ge(v,"RID","rpc"),ge(v,"SID",h.K),ge(v,"AID",h.T),ge(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ge(v,"TO",h.ja),ge(v,"TYPE","xmlhttp"),Tr(h,v),h.m&&h.o&&nn(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=yr(zn(v)),E.m=null,E.P=!0,Qi(E,h)}a.Za=function(){this.C!=null&&(this.C=null,hs(this),Ro(this),Ae(19))};function ds(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function uu(h,v){var E=null;if(h.g==v){ds(h),Sr(h),h.g=null;var z=2}else if(yo(h.h,v))E=v.D,Cn(h.h,v),z=1;else return;if(h.G!=0){if(v.o)if(z==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var at=h.B;z=wa(),It(z,new Ke(z,E)),fs(h)}else ou(h);else if(at=v.s,at==3||at==0&&0<v.X||!(z==1&&Dh(h,v)||z==2&&Ro(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),at){case 1:ea(h,5);break;case 4:ea(h,10);break;case 3:ea(h,6);break;default:ea(h,2)}}}function Co(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function ea(h,v){if(h.j.info("Error code "+v),v==2){var E=w(h.fb,h),z=h.Xa;const at=!z;z=new qe(z||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||gr(z,"https"),yr(z),at?_r(z.toString(),E):ui(z.toString(),E)}else Ae(2);h.G=0,h.l&&h.l.sa(v),cu(h),ru(h)}a.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function cu(h){if(h.G=0,h.ka=[],h.l){const v=vo(h.h);(v.length!=0||h.i.length!=0)&&(T(h.ka,v),T(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function hu(h,v,E){var z=E instanceof qe?zn(E):new qe(E);if(z.g!="")v&&(z.g=v+"."+z.g),Ra(z,z.s);else{var at=d.location;z=at.protocol,v=v?v+"."+at.hostname:at.hostname,at=+at.port;var mt=new qe(null);z&&gr(mt,z),v&&(mt.g=v),at&&Ra(mt,at),E&&(mt.l=E),z=mt}return E=h.D,v=h.ya,E&&v&&ge(z,E,v),ge(z,"VER",h.la),Tr(h,z),z}function fu(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new fe(new Ca({eb:E})):new fe(h.pa),v.Ha(h.J),v}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}a=du.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ps(){}ps.prototype.g=function(h,v){return new Dn(h,v)};function Dn(h,v){Rt.call(this),this.g=new cs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!M(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ni(this)}C(Dn,Rt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){So(this.g)},Dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Qe(h),h=E);v.i.push(new tu(v.Ya++,h)),v.G==3&&fs(v)},Dn.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Dn.aa.N.call(this)};function pu(h){An.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(pu,An);function mu(){bi.call(this),this.status=1}C(mu,bi);function Ni(h){this.g=h}C(Ni,du),Ni.prototype.ua=function(){It(this.g,"a")},Ni.prototype.ta=function(h){It(this.g,new pu(h))},Ni.prototype.sa=function(h){It(this.g,new mu)},Ni.prototype.ra=function(){It(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,Lb=function(){return new ps},Ub=function(){return wa()},zb=xi,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Ic=Sa,Yi.COMPLETE="complete",Pb=Yi,hr.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,_l=hr,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,Vb=fe}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",N_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new fb("@firebase/firestore");function Hs(){return $r.logLevel}function Ot(a,...t){if($r.logLevel<=oe.DEBUG){const n=t.map($p);$r.debug(`Firestore (${lo}): ${a}`,...n)}}function ba(a,...t){if($r.logLevel<=oe.ERROR){const n=t.map($p);$r.error(`Firestore (${lo}): ${a}`,...n)}}function Js(a,...t){if($r.logLevel<=oe.WARN){const n=t.map($p);$r.warn(`Firestore (${lo}): ${a}`,...n)}}function $p(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(a,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Bb(a,r,n)}function Bb(a,t,n){let r=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ba(r),new Error(r)}function de(a,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,a||Bb(t,o,r)}function Qt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends Kr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class yR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vR{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){de(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new qb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new Tn(t)}}class _R{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bR{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new _R(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){de(this.o===void 0,3512);const r=u=>{u.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Ot("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=wR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function te(a,t){return a<t?-1:a>t?1:0}function cp(a,t){const n=Math.min(a.length,t.length);for(let r=0;r<n;r++){const o=a.charAt(r),u=t.charAt(r);if(o!==u)return Bd(o)===Bd(u)?te(o,u):Bd(o)?1:-1}return te(a.length,t.length)}const ER=55296,TR=57343;function Bd(a){const t=a.charCodeAt(0);return t>=ER&&t<=TR}function to(a,t,n){return a.length===t.length&&a.every(((r,o)=>n(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class zi{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ft(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Ft(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return zi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof zi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=zi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return te(t.length,n.length)}static compareSegments(t,n){const r=zi.isNumericId(t),o=zi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?zi.extractNumericId(t).compare(zi.extractNumericId(n)):cp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class Te extends zi{construct(t,n,r){return new Te(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Mt(Tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new Te(n)}static emptyPath(){return new Te([])}}const SR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends zi{construct(t,n,r){return new _n(t,n,r)}static isValidIdentifier(t){return SR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new _n([I_])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Mt(Tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new Mt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Mt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new Mt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.path=t}static fromPath(t){return new Ut(Te.fromString(t))}static fromName(t){return new Ut(Te.fromString(t).popFirst(5))}static empty(){return new Ut(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ut(new Te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(a,t,n){if(!n)throw new Mt(Tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function AR(a,t,n,r){if(t===!0&&r===!0)throw new Mt(Tt.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function O_(a){if(!Ut.isDocumentKey(a))throw new Mt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function M_(a){if(Ut.isDocumentKey(a))throw new Mt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Hb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function uh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Ft(12329,{type:typeof a})}function Yc(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new Mt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(a);throw new Mt(Tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(a,t){const n={typeString:a};return t&&(n.value=t),n}function Fl(a,t){if(!Hb(a))throw new Mt(Tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){n=`JSON missing required field: '${r}'`;break}const c=a[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new Mt(Tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,V_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*V_);return new Se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Mt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<j_)throw new Mt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,Se._jsonSchema))return new Se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-j_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:Ye("string",Se._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(t){return new Yt(t)}static min(){return new Yt(new Se(0,0))}static max(){return new Yt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function RR(a,t){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Yt.fromTimestamp(r===1e9?new Se(n+1,0):new Se(n,r));return new rr(o,Ut.empty(),t)}function CR(a){return new rr(a.readTime,a.key,Il)}class rr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(Yt.min(),Ut.empty(),Il)}static max(){return new rr(Yt.max(),Ut.empty(),Il)}}function DR(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=Ut.comparator(a.documentKey,t.documentKey),n!==0?n:te(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(a){if(a.code!==Tt.FAILED_PRECONDITION||a.message!==NR)throw a;Ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new St(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof St?n:St.resolve(n)}catch(n){return St.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):St.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):St.reject(n)}static resolve(t){return new St(((n,r)=>{n(t)}))}static reject(t){return new St(((n,r)=>{r(t)}))}static waitFor(t){return new St(((n,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>r(p)))})),c=!0,u===o&&n()}))}static or(t){let n=St.resolve(!1);for(const r of t)n=n.next((o=>o?St.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new St(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const m=p;n(t[m]).next((y=>{c[m]=y,++d,d===u&&r(c)}),(y=>o(y)))}}))}static doWhile(t,n){return new St(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function IR(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function hh(a){return a==null}function Qc(a){return a===0&&1/a==-1/0}function OR(a){return typeof a=="number"&&Number.isInteger(a)&&!Qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="";function MR(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=P_(t)),t=jR(a.get(n),t);return P_(t)}function jR(a,t){let n=t;const r=a.length;for(let o=0;o<r;o++){const u=a.charAt(o);switch(u){case"\0":n+="";break;case Gb:n+="";break;default:n+=u}}return n}function P_(a){return a+Gb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function Xr(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function $b(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t,n){this.comparator=t,this.root=n||vn.EMPTY}insert(t,n){return new ke(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(t){return new ke(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class vn{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??vn.RED,this.left=o??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new vn(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ft(27949);return t+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new vn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.comparator=t,this.data=new ke(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(t){return new U_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new tn(this.comparator);return n.data=t,n}}class U_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.fields=t,t.sort(_n.comparator)}static empty(){return new pi([])}unionWith(t){let n=new tn(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new pi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Yb("Invalid base64 string: "+u):u}})(t);return new bn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new bn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(a){if(de(!!a,39018),typeof a=="string"){let t=0;const n=VR.exec(a);if(de(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ue(a.seconds),nanos:Ue(a.nanos)}}function Ue(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function or(a){return typeof a=="string"?bn.fromBase64String(a):bn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="server_timestamp",Kb="__type__",Xb="__previous_value__",Zb="__local_write_time__";function Kp(a){return(a?.mapValue?.fields||{})[Kb]?.stringValue===Qb}function fh(a){const t=a.mapValue.fields[Xb];return Kp(t)?fh(t):t}function Ol(a){const t=sr(a.mapValue.fields[Zb].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n,r,o,u,c,d,p,m,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Kc="(default)";class Ml{constructor(t,n){this.projectId=t,this.database=n||Kc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="__type__",zR="__max__",Tc={mapValue:{}},Jb="__vector__",Xc="value";function lr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Kp(a)?4:LR(a)?9007199254740991:UR(a)?10:11:Ft(28295,{value:a})}function Hi(a,t){if(a===t)return!0;const n=lr(a);if(n!==lr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ol(a).isEqual(Ol(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=sr(o.timestampValue),d=sr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,u){return or(o.bytesValue).isEqual(or(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ue(o.geoPointValue.latitude)===Ue(u.geoPointValue.latitude)&&Ue(o.geoPointValue.longitude)===Ue(u.geoPointValue.longitude)})(a,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ue(o.integerValue)===Ue(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ue(o.doubleValue),d=Ue(u.doubleValue);return c===d?Qc(c)===Qc(d):isNaN(c)&&isNaN(d)}return!1})(a,t);case 9:return to(a.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(z_(c)!==z_(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Hi(c[p],d[p])))return!1;return!0})(a,t);default:return Ft(52216,{left:a})}}function jl(a,t){return(a.values||[]).find((n=>Hi(n,t)))!==void 0}function eo(a,t){if(a===t)return 0;const n=lr(a),r=lr(t);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(a.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Ue(u.integerValue||u.doubleValue),p=Ue(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(a,t);case 3:return L_(a.timestampValue,t.timestampValue);case 4:return L_(Ol(a),Ol(t));case 5:return cp(a.stringValue,t.stringValue);case 6:return(function(u,c){const d=or(u),p=or(c);return d.compareTo(p)})(a.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=te(d[m],p[m]);if(y!==0)return y}return te(d.length,p.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=te(Ue(u.latitude),Ue(c.latitude));return d!==0?d:te(Ue(u.longitude),Ue(c.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return B_(a.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},m=d[Xc]?.arrayValue,y=p[Xc]?.arrayValue,_=te(m?.values?.length||0,y?.values?.length||0);return _!==0?_:B_(m,y)})(a.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Tc.mapValue&&c===Tc.mapValue)return 0;if(u===Tc.mapValue)return 1;if(c===Tc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const w=cp(p[_],y[_]);if(w!==0)return w;const x=eo(d[p[_]],m[y[_]]);if(x!==0)return x}return te(p.length,y.length)})(a.mapValue,t.mapValue);default:throw Ft(23264,{he:n})}}function L_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return te(a,t);const n=sr(a),r=sr(t),o=te(n.seconds,r.seconds);return o!==0?o:te(n.nanos,r.nanos)}function B_(a,t){const n=a.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=eo(n[o],r[o]);if(u)return u}return te(n.length,r.length)}function no(a){return hp(a)}function hp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return or(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return Ut.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=hp(u);return r+"]"})(a.arrayValue):"mapValue"in a?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${hp(n.fields[c])}`;return o+"}"})(a.mapValue):Ft(61005,{value:a})}function Oc(a){switch(lr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(a);return t?16+Oc(t):16;case 5:return 2*a.stringValue.length;case 6:return or(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Oc(u)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Xr(r.fields,((u,c)=>{o+=u.length+Oc(c)})),o})(a.mapValue);default:throw Ft(13486,{value:a})}}function q_(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function fp(a){return!!a&&"integerValue"in a}function Xp(a){return!!a&&"arrayValue"in a}function F_(a){return!!a&&"nullValue"in a}function H_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mc(a){return!!a&&"mapValue"in a}function UR(a){return(a?.mapValue?.fields||{})[Wb]?.stringValue===Jb}function Tl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Xr(a.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Tl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Tl(a.arrayValue.values[n]);return t}return{...a}}function LR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.value=t}static empty(){return new ri({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(n)}setAll(t){let n=_n.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=d.popLast()}c?r[d.lastSegment()]=Tl(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Xr(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new ri(Tl(this.value))}}function t1(a){const t=[];return Xr(a.fields,((n,r)=>{const o=new _n([n]);if(Mc(r)){const u=t1(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new pi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t,n,r,o,u,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Sn(t,0,Yt.min(),Yt.min(),Yt.min(),ri.empty(),0)}static newFoundDocument(t,n,r,o){return new Sn(t,1,n,Yt.min(),r,o,0)}static newNoDocument(t,n){return new Sn(t,2,n,Yt.min(),Yt.min(),ri.empty(),0)}static newUnknownDocument(t,n){return new Sn(t,3,n,Yt.min(),Yt.min(),ri.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,n){this.position=t,this.inclusive=n}}function G_(a,t,n){let r=0;for(let o=0;o<a.position.length;o++){const u=t[o],c=a.position[o];if(u.field.isKeyField()?r=Ut.comparator(Ut.fromName(c.referenceValue),n.key):r=eo(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function $_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Hi(a.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n="asc"){this.field=t,this.dir=n}}function BR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{}class $e extends e1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new FR(t,n,r):n==="array-contains"?new $R(t,r):n==="in"?new YR(t,r):n==="not-in"?new QR(t,r):n==="array-contains-any"?new KR(t,r):new $e(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new HR(t,r):new GR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends e1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new yi(t,n)}matches(t){return n1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function n1(a){return a.op==="and"}function i1(a){return qR(a)&&n1(a)}function qR(a){for(const t of a.filters)if(t instanceof yi)return!1;return!0}function dp(a){if(a instanceof $e)return a.field.canonicalString()+a.op.toString()+no(a.value);if(i1(a))return a.filters.map((t=>dp(t))).join(",");{const t=a.filters.map((n=>dp(n))).join(",");return`${a.op}(${t})`}}function a1(a,t){return a instanceof $e?(function(r,o){return o instanceof $e&&r.op===o.op&&r.field.isEqual(o.field)&&Hi(r.value,o.value)})(a,t):a instanceof yi?(function(r,o){return o instanceof yi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&a1(c,o.filters[d])),!0):!1})(a,t):void Ft(19439)}function r1(a){return a instanceof $e?(function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`})(a):a instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(r1).join(" ,")+"}"})(a):"Filter"}class FR extends $e{constructor(t,n,r){super(t,n,r),this.key=Ut.fromName(r.referenceValue)}matches(t){const n=Ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class HR extends $e{constructor(t,n){super(t,"in",n),this.keys=s1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class GR extends $e{constructor(t,n){super(t,"not-in",n),this.keys=s1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function s1(a,t){return(t.arrayValue?.values||[]).map((n=>Ut.fromName(n.referenceValue)))}class $R extends $e{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Xp(n)&&jl(n.arrayValue,this.value)}}class YR extends $e{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class QR extends $e{constructor(t,n){super(t,"not-in",n)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class KR extends $e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>jl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function Y_(a,t=null,n=[],r=[],o=null,u=null,c=null){return new XR(a,t,n,r,o,u,c)}function Zp(a){const t=Qt(a);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>dp(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>no(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>no(r))).join(",")),t.Te=n}return t.Te}function Wp(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!BR(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!a1(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!$_(a.startAt,t.startAt)&&$_(a.endAt,t.endAt)}function pp(a){return Ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n=null,r=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZR(a,t,n,r,o,u,c,d){return new Hl(a,t,n,r,o,u,c,d)}function o1(a){return new Hl(a)}function Q_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function l1(a){return a.collectionGroup!==null}function Sl(a){const t=Qt(a);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(_n.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Wc(u,r))})),n.has(_n.keyField().canonicalString())||t.Ie.push(new Wc(_n.keyField(),r))}return t.Ie}function Li(a){const t=Qt(a);return t.Ee||(t.Ee=WR(t,Sl(a))),t.Ee}function WR(a,t){if(a.limitType==="F")return Y_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Wc(o.field,u)}));const n=a.endAt?new Zc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Zc(a.startAt.position,a.startAt.inclusive):null;return Y_(a.path,a.collectionGroup,t,a.filters,a.limit,n,r)}}function mp(a,t){const n=a.filters.concat([t]);return new Hl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function gp(a,t,n){return new Hl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function dh(a,t){return Wp(Li(a),Li(t))&&a.limitType===t.limitType}function u1(a){return`${Zp(Li(a))}|lt:${a.limitType}`}function Gs(a){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>r1(o))).join(", ")}]`),hh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>no(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>no(o))).join(",")),`Target(${r})`})(Li(a))}; limitType=${a.limitType})`}function ph(a,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ut.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(a,t)&&(function(r,o){for(const u of Sl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,p){const m=G_(c,d,p);return c.inclusive?m<=0:m<0})(r.startAt,Sl(r),o)||r.endAt&&!(function(c,d,p){const m=G_(c,d,p);return c.inclusive?m>=0:m>0})(r.endAt,Sl(r),o))})(a,t)}function JR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function c1(a){return(t,n)=>{let r=!1;for(const o of Sl(a)){const u=tC(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function tC(a,t,n){const r=a.field.isKeyField()?Ut.comparator(t.key,n.key):(function(u,c,d){const p=c.data.field(u),m=d.data.field(u);return p!==null&&m!==null?eo(p,m):Ft(42886)})(a.field,t,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return $b(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new ke(Ut.comparator);function xa(){return eC}const h1=new ke(Ut.comparator);function bl(...a){let t=h1;for(const n of a)t=t.insert(n.key,n);return t}function f1(a){let t=h1;return a.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Fr(){return Al()}function d1(){return Al()}function Al(){return new Zr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const nC=new ke(Ut.comparator),iC=new tn(Ut.comparator);function ee(...a){let t=iC;for(const n of a)t=t.add(n);return t}const aC=new tn(te);function rC(){return aC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function p1(a){return{integerValue:""+a}}function sC(a,t){return OR(t)?p1(t):Jp(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function oC(a,t,n){return a instanceof Jc?(function(o,u){const c={fields:{[Kb]:{stringValue:Qb},[Zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kp(u)&&(u=fh(u)),u&&(c.fields[Xb]=u),{mapValue:c}})(n,t):a instanceof Vl?g1(a,t):a instanceof Pl?y1(a,t):(function(o,u){const c=m1(o,u),d=K_(c)+K_(o.Ae);return fp(c)&&fp(o.Ae)?p1(d):Jp(o.serializer,d)})(a,t)}function lC(a,t,n){return a instanceof Vl?g1(a,t):a instanceof Pl?y1(a,t):n}function m1(a,t){return a instanceof th?(function(r){return fp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Jc extends mh{}class Vl extends mh{constructor(t){super(),this.elements=t}}function g1(a,t){const n=v1(t);for(const r of a.elements)n.some((o=>Hi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Pl extends mh{constructor(t){super(),this.elements=t}}function y1(a,t){let n=v1(t);for(const r of a.elements)n=n.filter((o=>!Hi(o,r)));return{arrayValue:{values:n}}}class th extends mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function K_(a){return Ue(a.integerValue||a.doubleValue)}function v1(a){return Xp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function uC(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof Vl&&o instanceof Vl||r instanceof Pl&&o instanceof Pl?to(r.elements,o.elements,Hi):r instanceof th&&o instanceof th?Hi(r.Ae,o.Ae):r instanceof Jc&&o instanceof Jc})(a.transform,t.transform)}class cC{constructor(t,n){this.version=t,this.transformResults=n}}class ya{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ya}static exists(t){return new ya(void 0,t)}static updateTime(t){return new ya(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class gh{}function _1(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new x1(a.key,ya.none()):new Gl(a.key,a.data,ya.none());{const n=a.data,r=ri.empty();let o=new tn(_n.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Wr(a.key,r,new pi(o.toArray()),ya.none())}}function hC(a,t,n){a instanceof Gl?(function(o,u,c){const d=o.value.clone(),p=Z_(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,t,n):a instanceof Wr?(function(o,u,c){if(!jc(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=Z_(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(b1(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(a,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Rl(a,t,n,r){return a instanceof Gl?(function(u,c,d,p){if(!jc(u.precondition,c))return d;const m=u.value.clone(),y=W_(u.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(a,t,n,r):a instanceof Wr?(function(u,c,d,p){if(!jc(u.precondition,c))return d;const m=W_(u.fieldTransforms,p,c),y=c.data;return y.setAll(b1(u)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((_=>_.field)))})(a,t,n,r):(function(u,c,d){return jc(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,t,n)}function fC(a,t){let n=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),u=m1(r.transform,o||null);u!=null&&(n===null&&(n=ri.empty()),n.set(r.field,u))}return n||null}function X_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&to(r,o,((u,c)=>uC(u,c)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Gl extends gh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wr extends gh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function b1(a){const t=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=a.data.field(n);t.set(n,r)}})),t}function Z_(a,t,n){const r=new Map;de(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let o=0;o<n.length;o++){const u=a[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,lC(c,d,n[o]))}return r}function W_(a,t,n){const r=new Map;for(const o of a){const u=o.transform,c=n.data.field(o.field);r.set(o.field,oC(u,c,t))}return r}class x1 extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dC extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&hC(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Rl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Rl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=d1();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=_1(c,d);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Yt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ee())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((n,r)=>X_(n,r)))&&to(this.baseMutations,t.baseMutations,((n,r)=>X_(n,r)))}}class tm{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){de(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return nC})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new tm(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,se;function yC(a){switch(a){case Tt.OK:return Ft(64938);case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0;default:return Ft(15467,{code:a})}}function w1(a){if(a===void 0)return ba("GRPC error has no .code"),Tt.UNKNOWN;switch(a){case Ge.OK:return Tt.OK;case Ge.CANCELLED:return Tt.CANCELLED;case Ge.UNKNOWN:return Tt.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return Tt.INTERNAL;case Ge.UNAVAILABLE:return Tt.UNAVAILABLE;case Ge.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case Ge.NOT_FOUND:return Tt.NOT_FOUND;case Ge.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case Ge.ABORTED:return Tt.ABORTED;case Ge.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case Ge.DATA_LOSS:return Tt.DATA_LOSS;default:return Ft(39323,{code:a})}}(se=Ge||(Ge={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new nr([4294967295,4294967295],0);function J_(a){const t=vC().encode(a),n=new jb;return n.update(t),new Uint8Array(n.digest())}function t0(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new nr([n,r],0),new nr([o,u],0)]}class em{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=nr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(nr.fromNumber(r)));return o.compare(_C)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=J_(t),[r,o]=t0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new em(u,o,n);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=J_(t),[r,o]=t0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new yh(Yt.min(),o,new ke(te),xa(),ee())}}class $l{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new $l(r,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class E1{constructor(t,n){this.targetId=t,this.Ce=n}}class T1{constructor(t,n,r=bn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class e0{constructor(){this.ve=0,this.Fe=n0(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ee(),n=ee(),r=ee();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ft(38017,{changeType:u})}})),new $l(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=n0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bC{constructor(t){this.Ge=t,this.ze=new Map,this.je=xa(),this.Je=Sc(),this.He=Sc(),this.Ye=new ke(te)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Ft(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(pp(u))if(r===0){const c=new Ut(u.path);this.et(n,c,Sn.newNoDocument(c,Yt.min()))}else de(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=or(r).toUint8Array()}catch(p){if(p instanceof Yb)return Js("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new em(c,o,u)}catch(p){return Js(p instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&pp(d.target)){const p=new Ut(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Sn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let r=ee();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new yh(t,n,this.Ye,this.je,r);return this.je=xa(),this.Je=Sc(),this.He=Sc(),this.Ye=new ke(te),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new e0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new tn(te),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new tn(te),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new e0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Sc(){return new ke(Ut.comparator)}function n0(){return new ke(Ut.comparator)}const xC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EC={and:"AND",or:"OR"};class TC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function yp(a,t){return a.useProto3Json||hh(t)?t:{value:t}}function eh(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function S1(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function SC(a,t){return eh(a,t.toTimestamp())}function Bi(a){return de(!!a,49232),Yt.fromTimestamp((function(n){const r=sr(n);return new Se(r.seconds,r.nanos)})(a))}function nm(a,t){return vp(a,t).canonicalString()}function vp(a,t){const n=(function(o){return new Te(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?n:n.child(t)}function A1(a){const t=Te.fromString(a);return de(k1(t),10190,{key:t.toString()}),t}function _p(a,t){return nm(a.databaseId,t.path)}function qd(a,t){const n=A1(t);if(n.get(1)!==a.databaseId.projectId)throw new Mt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new Mt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Ut(C1(n))}function R1(a,t){return nm(a.databaseId,t)}function AC(a){const t=A1(a);return t.length===4?Te.emptyPath():C1(t)}function bp(a){return new Te(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function C1(a){return de(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function i0(a,t,n){return{name:_p(a,t),fields:n.value.mapValue.fields}}function RC(a,t){let n;if("targetChange"in t){t.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ft(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(m,y){return m.useProto3Json?(de(y===void 0||typeof y=="string",58123),bn.fromBase64String(y||"")):(de(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),bn.fromUint8Array(y||new Uint8Array))})(a,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(m){const y=m.code===void 0?Tt.UNKNOWN:w1(m.code);return new Mt(y,m.message||"")})(c);n=new T1(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=qd(a,r.document.name),u=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):Yt.min(),d=new ri({mapValue:{fields:r.document.fields}}),p=Sn.newFoundDocument(o,u,c,d),m=r.targetIds||[],y=r.removedTargetIds||[];n=new Vc(m,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=qd(a,r.document),u=r.readTime?Bi(r.readTime):Yt.min(),c=Sn.newNoDocument(o,u),d=r.removedTargetIds||[];n=new Vc([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=qd(a,r.document),u=r.removedTargetIds||[];n=new Vc([],u,o,null)}else{if(!("filter"in t))return Ft(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new gC(o,u),d=r.targetId;n=new E1(d,c)}}return n}function CC(a,t){let n;if(t instanceof Gl)n={update:i0(a,t.key,t.value)};else if(t instanceof x1)n={delete:_p(a,t.key)};else if(t instanceof Wr)n={update:i0(a,t.key,t.data),updateMask:PC(t.fieldMask)};else{if(!(t instanceof dC))return Ft(16599,{Vt:t.type});n={verify:_p(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Jc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof th)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ft(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:SC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ft(27497)})(a,t.precondition)),n}function DC(a,t){return a&&a.length>0?(de(t!==void 0,14353),a.map((n=>(function(o,u){let c=o.updateTime?Bi(o.updateTime):Bi(u);return c.isEqual(Yt.min())&&(c=Bi(u)),new cC(c,o.transformResults||[])})(n,t)))):[]}function NC(a,t){return{documents:[R1(a,t.path)]}}function kC(a,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=R1(a,o);const u=(function(m){if(m.length!==0)return N1(yi.create(m,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(m){if(m.length!==0)return m.map((y=>(function(w){return{field:$s(w.field),direction:MC(w.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=yp(a,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:o}}function IC(a){let t=AC(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){de(r===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];n.where&&(u=(function(_){const w=D1(_);return w instanceof yi&&i1(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((w=>(function(C){return new Wc(Ys(C.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let w;return w=typeof _=="object"?_.value:_,hh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(_){const w=!!_.before,x=_.values||[];return new Zc(x,w)})(n.startAt));let m=null;return n.endAt&&(m=(function(_){const w=!_.before,x=_.values||[];return new Zc(x,w)})(n.endAt)),ZR(t,o,c,u,d,"F",p,m)}function OC(a,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function D1(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ys(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ys(n.unaryFilter.field);return $e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ys(n.unaryFilter.field);return $e.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ys(n.unaryFilter.field);return $e.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}})(a):a.fieldFilter!==void 0?(function(n){return $e.create(Ys(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((r=>D1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}})(n.compositeFilter.op))})(a):Ft(30097,{filter:a})}function MC(a){return xC[a]}function jC(a){return wC[a]}function VC(a){return EC[a]}function $s(a){return{fieldPath:a.canonicalString()}}function Ys(a){return _n.fromServerFormat(a.fieldPath)}function N1(a){return a instanceof $e?(function(n){if(n.op==="=="){if(H_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NAN"}};if(F_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NAN"}};if(F_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(n.field),op:jC(n.op),value:n.value}}})(a):a instanceof yi?(function(n){const r=n.getFilters().map((o=>N1(o)));return r.length===1?r[0]:{compositeFilter:{op:VC(n.op),filters:r}}})(a):Ft(54877,{filter:a})}function PC(a){const t=[];return a.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function k1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n,r,o,u=Yt.min(),c=Yt.min(),d=bn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Wa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.yt=t}}function UC(a){const t=IC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?gp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Cn=new BC}addToCollectionParentIndex(t,n){return this.Cn.add(n),St.resolve()}getCollectionParents(t,n){return St.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return St.resolve()}deleteFieldIndex(t,n){return St.resolve()}deleteAllFieldIndexes(t){return St.resolve()}createTargetIndexes(t,n){return St.resolve()}getDocumentsMatchingTarget(t,n){return St.resolve(null)}getIndexType(t,n){return St.resolve(0)}getFieldIndexes(t,n){return St.resolve([])}getNextCollectionGroupToUpdate(t){return St.resolve(null)}getMinOffset(t,n){return St.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,n){return St.resolve(rr.min())}updateCollectionGroup(t,n,r){return St.resolve()}updateIndexEntries(t,n){return St.resolve()}}class BC{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new tn(Te.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new tn(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I1=41943040;class Pn{static withCacheSize(t){return new Pn(t,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(I1,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="LruGarbageCollector",qC=1048576;function s0([a,t],[n,r]){const o=te(a,n);return o===0?te(t,r):o}class FC{constructor(t){this.Ir=t,this.buffer=new tn(s0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();s0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HC{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ot(r0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?Ot(r0,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Vr(3e5)}))}}class GC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return St.resolve(ch.ce);const r=new FC(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),St.resolve(a0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,c,d,p,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,c=Date.now(),this.nthSequenceNumber(t,o)))).next((_=>(r=_,d=Date.now(),this.removeTargets(t,r,n)))).next((_=>(u=_,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((_=>(m=Date.now(),Hs()<=oe.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),St.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:_}))))}}function $C(a,t){return new GC(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.changes=new Zr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?St.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Rl(r.mutation,o,pi.empty(),Se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,ee()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=ee()){const o=Fr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=bl();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=Fr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,ee())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,r,o){let u=xa();const c=Al(),d=(function(){return Al()})();return n.forEach(((p,m)=>{const y=r.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof Wr)?u=u.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Rl(y.mutation,m,y.mutation.getFieldMask(),Se.now())):c.set(m.key,pi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((m,y)=>c.set(m,y))),n.forEach(((m,y)=>d.set(m,new QC(y,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(t,n){const r=Al();let o=new ke(((c,d)=>c-d)),u=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=r.get(p)||pi.empty();y=d.applyToLocalView(m,y),r.set(p,y);const _=(o.get(d.batchId)||ee()).add(p);o=o.insert(d.batchId,_)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,_=d1();y.forEach((w=>{if(!u.has(w)){const x=_1(n.get(w),r.get(w));x!==null&&_.set(w,x),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,_))}return St.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(c){return Ut.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):l1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):St.resolve(Fr());let d=Il,p=u;return c.next((m=>St.forEach(m,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),u.get(y)?St.resolve():this.remoteDocumentCache.getEntry(t,y).next((w=>{p=p.insert(y,w)}))))).next((()=>this.populateOverlays(t,m,u))).next((()=>this.computeViews(t,p,m,ee()))).next((y=>({batchId:d,changes:f1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ut(n)).next((r=>{let o=bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=bl();return this.indexManager.getCollectionParents(t,u).next((d=>St.forEach(d,(p=>{const m=(function(_,w){return new Hl(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,m,r,o).next((y=>{y.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Sn.newInvalidDocument(y)))}));let d=bl();return c.forEach(((p,m)=>{const y=u.get(p);y!==void 0&&Rl(y.mutation,m,pi.empty(),Se.now()),ph(n,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return St.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),St.resolve()}getNamedQuery(t,n){return St.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:UC(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),St.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.overlays=new ke(Ut.comparator),this.qr=new Map}getOverlay(t,n){return St.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Fr();return St.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),St.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),St.resolve()}getOverlaysForCollection(t,n,r){const o=Fr(),u=n.length+1,c=new Ut(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return St.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new ke(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=u.get(m.largestBatchId);y===null&&(y=Fr(),u=u.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Fr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=o)););return St.resolve(d)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new mC(n,r));let u=this.qr.get(n);u===void 0&&(u=ee(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(t){return St.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,St.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.Qr=new tn(ln.$r),this.Ur=new tn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new ln(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new ln(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new Ut(new Te([])),r=new ln(n,t),o=new ln(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ut(new Te([])),r=new ln(n,t),o=new ln(n,t+1);let u=ee();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new ln(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ln{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ut.comparator(t.key,n.key)||te(t.Yr,n.Yr)}static Kr(t,n){return te(t.Yr,n.Yr)||Ut.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tn(ln.$r)}checkEmpty(t){return St.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new pC(u,n,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new ln(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return St.resolve(c)}lookupMutationBatch(t,n){return St.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return St.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return St.resolve(this.mutationQueue.length===0?Qp:this.tr-1)}getAllMutationBatches(t){return St.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ln(n,0),o=new ln(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),St.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new tn(te);return n.forEach((o=>{const u=new ln(o,0),c=new ln(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),St.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;Ut.isDocumentKey(u)||(u=u.child(""));const c=new ln(new Ut(u),0);let d=new tn(te);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(p.Yr)),!0)}),c),St.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){de(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return St.forEach(n.mutations,(o=>{const u=new ln(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new ln(n,0),o=this.Zr.firstAfterOrEqual(r);return St.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,St.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t){this.ri=t,this.docs=(function(){return new ke(Ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return St.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(t,n){let r=xa();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Sn.newInvalidDocument(o))})),St.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=xa();const c=n.path,d=new Ut(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||DR(CR(y),r)<=0||(o.has(y.key)||ph(n,y))&&(u=u.insert(y.key,y.mutableCopy()))}return St.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Ft(9500)}ii(t,n){return St.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new e4(this)}getSize(t){return St.resolve(this.size)}}class e4 extends YC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),St.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t){this.persistence=t,this.si=new Zr((n=>Zp(n)),Wp),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.oi=0,this._i=new im,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),St.resolve()}getLastRemoteSnapshotVersion(t){return St.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return St.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),St.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),St.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new io(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,St.resolve()}updateTargetData(t,n){return this.Pr(n),St.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,St.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),St.waitFor(u).next((()=>o))}getTargetCount(t){return St.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return St.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),St.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),St.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),St.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return St.resolve(r)}containsKey(t,n){return St.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new WC,this.referenceDelegate=t(this),this.Pi=new n4(this),this.indexManager=new LC,this.remoteDocumentCache=(function(o){return new t4(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zC(n),this.Ii=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ZC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new JC(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Ot("MemoryPersistence","Starting transaction:",t);const o=new i4(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return St.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class i4 extends kR{constructor(t){super(),this.currentSequenceNumber=t}}class am{constructor(t){this.persistence=t,this.Ri=new im,this.Vi=null}static mi(t){return new am(t)}get fi(){if(this.Vi)return this.Vi;throw Ft(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),St.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),St.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),St.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return St.forEach(this.fi,(r=>{const o=Ut.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Yt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return St.or([()=>St.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class nh{constructor(t,n){this.persistence=t,this.pi=new Zr((r=>MR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=$C(this,n)}static mi(t,n){return new nh(t,n)}Ei(){}di(t){return St.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return St.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?St.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((d=>{d||(r++,u.removeEntry(c,Yt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),St.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),St.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),St.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),St.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oc(t.data.value)),n}br(t,n,r){return St.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return St.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=ee(),o=ee();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rm(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PT()?8:IR(jT())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new a4;return this.Ss(t,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(Hs()<=oe.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),St.resolve()):(Hs()<=oe.DEBUG&&Ot("QueryEngine","Query:",Gs(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Hs()<=oe.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(n))):St.resolve())}ys(t,n){if(Q_(n))return St.resolve(null);let r=Li(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=gp(n,null,"F"),r=Li(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=ee(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((p=>{const m=this.Ds(n,d);return this.Cs(n,m,c,p.readTime)?this.ys(t,gp(n,null,"F")):this.vs(t,m,n,p)}))))})))))}ws(t,n,r,o){return Q_(n)||o.isEqual(Yt.min())?St.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?St.resolve(null):(Hs()<=oe.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(n)),this.vs(t,c,n,RR(o,Il)).next((d=>d)))}))}Ds(t,n){let r=new tn(c1(t));return n.forEach(((o,u)=>{ph(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return Hs()<=oe.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.ps.getDocumentsMatchingQuery(t,n,rr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="LocalStore",s4=3e8;class o4{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ke(te),this.xs=new Zr((u=>Zp(u)),Wp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function l4(a,t,n,r){return new o4(a,t,n,r)}async function M1(a,t){const n=Qt(a);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let p=ee();for(const m of o){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of u){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(r,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function u4(a,t){const n=Qt(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,y){const _=m.batch,w=_.keys();let x=St.resolve();return w.forEach((C=>{x=x.next((()=>y.getEntry(p,C))).next((b=>{const T=m.docVersions.get(C);de(T!==null,48541),b.version.compareTo(T)<0&&(_.applyToRemoteDocument(b,m),b.isValidDocument()&&(b.setReadTime(m.commitVersion),y.addEntry(b)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,_)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=ee();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function j1(a){const t=Qt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function c4(a,t){const n=Qt(a),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const w=o.get(_);if(!w)return;d.push(n.Pi.removeMatchingKeys(u,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(u,y.addedDocuments,_))));let x=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(_)!==null?x=x.withResumeToken(bn.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),o=o.insert(_,x),(function(b,T,k){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=s4?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(w,x,y)&&d.push(n.Pi.updateTargetData(u,x))}));let p=xa(),m=ee();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,y))})),d.push(h4(u,c,t.documentUpdates).next((y=>{p=y.ks,m=y.qs}))),!r.isEqual(Yt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(u).next((_=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(y)}return St.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,m))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function h4(a,t,n){let r=ee(),o=ee();return n.forEach((u=>r=r.add(u))),t.getEntries(a,r).next((u=>{let c=xa();return n.forEach(((d,p)=>{const m=u.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Yt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Ot(sm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function f4(a,t){const n=Qt(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Qp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function d4(a,t){const n=Qt(a);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,St.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new Wa(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function xp(a,t,n){const r=Qt(a),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!co(c))throw c;Ot(sm,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function o0(a,t,n){const r=Qt(a);let o=Yt.min(),u=ee();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,y){const _=Qt(p),w=_.xs.get(y);return w!==void 0?St.resolve(_.Ms.get(w)):_.Pi.getTargetData(m,y)})(r,c,Li(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?o:Yt.min(),n?u:ee()))).next((d=>(p4(r,JR(t),d),{documents:d,Qs:u})))))}function p4(a,t,n){let r=a.Os.get(t)||Yt.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),a.Os.set(t,r)}class l0{constructor(){this.activeTargetIds=rC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class m4{constructor(){this.Mo=new l0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new l0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="ConnectivityMonitor";class c0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ot(u0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ot(u0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function wp(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Kc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const c=wp(),d=this.zo(t,n.toUriEncodedString());Ot(Fd,`Sending RPC '${t}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:m}=new URL(d),y=ql(m);return this.Jo(t,d,p,r,y).then((_=>(Ot(Fd,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Js(Fd,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",r),_}))}Ho(t,n,r,o,u,c){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=y4[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class b4 extends v4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const c=wp();return new Promise(((d,p)=>{const m=new Vb;m.setWithCredentials(!0),m.listenOnce(Pb.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Ic.NO_ERROR:const _=m.getResponseJson();Ot(En,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case Ic.TIMEOUT:Ot(En,`RPC '${t}' ${c} timed out`),p(new Mt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const w=m.getStatus();if(Ot(En,`RPC '${t}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x?.error;if(C&&C.status&&C.message){const b=(function(k){const M=k.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(M)>=0?M:Tt.UNKNOWN})(C.status);p(new Mt(b,C.message))}else p(new Mt(Tt.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Mt(Tt.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ot(En,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(o);Ot(En,`RPC '${t}' ${c} sending request:`,o),m.send(n,"POST",y,r,15)}))}T_(t,n,r){const o=wp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Lb(),d=Ub(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=u.join("");Ot(En,`Creating RPC '${t}' stream ${o}: ${y}`,p);const _=c.createWebChannel(y,p);this.I_(_);let w=!1,x=!1;const C=new _4({Yo:T=>{x?Ot(En,`Not sending because RPC '${t}' stream ${o} is closed:`,T):(w||(Ot(En,`Opening RPC '${t}' stream ${o} transport.`),_.open(),w=!0),Ot(En,`RPC '${t}' stream ${o} sending:`,T),_.send(T))},Zo:()=>_.close()}),b=(T,k,M)=>{T.listen(k,(U=>{try{M(U)}catch(K){setTimeout((()=>{throw K}),0)}}))};return b(_,_l.EventType.OPEN,(()=>{x||(Ot(En,`RPC '${t}' stream ${o} transport opened.`),C.o_())})),b(_,_l.EventType.CLOSE,(()=>{x||(x=!0,Ot(En,`RPC '${t}' stream ${o} transport closed`),C.a_(),this.E_(_))})),b(_,_l.EventType.ERROR,(T=>{x||(x=!0,Js(En,`RPC '${t}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),C.a_(new Mt(Tt.UNAVAILABLE,"The operation could not be completed")))})),b(_,_l.EventType.MESSAGE,(T=>{if(!x){const k=T.data[0];de(!!k,16349);const M=k,U=M?.error||M[0]?.error;if(U){Ot(En,`RPC '${t}' stream ${o} received error:`,U);const K=U.status;let Y=(function(O){const I=Ge[O];if(I!==void 0)return w1(I)})(K),rt=U.message;Y===void 0&&(Y=Tt.INTERNAL,rt="Unknown error status: "+K+" with message "+U.message),x=!0,C.a_(new Mt(Y,rt)),_.close()}else Ot(En,`RPC '${t}' stream ${o} received:`,k),C.u_(k)}})),b(d,zb.STAT_EVENT,(T=>{T.stat===up.PROXY?Ot(En,`RPC '${t}' stream ${o} detected buffering proxy`):T.stat===up.NOPROXY&&Ot(En,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(a){return new TC(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&Ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="PersistentStream";class P1{constructor(t,n,r,o,u,c,d,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Tt.RESOURCE_EXHAUSTED?(ba(n.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new Mt(Tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Ot(h0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Ot(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x4 extends P1{constructor(t,n,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=RC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Yt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Yt.min():c.readTime?Bi(c.readTime):Yt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=bp(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=pp(p)?{documents:NC(u,p)}:{query:kC(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=S1(u,c.resumeToken);const m=yp(u,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Yt.min())>0){d.readTime=eh(u,c.snapshotVersion.toTimestamp());const m=yp(u,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,t);const r=OC(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=bp(this.serializer),n.removeTarget=t,this.q_(n)}}class w4 extends P1{constructor(t,n,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return de(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,de(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){de(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=DC(t.writeResults,t.commitTime),r=Bi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=bp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>CC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{}class T4 extends E4{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Mt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,vp(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Mt(Tt.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,vp(n,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Mt(Tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class S4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ba(n),this.aa=!1):Ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="RemoteStore";class A4{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Jr(this)&&(Ot(Yr,"Restarting streams for network reachability change."),await(async function(p){const m=Qt(p);m.Ea.add(4),await Yl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await _h(m)})(this))}))})),this.Ra=new S4(r,o)}}async function _h(a){if(Jr(a))for(const t of a.da)await t(!0)}async function Yl(a){for(const t of a.da)await t(!1)}function z1(a,t){const n=Qt(a);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cm(n)?um(n):ho(n).O_()&&lm(n,t))}function om(a,t){const n=Qt(a),r=ho(n);n.Ia.delete(t),r.O_()&&U1(n,t),n.Ia.size===0&&(r.O_()?r.L_():Jr(n)&&n.Ra.set("Unknown"))}function lm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yt.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ho(a).Y_(t)}function U1(a,t){a.Va.Ue(t),ho(a).Z_(t)}function um(a){a.Va=new bC({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ho(a).start(),a.Ra.ua()}function cm(a){return Jr(a)&&!ho(a).x_()&&a.Ia.size>0}function Jr(a){return Qt(a).Ea.size===0}function L1(a){a.Va=void 0}async function R4(a){a.Ra.set("Online")}async function C4(a){a.Ia.forEach(((t,n)=>{lm(a,t)}))}async function D4(a,t){L1(a),cm(a)?(a.Ra.ha(t),um(a)):a.Ra.set("Unknown")}async function N4(a,t,n){if(a.Ra.set("Online"),t instanceof T1&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(a,t)}catch(r){Ot(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ih(a,r)}else if(t instanceof Vc?a.Va.Ze(t):t instanceof E1?a.Va.st(t):a.Va.tt(t),!n.isEqual(Yt.min()))try{const r=await j1(a.localStore);n.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=u.Ia.get(m);y&&u.Ia.set(m,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const y=u.Ia.get(p);if(!y)return;u.Ia.set(p,y.withResumeToken(bn.EMPTY_BYTE_STRING,y.snapshotVersion)),U1(u,p);const _=new Wa(y.target,p,m,y.sequenceNumber);lm(u,_)})),u.remoteSyncer.applyRemoteEvent(d)})(a,n)}catch(r){Ot(Yr,"Failed to raise snapshot:",r),await ih(a,r)}}async function ih(a,t,n){if(!co(t))throw t;a.Ea.add(1),await Yl(a),a.Ra.set("Offline"),n||(n=()=>j1(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{Ot(Yr,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await _h(a)}))}function B1(a,t){return t().catch((n=>ih(a,n,t)))}async function bh(a){const t=Qt(a),n=ur(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qp;for(;k4(t);)try{const o=await f4(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,I4(t,o)}catch(o){await ih(t,o)}q1(t)&&F1(t)}function k4(a){return Jr(a)&&a.Ta.length<10}function I4(a,t){a.Ta.push(t);const n=ur(a);n.O_()&&n.X_&&n.ea(t.mutations)}function q1(a){return Jr(a)&&!ur(a).x_()&&a.Ta.length>0}function F1(a){ur(a).start()}async function O4(a){ur(a).ra()}async function M4(a){const t=ur(a);for(const n of a.Ta)t.ea(n.mutations)}async function j4(a,t,n){const r=a.Ta.shift(),o=tm.from(r,t,n);await B1(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await bh(a)}async function V4(a,t){t&&ur(a).X_&&await(async function(r,o){if((function(c){return yC(c)&&c!==Tt.ABORTED})(o.code)){const u=r.Ta.shift();ur(r).B_(),await B1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bh(r)}})(a,t),q1(a)&&F1(a)}async function f0(a,t){const n=Qt(a);n.asyncQueue.verifyOperationInProgress(),Ot(Yr,"RemoteStore received new credentials");const r=Jr(n);n.Ea.add(3),await Yl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _h(n)}async function P4(a,t){const n=Qt(a);t?(n.Ea.delete(2),await _h(n)):t||(n.Ea.add(2),await Yl(n),n.Ra.set("Unknown"))}function ho(a){return a.ma||(a.ma=(function(n,r,o){const u=Qt(n);return u.sa(),new x4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:R4.bind(null,a),t_:C4.bind(null,a),r_:D4.bind(null,a),H_:N4.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),cm(a)?um(a):a.Ra.set("Unknown")):(await a.ma.stop(),L1(a))}))),a.ma}function ur(a){return a.fa||(a.fa=(function(n,r,o){const u=Qt(n);return u.sa(),new w4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:O4.bind(null,a),r_:V4.bind(null,a),ta:M4.bind(null,a),na:j4.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await bh(a)):(await a.fa.stop(),a.Ta.length>0&&(Ot(Yr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,d=new hm(t,n,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Mt(Tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(a,t){if(ba("AsyncQueue",`${t}: ${a}`),co(a))return new Mt(Tt.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{static emptySet(t){return new Qs(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Ut.comparator(n.key,r.key):(n,r)=>Ut.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new ke(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.ga=new ke(Ut.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ft(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class ao{constructor(t,n,r,o,u,c,d,p,m){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,r,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ao(t,n,Qs.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class U4{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Qt(n),u=o.queries;o.queries=p0(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new Mt(Tt.ABORTED,"Firestore shutting down"))}}function p0(){return new Zr((a=>u1(a)),dh)}async function L4(a,t){const n=Qt(a);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new z4,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=fm(c,`Initialization of query '${Gs(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&dm(n)}async function B4(a,t){const n=Qt(a),r=t.query;let o=3;const u=n.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function q4(a,t){const n=Qt(a);let r=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&dm(n)}function F4(a,t,n){const r=Qt(a),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function dm(a){a.Ca.forEach((t=>{t.next()}))}var Ep,m0;(m0=Ep||(Ep={})).Ma="default",m0.Cache="cache";class H4{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new ao(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.key=t}}class G1{constructor(t){this.key=t}}class G4{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ee(),this.mutatedKeys=ee(),this.eu=c1(t),this.tu=new Qs(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new d0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((y,_)=>{const w=o.get(y),x=ph(this.query,_)?_:null,C=!!w&&this.mutatedKeys.has(w.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let T=!1;w&&x?w.data.isEqual(x.data)?C!==b&&(r.track({type:3,doc:x}),T=!0):this.su(w,x)||(r.track({type:2,doc:x}),T=!0,(p&&this.eu(x,p)>0||m&&this.eu(x,m)<0)&&(d=!0)):!w&&x?(r.track({type:0,doc:x}),T=!0):w&&!x&&(r.track({type:1,doc:w}),T=!0,(p||m)&&(d=!0)),T&&(x?(c=c.add(x),u=b?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(x,C){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Rt:T})}};return b(x)-b(C)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new ao(this.query,t.tu,u,c,t.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ee(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new G1(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new H1(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=ee();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pm="SyncEngine";class $4{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Y4{constructor(t){this.key=t,this.hu=!1}}class Q4{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Zr((d=>u1(d)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new ke(Ut.comparator),this.Au=new Map,this.Ru=new im,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K4(a,t,n=!0){const r=Z1(a);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $1(r,t,n,!0),o}async function X4(a,t){const n=Z1(a);await $1(n,t,!0,!1)}async function $1(a,t,n,r){const o=await d4(a.localStore,Li(t)),u=o.targetId,c=a.sharedClientState.addLocalQueryTarget(u,n);let d;return r&&(d=await Z4(a,t,u,c==="current",o.resumeToken)),a.isPrimaryClient&&n&&z1(a.remoteStore,o),d}async function Z4(a,t,n,r,o){a.pu=(_,w,x)=>(async function(b,T,k,M){let U=T.view.ru(k);U.Cs&&(U=await o0(b.localStore,T.query,!1).then((({documents:P})=>T.view.ru(P,U))));const K=M&&M.targetChanges.get(T.targetId),Y=M&&M.targetMismatches.get(T.targetId)!=null,rt=T.view.applyChanges(U,b.isPrimaryClient,K,Y);return y0(b,T.targetId,rt.au),rt.snapshot})(a,_,w,x);const u=await o0(a.localStore,t,!0),c=new G4(t,u.Qs),d=c.ru(u.documents),p=$l.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",o),m=c.applyChanges(d,a.isPrimaryClient,p);y0(a,n,m.au);const y=new $4(t,n,c);return a.Tu.set(t,y),a.Iu.has(n)?a.Iu.get(n).push(t):a.Iu.set(n,[t]),m.snapshot}async function W4(a,t,n){const r=Qt(a),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!dh(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&om(r.remoteStore,o.targetId),Tp(r,o.targetId)})).catch(uo)):(Tp(r,o.targetId),await xp(r.localStore,o.targetId,!0))}async function J4(a,t){const n=Qt(a),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),om(n.remoteStore,r.targetId))}async function tD(a,t,n){const r=oD(a);try{const o=await(function(c,d){const p=Qt(c),m=Se.now(),y=d.reduce(((x,C)=>x.add(C.key)),ee());let _,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let C=xa(),b=ee();return p.Ns.getEntries(x,y).next((T=>{C=T,C.forEach(((k,M)=>{M.isValidDocument()||(b=b.add(k))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,C))).next((T=>{_=T;const k=[];for(const M of d){const U=fC(M,_.get(M.key).overlayedDocument);U!=null&&k.push(new Wr(M.key,U,t1(U.value.mapValue),ya.exists(!0)))}return p.mutationQueue.addMutationBatch(x,m,k,d)})).next((T=>{w=T;const k=T.applyToLocalDocumentSet(_,b);return p.documentOverlayCache.saveOverlays(x,T.batchId,k)}))})).then((()=>({batchId:w.batchId,changes:f1(_)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new ke(te)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m})(r,o.batchId,n),await Ql(r,o.changes),await bh(r.remoteStore)}catch(o){const u=fm(o,"Failed to persist write");n.reject(u)}}async function Y1(a,t){const n=Qt(a);try{const r=await c4(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(de(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?de(c.hu,14607):o.removedDocuments.size>0&&(de(c.hu,42227),c.hu=!1))})),await Ql(n,r,t)}catch(r){await uo(r)}}function g0(a,t,n){const r=Qt(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Qt(c);p.onlineState=d;let m=!1;p.queries.forEach(((y,_)=>{for(const w of _.Sa)w.va(d)&&(m=!0)})),m&&dm(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function eD(a,t,n){const r=Qt(a);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new ke(Ut.comparator);c=c.insert(u,Sn.newNoDocument(u,Yt.min()));const d=ee().add(u),p=new yh(Yt.min(),new Map,new ke(te),c,d);await Y1(r,p),r.du=r.du.remove(u),r.Au.delete(t),mm(r)}else await xp(r.localStore,t,!1).then((()=>Tp(r,t,n))).catch(uo)}async function nD(a,t){const n=Qt(a),r=t.batch.batchId;try{const o=await u4(n.localStore,t);K1(n,r,null),Q1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(n,o)}catch(o){await uo(o)}}async function iD(a,t,n){const r=Qt(a);try{const o=await(function(c,d){const p=Qt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next((_=>(de(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(r.localStore,t);K1(r,t,n),Q1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ql(r,o)}catch(o){await uo(o)}}function Q1(a,t){(a.mu.get(t)||[]).forEach((n=>{n.resolve()})),a.mu.delete(t)}function K1(a,t,n){const r=Qt(a);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Tp(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),n&&a.Pu.yu(r,n);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||X1(a,r)}))}function X1(a,t){a.Eu.delete(t.path.canonicalString());const n=a.du.get(t);n!==null&&(om(a.remoteStore,n),a.du=a.du.remove(t),a.Au.delete(n),mm(a))}function y0(a,t,n){for(const r of n)r instanceof H1?(a.Ru.addReference(r.key,t),aD(a,r)):r instanceof G1?(Ot(pm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||X1(a,r.key)):Ft(19791,{wu:r})}function aD(a,t){const n=t.key,r=n.path.canonicalString();a.du.get(n)||a.Eu.has(r)||(Ot(pm,"New document in limbo: "+n),a.Eu.add(r),mm(a))}function mm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const n=new Ut(Te.fromString(t)),r=a.fu.next();a.Au.set(r,new Y4(n)),a.du=a.du.insert(n,r),z1(a.remoteStore,new Wa(Li(o1(n.path)),r,"TargetPurposeLimboResolution",ch.ce))}}async function Ql(a,t,n){const r=Qt(a),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,t,n).then((m=>{if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){o.push(m);const y=rm.As(p.targetId,m);u.push(y)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,m){const y=Qt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>St.forEach(m,(w=>St.forEach(w.Es,(x=>y.persistence.referenceDelegate.addReference(_,w.targetId,x))).next((()=>St.forEach(w.ds,(x=>y.persistence.referenceDelegate.removeReference(_,w.targetId,x)))))))))}catch(_){if(!co(_))throw _;Ot(sm,"Failed to update sequence numbers: "+_)}for(const _ of m){const w=_.targetId;if(!_.fromCache){const x=y.Ms.get(w),C=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(w,b)}}})(r.localStore,u))}async function rD(a,t){const n=Qt(a);if(!n.currentUser.isEqual(t)){Ot(pm,"User change. New user:",t.toKey());const r=await M1(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new Mt(Tt.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ql(n,r.Ls)}}function sD(a,t){const n=Qt(a),r=n.Au.get(t);if(r&&r.hu)return ee().add(r.key);{let o=ee();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function Z1(a){const t=Qt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=Y1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eD.bind(null,t),t.Pu.H_=q4.bind(null,t.eventManager),t.Pu.yu=F4.bind(null,t.eventManager),t}function oD(a){const t=Qt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iD.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return l4(this.persistence,new r4,t.initialUser,this.serializer)}Cu(t){return new O1(am.mi,this.serializer)}Du(t){return new m4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class lD extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){de(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HC(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new O1((r=>nh.mi(r,n)),this.serializer)}}class Sp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rD.bind(null,this.syncEngine),await P4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new U4})()}createDatastore(t){const n=vh(t.databaseInfo.databaseId),r=(function(u){return new b4(u)})(t.databaseInfo);return(function(u,c,d,p){return new T4(u,c,d,p)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,d){return new A4(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>g0(this.syncEngine,n,0)),(function(){return c0.v()?new c0:new g4})())}createSyncEngine(t,n){return(function(o,u,c,d,p,m,y){const _=new Q4(o,u,c,d,p,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Qt(n);Ot(Yr,"RemoteStore shutting down."),r.Ea.add(5),await Yl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ba("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="FirestoreClient";class cD{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Tn.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{Ot(cr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ot(cr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=fm(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Gd(a,t){a.asyncQueue.verifyOperationInProgress(),Ot(cr,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let r=n.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await M1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function v0(a,t){a.asyncQueue.verifyOperationInProgress();const n=await hD(a);Ot(cr,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener((r=>f0(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>f0(t.remoteStore,o))),a._onlineComponents=t}async function hD(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Ot(cr,"Using user provided OfflineComponentProvider");try{await Gd(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Tt.FAILED_PRECONDITION||o.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await Gd(a,new ah)}}else Ot(cr,"Using default OfflineComponentProvider"),await Gd(a,new lD(void 0));return a._offlineComponents}async function W1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Ot(cr,"Using user provided OnlineComponentProvider"),await v0(a,a._uninitializedComponentsProvider._online)):(Ot(cr,"Using default OnlineComponentProvider"),await v0(a,new Sp))),a._onlineComponents}function fD(a){return W1(a).then((t=>t.syncEngine))}async function dD(a){const t=await W1(a),n=t.eventManager;return n.onListen=K4.bind(null,t.syncEngine),n.onUnlisten=W4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=X4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=J4.bind(null,t.syncEngine),n}function pD(a,t,n={}){const r=new ir;return a.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,m){const y=new uD({next:w=>{y.Nu(),c.enqueueAndForget((()=>B4(u,_))),w.fromCache&&p.source==="server"?m.reject(new Mt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new H4(d,y,{includeMetadataChanges:!0,qa:!0});return L4(u,_)})(await dD(a),a.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firestore.googleapis.com",b0=!0;class x0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Mt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tx,this.ssl=b0}else this.host=t.host,this.ssl=t.ssl??b0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=I1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qC)throw new Mt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Mt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Mt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Mt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Mt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Mt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gR;switch(r.type){case"firstParty":return new bR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Mt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=_0.get(n);r&&(Ot("ComponentProvider","Removing Datastore"),_0.delete(n),r.terminate())})(this),Promise.resolve()}}function mD(a,t,n,r={}){a=Yc(a,xh);const o=ql(t),u=a._getSettings(),c={...u,emulatorOptions:a._getEmulatorOptions()},d=`${t}:${n}`;o&&(lb(`https://${d}`),cb("Firestore",!0)),u.host!==tx&&u.host!==d&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:r};if(!Gc(p,c)&&(a._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Tn.MOCK_USER;else{m=ub(r.mockUserToken,a._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Mt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Tn(_)}a._authCredentials=new yR(new qb(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fo(this.firestore,t,this._query)}}class un{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new un(this.firestore,t,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Fl(n,un._jsonSchema))return new un(t,r||null,new Ut(Te.fromString(n.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:Ye("string",un._jsonSchemaVersion),referencePath:Ye("string")};class ar extends fo{constructor(t,n,r){super(t,n,o1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new un(this.firestore,null,new Ut(t))}withConverter(t){return new ar(this.firestore,t,this._path)}}function Pc(a,t,...n){if(a=gi(a),Fb("collection","path",t),a instanceof xh){const r=Te.fromString(t,...n);return M_(r),new ar(a,null,r)}{if(!(a instanceof un||a instanceof ar))throw new Mt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Te.fromString(t,...n));return M_(r),new ar(a.firestore,null,r)}}function gD(a,t,...n){if(a=gi(a),arguments.length===1&&(t=Yp.newId()),Fb("doc","path",t),a instanceof xh){const r=Te.fromString(t,...n);return O_(r),new un(a,null,new Ut(r))}{if(!(a instanceof un||a instanceof ar))throw new Mt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Te.fromString(t,...n));return O_(r),new un(a.firestore,a instanceof ar?a.converter:null,new Ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="AsyncQueue";class E0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V1(this,"async_queue_retry"),this._c=()=>{const r=Hd();r&&Ot(w0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Hd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;Ot(w0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ba("INTERNAL UNHANDLED ERROR: ",T0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=hm.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ft(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function T0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class gm extends xh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new E0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new E0(t),this._firestoreClient=void 0,await t}}}function yD(a,t){const n=typeof a=="object"?a:_b(),r=typeof a=="string"?a:Kc,o=mb(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=sb("firestore");u&&mD(o,...u)}return o}function ex(a){if(a._terminated)throw new Mt(Tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||vD(a),a._firestoreClient}function vD(a){const t=a._freezeSettings(),n=(function(o,u,c,d){return new PR(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,J1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new cD(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this._byteString=t}static fromBase64String(t){try{return new si(bn.fromBase64String(t))}catch(n){throw new Mt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new si(bn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,si._jsonSchema))return si.fromBase64String(t.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Ye("string",si._jsonSchemaVersion),bytes:Ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Mt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Mt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ye("string",qi._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fi(t.vectorValues);throw new Mt(Tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Ye("string",Fi._jsonSchemaVersion),vectorValues:Ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=/^__.*__$/;class bD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(t,this.data,n,this.fieldTransforms)}}function ix(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ac:a})}}class vm{constructor(t,n,r,o,u,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new vm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ix(this.Ac)&&_D.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class xD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||vh(t)}Cc(t,n,r,o=!1){return new vm({Ac:t,methodName:n,Dc:r,path:_n.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ax(a){const t=a._freezeSettings(),n=vh(a._databaseId);return new xD(a._databaseId,!!t.ignoreUndefinedProperties,n)}function wD(a,t,n,r,o,u={}){const c=a.Cc(u.merge||u.mergeFields?2:0,t,n,o);ox("Data must be an object, but it was:",c,r);const d=rx(r,c);let p,m;if(u.merge)p=new pi(c.fieldMask),m=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const _ of u.mergeFields){const w=TD(t,_,n);if(!c.contains(w))throw new Mt(Tt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);AD(y,w)||y.push(w)}p=new pi(y),m=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,m=c.fieldTransforms;return new bD(new ri(d),p,m)}function ED(a,t,n,r=!1){return _m(n,a.Cc(r?4:3,t))}function _m(a,t){if(sx(a=gi(a)))return ox("Unsupported field value:",t,a),rx(a,t);if(a instanceof nx)return(function(r,o){if(!ix(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let p=_m(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(a,t)}return(function(r,o){if((r=gi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Se.fromDate(r);return{timestampValue:eh(o.serializer,u)}}if(r instanceof Se){const u=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(o.serializer,u)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:S1(o.serializer,r._byteString)};if(r instanceof un){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:nm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fi)return(function(c,d){return{mapValue:{fields:{[Wb]:{stringValue:Jb},[Xc]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return Jp(d.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${uh(r)}`)})(a,t)}function rx(a,t){const n={};return $b(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xr(a,((r,o)=>{const u=_m(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function sx(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Se||a instanceof qi||a instanceof si||a instanceof un||a instanceof nx||a instanceof Fi)}function ox(a,t,n){if(!sx(n)||!Hb(n)){const r=uh(n);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function TD(a,t,n){if((t=gi(t))instanceof ym)return t._internalPath;if(typeof t=="string")return lx(a,t);throw rh("Field path arguments must be of type string or ",a,!1,void 0,n)}const SD=new RegExp("[~\\*/\\[\\]]");function lx(a,t,n){if(t.search(SD)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new ym(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function rh(a,t,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new Mt(Tt.INVALID_ARGUMENT,d+a+p)}function AD(a,t){return a.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(bm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RD extends ux{data(){return super.data()}}function bm(a,t){return typeof t=="string"?lx(a,t):t instanceof ym?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Mt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xm{}class DD extends xm{}function S0(a,t,...n){let r=[];t instanceof xm&&r.push(t),r=r.concat(n),(function(u){const c=u.filter((p=>p instanceof wm)).length,d=u.filter((p=>p instanceof wh)).length;if(c>1||c>0&&d>0)throw new Mt(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class wh extends DD{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new wh(t,n,r)}_apply(t){const n=this._parse(t);return cx(t._query,n),new fo(t.firestore,t.converter,mp(t._query,n))}_parse(t){const n=ax(t.firestore);return(function(u,c,d,p,m,y,_){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Mt(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){R0(_,y);const C=[];for(const b of _)C.push(A0(p,u,b));w={arrayValue:{values:C}}}else w=A0(p,u,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||R0(_,y),w=ED(d,c,_,y==="in"||y==="not-in");return $e.create(m,y,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Rc(a,t,n){const r=t,o=bm("where",a);return wh._create(o,r,n)}class wm extends xm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new wm(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)cx(c,p),c=mp(c,p)})(t._query,n),new fo(t.firestore,t.converter,mp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A0(a,t,n){if(typeof(n=gi(n))=="string"){if(n==="")throw new Mt(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(t)&&n.indexOf("/")!==-1)throw new Mt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Te.fromString(n));if(!Ut.isDocumentKey(r))throw new Mt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q_(a,new Ut(r))}if(n instanceof un)return q_(a,n._key);throw new Mt(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function R0(a,t){if(!Array.isArray(a)||a.length===0)throw new Mt(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cx(a,t){const n=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Mt(Tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Mt(Tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ND{convertValue(t,n="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Xr(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[Xc].arrayValue?.values?.map((r=>Ue(r.doubleValue)));return new Fi(n)}convertGeoPoint(t){return new qi(Ue(t.latitude),Ue(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=fh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const n=sr(t);return new Se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Te.fromString(t);de(k1(r),9688,{name:t});const o=new Ml(r.get(1),r.get(3)),u=new Ut(r.popFirst(5));return o.isEqual(n)||ba(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(a,t,n){let r;return r=a?a.toFirestore(t):t,r}class Cc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ks extends ux{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(bm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Mt(Tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Ye("string",Ks._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class zc extends Ks{data(t={}){return super.data(t)}}class Xs{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new zc(this._firestore,this._userDataWriter,r.key,r,new Cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Mt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new zc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Cc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new zc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Cc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,y=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:ID(d.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Mt(Tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ID(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:a})}}Xs._jsonSchemaVersion="firestore/querySnapshot/1.0",Xs._jsonSchema={type:Ye("string",Xs._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class OD extends ND{constructor(t){super(),this.firestore=t}convertBytes(t){return new si(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new un(this.firestore,null,n)}}function C0(a){a=Yc(a,fo);const t=Yc(a.firestore,gm),n=ex(t),r=new OD(t);return CD(a._query),pD(n,a._query).then((o=>new Xs(t,r,a,o)))}function hx(a,t){const n=Yc(a.firestore,gm),r=gD(a),o=kD(a.converter,t);return MD(n,[wD(ax(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,ya.exists(!1))]).then((()=>r))}function MD(a,t){return(function(r,o){const u=new ir;return r.asyncQueue.enqueueAndForget((async()=>tD(await fD(r),o,u))),u.promise})(ex(a),t)}(function(t,n=!0){(function(o){lo=o})(yb),Nl(new Ws("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new gm(new vR(r.getProvider("auth-internal")),new xR(c,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Mt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(m.options.projectId,y)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),er(D_,N_,t),er(D_,N_,"esm2020")})();var jD="firebase",VD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(jD,VD,"app");const PD={apiKey:"AIzaSyDnKX4BJsQRgv9tjl7R9l6edfLb2Pk6au4",authDomain:"nouhin-bolt-test-202508.firebaseapp.com",projectId:"nouhin-bolt-test-202508",storageBucket:"nouhin-bolt-test-202508.firebasestorage.app",messagingSenderId:"143363676790",appId:"1:143363676790:web:193dc5843f55ba891d1d57",measurementId:"G-4PWQ11BFWF"},fx=vb(PD),$d=fR(fx),Uc=yD(fx),zD=()=>{const[a,t]=X.useState(!1),[n,r]=X.useState(null),o=async(c,d,p)=>{const m=`${c}-${d}-${p}`,y=Ld($d,m);try{const _=await R_(y);if(_.items.length===0&&_.prefixes.length===0)return m;let w=2;for(;;){const x=`${m}-ver${w}`,C=Ld($d,x);try{const b=await R_(C);if(b.items.length===0&&b.prefixes.length===0)return x;w++}catch{return x}}}catch{return m}};return{uploading:a,uploadProgress:n,uploadPhotos:async(c,d)=>{t(!0),r({current:0,total:c.length,percentage:0});try{const p=await o(d.receptionNumber,d.photographerName,d.customerName),m=[];for(let y=0;y<c.length;y++){const _=c[y],w=`${String(y+1).padStart(3,"0")}`,x=Ld($d,`${p}/${w}`),C=await cR(x,_.file),b=await hR(C.ref),T={...d,id:_.id,number:y+1,originalName:_.originalName,storageUrl:b,deliveryDate:new Date};await hx(Pc(Uc,"photos"),{...T,shootingDate:new Date(d.shootingDate)}),m.push(T);const k=y+1,M=Math.round(k/c.length*100);r({current:k,total:c.length,percentage:M})}return m}finally{t(!1),r(null)}}}},UD=a=>{const t={};return a.photographerName.trim()||(t.photographerName="カメラマン名は必須です"),a.shootingDate||(t.shootingDate="撮影日は必須です"),a.receptionNumber.trim()?/^\d+$/.test(a.receptionNumber)||(t.receptionNumber="受付番号は数字で入力してください"):t.receptionNumber="受付番号は必須です",a.customerName.trim()||(t.customerName="お客様氏名は必須です"),t},LD=()=>{const[a,t]=X.useState([]),[n,r]=X.useState({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),[o,u]=X.useState({}),[c,d]=X.useState(!1),{uploading:p,uploadProgress:m,uploadPhotos:y}=zD(),_=X.useCallback(b=>{t(T=>[...T,...b].map((M,U)=>({...M,number:U+1}))),d(!1)},[]),w=X.useCallback(b=>{t(T=>T.filter(M=>M.id!==b).map((M,U)=>({...M,number:U+1})))},[]),x=X.useCallback(b=>{r(b),u({})},[]),C=async()=>{const b=UD(n);if(Object.keys(b).length>0){u(b);return}if(a.length===0){alert("アップロードする写真を選択してください。");return}try{await y(a,n),d(!0),t([]),r({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),alert("写真のアップロードが完了しました！")}catch(T){console.error("Upload error:",T),alert("アップロード中にエラーが発生しました。")}};return V.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[V.jsx("header",{className:"bg-white shadow-sm mb-8",children:V.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:V.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ToruTora"})})}),V.jsx("div",{className:"max-w-6xl mx-auto px-4",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[V.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-8 text-center",children:"写真納品システム"}),V.jsx("div",{className:"mb-8",children:V.jsx(_T,{onFilesAdded:_})}),V.jsx(bT,{photos:a,onRemove:w}),V.jsx("div",{className:"mt-8",children:V.jsx(xT,{metaInfo:n,onChange:x,errors:o})}),V.jsxs("div",{className:"mt-8 text-center",children:[m&&V.jsxs("div",{className:"mb-4",children:[V.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-2",children:[V.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:[m.percentage,"% 進捗中"]}),V.jsxs("span",{className:"text-sm text-gray-600",children:[m.current,"枚 / ",m.total,"枚"]})]}),V.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:V.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${m.percentage}%`}})})]}),V.jsx("button",{onClick:C,disabled:p||a.length===0,className:`px-8 py-3 rounded-lg font-semibold text-white transition-colors ${p||a.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?"アップロード中...":"アップロード実行"})]}),c&&V.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:"写真のアップロードが正常に完了しました。"})]})})]})},BD=()=>{const a=Ll(),[t,n]=X.useState({receptionNumber:"",shootingDate:"",customerName:""}),[r,o]=X.useState({}),u=(p,m)=>{n(y=>({...y,[p]:m})),o(y=>({...y,[p]:""}))},c=()=>{const p={};return t.receptionNumber.trim()||(p.receptionNumber="受付番号を入力してください"),t.shootingDate||(p.shootingDate="撮影日を入力してください"),t.customerName.trim()||(p.customerName="お客様氏名を入力してください"),o(p),Object.keys(p).length===0},d=()=>{c()&&a("/photo-select",{state:{searchInfo:t}})};return V.jsxs("div",{className:"min-h-screen bg-gray-50",children:[V.jsx("header",{className:"bg-white shadow-sm",children:V.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:V.jsxs("div",{className:"flex items-center",children:[V.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),V.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),V.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[V.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"受付番号と確認番号を入力してください"}),V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号"}),V.jsx("input",{type:"text",value:t.receptionNumber,onChange:p=>u("receptionNumber",p.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),r.receptionNumber&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.receptionNumber})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日"}),V.jsx("input",{type:"date",value:t.shootingDate,onChange:p=>u("shootingDate",p.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.shootingDate?"border-red-500":"border-gray-300"}`}),r.shootingDate&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.shootingDate})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ）"}),V.jsx("input",{type:"text",value:t.customerName,onChange:p=>u("customerName",p.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),r.customerName&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.customerName})]}),V.jsx("button",{onClick:d,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"写真を表示する"})]})]})})]})},Em=()=>{const[a,t]=X.useState(!1),[n,r]=X.useState([]),[o,u]=X.useState(null),c=X.useCallback(async m=>{t(!0),u(null),console.log("Starting gallery photo search with:",m);try{const y=Pc(Uc,"gallery"),_=S0(y,Rc("receptionNumber","==",m.receptionNumber),Rc("customerName","==",m.customerName));console.log("Executing Firestore query on gallery collection...");const w=await C0(_);console.log("Query completed, documents found:",w.size);const x=[];return w.forEach(C=>{const b=C.data();try{console.log("Processing document:",C.id,"shootingDate:",b.shootingDate);let T;if(b.shootingDate&&typeof b.shootingDate.toDate=="function")T=b.shootingDate.toDate();else if(b.shootingDate instanceof Date)T=b.shootingDate;else if(typeof b.shootingDate=="string"){if(T=new Date(b.shootingDate),isNaN(T.getTime())){console.warn("Invalid date string:",b.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",C.id,b.shootingDate);return}let k;b.deliveryDate&&typeof b.deliveryDate.toDate=="function"?k=b.deliveryDate.toDate():b.deliveryDate instanceof Date?k=b.deliveryDate:(console.warn("Invalid deliveryDate format for document:",C.id,b.deliveryDate),k=new Date);const M=new Date(m.shootingDate);console.log("Comparing dates - doc:",T,"search:",M),T.getFullYear()===M.getFullYear()&&T.getMonth()===M.getMonth()&&T.getDate()===M.getDate()&&(x.push({...b,id:C.id,number:b.number,photographerName:b.photographerName,shootingDate:T,receptionNumber:b.receptionNumber,customerName:b.customerName,storageUrl:b.storageUrl,deliveryDate:k}),console.log("Photo added to results:",b.number))}catch(T){console.error("Error processing document:",C.id,T)}}),console.log("Total photos found:",x.length),x.sort((C,b)=>C.number-b.number),r(x),x}catch(y){return console.error("Error searching gallery photos:",y),u("写真の検索中にエラーが発生しました"),r([]),[]}finally{console.log("Gallery search completed, setting loading to false"),t(!1)}},[]),d=X.useCallback(async m=>{t(!0),u(null),console.log("Starting photo search with:",m);try{const y=Pc(Uc,"photos"),_=S0(y,Rc("receptionNumber","==",m.receptionNumber),Rc("customerName","==",m.customerName));console.log("Executing Firestore query...");const w=await C0(_);console.log("Query completed, documents found:",w.size);const x=[];return w.forEach(C=>{const b=C.data();try{console.log("Processing document:",C.id,"shootingDate:",b.shootingDate);let T;if(b.shootingDate&&typeof b.shootingDate.toDate=="function")T=b.shootingDate.toDate();else if(b.shootingDate instanceof Date)T=b.shootingDate;else if(typeof b.shootingDate=="string"){if(T=new Date(b.shootingDate),isNaN(T.getTime())){console.warn("Invalid date string:",b.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",C.id,b.shootingDate);return}let k;b.deliveryDate&&typeof b.deliveryDate.toDate=="function"?k=b.deliveryDate.toDate():b.deliveryDate instanceof Date?k=b.deliveryDate:(console.warn("Invalid deliveryDate format for document:",C.id,b.deliveryDate),k=new Date);const M=new Date(m.shootingDate);console.log("Comparing dates - doc:",T,"search:",M),T.getFullYear()===M.getFullYear()&&T.getMonth()===M.getMonth()&&T.getDate()===M.getDate()&&(x.push({...b,id:C.id,number:b.number,photographerName:b.photographerName,shootingDate:T,receptionNumber:b.receptionNumber,customerName:b.customerName,storageUrl:b.storageUrl,deliveryDate:k}),console.log("Photo added to results:",b.number))}catch(T){console.error("Error processing document:",C.id,T)}}),console.log("Total photos found:",x.length),x.sort((C,b)=>C.number-b.number),r(x),x}catch(y){return console.error("Error searching photos:",y),u("写真の検索中にエラーが発生しました"),r([]),[]}finally{console.log("Search completed, setting loading to false"),t(!1)}},[]),p=X.useCallback(async(m,y)=>{t(!0);try{const _=Pc(Uc,"gallery");for(const w of m){const x={customerName:w.customerName,deliveryDate:new Date,id:w.id,number:w.number,photographerName:w.photographerName,receptionNumber:w.receptionNumber,shootingDate:w.shootingDate,storageUrl:w.storageUrl,all_photo_flg:y?1:0};await hx(_,x)}}finally{t(!1)}},[]);return{loading:a,error:o,photos:n,searchGalleryPhotos:c,searchPhotos:d,purchasePhotos:p}},di=new Map,dx=3600*1e3,D0=20,qD=()=>{const a=Date.now();for(const[t,n]of di.entries())a-n.timestamp>dx&&di.delete(t)},FD=()=>{if(di.size<=D0)return;const a=Array.from(di.entries());a.sort((n,r)=>n[1].timestamp-r[1].timestamp);const t=a.slice(0,a.length-D0);t.forEach(([n])=>{const r=di.get(n);if(r){const o=r.canvas.getContext("2d");o&&o.clearRect(0,0,r.canvas.width,r.canvas.height)}di.delete(n)}),console.log(`🧹 Cache cleanup: removed ${t.length} OLD images, current size: ${di.size}`)},px=(a,t)=>`${a}|${t}`,Fs=new Map,HD=(a,t)=>{const n=px(a,t);if(di.has(n))return Promise.resolve();if(Fs.has(n))return Fs.get(n);console.log("🔄 Starting preload for:",n);const r=u=>u.includes("firebasestorage.googleapis.com")?`${u}&q=5&w=300`:u,o=new Promise((u,c)=>{const d=new Image;d.crossOrigin="anonymous",d.onload=()=>{try{const p=document.createElement("canvas"),m=p.getContext("2d");if(!m){c(new Error("Failed to get preload canvas context"));return}const y=600;let _=d.width,w=d.height;if(_>y||w>y){const U=Math.min(y/_,y/w);_=Math.floor(_*U),w=Math.floor(w*U)}p.width=_,p.height=w,m.drawImage(d,0,0,_,w),m.font=`bold ${Math.max(_*.05,24)}px serif`,m.fillStyle="rgba(255, 255, 255, 0.4)",m.strokeStyle="rgba(0, 0, 0, 0.3)",m.lineWidth=3,m.textAlign="center";const x="ToruTora",C=-Math.PI/6,b=m.measureText(x+"     ").width,T=Math.max(w*.15,80),k=Math.sqrt(_*_+w*w),M=Math.ceil(k/T)+6;for(let U=-Math.floor(M/2);U<=Math.floor(M/2);U++){const K=_/2,Y=w/2,rt=U*T*Math.cos(C+Math.PI/2),P=U*T*Math.sin(C+Math.PI/2),O=k*1.5,I=Math.floor(O/b)+2;for(let L=0;L<I;L++){const G=(L-I/2)/I,N=K+rt+G*O*Math.cos(C),D=Y+P+G*O*Math.sin(C);N>=-100&&N<=_+100&&D>=-100&&D<=w+100&&(m.save(),m.translate(N,D),m.rotate(C),m.strokeText(x,0,0),m.fillText(x,0,0),m.restore())}}di.set(n,{canvas:p,timestamp:Date.now()}),qD(),FD(),console.log("✅ Image preloaded:",n),Fs.delete(n),u()}catch(p){console.error("Preload error:",p),Fs.delete(n),c(p)}},d.onerror=()=>{console.error("Preload failed for:",a),Fs.delete(n),c(new Error(`Failed to load image: ${a}`))},d.src=r(a)});return Fs.set(n,o),o},mx=({src:a,alt:t,className:n="",style:r,objectFit:o="cover",onLoadComplete:u,onLoadError:c,hideInternalLoader:d=!1,externalLoading:p=!1,fallbackSrc:m,imageId:y,useCssWatermark:_=!1})=>{const w=X.useRef(null),[x,C]=X.useState(!0),[b,T]=X.useState(!1),[k,M]=X.useState(a),[U,K]=X.useState(y),Y=O=>{if(O.includes("firebasestorage.googleapis.com")){const I=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),L=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return I||L?`${O}&q=10&w=400`:`${O}&q=15&w=600`}return O},rt=X.useCallback(O=>{const I=px(O,t),L=di.get(I);if(L&&Date.now()-L.timestamp<dx){console.log("✅ Using cached image:",I);const R=w.current;if(R){const J=R.getContext("2d");J&&(R.width=L.canvas.width,R.height=L.canvas.height,J.clearRect(0,0,R.width,R.height),J.drawImage(L.canvas,0,0),C(!1),T(!1),u&&setTimeout(()=>u(),50))}return}console.log("❌ Cache miss, loading directly:",O);const G=w.current;if(!G)return;const N=G.getContext("2d");if(!N)return;const D=new Image;D.crossOrigin="anonymous",D.onload=()=>{try{if(y&&U&&y!==U)return;const R=600;let J=D.width,et=D.height;if(J>R||et>R){const Z=Math.min(R/J,R/et);J=Math.floor(J*Z),et=Math.floor(et*Z)}G.width=J,G.height=et,N.drawImage(D,0,0,J,et),N.font=`bold ${Math.max(J*.05,24)}px serif`,N.fillStyle="rgba(255, 255, 255, 0.4)",N.strokeStyle="rgba(0, 0, 0, 0.3)",N.lineWidth=3,N.textAlign="center";const tt="ToruTora",bt=-Math.PI/6,ft=N.measureText(tt+"     ").width,F=Math.max(et*.15,80),$=Math.sqrt(J*J+et*et),B=Math.ceil($/F)+6;for(let Z=-Math.floor(B/2);Z<=Math.floor(B/2);Z++){const ut=J/2,yt=et/2,Dt=Z*F*Math.cos(bt+Math.PI/2),$t=Z*F*Math.sin(bt+Math.PI/2),kt=$*1.5,jt=Math.floor(kt/ft)+2;for(let qt=0;qt<jt;qt++){const Gt=(qt-jt/2)/jt,le=ut+Dt+Gt*kt*Math.cos(bt),we=yt+$t+Gt*kt*Math.sin(bt);le>=-100&&le<=J+100&&we>=-100&&we<=et+100&&(N.save(),N.translate(le,we),N.rotate(bt),N.strokeText(tt,0,0),N.fillText(tt,0,0),N.restore())}}console.log("✅ Image loaded:",O),C(!1),u&&setTimeout(()=>u(),100)}catch(R){console.error("Canvas drawing error:",R),T(!0),C(!1),c&&c()}},D.onerror=()=>{console.error("Image loading error for:",O),T(!0),C(!1),c&&c()},D.src=Y(O)},[t,u,c,y]);if(X.useEffect(()=>{console.log("🔄 Image src changed from",k,"to",a,"ImageId:",y),M(a),K(y),C(!0),T(!1),console.log("🖼️ Loading image for display:",a,"ImageId:",y),rt(a)},[a,y]),X.useEffect(()=>{if(_&&a){console.log("🔍 Safari image load detection for:",a);const O=new Image;O.onload=()=>{console.log("✅ Safari pre-check: Image already loaded:",a),C(!1),T(!1),u&&u()},O.onerror=()=>{console.log("❌ Safari pre-check: Image load failed:",a),m&&a!==m?(console.log("Trying fallback for Safari pre-check:",m),M(m)):(T(!0),C(!1),c&&c())},O.src=a}},[a,_,m,u,c]),b)return V.jsx("div",{className:`flex items-center justify-center bg-gray-200 ${n}`,style:r,children:V.jsx("span",{className:"text-gray-500",children:"画像を読み込めませんでした"})});const P=!d&&x&&!p;return _?V.jsxs("div",{className:`relative ${n}`,style:r,children:[P&&V.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:V.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),V.jsx("img",{src:k,alt:t,className:`w-full h-full object-${o}`,style:{display:"block",opacity:x&&!p?0:1,transition:"opacity 0.3s ease",visibility:"visible"},onLoad:()=>{console.log("✅ CSS Image loaded:",k,"FallbackSrc:",m),C(!1),T(!1),u&&u()},onError:()=>{console.log("❌ CSS Image load error:",k,"FallbackSrc:",m),m&&k!==m?(console.log("Trying fallback for CSS image:",m),M(m)):(console.log("No fallback available, showing error"),T(!0),C(!1),c&&c())},onLoadStart:()=>{console.log("🔄 CSS Image load started:",k)}}),V.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:V.jsx("div",{className:"text-white font-bold text-2xl md:text-4xl opacity-40 select-none",style:{textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)",transform:"rotate(-30deg)",letterSpacing:"0.2em"},children:"ToruTora"})})]}):V.jsxs("div",{className:`relative ${n}`,style:r,children:[P&&V.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:V.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),V.jsx("canvas",{ref:w,className:"w-full h-full",style:{display:"block",objectFit:o,opacity:x&&!p?0:1,transition:"opacity 0.3s ease",backgroundColor:"#f3f4f6"}})]})};window.imageCache=di;const GD=a=>{if(!a.includes("firebasestorage.googleapis.com"))return{src:a};try{const t=a.split("/o/");if(t.length<2)return{src:a};const n=t[1],r=n.split("?")[0],o=n.includes("?")?"?"+n.split("?")[1]:"",u=decodeURIComponent(r),c=u.split("/");if(c.length<2)return{src:a};const d=c[0],p=c[c.length-1],m=`${p}_200x200`,y=`${d}/thumbs/${m}`,_=`${t[0]}/o/${encodeURIComponent(y)}${o}`;return console.log("Optimal image URL selection:",{original:a,decodedPath:u,folderName:d,fileName:p,thumbnailFileName:m,thumbnailPath:y,thumbnail:_,userAgent:navigator.userAgent,isMobile:$D()}),{src:_,fallbackSrc:a}}catch(t){return console.error("Failed to convert to optimal image URL:",t),{src:a}}},$D=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Yd=a=>a.includes("firebasestorage.googleapis.com")?a.includes("?")?`${a}&quality=5&w=200`:`${a}?quality=5&w=200`:a,YD=(a={})=>{const[t,n]=X.useState(!1),r=X.useRef(null);return X.useEffect(()=>{const o=new IntersectionObserver(([u])=>{n(u.isIntersecting)},{rootMargin:"200px",threshold:.01,...a});return r.current&&o.observe(r.current),()=>o.disconnect()},[]),[r,t]},QD=({photo:a,isSelected:t,onToggleSelection:n,onPhotoClick:r,allPhotoOption:o})=>{const[u,c]=YD(),[d,p]=X.useState(t);return X.useEffect(()=>{p(t)},[t]),V.jsx("div",{ref:u,className:"relative",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>r(a),children:[V.jsxs("div",{className:"relative aspect-square bg-gray-200",children:[c?(()=>{const{src:m,fallbackSrc:y}=GD(a.storageUrl);return V.jsx(mx,{src:m,alt:`写真 ${a.number}`,className:"w-full h-full",objectFit:"cover",fallbackSrc:y,useCssWatermark:!0})})():V.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:V.jsxs("div",{className:"text-center text-gray-400",children:[V.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),V.jsx("span",{className:"text-xs",children:"画像を準備中"})]})}),V.jsx("button",{onClick:m=>{m.stopPropagation(),p(!d),n(a.id)},disabled:o,className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${d?"bg-blue-600 border-blue-600":"bg-white border-gray-300"} ${o?"cursor-not-allowed opacity-75":"cursor-pointer"} shadow-sm`,children:d&&V.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),V.jsx("div",{className:"p-2 text-center",children:V.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(a.number).padStart(3,"0")})})]})})},KD=()=>{const a=_i(),t=Ll(),{loading:n,error:r,photos:o,searchPhotos:u,searchGalleryPhotos:c}=Em(),[d,p]=X.useState(new Set),[m,y]=X.useState(!1),[_,w]=X.useState(new Set),[x,C]=X.useState(null),[b,T]=X.useState(0),[k,M]=X.useState(!1),[U,K]=X.useState(!1),[Y,rt]=X.useState(!1),[P,O]=X.useState(0),I=a.state?.searchInfo,L=a.state?.forceAllPhotoOption;X.useEffect(()=>{if(!I){t("/photo-info");return}console.log("PhotoSelectPage: Starting purchase check...");const B={receptionNumber:I.receptionNumber,shootingDate:I.shootingDate,customerName:I.customerName};c(B).then(Z=>{if(Z.length>0)console.log("PhotoSelectPage: Already purchased photos found:",Z.length),M(!0);else return console.log("PhotoSelectPage: No purchased photos found, proceeding with photo search..."),u(I)}).then(()=>{console.log("PhotoSelectPage: Search completed")}).catch(Z=>{console.error("PhotoSelectPage: Search failed:",Z)})},[I,t,u,c]),X.useEffect(()=>{if(L&&o.length>0){y(!0);const B=new Set(o.map(Z=>Z.id));p(B)}},[L,o]);const G=X.useCallback(B=>{m||(p(Z=>{const ut=new Set(Z);return ut.has(B)?ut.delete(B):ut.add(B),ut}),w(Z=>{const ut=new Set(Z);return ut.has(B)?ut.delete(B):ut.add(B),ut}))},[m]),N=X.useCallback(B=>{const ut=`${Yd(B.storageUrl)}|写真 ${B.number}`,yt=window.imageCache;if(!yt)return console.log("❌ Image cache not available"),!1;const Dt=yt.get(ut);return Dt&&Date.now()-Dt.timestamp<3600*1e3?(console.log("✅ Image found in cache:",ut,"Size:",Dt.canvas?.width,"x",Dt.canvas?.height),!0):(console.log("❌ Image not in cache:",ut),!1)},[]),D=X.useCallback(B=>{console.log(`🚀 Starting preload for index ${B}, total photos: ${o.length}`);const Z=[],ut=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),yt=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let Dt=5;if(ut&&yt){const kt=window.imageCache;if(kt){const jt=kt.size;console.log("🍎 Safari preload strategy check:",{currentIndex:B,cacheSize:jt,maxCacheSize:20,threshold80:16,threshold60:12,threshold40:8}),jt>16?(Dt=0,console.log("🚨 Safari: Emergency preload stop (80% threshold)")):jt>12?(Dt=1,console.log("⚠️ Safari: Minimal preload (60% threshold)")):jt>8?(Dt=2,console.log("🧹 Safari: Moderate preload (40% threshold)")):(Dt=3,console.log("✅ Safari: Normal preload (<40% threshold)"))}else Dt=2,console.log("⚠️ Safari: Fallback preload (no cache info)")}const $t=Array.from({length:Dt},(kt,jt)=>B+jt+1).filter(kt=>kt>=0&&kt<o.length);if(console.log("📋 Indices to preload:",$t),$t.length===0){console.log(`⚠️ No images to preload for index ${B}`);return}for(const kt of $t){const jt=o[kt],qt=Yd(jt.storageUrl);console.log(`🔄 Preloading modal image ${kt}: ${jt.number}, src: ${qt}`),console.log("🔍 Preload URL details:",{originalUrl:jt.storageUrl,highResUrl:qt,hasQuery:qt.includes("?"),quality:qt.includes("quality="),width:qt.includes("w=")}),Z.push(HD(qt,`写真 ${jt.number}`).then(()=>{console.log(`✅ Successfully preloaded modal image ${kt}: ${jt.number}`);const Gt=`${qt}|写真 ${jt.number}`,le=window.imageCache?.get?.(Gt);console.log(`📊 Preload cache verification for ${jt.number}:`,le?"CACHED":"NOT CACHED","Key:",Gt)}).catch(Gt=>console.warn(`❌ Failed to preload modal image ${kt}:`,Gt)))}Promise.allSettled(Z).then(kt=>{const jt=kt.filter(qt=>qt.status==="fulfilled").length;console.log(`🎯 Preload completed: ${jt}/${Z.length} adjacent modal images`),setTimeout(()=>{console.log("🔍 Post-preload cache verification:"),$t.forEach(qt=>{const Gt=o[qt],le=N(Gt);console.log(`  - Photo ${Gt.number} (index ${qt}): ${le?"CACHED":"NOT CACHED"}`)})},1e3)})},[o,N]),R=X.useCallback(B=>{console.log(`✅ Image load complete for index ${B}`),setTimeout(()=>{console.log(`🔄 Preload status check for index ${B}`);const Z=B+1;if(Z<o.length){const ut=o[Z],yt=N(ut);console.log(`📊 Next image (${ut.number}) cache status:`,yt?"CACHED":"NOT CACHED")}},2e3)},[o,N]),J=X.useCallback(B=>{const Z=o.findIndex(yt=>yt.id===B.id);console.log(`🖼️ Photo clicked: ${B.number}, index: ${Z}`),T(Z),C(B),O(0),N(B)?(console.log(`✅ Photo ${B.number} is cached, displaying immediately`),K(!1),rt(!1)):(console.log(`⏳ Photo ${B.number} not cached, starting load`),K(!0),rt(!1)),console.log(`🚀 Starting preload for adjacent images from index ${Z} in parallel`),D(Z)},[o,N,D]),et=X.useCallback(()=>{if(b>0){const B=b-1,Z=o[B];console.log(`⬅️ Going to previous photo: ${b} -> ${B}`),T(B),C(Z),O(0),N(Z)?(console.log(`✅ Photo ${Z.number} is cached, displaying immediately`),K(!1),rt(!1)):(console.log(`⏳ Photo ${Z.number} not cached, starting load`),K(!0),rt(!1)),console.log(`🚀 Starting preload for index ${B} in parallel`),D(B)}},[b,o,N,D]),tt=X.useCallback(()=>{if(b<o.length-1){const B=b+1,Z=o[B];console.log(`➡️ Going to next photo: ${b} -> ${B}`),T(B),C(Z),O(0),N(Z)?(console.log(`✅ Photo ${Z.number} is cached, displaying immediately`),K(!1),rt(!1)):(console.log(`⏳ Photo ${Z.number} not cached, starting load`),K(!0),rt(!1)),console.log(`🚀 Starting preload for index ${B} in parallel`),D(B)}},[b,o,N,D]);X.useEffect(()=>{},[b,o,x]),X.useEffect(()=>{const B=Z=>{x&&(Z.key==="ArrowLeft"?et():Z.key==="ArrowRight"?tt():Z.key==="Escape"&&C(null))};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[x,et,tt]);const bt=X.useCallback(B=>{if(y(B),B){const Z=new Set(o.map(ut=>ut.id));p(Z)}else p(new Set(_))},[o,_]),ft=X.useCallback(()=>{const B=o.filter(Z=>d.has(Z.id));t("/photo-check",{state:{selectedPhotos:B,allPhotoOption:m,searchInfo:I}})},[o,d,m,I,t]),F=X.useMemo(()=>{if(!x)return"";const B=Yd(x.storageUrl),Z=P>0?`${B}?t=${Date.now()}`:B;return console.log(`🖼️ Displaying image ${x.number}, src: ${Z}, reloadKey: ${P}`),console.log("🔍 Display URL details:",{originalUrl:x.storageUrl,baseUrl:B,finalUrl:Z,isReload:P>0,hasTimestamp:Z.includes("?t="),hasQuery:Z.includes("?"),quality:Z.includes("quality="),width:Z.includes("w=")}),Z},[x?.storageUrl,x?.number,P]),$=X.useMemo(()=>o.map(B=>V.jsx(QD,{photo:B,isSelected:d.has(B.id),onToggleSelection:G,onPhotoClick:J,allPhotoOption:m},B.id)),[o,d,G,J,m]);return n?V.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:V.jsxs("div",{className:"text-center",children:[V.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),V.jsx("p",{className:"text-gray-600",children:"写真を検索中..."}),V.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"写真が多い場合、時間がかかることがあります"}),r&&V.jsx("p",{className:"text-red-600 mt-2",children:r})]})}):r?V.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[V.jsx("p",{className:"text-lg text-red-600 mb-4",children:"エラーが発生しました"}),V.jsx("p",{className:"text-gray-600 mb-4",children:r}),V.jsx("button",{onClick:()=>t("/photo-info"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"戻る"})]})}):V.jsxs("div",{className:"min-h-screen bg-gray-50",children:[V.jsx("header",{className:"bg-white shadow-sm",children:V.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:V.jsxs("div",{className:"flex items-center",children:[V.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),V.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),V.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:k?V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[V.jsxs("div",{className:"mb-6",children:[V.jsx("svg",{className:"w-16 h-16 text-blue-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),V.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"写真選択済み"})]}),V.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"すでに写真を選択済みです。"}),V.jsx("p",{className:"text-gray-600 mb-6",children:"変更がある場合にはLineにてお問い合わせください。"}),V.jsx("button",{onClick:()=>t("/photo-info"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"戻る"})]}):o.length===0?V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[V.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"一致する写真が存在しませんでした。"}),V.jsx("p",{className:"text-gray-600",children:"Lineにてお問い合わせください"})]}):V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:V.jsxs("p",{className:"text-blue-800 font-medium",children:[o.length,"枚の写真が見つかりました"]})}),V.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:$}),V.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:V.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[V.jsx("input",{type:"checkbox",checked:m,onChange:B=>bt(B.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),V.jsxs("div",{children:[V.jsx("span",{className:"text-gray-800 font-medium",children:"全データ購入オプション（+5500円）を適用"}),V.jsx("p",{className:"text-sm text-red-600",children:"19枚以上選択する場合はこちらがおすすめ"})]})]})}),V.jsxs("div",{className:"text-center",children:[V.jsxs("button",{onClick:ft,disabled:d.size===0&&!m,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${d.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["確認画面へ進む（",m?o.length:d.size,"枚選択中）"]}),V.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※3枚までは追加料金なしで選択可能"}),V.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※写真購入後にウォーターマークなし/高解像度のお写真を再納品します"})]})]})}),x&&V.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:V.jsxs("div",{className:"bg-white rounded-lg flex flex-col relative",style:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh"},children:[V.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 overflow-hidden",style:{height:"calc(90vh - 120px)"},children:[V.jsxs("div",{className:"absolute top-4 left-0 right-0 flex items-center justify-between px-4 z-50",children:[V.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium",children:[b+1," / ",o.length]}),V.jsx("button",{onClick:()=>C(null),className:"bg-black bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all text-lg font-bold",children:"×"})]}),U&&V.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:V.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}),Y&&V.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:V.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[V.jsx("div",{className:"w-16 h-16 text-red-500 mx-auto mb-4",children:V.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),V.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:"画像の読み込みに失敗しました"}),V.jsx("button",{onClick:()=>{rt(!1),K(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"再試行"})]})}),V.jsx(mx,{src:F,alt:`写真 ${x.number}`,className:"max-w-full max-h-full",objectFit:"contain",style:{maxWidth:"100%",maxHeight:"100%"},imageId:x.id,onLoadComplete:()=>{console.log("🎉 onLoadComplete called for photo:",x?.number,"index:",b),K(!1),rt(!1),console.log("✅ Modal loading state cleared"),R(b)},onLoadError:()=>{console.log("❌ onLoadError called for photo:",x?.number,"index:",b),K(!1),rt(!0),console.log("✅ Modal loading state cleared due to error")},hideInternalLoader:!0,externalLoading:U},`${x.id}-${P}`),b>0&&V.jsx("button",{onClick:et,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:V.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),b<o.length-1&&V.jsx("button",{onClick:tt,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:V.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),V.jsx("div",{className:"border-t border-gray-200 bg-white flex flex-col justify-center",style:{height:"120px",flexShrink:0},children:V.jsxs("div",{className:"p-3 text-center",children:[V.jsxs("label",{className:"flex items-center justify-center space-x-2 cursor-pointer mb-2",children:[V.jsx("input",{type:"checkbox",checked:d.has(x.id),onChange:()=>G(x.id),disabled:m,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),V.jsx("span",{className:`font-medium ${m?"text-gray-400":"text-blue-600"}`,children:m?"全データ購入オプション適用中":"選択する"}),V.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:["(",String(x.number).padStart(3,"0"),")"]})]}),V.jsx("button",{onClick:ft,disabled:d.size===0&&!m,className:`w-full py-2 rounded-lg font-semibold text-white transition-colors ${d.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"確認画面へ進む"}),V.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※3枚までは基本料金に含まれます"}),V.jsx("p",{className:"text-xs text-gray-500",children:"← → キーで写真切り替え、ESCで閉じる"})]})})]})})]})},XD=()=>{const a=_i(),t=Ll(),{loading:n,purchasePhotos:r}=Em(),o=a.state?.selectedPhotos||[],u=a.state?.allPhotoOption||!1,c=a.state?.searchInfo,d=()=>u?5500:o.length<=3?0:(o.length-3)*330,p=async()=>{try{await r(o,u),t("/photo-collect",{state:{selectedPhotos:o,allPhotoOption:u}})}catch(y){console.error("Purchase error:",y),alert("購入処理中にエラーが発生しました。")}};if(!o.length)return t("/photo-info"),null;const m=d();return V.jsxs("div",{className:"min-h-screen bg-gray-50",children:[V.jsx("header",{className:"bg-white shadow-sm",children:V.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:V.jsxs("div",{className:"flex items-center",children:[V.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),V.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),V.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[V.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:o.map(y=>{const _=w=>{if(!w.includes("firebasestorage.googleapis.com"))return w;const x=w.split("/o/");if(x.length!==2)return w;const C=x[1],b=C.indexOf("?"),T=b!==-1?C.substring(0,b):C,k=b!==-1?C.substring(b):"",U=decodeURIComponent(T).split("/");if(U.length<2)return w;const K=U[0],rt=`${U[U.length-1]}_200x200`,P=`${K}/thumbs/${rt}`;return`${x[0]}/o/${encodeURIComponent(P)}${k}`};return V.jsx("div",{className:"relative",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[V.jsxs("div",{className:"relative aspect-square",children:[V.jsx("img",{src:_(y.storageUrl),alt:`写真 ${y.number}`,className:"w-full h-full object-cover"}),V.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:V.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),V.jsx("div",{className:"p-2 text-center",children:V.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(y.number).padStart(3,"0")})})]})},y.id)})}),V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[V.jsxs("div",{className:"text-center mb-6",children:[V.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["支払い合計：",m.toLocaleString(),"円"]}),!u&&o.length>3&&V.jsxs("p",{className:"text-gray-600",children:["追加写真",o.length-3,"枚 × 単価330円"]})]}),!u&&V.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:V.jsxs("div",{className:"flex items-start space-x-2",children:[V.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5",children:"i"}),V.jsx("div",{className:"flex-1",children:V.jsxs("p",{className:"text-blue-800 font-medium mb-2",children:["5500円のお支払いで",V.jsx("button",{onClick:()=>t("/photo-select",{state:{searchInfo:c,forceAllPhotoOption:!0}}),className:"text-blue-600 underline mx-1",children:"こちら"}),"から全てのお写真をご購入することができます"]})})]})}),V.jsx("button",{onClick:p,disabled:n,className:`w-full py-4 rounded-lg font-semibold text-white transition-colors ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:n?"処理中...":"購入完了"}),V.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"※お支払い完了後にウォーターマークなしの高品質画像をお届けします"})]})]})]})},ZD=()=>{const t=_i().state?.selectedPhotos||[],n=()=>{const r=t.map(u=>String(u.number).padStart(3,"0")),o=[];for(let u=0;u<r.length;u+=6)o.push(r.slice(u,u+6).join("/"));return o.join(`
`)};return V.jsxs("div",{className:"min-h-screen bg-gray-50",children:[V.jsx("header",{className:"bg-white shadow-sm",children:V.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:V.jsxs("div",{className:"flex items-center",children:[V.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),V.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),V.jsx("div",{className:"max-w-md mx-auto px-4 py-16",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[V.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"ご購入ありがとうございます"}),t.length>0&&V.jsxs("div",{className:"mb-6",children:[V.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"購入した写真番号:"}),V.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:V.jsx("p",{className:"text-lg font-bold text-blue-600 whitespace-pre-line text-left break-words",children:n()})})]}),V.jsx("p",{className:"text-gray-600 leading-relaxed",children:"※お支払い確認後、ウォーターマークなしの画像を再納品させて頂きます"}),V.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:V.jsx("p",{className:"text-sm text-yellow-800",children:"控えとして本画面をスクリーンショットで保存していただくことをおすすめします"})})]})})]})};function Dc(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qd={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var N0;function WD(){return N0||(N0=1,(function(a,t){(function(n){a.exports=n()})(function(){return(function n(r,o,u){function c(m,y){if(!o[m]){if(!r[m]){var _=typeof Dc=="function"&&Dc;if(!y&&_)return _(m,!0);if(d)return d(m,!0);var w=new Error("Cannot find module '"+m+"'");throw w.code="MODULE_NOT_FOUND",w}var x=o[m]={exports:{}};r[m][0].call(x.exports,function(C){var b=r[m][1][C];return c(b||C)},x,x.exports,n,r,o,u)}return o[m].exports}for(var d=typeof Dc=="function"&&Dc,p=0;p<u.length;p++)c(u[p]);return c})({1:[function(n,r,o){var u=n("./utils"),c=n("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(p){for(var m,y,_,w,x,C,b,T=[],k=0,M=p.length,U=M,K=u.getTypeOf(p)!=="string";k<p.length;)U=M-k,_=K?(m=p[k++],y=k<M?p[k++]:0,k<M?p[k++]:0):(m=p.charCodeAt(k++),y=k<M?p.charCodeAt(k++):0,k<M?p.charCodeAt(k++):0),w=m>>2,x=(3&m)<<4|y>>4,C=1<U?(15&y)<<2|_>>6:64,b=2<U?63&_:64,T.push(d.charAt(w)+d.charAt(x)+d.charAt(C)+d.charAt(b));return T.join("")},o.decode=function(p){var m,y,_,w,x,C,b=0,T=0,k="data:";if(p.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var M,U=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===d.charAt(64)&&U--,p.charAt(p.length-2)===d.charAt(64)&&U--,U%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=c.uint8array?new Uint8Array(0|U):new Array(0|U);b<p.length;)m=d.indexOf(p.charAt(b++))<<2|(w=d.indexOf(p.charAt(b++)))>>4,y=(15&w)<<4|(x=d.indexOf(p.charAt(b++)))>>2,_=(3&x)<<6|(C=d.indexOf(p.charAt(b++))),M[T++]=m,x!==64&&(M[T++]=y),C!==64&&(M[T++]=_);return M}},{"./support":30,"./utils":32}],2:[function(n,r,o){var u=n("./external"),c=n("./stream/DataWorker"),d=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function m(y,_,w,x,C){this.compressedSize=y,this.uncompressedSize=_,this.crc32=w,this.compression=x,this.compressedContent=C}m.prototype={getContentWorker:function(){var y=new c(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),_=this;return y.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new c(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,_,w){return y.pipe(new d).pipe(new p("uncompressedSize")).pipe(_.compressWorker(w)).pipe(new p("compressedSize")).withStreamInfo("compression",_)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,o){var u=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,o){var u=n("./utils"),c=(function(){for(var d,p=[],m=0;m<256;m++){d=m;for(var y=0;y<8;y++)d=1&d?3988292384^d>>>1:d>>>1;p[m]=d}return p})();r.exports=function(d,p){return d!==void 0&&d.length?u.getTypeOf(d)!=="string"?(function(m,y,_,w){var x=c,C=w+_;m^=-1;for(var b=w;b<C;b++)m=m>>>8^x[255&(m^y[b])];return-1^m})(0|p,d,d.length,0):(function(m,y,_,w){var x=c,C=w+_;m^=-1;for(var b=w;b<C;b++)m=m>>>8^x[255&(m^y.charCodeAt(b))];return-1^m})(0|p,d,d.length,0):0}},{"./utils":32}],5:[function(n,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,r,o){var u=null;u=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:u}},{lie:37}],7:[function(n,r,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),d=n("./utils"),p=n("./stream/GenericWorker"),m=u?"uint8array":"array";function y(_,w){p.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=w,this.meta={}}o.magic="\b\0",d.inherits(y,p),y.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(m,_.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(w){_.push({data:w,meta:_.meta})}},o.compressWorker=function(_){return new y("Deflate",_)},o.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,o){function u(x,C){var b,T="";for(b=0;b<C;b++)T+=String.fromCharCode(255&x),x>>>=8;return T}function c(x,C,b,T,k,M){var U,K,Y=x.file,rt=x.compression,P=M!==m.utf8encode,O=d.transformTo("string",M(Y.name)),I=d.transformTo("string",m.utf8encode(Y.name)),L=Y.comment,G=d.transformTo("string",M(L)),N=d.transformTo("string",m.utf8encode(L)),D=I.length!==Y.name.length,R=N.length!==L.length,J="",et="",tt="",bt=Y.dir,ft=Y.date,F={crc32:0,compressedSize:0,uncompressedSize:0};C&&!b||(F.crc32=x.crc32,F.compressedSize=x.compressedSize,F.uncompressedSize=x.uncompressedSize);var $=0;C&&($|=8),P||!D&&!R||($|=2048);var B=0,Z=0;bt&&(B|=16),k==="UNIX"?(Z=798,B|=(function(yt,Dt){var $t=yt;return yt||($t=Dt?16893:33204),(65535&$t)<<16})(Y.unixPermissions,bt)):(Z=20,B|=(function(yt){return 63&(yt||0)})(Y.dosPermissions)),U=ft.getUTCHours(),U<<=6,U|=ft.getUTCMinutes(),U<<=5,U|=ft.getUTCSeconds()/2,K=ft.getUTCFullYear()-1980,K<<=4,K|=ft.getUTCMonth()+1,K<<=5,K|=ft.getUTCDate(),D&&(et=u(1,1)+u(y(O),4)+I,J+="up"+u(et.length,2)+et),R&&(tt=u(1,1)+u(y(G),4)+N,J+="uc"+u(tt.length,2)+tt);var ut="";return ut+=`
\0`,ut+=u($,2),ut+=rt.magic,ut+=u(U,2),ut+=u(K,2),ut+=u(F.crc32,4),ut+=u(F.compressedSize,4),ut+=u(F.uncompressedSize,4),ut+=u(O.length,2),ut+=u(J.length,2),{fileRecord:_.LOCAL_FILE_HEADER+ut+O+J,dirRecord:_.CENTRAL_FILE_HEADER+u(Z,2)+ut+u(G.length,2)+"\0\0\0\0"+u(B,4)+u(T,4)+O+J+G}}var d=n("../utils"),p=n("../stream/GenericWorker"),m=n("../utf8"),y=n("../crc32"),_=n("../signature");function w(x,C,b,T){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=C,this.zipPlatform=b,this.encodeFileName=T,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(w,p),w.prototype.push=function(x){var C=x.meta.percent||0,b=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,p.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:b?(C+100*(b-T-1))/b:100}}))},w.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var C=this.streamFiles&&!x.file.dir;if(C){var b=c(x,C,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(x){this.accumulate=!1;var C=this.streamFiles&&!x.file.dir,b=c(x,C,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),C)this.push({data:(function(T){return _.DATA_DESCRIPTOR+u(T.crc32,4)+u(T.compressedSize,4)+u(T.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var x=this.bytesWritten,C=0;C<this.dirRecords.length;C++)this.push({data:this.dirRecords[C],meta:{percent:100}});var b=this.bytesWritten-x,T=(function(k,M,U,K,Y){var rt=d.transformTo("string",Y(K));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(k,2)+u(k,2)+u(M,4)+u(U,4)+u(rt.length,2)+rt})(this.dirRecords.length,b,x,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(x){this._sources.push(x);var C=this;return x.on("data",function(b){C.processChunk(b)}),x.on("end",function(){C.closedSource(C.previous.streamInfo),C._sources.length?C.prepareNextSource():C.end()}),x.on("error",function(b){C.error(b)}),this},w.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(x){var C=this._sources;if(!p.prototype.error.call(this,x))return!1;for(var b=0;b<C.length;b++)try{C[b].error(x)}catch{}return!0},w.prototype.lock=function(){p.prototype.lock.call(this);for(var x=this._sources,C=0;C<x.length;C++)x[C].lock()},r.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,o){var u=n("../compressions"),c=n("./ZipFileWorker");o.generateWorker=function(d,p,m){var y=new c(p.streamFiles,m,p.platform,p.encodeFileName),_=0;try{d.forEach(function(w,x){_++;var C=(function(M,U){var K=M||U,Y=u[K];if(!Y)throw new Error(K+" is not a valid compression method !");return Y})(x.options.compression,p.compression),b=x.options.compressionOptions||p.compressionOptions||{},T=x.dir,k=x.date;x._compressWorker(C,b).withStreamInfo("file",{name:w,dir:T,date:k,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(y)}),y.entriesCount=_}catch(w){y.error(w)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,o){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new u;for(var d in this)typeof this[d]!="function"&&(c[d]=this[d]);return c}}(u.prototype=n("./object")).loadAsync=n("./load"),u.support=n("./support"),u.defaults=n("./defaults"),u.version="3.10.1",u.loadAsync=function(c,d){return new u().loadAsync(c,d)},u.external=n("./external"),r.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,o){var u=n("./utils"),c=n("./external"),d=n("./utf8"),p=n("./zipEntries"),m=n("./stream/Crc32Probe"),y=n("./nodejsUtils");function _(w){return new c.Promise(function(x,C){var b=w.decompressed.getContentWorker().pipe(new m);b.on("error",function(T){C(T)}).on("end",function(){b.streamInfo.crc32!==w.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}r.exports=function(w,x){var C=this;return x=u.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),y.isNode&&y.isStream(w)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",w,!0,x.optimizedBinaryString,x.base64).then(function(b){var T=new p(x);return T.load(b),T}).then(function(b){var T=[c.Promise.resolve(b)],k=b.files;if(x.checkCRC32)for(var M=0;M<k.length;M++)T.push(_(k[M]));return c.Promise.all(T)}).then(function(b){for(var T=b.shift(),k=T.files,M=0;M<k.length;M++){var U=k[M],K=U.fileNameStr,Y=u.resolve(U.fileNameStr);C.file(Y,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:x.createFolders}),U.dir||(C.file(Y).unsafeOriginalName=K)}return T.zipComment.length&&(C.comment=T.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,o){var u=n("../utils"),c=n("../stream/GenericWorker");function d(p,m){c.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(m)}u.inherits(d,c),d.prototype._bindStream=function(p){var m=this;(this._stream=p).pause(),p.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},d.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,o){var u=n("readable-stream").Readable;function c(d,p,m){u.call(this,p),this._helper=d;var y=this;d.on("data",function(_,w){y.push(_)||y._helper.pause(),m&&m(w)}).on("error",function(_){y.emit("error",_)}).on("end",function(){y.push(null)})}n("../utils").inherits(c,u),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,c);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,c)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var c=new Buffer(u);return c.fill(0),c},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(n,r,o){function u(Y,rt,P){var O,I=d.getTypeOf(rt),L=d.extend(P||{},y);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(Y=k(Y)),L.createFolders&&(O=T(Y))&&M.call(this,O,!0);var G=I==="string"&&L.binary===!1&&L.base64===!1;P&&P.binary!==void 0||(L.binary=!G),(rt instanceof _&&rt.uncompressedSize===0||L.dir||!rt||rt.length===0)&&(L.base64=!1,L.binary=!0,rt="",L.compression="STORE",I="string");var N=null;N=rt instanceof _||rt instanceof p?rt:C.isNode&&C.isStream(rt)?new b(Y,rt):d.prepareContent(Y,rt,L.binary,L.optimizedBinaryString,L.base64);var D=new w(Y,N,L);this.files[Y]=D}var c=n("./utf8"),d=n("./utils"),p=n("./stream/GenericWorker"),m=n("./stream/StreamHelper"),y=n("./defaults"),_=n("./compressedObject"),w=n("./zipObject"),x=n("./generate"),C=n("./nodejsUtils"),b=n("./nodejs/NodejsStreamInputAdapter"),T=function(Y){Y.slice(-1)==="/"&&(Y=Y.substring(0,Y.length-1));var rt=Y.lastIndexOf("/");return 0<rt?Y.substring(0,rt):""},k=function(Y){return Y.slice(-1)!=="/"&&(Y+="/"),Y},M=function(Y,rt){return rt=rt!==void 0?rt:y.createFolders,Y=k(Y),this.files[Y]||u.call(this,Y,null,{dir:!0,createFolders:rt}),this.files[Y]};function U(Y){return Object.prototype.toString.call(Y)==="[object RegExp]"}var K={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Y){var rt,P,O;for(rt in this.files)O=this.files[rt],(P=rt.slice(this.root.length,rt.length))&&rt.slice(0,this.root.length)===this.root&&Y(P,O)},filter:function(Y){var rt=[];return this.forEach(function(P,O){Y(P,O)&&rt.push(O)}),rt},file:function(Y,rt,P){if(arguments.length!==1)return Y=this.root+Y,u.call(this,Y,rt,P),this;if(U(Y)){var O=Y;return this.filter(function(L,G){return!G.dir&&O.test(L)})}var I=this.files[this.root+Y];return I&&!I.dir?I:null},folder:function(Y){if(!Y)return this;if(U(Y))return this.filter(function(I,L){return L.dir&&Y.test(I)});var rt=this.root+Y,P=M.call(this,rt),O=this.clone();return O.root=P.name,O},remove:function(Y){Y=this.root+Y;var rt=this.files[Y];if(rt||(Y.slice(-1)!=="/"&&(Y+="/"),rt=this.files[Y]),rt&&!rt.dir)delete this.files[Y];else for(var P=this.filter(function(I,L){return L.name.slice(0,Y.length)===Y}),O=0;O<P.length;O++)delete this.files[P[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Y){var rt,P={};try{if((P=d.extend(Y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");d.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var O=P.comment||this.comment||"";rt=x.generateWorker(this,P,O)}catch(I){(rt=new p("error")).error(I)}return new m(rt,P.type||"string",P.mimeType)},generateAsync:function(Y,rt){return this.generateInternalStream(Y).accumulate(rt)},generateNodeStream:function(Y,rt){return(Y=Y||{}).type||(Y.type="nodebuffer"),this.generateInternalStream(Y).toNodejsStream(rt)}};r.exports=K},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,o){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,o){var u=n("./DataReader");function c(d){u.call(this,d);for(var p=0;p<this.data.length;p++)d[p]=255&d[p]}n("../utils").inherits(c,u),c.prototype.byteAt=function(d){return this.data[this.zero+d]},c.prototype.lastIndexOfSignature=function(d){for(var p=d.charCodeAt(0),m=d.charCodeAt(1),y=d.charCodeAt(2),_=d.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===p&&this.data[w+1]===m&&this.data[w+2]===y&&this.data[w+3]===_)return w-this.zero;return-1},c.prototype.readAndCheckSignature=function(d){var p=d.charCodeAt(0),m=d.charCodeAt(1),y=d.charCodeAt(2),_=d.charCodeAt(3),w=this.readData(4);return p===w[0]&&m===w[1]&&y===w[2]&&_===w[3]},c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,r,o){var u=n("../utils");function c(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var p,m=0;for(this.checkOffset(d),p=this.index+d-1;p>=this.index;p--)m=(m<<8)+this.byteAt(p);return this.index+=d,m},readString:function(d){return u.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},r.exports=c},{"../utils":32}],19:[function(n,r,o){var u=n("./Uint8ArrayReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,o){var u=n("./DataReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},c.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},c.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},c.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,r,o){var u=n("./ArrayReader");function c(d){u.call(this,d)}n("../utils").inherits(c,u),c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,o){var u=n("../utils"),c=n("../support"),d=n("./ArrayReader"),p=n("./StringReader"),m=n("./NodeBufferReader"),y=n("./Uint8ArrayReader");r.exports=function(_){var w=u.getTypeOf(_);return u.checkSupport(w),w!=="string"||c.uint8array?w==="nodebuffer"?new m(_):c.uint8array?new y(u.transformTo("uint8array",_)):new d(u.transformTo("array",_)):new p(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,o){var u=n("./GenericWorker"),c=n("../utils");function d(p){u.call(this,"ConvertWorker to "+p),this.destType=p}c.inherits(d,u),d.prototype.processChunk=function(p){this.push({data:c.transformTo(this.destType,p.data),meta:p.meta})},r.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,o){var u=n("./GenericWorker"),c=n("../crc32");function d(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(d,u),d.prototype.processChunk=function(p){this.streamInfo.crc32=c(p.data,this.streamInfo.crc32||0),this.push(p)},r.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,o){var u=n("../utils"),c=n("./GenericWorker");function d(p){c.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}u.inherits(d,c),d.prototype.processChunk=function(p){if(p){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+p.data.length}c.prototype.processChunk.call(this,p)},r.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,o){var u=n("../utils"),c=n("./GenericWorker");function d(p){c.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=u.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}u.inherits(d,c),d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,m);break;case"uint8array":p=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":p=this.data.slice(this.index,m)}return this.index=m,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,o){function u(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,d){return this._listeners[c].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,d){if(this._listeners[c])for(var p=0;p<this._listeners[c].length;p++)this._listeners[c][p].call(this,d)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var d=this;return c.on("data",function(p){d.processChunk(p)}),c.on("end",function(){d.end()}),c.on("error",function(p){d.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,d){return this.extraStreamInfo[c]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=u},{}],29:[function(n,r,o){var u=n("../utils"),c=n("./ConvertWorker"),d=n("./GenericWorker"),p=n("../base64"),m=n("../support"),y=n("../external"),_=null;if(m.nodestream)try{_=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(C,b){return new y.Promise(function(T,k){var M=[],U=C._internalType,K=C._outputType,Y=C._mimeType;C.on("data",function(rt,P){M.push(rt),b&&b(P)}).on("error",function(rt){M=[],k(rt)}).on("end",function(){try{var rt=(function(P,O,I){switch(P){case"blob":return u.newBlob(u.transformTo("arraybuffer",O),I);case"base64":return p.encode(O);default:return u.transformTo(P,O)}})(K,(function(P,O){var I,L=0,G=null,N=0;for(I=0;I<O.length;I++)N+=O[I].length;switch(P){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(G=new Uint8Array(N),I=0;I<O.length;I++)G.set(O[I],L),L+=O[I].length;return G;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+P+"'")}})(U,M),Y);T(rt)}catch(P){k(P)}M=[]}).resume()})}function x(C,b,T){var k=b;switch(b){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=b,this._mimeType=T,u.checkSupport(k),this._worker=C.pipe(new c(k)),C.lock()}catch(M){this._worker=new d("error"),this._worker.error(M)}}x.prototype={accumulate:function(C){return w(this,C)},on:function(C,b){var T=this;return C==="data"?this._worker.on(C,function(k){b.call(T,k.data,k.meta)}):this._worker.on(C,function(){u.delay(b,arguments,T)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},C)}},r.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var u=new ArrayBuffer(0);try{o.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(u),o.blob=c.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,o){for(var u=n("./utils"),c=n("./support"),d=n("./nodejsUtils"),p=n("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function _(){p.call(this,"utf-8 decode"),this.leftOver=null}function w(){p.call(this,"utf-8 encode")}o.utf8encode=function(x){return c.nodebuffer?d.newBufferFrom(x,"utf-8"):(function(C){var b,T,k,M,U,K=C.length,Y=0;for(M=0;M<K;M++)(64512&(T=C.charCodeAt(M)))==55296&&M+1<K&&(64512&(k=C.charCodeAt(M+1)))==56320&&(T=65536+(T-55296<<10)+(k-56320),M++),Y+=T<128?1:T<2048?2:T<65536?3:4;for(b=c.uint8array?new Uint8Array(Y):new Array(Y),M=U=0;U<Y;M++)(64512&(T=C.charCodeAt(M)))==55296&&M+1<K&&(64512&(k=C.charCodeAt(M+1)))==56320&&(T=65536+(T-55296<<10)+(k-56320),M++),T<128?b[U++]=T:(T<2048?b[U++]=192|T>>>6:(T<65536?b[U++]=224|T>>>12:(b[U++]=240|T>>>18,b[U++]=128|T>>>12&63),b[U++]=128|T>>>6&63),b[U++]=128|63&T);return b})(x)},o.utf8decode=function(x){return c.nodebuffer?u.transformTo("nodebuffer",x).toString("utf-8"):(function(C){var b,T,k,M,U=C.length,K=new Array(2*U);for(b=T=0;b<U;)if((k=C[b++])<128)K[T++]=k;else if(4<(M=m[k]))K[T++]=65533,b+=M-1;else{for(k&=M===2?31:M===3?15:7;1<M&&b<U;)k=k<<6|63&C[b++],M--;1<M?K[T++]=65533:k<65536?K[T++]=k:(k-=65536,K[T++]=55296|k>>10&1023,K[T++]=56320|1023&k)}return K.length!==T&&(K.subarray?K=K.subarray(0,T):K.length=T),u.applyFromCharCode(K)})(x=u.transformTo(c.uint8array?"uint8array":"array",x))},u.inherits(_,p),_.prototype.processChunk=function(x){var C=u.transformTo(c.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var b=C;(C=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),C.set(b,this.leftOver.length)}else C=this.leftOver.concat(C);this.leftOver=null}var T=(function(M,U){var K;for((U=U||M.length)>M.length&&(U=M.length),K=U-1;0<=K&&(192&M[K])==128;)K--;return K<0||K===0?U:K+m[M[K]]>U?K:U})(C),k=C;T!==C.length&&(c.uint8array?(k=C.subarray(0,T),this.leftOver=C.subarray(T,C.length)):(k=C.slice(0,T),this.leftOver=C.slice(T,C.length))),this.push({data:o.utf8decode(k),meta:x.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=_,u.inherits(w,p),w.prototype.processChunk=function(x){this.push({data:o.utf8encode(x.data),meta:x.meta})},o.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,o){var u=n("./support"),c=n("./base64"),d=n("./nodejsUtils"),p=n("./external");function m(b){return b}function y(b,T){for(var k=0;k<b.length;++k)T[k]=255&b.charCodeAt(k);return T}n("setimmediate"),o.newBlob=function(b,T){o.checkSupport("blob");try{return new Blob([b],{type:T})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(b),k.getBlob(T)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(b,T,k){var M=[],U=0,K=b.length;if(K<=k)return String.fromCharCode.apply(null,b);for(;U<K;)T==="array"||T==="nodebuffer"?M.push(String.fromCharCode.apply(null,b.slice(U,Math.min(U+k,K)))):M.push(String.fromCharCode.apply(null,b.subarray(U,Math.min(U+k,K)))),U+=k;return M.join("")},stringifyByChar:function(b){for(var T="",k=0;k<b.length;k++)T+=String.fromCharCode(b[k]);return T},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function w(b){var T=65536,k=o.getTypeOf(b),M=!0;if(k==="uint8array"?M=_.applyCanBeUsed.uint8array:k==="nodebuffer"&&(M=_.applyCanBeUsed.nodebuffer),M)for(;1<T;)try{return _.stringifyByChunk(b,k,T)}catch{T=Math.floor(T/2)}return _.stringifyByChar(b)}function x(b,T){for(var k=0;k<b.length;k++)T[k]=b[k];return T}o.applyFromCharCode=w;var C={};C.string={string:m,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return C.string.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:function(b){return y(b,d.allocBuffer(b.length))}},C.array={string:w,array:m,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return d.newBufferFrom(b)}},C.arraybuffer={string:function(b){return w(new Uint8Array(b))},array:function(b){return x(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:m,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return d.newBufferFrom(new Uint8Array(b))}},C.uint8array={string:w,array:function(b){return x(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:m,nodebuffer:function(b){return d.newBufferFrom(b)}},C.nodebuffer={string:w,array:function(b){return x(b,new Array(b.length))},arraybuffer:function(b){return C.nodebuffer.uint8array(b).buffer},uint8array:function(b){return x(b,new Uint8Array(b.length))},nodebuffer:m},o.transformTo=function(b,T){if(T=T||"",!b)return T;o.checkSupport(b);var k=o.getTypeOf(T);return C[k][b](T)},o.resolve=function(b){for(var T=b.split("/"),k=[],M=0;M<T.length;M++){var U=T[M];U==="."||U===""&&M!==0&&M!==T.length-1||(U===".."?k.pop():k.push(U))}return k.join("/")},o.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":u.nodebuffer&&d.isBuffer(b)?"nodebuffer":u.uint8array&&b instanceof Uint8Array?"uint8array":u.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(b){if(!u[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(b){var T,k,M="";for(k=0;k<(b||"").length;k++)M+="\\x"+((T=b.charCodeAt(k))<16?"0":"")+T.toString(16).toUpperCase();return M},o.delay=function(b,T,k){setImmediate(function(){b.apply(k||null,T||[])})},o.inherits=function(b,T){function k(){}k.prototype=T.prototype,b.prototype=new k},o.extend=function(){var b,T,k={};for(b=0;b<arguments.length;b++)for(T in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],T)&&k[T]===void 0&&(k[T]=arguments[b][T]);return k},o.prepareContent=function(b,T,k,M,U){return p.Promise.resolve(T).then(function(K){return u.blob&&(K instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(K))!==-1)&&typeof FileReader<"u"?new p.Promise(function(Y,rt){var P=new FileReader;P.onload=function(O){Y(O.target.result)},P.onerror=function(O){rt(O.target.error)},P.readAsArrayBuffer(K)}):K}).then(function(K){var Y=o.getTypeOf(K);return Y?(Y==="arraybuffer"?K=o.transformTo("uint8array",K):Y==="string"&&(U?K=c.decode(K):k&&M!==!0&&(K=(function(rt){return y(rt,u.uint8array?new Uint8Array(rt.length):new Array(rt.length))})(K))),K):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,o){var u=n("./reader/readerFor"),c=n("./utils"),d=n("./signature"),p=n("./zipEntry"),m=n("./support");function y(_){this.files=[],this.loadOptions=_}y.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(w)+", expected "+c.pretty(_)+")")}},isSignature:function(_,w){var x=this.reader.index;this.reader.setIndex(_);var C=this.reader.readString(4)===w;return this.reader.setIndex(x),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),w=m.uint8array?"uint8array":"array",x=c.transformTo(w,_);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,w,x,C=this.zip64EndOfCentralSize-44;0<C;)_=this.reader.readInt(2),w=this.reader.readInt(4),x=this.reader.readData(w),this.zip64ExtensibleData[_]={id:_,length:w,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,w;for(_=0;_<this.files.length;_++)w=this.files[_],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(_=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var w=_;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var C=w-x;if(0<C)this.isSignature(w,d.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(_){this.reader=u(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,o){var u=n("./reader/readerFor"),c=n("./utils"),d=n("./compressedObject"),p=n("./crc32"),m=n("./utf8"),y=n("./compressions"),_=n("./support");function w(x,C){this.options=x,this.loadOptions=C}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var C,b;if(x.skip(22),this.fileNameLength=x.readInt(2),b=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((C=(function(T){for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)&&y[k].magic===T)return y[k];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,C,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var C=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(C),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=u(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var C,b,T,k=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<k;)C=x.readInt(2),b=x.readInt(2),T=x.readData(b),this.extraFields[C]={id:C,length:b,value:T};x.setIndex(k)},handleUTF8:function(){var x=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var C=this.findExtraFieldUnicodePath();if(C!==null)this.fileNameStr=C;else{var b=c.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var T=this.findExtraFieldUnicodeComment();if(T!==null)this.fileCommentStr=T;else{var k=c.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var C=u(x.value);return C.readInt(1)!==1||p(this.fileName)!==C.readInt(4)?null:m.utf8decode(C.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var C=u(x.value);return C.readInt(1)!==1||p(this.fileComment)!==C.readInt(4)?null:m.utf8decode(C.readData(x.length-5))}return null}},r.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,o){function u(C,b,T){this.name=C,this.dir=T.dir,this.date=T.date,this.comment=T.comment,this.unixPermissions=T.unixPermissions,this.dosPermissions=T.dosPermissions,this._data=b,this._dataBinary=T.binary,this.options={compression:T.compression,compressionOptions:T.compressionOptions}}var c=n("./stream/StreamHelper"),d=n("./stream/DataWorker"),p=n("./utf8"),m=n("./compressedObject"),y=n("./stream/GenericWorker");u.prototype={internalStream:function(C){var b=null,T="string";try{if(!C)throw new Error("No output type specified.");var k=(T=C.toLowerCase())==="string"||T==="text";T!=="binarystring"&&T!=="text"||(T="string"),b=this._decompressWorker();var M=!this._dataBinary;M&&!k&&(b=b.pipe(new p.Utf8EncodeWorker)),!M&&k&&(b=b.pipe(new p.Utf8DecodeWorker))}catch(U){(b=new y("error")).error(U)}return new c(b,T,"")},async:function(C,b){return this.internalStream(C).accumulate(b)},nodeStream:function(C,b){return this.internalStream(C||"nodebuffer").toNodejsStream(b)},_compressWorker:function(C,b){if(this._data instanceof m&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var T=this._decompressWorker();return this._dataBinary||(T=T.pipe(new p.Utf8EncodeWorker)),m.createWorkerFrom(T,C,b)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new d(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<_.length;x++)u.prototype[_[x]]=w;r.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,o){(function(u){var c,d,p=u.MutationObserver||u.WebKitMutationObserver;if(p){var m=0,y=new p(C),_=u.document.createTextNode("");y.observe(_,{characterData:!0}),c=function(){_.data=m=++m%2}}else if(u.setImmediate||u.MessageChannel===void 0)c="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var b=u.document.createElement("script");b.onreadystatechange=function(){C(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},u.document.documentElement.appendChild(b)}:function(){setTimeout(C,0)};else{var w=new u.MessageChannel;w.port1.onmessage=C,c=function(){w.port2.postMessage(0)}}var x=[];function C(){var b,T;d=!0;for(var k=x.length;k;){for(T=x,x=[],b=-1;++b<k;)T[b]();k=x.length}d=!1}r.exports=function(b){x.push(b)!==1||d||c()}}).call(this,typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,o){var u=n("immediate");function c(){}var d={},p=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function _(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,k!==c&&b(this,k)}function w(k,M,U){this.promise=k,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof U=="function"&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}function x(k,M,U){u(function(){var K;try{K=M(U)}catch(Y){return d.reject(k,Y)}K===k?d.reject(k,new TypeError("Cannot resolve promise with itself")):d.resolve(k,K)})}function C(k){var M=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof M=="function")return function(){M.apply(k,arguments)}}function b(k,M){var U=!1;function K(P){U||(U=!0,d.reject(k,P))}function Y(P){U||(U=!0,d.resolve(k,P))}var rt=T(function(){M(Y,K)});rt.status==="error"&&K(rt.value)}function T(k,M){var U={};try{U.value=k(M),U.status="success"}catch(K){U.status="error",U.value=K}return U}(r.exports=_).prototype.finally=function(k){if(typeof k!="function")return this;var M=this.constructor;return this.then(function(U){return M.resolve(k()).then(function(){return U})},function(U){return M.resolve(k()).then(function(){throw U})})},_.prototype.catch=function(k){return this.then(null,k)},_.prototype.then=function(k,M){if(typeof k!="function"&&this.state===m||typeof M!="function"&&this.state===p)return this;var U=new this.constructor(c);return this.state!==y?x(U,this.state===m?k:M,this.outcome):this.queue.push(new w(U,k,M)),U},w.prototype.callFulfilled=function(k){d.resolve(this.promise,k)},w.prototype.otherCallFulfilled=function(k){x(this.promise,this.onFulfilled,k)},w.prototype.callRejected=function(k){d.reject(this.promise,k)},w.prototype.otherCallRejected=function(k){x(this.promise,this.onRejected,k)},d.resolve=function(k,M){var U=T(C,M);if(U.status==="error")return d.reject(k,U.value);var K=U.value;if(K)b(k,K);else{k.state=m,k.outcome=M;for(var Y=-1,rt=k.queue.length;++Y<rt;)k.queue[Y].callFulfilled(M)}return k},d.reject=function(k,M){k.state=p,k.outcome=M;for(var U=-1,K=k.queue.length;++U<K;)k.queue[U].callRejected(M);return k},_.resolve=function(k){return k instanceof this?k:d.resolve(new this(c),k)},_.reject=function(k){var M=new this(c);return d.reject(M,k)},_.all=function(k){var M=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=k.length,K=!1;if(!U)return this.resolve([]);for(var Y=new Array(U),rt=0,P=-1,O=new this(c);++P<U;)I(k[P],P);return O;function I(L,G){M.resolve(L).then(function(N){Y[G]=N,++rt!==U||K||(K=!0,d.resolve(O,Y))},function(N){K||(K=!0,d.reject(O,N))})}},_.race=function(k){var M=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=k.length,K=!1;if(!U)return this.resolve([]);for(var Y=-1,rt=new this(c);++Y<U;)P=k[Y],M.resolve(P).then(function(O){K||(K=!0,d.resolve(rt,O))},function(O){K||(K=!0,d.reject(rt,O))});var P;return rt}},{immediate:36}],38:[function(n,r,o){var u={};(0,n("./lib/utils/common").assign)(u,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,o){var u=n("./zlib/deflate"),c=n("./utils/common"),d=n("./utils/strings"),p=n("./zlib/messages"),m=n("./zlib/zstream"),y=Object.prototype.toString,_=0,w=-1,x=0,C=8;function b(k){if(!(this instanceof b))return new b(k);this.options=c.assign({level:w,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},k||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var U=u.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(U!==_)throw new Error(p[U]);if(M.header&&u.deflateSetHeader(this.strm,M.header),M.dictionary){var K;if(K=typeof M.dictionary=="string"?d.string2buf(M.dictionary):y.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(U=u.deflateSetDictionary(this.strm,K))!==_)throw new Error(p[U]);this._dict_set=!0}}function T(k,M){var U=new b(M);if(U.push(k,!0),U.err)throw U.msg||p[U.err];return U.result}b.prototype.push=function(k,M){var U,K,Y=this.strm,rt=this.options.chunkSize;if(this.ended)return!1;K=M===~~M?M:M===!0?4:0,typeof k=="string"?Y.input=d.string2buf(k):y.call(k)==="[object ArrayBuffer]"?Y.input=new Uint8Array(k):Y.input=k,Y.next_in=0,Y.avail_in=Y.input.length;do{if(Y.avail_out===0&&(Y.output=new c.Buf8(rt),Y.next_out=0,Y.avail_out=rt),(U=u.deflate(Y,K))!==1&&U!==_)return this.onEnd(U),!(this.ended=!0);Y.avail_out!==0&&(Y.avail_in!==0||K!==4&&K!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(c.shrinkBuf(Y.output,Y.next_out))):this.onData(c.shrinkBuf(Y.output,Y.next_out)))}while((0<Y.avail_in||Y.avail_out===0)&&U!==1);return K===4?(U=u.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===_):K!==2||(this.onEnd(_),!(Y.avail_out=0))},b.prototype.onData=function(k){this.chunks.push(k)},b.prototype.onEnd=function(k){k===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},o.Deflate=b,o.deflate=T,o.deflateRaw=function(k,M){return(M=M||{}).raw=!0,T(k,M)},o.gzip=function(k,M){return(M=M||{}).gzip=!0,T(k,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,o){var u=n("./zlib/inflate"),c=n("./utils/common"),d=n("./utils/strings"),p=n("./zlib/constants"),m=n("./zlib/messages"),y=n("./zlib/zstream"),_=n("./zlib/gzheader"),w=Object.prototype.toString;function x(b){if(!(this instanceof x))return new x(b);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},b||{});var T=this.options;T.raw&&0<=T.windowBits&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),!(0<=T.windowBits&&T.windowBits<16)||b&&b.windowBits||(T.windowBits+=32),15<T.windowBits&&T.windowBits<48&&(15&T.windowBits)==0&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var k=u.inflateInit2(this.strm,T.windowBits);if(k!==p.Z_OK)throw new Error(m[k]);this.header=new _,u.inflateGetHeader(this.strm,this.header)}function C(b,T){var k=new x(T);if(k.push(b,!0),k.err)throw k.msg||m[k.err];return k.result}x.prototype.push=function(b,T){var k,M,U,K,Y,rt,P=this.strm,O=this.options.chunkSize,I=this.options.dictionary,L=!1;if(this.ended)return!1;M=T===~~T?T:T===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?P.input=d.binstring2buf(b):w.call(b)==="[object ArrayBuffer]"?P.input=new Uint8Array(b):P.input=b,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new c.Buf8(O),P.next_out=0,P.avail_out=O),(k=u.inflate(P,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&I&&(rt=typeof I=="string"?d.string2buf(I):w.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,k=u.inflateSetDictionary(this.strm,rt)),k===p.Z_BUF_ERROR&&L===!0&&(k=p.Z_OK,L=!1),k!==p.Z_STREAM_END&&k!==p.Z_OK)return this.onEnd(k),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&k!==p.Z_STREAM_END&&(P.avail_in!==0||M!==p.Z_FINISH&&M!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(U=d.utf8border(P.output,P.next_out),K=P.next_out-U,Y=d.buf2string(P.output,U),P.next_out=K,P.avail_out=O-K,K&&c.arraySet(P.output,P.output,U,K,0),this.onData(Y)):this.onData(c.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(L=!0)}while((0<P.avail_in||P.avail_out===0)&&k!==p.Z_STREAM_END);return k===p.Z_STREAM_END&&(M=p.Z_FINISH),M===p.Z_FINISH?(k=u.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===p.Z_OK):M!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(P.avail_out=0))},x.prototype.onData=function(b){this.chunks.push(b)},x.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},o.Inflate=x,o.inflate=C,o.inflateRaw=function(b,T){return(T=T||{}).raw=!0,C(b,T)},o.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var _ in y)y.hasOwnProperty(_)&&(p[_]=y[_])}}return p},o.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var c={arraySet:function(p,m,y,_,w){if(m.subarray&&p.subarray)p.set(m.subarray(y,y+_),w);else for(var x=0;x<_;x++)p[w+x]=m[y+x]},flattenChunks:function(p){var m,y,_,w,x,C;for(m=_=0,y=p.length;m<y;m++)_+=p[m].length;for(C=new Uint8Array(_),m=w=0,y=p.length;m<y;m++)x=p[m],C.set(x,w),w+=x.length;return C}},d={arraySet:function(p,m,y,_,w){for(var x=0;x<_;x++)p[w+x]=m[y+x]},flattenChunks:function(p){return[].concat.apply([],p)}};o.setTyped=function(p){p?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,c)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,d))},o.setTyped(u)},{}],42:[function(n,r,o){var u=n("./common"),c=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var p=new u.Buf8(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(_,w){if(w<65537&&(_.subarray&&d||!_.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(_,w));for(var x="",C=0;C<w;C++)x+=String.fromCharCode(_[C]);return x}p[254]=p[254]=1,o.string2buf=function(_){var w,x,C,b,T,k=_.length,M=0;for(b=0;b<k;b++)(64512&(x=_.charCodeAt(b)))==55296&&b+1<k&&(64512&(C=_.charCodeAt(b+1)))==56320&&(x=65536+(x-55296<<10)+(C-56320),b++),M+=x<128?1:x<2048?2:x<65536?3:4;for(w=new u.Buf8(M),b=T=0;T<M;b++)(64512&(x=_.charCodeAt(b)))==55296&&b+1<k&&(64512&(C=_.charCodeAt(b+1)))==56320&&(x=65536+(x-55296<<10)+(C-56320),b++),x<128?w[T++]=x:(x<2048?w[T++]=192|x>>>6:(x<65536?w[T++]=224|x>>>12:(w[T++]=240|x>>>18,w[T++]=128|x>>>12&63),w[T++]=128|x>>>6&63),w[T++]=128|63&x);return w},o.buf2binstring=function(_){return y(_,_.length)},o.binstring2buf=function(_){for(var w=new u.Buf8(_.length),x=0,C=w.length;x<C;x++)w[x]=_.charCodeAt(x);return w},o.buf2string=function(_,w){var x,C,b,T,k=w||_.length,M=new Array(2*k);for(x=C=0;x<k;)if((b=_[x++])<128)M[C++]=b;else if(4<(T=p[b]))M[C++]=65533,x+=T-1;else{for(b&=T===2?31:T===3?15:7;1<T&&x<k;)b=b<<6|63&_[x++],T--;1<T?M[C++]=65533:b<65536?M[C++]=b:(b-=65536,M[C++]=55296|b>>10&1023,M[C++]=56320|1023&b)}return y(M,C)},o.utf8border=function(_,w){var x;for((w=w||_.length)>_.length&&(w=_.length),x=w-1;0<=x&&(192&_[x])==128;)x--;return x<0||x===0?w:x+p[_[x]]>w?x:w}},{"./common":41}],43:[function(n,r,o){r.exports=function(u,c,d,p){for(var m=65535&u|0,y=u>>>16&65535|0,_=0;d!==0;){for(d-=_=2e3<d?2e3:d;y=y+(m=m+c[p++]|0)|0,--_;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(n,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,o){var u=(function(){for(var c,d=[],p=0;p<256;p++){c=p;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;d[p]=c}return d})();r.exports=function(c,d,p,m){var y=u,_=m+p;c^=-1;for(var w=m;w<_;w++)c=c>>>8^y[255&(c^d[w])];return-1^c}},{}],46:[function(n,r,o){var u,c=n("../utils/common"),d=n("./trees"),p=n("./adler32"),m=n("./crc32"),y=n("./messages"),_=0,w=4,x=0,C=-2,b=-1,T=4,k=2,M=8,U=9,K=286,Y=30,rt=19,P=2*K+1,O=15,I=3,L=258,G=L+I+1,N=42,D=113,R=1,J=2,et=3,tt=4;function bt(A,vt){return A.msg=y[vt],vt}function ft(A){return(A<<1)-(4<A?9:0)}function F(A){for(var vt=A.length;0<=--vt;)A[vt]=0}function $(A){var vt=A.state,pt=vt.pending;pt>A.avail_out&&(pt=A.avail_out),pt!==0&&(c.arraySet(A.output,vt.pending_buf,vt.pending_out,pt,A.next_out),A.next_out+=pt,vt.pending_out+=pt,A.total_out+=pt,A.avail_out-=pt,vt.pending-=pt,vt.pending===0&&(vt.pending_out=0))}function B(A,vt){d._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,vt),A.block_start=A.strstart,$(A.strm)}function Z(A,vt){A.pending_buf[A.pending++]=vt}function ut(A,vt){A.pending_buf[A.pending++]=vt>>>8&255,A.pending_buf[A.pending++]=255&vt}function yt(A,vt){var pt,H,q=A.max_chain_length,nt=A.strstart,wt=A.prev_length,At=A.nice_match,lt=A.strstart>A.w_size-G?A.strstart-(A.w_size-G):0,Ct=A.window,dt=A.w_mask,gt=A.prev,Rt=A.strstart+L,It=Ct[nt+wt-1],Pt=Ct[nt+wt];A.prev_length>=A.good_match&&(q>>=2),At>A.lookahead&&(At=A.lookahead);do if(Ct[(pt=vt)+wt]===Pt&&Ct[pt+wt-1]===It&&Ct[pt]===Ct[nt]&&Ct[++pt]===Ct[nt+1]){nt+=2,pt++;do;while(Ct[++nt]===Ct[++pt]&&Ct[++nt]===Ct[++pt]&&Ct[++nt]===Ct[++pt]&&Ct[++nt]===Ct[++pt]&&Ct[++nt]===Ct[++pt]&&Ct[++nt]===Ct[++pt]&&Ct[++nt]===Ct[++pt]&&Ct[++nt]===Ct[++pt]&&nt<Rt);if(H=L-(Rt-nt),nt=Rt-L,wt<H){if(A.match_start=vt,At<=(wt=H))break;It=Ct[nt+wt-1],Pt=Ct[nt+wt]}}while((vt=gt[vt&dt])>lt&&--q!=0);return wt<=A.lookahead?wt:A.lookahead}function Dt(A){var vt,pt,H,q,nt,wt,At,lt,Ct,dt,gt=A.w_size;do{if(q=A.window_size-A.lookahead-A.strstart,A.strstart>=gt+(gt-G)){for(c.arraySet(A.window,A.window,gt,gt,0),A.match_start-=gt,A.strstart-=gt,A.block_start-=gt,vt=pt=A.hash_size;H=A.head[--vt],A.head[vt]=gt<=H?H-gt:0,--pt;);for(vt=pt=gt;H=A.prev[--vt],A.prev[vt]=gt<=H?H-gt:0,--pt;);q+=gt}if(A.strm.avail_in===0)break;if(wt=A.strm,At=A.window,lt=A.strstart+A.lookahead,Ct=q,dt=void 0,dt=wt.avail_in,Ct<dt&&(dt=Ct),pt=dt===0?0:(wt.avail_in-=dt,c.arraySet(At,wt.input,wt.next_in,dt,lt),wt.state.wrap===1?wt.adler=p(wt.adler,At,dt,lt):wt.state.wrap===2&&(wt.adler=m(wt.adler,At,dt,lt)),wt.next_in+=dt,wt.total_in+=dt,dt),A.lookahead+=pt,A.lookahead+A.insert>=I)for(nt=A.strstart-A.insert,A.ins_h=A.window[nt],A.ins_h=(A.ins_h<<A.hash_shift^A.window[nt+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[nt+I-1])&A.hash_mask,A.prev[nt&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=nt,nt++,A.insert--,!(A.lookahead+A.insert<I)););}while(A.lookahead<G&&A.strm.avail_in!==0)}function $t(A,vt){for(var pt,H;;){if(A.lookahead<G){if(Dt(A),A.lookahead<G&&vt===_)return R;if(A.lookahead===0)break}if(pt=0,A.lookahead>=I&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,pt=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),pt!==0&&A.strstart-pt<=A.w_size-G&&(A.match_length=yt(A,pt)),A.match_length>=I)if(H=d._tr_tally(A,A.strstart-A.match_start,A.match_length-I),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=I){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,pt=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else H=d._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(H&&(B(A,!1),A.strm.avail_out===0))return R}return A.insert=A.strstart<I-1?A.strstart:I-1,vt===w?(B(A,!0),A.strm.avail_out===0?et:tt):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?R:J}function kt(A,vt){for(var pt,H,q;;){if(A.lookahead<G){if(Dt(A),A.lookahead<G&&vt===_)return R;if(A.lookahead===0)break}if(pt=0,A.lookahead>=I&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,pt=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=I-1,pt!==0&&A.prev_length<A.max_lazy_match&&A.strstart-pt<=A.w_size-G&&(A.match_length=yt(A,pt),A.match_length<=5&&(A.strategy===1||A.match_length===I&&4096<A.strstart-A.match_start)&&(A.match_length=I-1)),A.prev_length>=I&&A.match_length<=A.prev_length){for(q=A.strstart+A.lookahead-I,H=d._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-I),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=q&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,pt=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=I-1,A.strstart++,H&&(B(A,!1),A.strm.avail_out===0))return R}else if(A.match_available){if((H=d._tr_tally(A,0,A.window[A.strstart-1]))&&B(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return R}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(H=d._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<I-1?A.strstart:I-1,vt===w?(B(A,!0),A.strm.avail_out===0?et:tt):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?R:J}function jt(A,vt,pt,H,q){this.good_length=A,this.max_lazy=vt,this.nice_length=pt,this.max_chain=H,this.func=q}function qt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*P),this.dyn_dtree=new c.Buf16(2*(2*Y+1)),this.bl_tree=new c.Buf16(2*(2*rt+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(O+1),this.heap=new c.Buf16(2*K+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*K+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Gt(A){var vt;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=k,(vt=A.state).pending=0,vt.pending_out=0,vt.wrap<0&&(vt.wrap=-vt.wrap),vt.status=vt.wrap?N:D,A.adler=vt.wrap===2?0:1,vt.last_flush=_,d._tr_init(vt),x):bt(A,C)}function le(A){var vt=Gt(A);return vt===x&&(function(pt){pt.window_size=2*pt.w_size,F(pt.head),pt.max_lazy_match=u[pt.level].max_lazy,pt.good_match=u[pt.level].good_length,pt.nice_match=u[pt.level].nice_length,pt.max_chain_length=u[pt.level].max_chain,pt.strstart=0,pt.block_start=0,pt.lookahead=0,pt.insert=0,pt.match_length=pt.prev_length=I-1,pt.match_available=0,pt.ins_h=0})(A.state),vt}function we(A,vt,pt,H,q,nt){if(!A)return C;var wt=1;if(vt===b&&(vt=6),H<0?(wt=0,H=-H):15<H&&(wt=2,H-=16),q<1||U<q||pt!==M||H<8||15<H||vt<0||9<vt||nt<0||T<nt)return bt(A,C);H===8&&(H=9);var At=new qt;return(A.state=At).strm=A,At.wrap=wt,At.gzhead=null,At.w_bits=H,At.w_size=1<<At.w_bits,At.w_mask=At.w_size-1,At.hash_bits=q+7,At.hash_size=1<<At.hash_bits,At.hash_mask=At.hash_size-1,At.hash_shift=~~((At.hash_bits+I-1)/I),At.window=new c.Buf8(2*At.w_size),At.head=new c.Buf16(At.hash_size),At.prev=new c.Buf16(At.w_size),At.lit_bufsize=1<<q+6,At.pending_buf_size=4*At.lit_bufsize,At.pending_buf=new c.Buf8(At.pending_buf_size),At.d_buf=1*At.lit_bufsize,At.l_buf=3*At.lit_bufsize,At.level=vt,At.strategy=nt,At.method=pt,le(A)}u=[new jt(0,0,0,0,function(A,vt){var pt=65535;for(pt>A.pending_buf_size-5&&(pt=A.pending_buf_size-5);;){if(A.lookahead<=1){if(Dt(A),A.lookahead===0&&vt===_)return R;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var H=A.block_start+pt;if((A.strstart===0||A.strstart>=H)&&(A.lookahead=A.strstart-H,A.strstart=H,B(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-G&&(B(A,!1),A.strm.avail_out===0))return R}return A.insert=0,vt===w?(B(A,!0),A.strm.avail_out===0?et:tt):(A.strstart>A.block_start&&(B(A,!1),A.strm.avail_out),R)}),new jt(4,4,8,4,$t),new jt(4,5,16,8,$t),new jt(4,6,32,32,$t),new jt(4,4,16,16,kt),new jt(8,16,32,32,kt),new jt(8,16,128,128,kt),new jt(8,32,128,256,kt),new jt(32,128,258,1024,kt),new jt(32,258,258,4096,kt)],o.deflateInit=function(A,vt){return we(A,vt,M,15,8,0)},o.deflateInit2=we,o.deflateReset=le,o.deflateResetKeep=Gt,o.deflateSetHeader=function(A,vt){return A&&A.state?A.state.wrap!==2?C:(A.state.gzhead=vt,x):C},o.deflate=function(A,vt){var pt,H,q,nt;if(!A||!A.state||5<vt||vt<0)return A?bt(A,C):C;if(H=A.state,!A.output||!A.input&&A.avail_in!==0||H.status===666&&vt!==w)return bt(A,A.avail_out===0?-5:C);if(H.strm=A,pt=H.last_flush,H.last_flush=vt,H.status===N)if(H.wrap===2)A.adler=0,Z(H,31),Z(H,139),Z(H,8),H.gzhead?(Z(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),Z(H,255&H.gzhead.time),Z(H,H.gzhead.time>>8&255),Z(H,H.gzhead.time>>16&255),Z(H,H.gzhead.time>>24&255),Z(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),Z(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(Z(H,255&H.gzhead.extra.length),Z(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(A.adler=m(A.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(Z(H,0),Z(H,0),Z(H,0),Z(H,0),Z(H,0),Z(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),Z(H,3),H.status=D);else{var wt=M+(H.w_bits-8<<4)<<8;wt|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(wt|=32),wt+=31-wt%31,H.status=D,ut(H,wt),H.strstart!==0&&(ut(H,A.adler>>>16),ut(H,65535&A.adler)),A.adler=1}if(H.status===69)if(H.gzhead.extra){for(q=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>q&&(A.adler=m(A.adler,H.pending_buf,H.pending-q,q)),$(A),q=H.pending,H.pending!==H.pending_buf_size));)Z(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>q&&(A.adler=m(A.adler,H.pending_buf,H.pending-q,q)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){q=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>q&&(A.adler=m(A.adler,H.pending_buf,H.pending-q,q)),$(A),q=H.pending,H.pending===H.pending_buf_size)){nt=1;break}nt=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,Z(H,nt)}while(nt!==0);H.gzhead.hcrc&&H.pending>q&&(A.adler=m(A.adler,H.pending_buf,H.pending-q,q)),nt===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){q=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>q&&(A.adler=m(A.adler,H.pending_buf,H.pending-q,q)),$(A),q=H.pending,H.pending===H.pending_buf_size)){nt=1;break}nt=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,Z(H,nt)}while(nt!==0);H.gzhead.hcrc&&H.pending>q&&(A.adler=m(A.adler,H.pending_buf,H.pending-q,q)),nt===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&$(A),H.pending+2<=H.pending_buf_size&&(Z(H,255&A.adler),Z(H,A.adler>>8&255),A.adler=0,H.status=D)):H.status=D),H.pending!==0){if($(A),A.avail_out===0)return H.last_flush=-1,x}else if(A.avail_in===0&&ft(vt)<=ft(pt)&&vt!==w)return bt(A,-5);if(H.status===666&&A.avail_in!==0)return bt(A,-5);if(A.avail_in!==0||H.lookahead!==0||vt!==_&&H.status!==666){var At=H.strategy===2?(function(lt,Ct){for(var dt;;){if(lt.lookahead===0&&(Dt(lt),lt.lookahead===0)){if(Ct===_)return R;break}if(lt.match_length=0,dt=d._tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++,dt&&(B(lt,!1),lt.strm.avail_out===0))return R}return lt.insert=0,Ct===w?(B(lt,!0),lt.strm.avail_out===0?et:tt):lt.last_lit&&(B(lt,!1),lt.strm.avail_out===0)?R:J})(H,vt):H.strategy===3?(function(lt,Ct){for(var dt,gt,Rt,It,Pt=lt.window;;){if(lt.lookahead<=L){if(Dt(lt),lt.lookahead<=L&&Ct===_)return R;if(lt.lookahead===0)break}if(lt.match_length=0,lt.lookahead>=I&&0<lt.strstart&&(gt=Pt[Rt=lt.strstart-1])===Pt[++Rt]&&gt===Pt[++Rt]&&gt===Pt[++Rt]){It=lt.strstart+L;do;while(gt===Pt[++Rt]&&gt===Pt[++Rt]&&gt===Pt[++Rt]&&gt===Pt[++Rt]&&gt===Pt[++Rt]&&gt===Pt[++Rt]&&gt===Pt[++Rt]&&gt===Pt[++Rt]&&Rt<It);lt.match_length=L-(It-Rt),lt.match_length>lt.lookahead&&(lt.match_length=lt.lookahead)}if(lt.match_length>=I?(dt=d._tr_tally(lt,1,lt.match_length-I),lt.lookahead-=lt.match_length,lt.strstart+=lt.match_length,lt.match_length=0):(dt=d._tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++),dt&&(B(lt,!1),lt.strm.avail_out===0))return R}return lt.insert=0,Ct===w?(B(lt,!0),lt.strm.avail_out===0?et:tt):lt.last_lit&&(B(lt,!1),lt.strm.avail_out===0)?R:J})(H,vt):u[H.level].func(H,vt);if(At!==et&&At!==tt||(H.status=666),At===R||At===et)return A.avail_out===0&&(H.last_flush=-1),x;if(At===J&&(vt===1?d._tr_align(H):vt!==5&&(d._tr_stored_block(H,0,0,!1),vt===3&&(F(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),$(A),A.avail_out===0))return H.last_flush=-1,x}return vt!==w?x:H.wrap<=0?1:(H.wrap===2?(Z(H,255&A.adler),Z(H,A.adler>>8&255),Z(H,A.adler>>16&255),Z(H,A.adler>>24&255),Z(H,255&A.total_in),Z(H,A.total_in>>8&255),Z(H,A.total_in>>16&255),Z(H,A.total_in>>24&255)):(ut(H,A.adler>>>16),ut(H,65535&A.adler)),$(A),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?x:1)},o.deflateEnd=function(A){var vt;return A&&A.state?(vt=A.state.status)!==N&&vt!==69&&vt!==73&&vt!==91&&vt!==103&&vt!==D&&vt!==666?bt(A,C):(A.state=null,vt===D?bt(A,-3):x):C},o.deflateSetDictionary=function(A,vt){var pt,H,q,nt,wt,At,lt,Ct,dt=vt.length;if(!A||!A.state||(nt=(pt=A.state).wrap)===2||nt===1&&pt.status!==N||pt.lookahead)return C;for(nt===1&&(A.adler=p(A.adler,vt,dt,0)),pt.wrap=0,dt>=pt.w_size&&(nt===0&&(F(pt.head),pt.strstart=0,pt.block_start=0,pt.insert=0),Ct=new c.Buf8(pt.w_size),c.arraySet(Ct,vt,dt-pt.w_size,pt.w_size,0),vt=Ct,dt=pt.w_size),wt=A.avail_in,At=A.next_in,lt=A.input,A.avail_in=dt,A.next_in=0,A.input=vt,Dt(pt);pt.lookahead>=I;){for(H=pt.strstart,q=pt.lookahead-(I-1);pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[H+I-1])&pt.hash_mask,pt.prev[H&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=H,H++,--q;);pt.strstart=H,pt.lookahead=I-1,Dt(pt)}return pt.strstart+=pt.lookahead,pt.block_start=pt.strstart,pt.insert=pt.lookahead,pt.lookahead=0,pt.match_length=pt.prev_length=I-1,pt.match_available=0,A.next_in=At,A.input=lt,A.avail_in=wt,pt.wrap=nt,x},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,o){r.exports=function(u,c){var d,p,m,y,_,w,x,C,b,T,k,M,U,K,Y,rt,P,O,I,L,G,N,D,R,J;d=u.state,p=u.next_in,R=u.input,m=p+(u.avail_in-5),y=u.next_out,J=u.output,_=y-(c-u.avail_out),w=y+(u.avail_out-257),x=d.dmax,C=d.wsize,b=d.whave,T=d.wnext,k=d.window,M=d.hold,U=d.bits,K=d.lencode,Y=d.distcode,rt=(1<<d.lenbits)-1,P=(1<<d.distbits)-1;t:do{U<15&&(M+=R[p++]<<U,U+=8,M+=R[p++]<<U,U+=8),O=K[M&rt];e:for(;;){if(M>>>=I=O>>>24,U-=I,(I=O>>>16&255)===0)J[y++]=65535&O;else{if(!(16&I)){if((64&I)==0){O=K[(65535&O)+(M&(1<<I)-1)];continue e}if(32&I){d.mode=12;break t}u.msg="invalid literal/length code",d.mode=30;break t}L=65535&O,(I&=15)&&(U<I&&(M+=R[p++]<<U,U+=8),L+=M&(1<<I)-1,M>>>=I,U-=I),U<15&&(M+=R[p++]<<U,U+=8,M+=R[p++]<<U,U+=8),O=Y[M&P];n:for(;;){if(M>>>=I=O>>>24,U-=I,!(16&(I=O>>>16&255))){if((64&I)==0){O=Y[(65535&O)+(M&(1<<I)-1)];continue n}u.msg="invalid distance code",d.mode=30;break t}if(G=65535&O,U<(I&=15)&&(M+=R[p++]<<U,(U+=8)<I&&(M+=R[p++]<<U,U+=8)),x<(G+=M&(1<<I)-1)){u.msg="invalid distance too far back",d.mode=30;break t}if(M>>>=I,U-=I,(I=y-_)<G){if(b<(I=G-I)&&d.sane){u.msg="invalid distance too far back",d.mode=30;break t}if(D=k,(N=0)===T){if(N+=C-I,I<L){for(L-=I;J[y++]=k[N++],--I;);N=y-G,D=J}}else if(T<I){if(N+=C+T-I,(I-=T)<L){for(L-=I;J[y++]=k[N++],--I;);if(N=0,T<L){for(L-=I=T;J[y++]=k[N++],--I;);N=y-G,D=J}}}else if(N+=T-I,I<L){for(L-=I;J[y++]=k[N++],--I;);N=y-G,D=J}for(;2<L;)J[y++]=D[N++],J[y++]=D[N++],J[y++]=D[N++],L-=3;L&&(J[y++]=D[N++],1<L&&(J[y++]=D[N++]))}else{for(N=y-G;J[y++]=J[N++],J[y++]=J[N++],J[y++]=J[N++],2<(L-=3););L&&(J[y++]=J[N++],1<L&&(J[y++]=J[N++]))}break}}break}}while(p<m&&y<w);p-=L=U>>3,M&=(1<<(U-=L<<3))-1,u.next_in=p,u.next_out=y,u.avail_in=p<m?m-p+5:5-(p-m),u.avail_out=y<w?w-y+257:257-(y-w),d.hold=M,d.bits=U}},{}],49:[function(n,r,o){var u=n("../utils/common"),c=n("./adler32"),d=n("./crc32"),p=n("./inffast"),m=n("./inftrees"),y=1,_=2,w=0,x=-2,C=1,b=852,T=592;function k(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function U(N){var D;return N&&N.state?(D=N.state,N.total_in=N.total_out=D.total=0,N.msg="",D.wrap&&(N.adler=1&D.wrap),D.mode=C,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new u.Buf32(b),D.distcode=D.distdyn=new u.Buf32(T),D.sane=1,D.back=-1,w):x}function K(N){var D;return N&&N.state?((D=N.state).wsize=0,D.whave=0,D.wnext=0,U(N)):x}function Y(N,D){var R,J;return N&&N.state?(J=N.state,D<0?(R=0,D=-D):(R=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?x:(J.window!==null&&J.wbits!==D&&(J.window=null),J.wrap=R,J.wbits=D,K(N))):x}function rt(N,D){var R,J;return N?(J=new M,(N.state=J).window=null,(R=Y(N,D))!==w&&(N.state=null),R):x}var P,O,I=!0;function L(N){if(I){var D;for(P=new u.Buf32(512),O=new u.Buf32(32),D=0;D<144;)N.lens[D++]=8;for(;D<256;)N.lens[D++]=9;for(;D<280;)N.lens[D++]=7;for(;D<288;)N.lens[D++]=8;for(m(y,N.lens,0,288,P,0,N.work,{bits:9}),D=0;D<32;)N.lens[D++]=5;m(_,N.lens,0,32,O,0,N.work,{bits:5}),I=!1}N.lencode=P,N.lenbits=9,N.distcode=O,N.distbits=5}function G(N,D,R,J){var et,tt=N.state;return tt.window===null&&(tt.wsize=1<<tt.wbits,tt.wnext=0,tt.whave=0,tt.window=new u.Buf8(tt.wsize)),J>=tt.wsize?(u.arraySet(tt.window,D,R-tt.wsize,tt.wsize,0),tt.wnext=0,tt.whave=tt.wsize):(J<(et=tt.wsize-tt.wnext)&&(et=J),u.arraySet(tt.window,D,R-J,et,tt.wnext),(J-=et)?(u.arraySet(tt.window,D,R-J,J,0),tt.wnext=J,tt.whave=tt.wsize):(tt.wnext+=et,tt.wnext===tt.wsize&&(tt.wnext=0),tt.whave<tt.wsize&&(tt.whave+=et))),0}o.inflateReset=K,o.inflateReset2=Y,o.inflateResetKeep=U,o.inflateInit=function(N){return rt(N,15)},o.inflateInit2=rt,o.inflate=function(N,D){var R,J,et,tt,bt,ft,F,$,B,Z,ut,yt,Dt,$t,kt,jt,qt,Gt,le,we,A,vt,pt,H,q=0,nt=new u.Buf8(4),wt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return x;(R=N.state).mode===12&&(R.mode=13),bt=N.next_out,et=N.output,F=N.avail_out,tt=N.next_in,J=N.input,ft=N.avail_in,$=R.hold,B=R.bits,Z=ft,ut=F,vt=w;t:for(;;)switch(R.mode){case C:if(R.wrap===0){R.mode=13;break}for(;B<16;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if(2&R.wrap&&$===35615){nt[R.check=0]=255&$,nt[1]=$>>>8&255,R.check=d(R.check,nt,2,0),B=$=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&$)<<8)+($>>8))%31){N.msg="incorrect header check",R.mode=30;break}if((15&$)!=8){N.msg="unknown compression method",R.mode=30;break}if(B-=4,A=8+(15&($>>>=4)),R.wbits===0)R.wbits=A;else if(A>R.wbits){N.msg="invalid window size",R.mode=30;break}R.dmax=1<<A,N.adler=R.check=1,R.mode=512&$?10:12,B=$=0;break;case 2:for(;B<16;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if(R.flags=$,(255&R.flags)!=8){N.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){N.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=$>>8&1),512&R.flags&&(nt[0]=255&$,nt[1]=$>>>8&255,R.check=d(R.check,nt,2,0)),B=$=0,R.mode=3;case 3:for(;B<32;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}R.head&&(R.head.time=$),512&R.flags&&(nt[0]=255&$,nt[1]=$>>>8&255,nt[2]=$>>>16&255,nt[3]=$>>>24&255,R.check=d(R.check,nt,4,0)),B=$=0,R.mode=4;case 4:for(;B<16;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}R.head&&(R.head.xflags=255&$,R.head.os=$>>8),512&R.flags&&(nt[0]=255&$,nt[1]=$>>>8&255,R.check=d(R.check,nt,2,0)),B=$=0,R.mode=5;case 5:if(1024&R.flags){for(;B<16;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}R.length=$,R.head&&(R.head.extra_len=$),512&R.flags&&(nt[0]=255&$,nt[1]=$>>>8&255,R.check=d(R.check,nt,2,0)),B=$=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(ft<(yt=R.length)&&(yt=ft),yt&&(R.head&&(A=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),u.arraySet(R.head.extra,J,tt,yt,A)),512&R.flags&&(R.check=d(R.check,J,yt,tt)),ft-=yt,tt+=yt,R.length-=yt),R.length))break t;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(ft===0)break t;for(yt=0;A=J[tt+yt++],R.head&&A&&R.length<65536&&(R.head.name+=String.fromCharCode(A)),A&&yt<ft;);if(512&R.flags&&(R.check=d(R.check,J,yt,tt)),ft-=yt,tt+=yt,A)break t}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(ft===0)break t;for(yt=0;A=J[tt+yt++],R.head&&A&&R.length<65536&&(R.head.comment+=String.fromCharCode(A)),A&&yt<ft;);if(512&R.flags&&(R.check=d(R.check,J,yt,tt)),ft-=yt,tt+=yt,A)break t}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;B<16;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if($!==(65535&R.check)){N.msg="header crc mismatch",R.mode=30;break}B=$=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),N.adler=R.check=0,R.mode=12;break;case 10:for(;B<32;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}N.adler=R.check=k($),B=$=0,R.mode=11;case 11:if(R.havedict===0)return N.next_out=bt,N.avail_out=F,N.next_in=tt,N.avail_in=ft,R.hold=$,R.bits=B,2;N.adler=R.check=1,R.mode=12;case 12:if(D===5||D===6)break t;case 13:if(R.last){$>>>=7&B,B-=7&B,R.mode=27;break}for(;B<3;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}switch(R.last=1&$,B-=1,3&($>>>=1)){case 0:R.mode=14;break;case 1:if(L(R),R.mode=20,D!==6)break;$>>>=2,B-=2;break t;case 2:R.mode=17;break;case 3:N.msg="invalid block type",R.mode=30}$>>>=2,B-=2;break;case 14:for($>>>=7&B,B-=7&B;B<32;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if((65535&$)!=($>>>16^65535)){N.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&$,B=$=0,R.mode=15,D===6)break t;case 15:R.mode=16;case 16:if(yt=R.length){if(ft<yt&&(yt=ft),F<yt&&(yt=F),yt===0)break t;u.arraySet(et,J,tt,yt,bt),ft-=yt,tt+=yt,F-=yt,bt+=yt,R.length-=yt;break}R.mode=12;break;case 17:for(;B<14;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if(R.nlen=257+(31&$),$>>>=5,B-=5,R.ndist=1+(31&$),$>>>=5,B-=5,R.ncode=4+(15&$),$>>>=4,B-=4,286<R.nlen||30<R.ndist){N.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;B<3;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}R.lens[wt[R.have++]]=7&$,$>>>=3,B-=3}for(;R.have<19;)R.lens[wt[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,pt={bits:R.lenbits},vt=m(0,R.lens,0,19,R.lencode,0,R.work,pt),R.lenbits=pt.bits,vt){N.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;jt=(q=R.lencode[$&(1<<R.lenbits)-1])>>>16&255,qt=65535&q,!((kt=q>>>24)<=B);){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if(qt<16)$>>>=kt,B-=kt,R.lens[R.have++]=qt;else{if(qt===16){for(H=kt+2;B<H;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if($>>>=kt,B-=kt,R.have===0){N.msg="invalid bit length repeat",R.mode=30;break}A=R.lens[R.have-1],yt=3+(3&$),$>>>=2,B-=2}else if(qt===17){for(H=kt+3;B<H;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}B-=kt,A=0,yt=3+(7&($>>>=kt)),$>>>=3,B-=3}else{for(H=kt+7;B<H;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}B-=kt,A=0,yt=11+(127&($>>>=kt)),$>>>=7,B-=7}if(R.have+yt>R.nlen+R.ndist){N.msg="invalid bit length repeat",R.mode=30;break}for(;yt--;)R.lens[R.have++]=A}}if(R.mode===30)break;if(R.lens[256]===0){N.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,pt={bits:R.lenbits},vt=m(y,R.lens,0,R.nlen,R.lencode,0,R.work,pt),R.lenbits=pt.bits,vt){N.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,pt={bits:R.distbits},vt=m(_,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,pt),R.distbits=pt.bits,vt){N.msg="invalid distances set",R.mode=30;break}if(R.mode=20,D===6)break t;case 20:R.mode=21;case 21:if(6<=ft&&258<=F){N.next_out=bt,N.avail_out=F,N.next_in=tt,N.avail_in=ft,R.hold=$,R.bits=B,p(N,ut),bt=N.next_out,et=N.output,F=N.avail_out,tt=N.next_in,J=N.input,ft=N.avail_in,$=R.hold,B=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;jt=(q=R.lencode[$&(1<<R.lenbits)-1])>>>16&255,qt=65535&q,!((kt=q>>>24)<=B);){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if(jt&&(240&jt)==0){for(Gt=kt,le=jt,we=qt;jt=(q=R.lencode[we+(($&(1<<Gt+le)-1)>>Gt)])>>>16&255,qt=65535&q,!(Gt+(kt=q>>>24)<=B);){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}$>>>=Gt,B-=Gt,R.back+=Gt}if($>>>=kt,B-=kt,R.back+=kt,R.length=qt,jt===0){R.mode=26;break}if(32&jt){R.back=-1,R.mode=12;break}if(64&jt){N.msg="invalid literal/length code",R.mode=30;break}R.extra=15&jt,R.mode=22;case 22:if(R.extra){for(H=R.extra;B<H;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}R.length+=$&(1<<R.extra)-1,$>>>=R.extra,B-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;jt=(q=R.distcode[$&(1<<R.distbits)-1])>>>16&255,qt=65535&q,!((kt=q>>>24)<=B);){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if((240&jt)==0){for(Gt=kt,le=jt,we=qt;jt=(q=R.distcode[we+(($&(1<<Gt+le)-1)>>Gt)])>>>16&255,qt=65535&q,!(Gt+(kt=q>>>24)<=B);){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}$>>>=Gt,B-=Gt,R.back+=Gt}if($>>>=kt,B-=kt,R.back+=kt,64&jt){N.msg="invalid distance code",R.mode=30;break}R.offset=qt,R.extra=15&jt,R.mode=24;case 24:if(R.extra){for(H=R.extra;B<H;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}R.offset+=$&(1<<R.extra)-1,$>>>=R.extra,B-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){N.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(F===0)break t;if(yt=ut-F,R.offset>yt){if((yt=R.offset-yt)>R.whave&&R.sane){N.msg="invalid distance too far back",R.mode=30;break}Dt=yt>R.wnext?(yt-=R.wnext,R.wsize-yt):R.wnext-yt,yt>R.length&&(yt=R.length),$t=R.window}else $t=et,Dt=bt-R.offset,yt=R.length;for(F<yt&&(yt=F),F-=yt,R.length-=yt;et[bt++]=$t[Dt++],--yt;);R.length===0&&(R.mode=21);break;case 26:if(F===0)break t;et[bt++]=R.length,F--,R.mode=21;break;case 27:if(R.wrap){for(;B<32;){if(ft===0)break t;ft--,$|=J[tt++]<<B,B+=8}if(ut-=F,N.total_out+=ut,R.total+=ut,ut&&(N.adler=R.check=R.flags?d(R.check,et,ut,bt-ut):c(R.check,et,ut,bt-ut)),ut=F,(R.flags?$:k($))!==R.check){N.msg="incorrect data check",R.mode=30;break}B=$=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;B<32;){if(ft===0)break t;ft--,$+=J[tt++]<<B,B+=8}if($!==(4294967295&R.total)){N.msg="incorrect length check",R.mode=30;break}B=$=0}R.mode=29;case 29:vt=1;break t;case 30:vt=-3;break t;case 31:return-4;case 32:default:return x}return N.next_out=bt,N.avail_out=F,N.next_in=tt,N.avail_in=ft,R.hold=$,R.bits=B,(R.wsize||ut!==N.avail_out&&R.mode<30&&(R.mode<27||D!==4))&&G(N,N.output,N.next_out,ut-N.avail_out)?(R.mode=31,-4):(Z-=N.avail_in,ut-=N.avail_out,N.total_in+=Z,N.total_out+=ut,R.total+=ut,R.wrap&&ut&&(N.adler=R.check=R.flags?d(R.check,et,ut,N.next_out-ut):c(R.check,et,ut,N.next_out-ut)),N.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(Z==0&&ut===0||D===4)&&vt===w&&(vt=-5),vt)},o.inflateEnd=function(N){if(!N||!N.state)return x;var D=N.state;return D.window&&(D.window=null),N.state=null,w},o.inflateGetHeader=function(N,D){var R;return N&&N.state?(2&(R=N.state).wrap)==0?x:((R.head=D).done=!1,w):x},o.inflateSetDictionary=function(N,D){var R,J=D.length;return N&&N.state?(R=N.state).wrap!==0&&R.mode!==11?x:R.mode===11&&c(1,D,J,0)!==R.check?-3:G(N,D,J,J)?(R.mode=31,-4):(R.havedict=1,w):x},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,o){var u=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(y,_,w,x,C,b,T,k){var M,U,K,Y,rt,P,O,I,L,G=k.bits,N=0,D=0,R=0,J=0,et=0,tt=0,bt=0,ft=0,F=0,$=0,B=null,Z=0,ut=new u.Buf16(16),yt=new u.Buf16(16),Dt=null,$t=0;for(N=0;N<=15;N++)ut[N]=0;for(D=0;D<x;D++)ut[_[w+D]]++;for(et=G,J=15;1<=J&&ut[J]===0;J--);if(J<et&&(et=J),J===0)return C[b++]=20971520,C[b++]=20971520,k.bits=1,0;for(R=1;R<J&&ut[R]===0;R++);for(et<R&&(et=R),N=ft=1;N<=15;N++)if(ft<<=1,(ft-=ut[N])<0)return-1;if(0<ft&&(y===0||J!==1))return-1;for(yt[1]=0,N=1;N<15;N++)yt[N+1]=yt[N]+ut[N];for(D=0;D<x;D++)_[w+D]!==0&&(T[yt[_[w+D]]++]=D);if(P=y===0?(B=Dt=T,19):y===1?(B=c,Z-=257,Dt=d,$t-=257,256):(B=p,Dt=m,-1),N=R,rt=b,bt=D=$=0,K=-1,Y=(F=1<<(tt=et))-1,y===1&&852<F||y===2&&592<F)return 1;for(;;){for(O=N-bt,L=T[D]<P?(I=0,T[D]):T[D]>P?(I=Dt[$t+T[D]],B[Z+T[D]]):(I=96,0),M=1<<N-bt,R=U=1<<tt;C[rt+($>>bt)+(U-=M)]=O<<24|I<<16|L|0,U!==0;);for(M=1<<N-1;$&M;)M>>=1;if(M!==0?($&=M-1,$+=M):$=0,D++,--ut[N]==0){if(N===J)break;N=_[w+T[D]]}if(et<N&&($&Y)!==K){for(bt===0&&(bt=et),rt+=R,ft=1<<(tt=N-bt);tt+bt<J&&!((ft-=ut[tt+bt])<=0);)tt++,ft<<=1;if(F+=1<<tt,y===1&&852<F||y===2&&592<F)return 1;C[K=$&Y]=et<<24|tt<<16|rt-b|0}}return $!==0&&(C[rt+$]=N-bt<<24|64<<16|0),k.bits=et,0}},{"../utils/common":41}],51:[function(n,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,o){var u=n("../utils/common"),c=0,d=1;function p(q){for(var nt=q.length;0<=--nt;)q[nt]=0}var m=0,y=29,_=256,w=_+1+y,x=30,C=19,b=2*w+1,T=15,k=16,M=7,U=256,K=16,Y=17,rt=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(w+2));p(G);var N=new Array(2*x);p(N);var D=new Array(512);p(D);var R=new Array(256);p(R);var J=new Array(y);p(J);var et,tt,bt,ft=new Array(x);function F(q,nt,wt,At,lt){this.static_tree=q,this.extra_bits=nt,this.extra_base=wt,this.elems=At,this.max_length=lt,this.has_stree=q&&q.length}function $(q,nt){this.dyn_tree=q,this.max_code=0,this.stat_desc=nt}function B(q){return q<256?D[q]:D[256+(q>>>7)]}function Z(q,nt){q.pending_buf[q.pending++]=255&nt,q.pending_buf[q.pending++]=nt>>>8&255}function ut(q,nt,wt){q.bi_valid>k-wt?(q.bi_buf|=nt<<q.bi_valid&65535,Z(q,q.bi_buf),q.bi_buf=nt>>k-q.bi_valid,q.bi_valid+=wt-k):(q.bi_buf|=nt<<q.bi_valid&65535,q.bi_valid+=wt)}function yt(q,nt,wt){ut(q,wt[2*nt],wt[2*nt+1])}function Dt(q,nt){for(var wt=0;wt|=1&q,q>>>=1,wt<<=1,0<--nt;);return wt>>>1}function $t(q,nt,wt){var At,lt,Ct=new Array(T+1),dt=0;for(At=1;At<=T;At++)Ct[At]=dt=dt+wt[At-1]<<1;for(lt=0;lt<=nt;lt++){var gt=q[2*lt+1];gt!==0&&(q[2*lt]=Dt(Ct[gt]++,gt))}}function kt(q){var nt;for(nt=0;nt<w;nt++)q.dyn_ltree[2*nt]=0;for(nt=0;nt<x;nt++)q.dyn_dtree[2*nt]=0;for(nt=0;nt<C;nt++)q.bl_tree[2*nt]=0;q.dyn_ltree[2*U]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function jt(q){8<q.bi_valid?Z(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function qt(q,nt,wt,At){var lt=2*nt,Ct=2*wt;return q[lt]<q[Ct]||q[lt]===q[Ct]&&At[nt]<=At[wt]}function Gt(q,nt,wt){for(var At=q.heap[wt],lt=wt<<1;lt<=q.heap_len&&(lt<q.heap_len&&qt(nt,q.heap[lt+1],q.heap[lt],q.depth)&&lt++,!qt(nt,At,q.heap[lt],q.depth));)q.heap[wt]=q.heap[lt],wt=lt,lt<<=1;q.heap[wt]=At}function le(q,nt,wt){var At,lt,Ct,dt,gt=0;if(q.last_lit!==0)for(;At=q.pending_buf[q.d_buf+2*gt]<<8|q.pending_buf[q.d_buf+2*gt+1],lt=q.pending_buf[q.l_buf+gt],gt++,At===0?yt(q,lt,nt):(yt(q,(Ct=R[lt])+_+1,nt),(dt=P[Ct])!==0&&ut(q,lt-=J[Ct],dt),yt(q,Ct=B(--At),wt),(dt=O[Ct])!==0&&ut(q,At-=ft[Ct],dt)),gt<q.last_lit;);yt(q,U,nt)}function we(q,nt){var wt,At,lt,Ct=nt.dyn_tree,dt=nt.stat_desc.static_tree,gt=nt.stat_desc.has_stree,Rt=nt.stat_desc.elems,It=-1;for(q.heap_len=0,q.heap_max=b,wt=0;wt<Rt;wt++)Ct[2*wt]!==0?(q.heap[++q.heap_len]=It=wt,q.depth[wt]=0):Ct[2*wt+1]=0;for(;q.heap_len<2;)Ct[2*(lt=q.heap[++q.heap_len]=It<2?++It:0)]=1,q.depth[lt]=0,q.opt_len--,gt&&(q.static_len-=dt[2*lt+1]);for(nt.max_code=It,wt=q.heap_len>>1;1<=wt;wt--)Gt(q,Ct,wt);for(lt=Rt;wt=q.heap[1],q.heap[1]=q.heap[q.heap_len--],Gt(q,Ct,1),At=q.heap[1],q.heap[--q.heap_max]=wt,q.heap[--q.heap_max]=At,Ct[2*lt]=Ct[2*wt]+Ct[2*At],q.depth[lt]=(q.depth[wt]>=q.depth[At]?q.depth[wt]:q.depth[At])+1,Ct[2*wt+1]=Ct[2*At+1]=lt,q.heap[1]=lt++,Gt(q,Ct,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(Pt,ne){var cn,en,hn,ue,fn,Qe,Le=ne.dyn_tree,On=ne.max_code,oi=ne.stat_desc.static_tree,$i=ne.stat_desc.has_stree,hr=ne.stat_desc.extra_bits,$n=ne.stat_desc.extra_base,An=ne.stat_desc.max_length,bi=0;for(ue=0;ue<=T;ue++)Pt.bl_count[ue]=0;for(Le[2*Pt.heap[Pt.heap_max]+1]=0,cn=Pt.heap_max+1;cn<b;cn++)An<(ue=Le[2*Le[2*(en=Pt.heap[cn])+1]+1]+1)&&(ue=An,bi++),Le[2*en+1]=ue,On<en||(Pt.bl_count[ue]++,fn=0,$n<=en&&(fn=hr[en-$n]),Qe=Le[2*en],Pt.opt_len+=Qe*(ue+fn),$i&&(Pt.static_len+=Qe*(oi[2*en+1]+fn)));if(bi!==0){do{for(ue=An-1;Pt.bl_count[ue]===0;)ue--;Pt.bl_count[ue]--,Pt.bl_count[ue+1]+=2,Pt.bl_count[An]--,bi-=2}while(0<bi);for(ue=An;ue!==0;ue--)for(en=Pt.bl_count[ue];en!==0;)On<(hn=Pt.heap[--cn])||(Le[2*hn+1]!==ue&&(Pt.opt_len+=(ue-Le[2*hn+1])*Le[2*hn],Le[2*hn+1]=ue),en--)}})(q,nt),$t(Ct,It,q.bl_count)}function A(q,nt,wt){var At,lt,Ct=-1,dt=nt[1],gt=0,Rt=7,It=4;for(dt===0&&(Rt=138,It=3),nt[2*(wt+1)+1]=65535,At=0;At<=wt;At++)lt=dt,dt=nt[2*(At+1)+1],++gt<Rt&&lt===dt||(gt<It?q.bl_tree[2*lt]+=gt:lt!==0?(lt!==Ct&&q.bl_tree[2*lt]++,q.bl_tree[2*K]++):gt<=10?q.bl_tree[2*Y]++:q.bl_tree[2*rt]++,Ct=lt,It=(gt=0)===dt?(Rt=138,3):lt===dt?(Rt=6,3):(Rt=7,4))}function vt(q,nt,wt){var At,lt,Ct=-1,dt=nt[1],gt=0,Rt=7,It=4;for(dt===0&&(Rt=138,It=3),At=0;At<=wt;At++)if(lt=dt,dt=nt[2*(At+1)+1],!(++gt<Rt&&lt===dt)){if(gt<It)for(;yt(q,lt,q.bl_tree),--gt!=0;);else lt!==0?(lt!==Ct&&(yt(q,lt,q.bl_tree),gt--),yt(q,K,q.bl_tree),ut(q,gt-3,2)):gt<=10?(yt(q,Y,q.bl_tree),ut(q,gt-3,3)):(yt(q,rt,q.bl_tree),ut(q,gt-11,7));Ct=lt,It=(gt=0)===dt?(Rt=138,3):lt===dt?(Rt=6,3):(Rt=7,4)}}p(ft);var pt=!1;function H(q,nt,wt,At){ut(q,(m<<1)+(At?1:0),3),(function(lt,Ct,dt,gt){jt(lt),Z(lt,dt),Z(lt,~dt),u.arraySet(lt.pending_buf,lt.window,Ct,dt,lt.pending),lt.pending+=dt})(q,nt,wt)}o._tr_init=function(q){pt||((function(){var nt,wt,At,lt,Ct,dt=new Array(T+1);for(lt=At=0;lt<y-1;lt++)for(J[lt]=At,nt=0;nt<1<<P[lt];nt++)R[At++]=lt;for(R[At-1]=lt,lt=Ct=0;lt<16;lt++)for(ft[lt]=Ct,nt=0;nt<1<<O[lt];nt++)D[Ct++]=lt;for(Ct>>=7;lt<x;lt++)for(ft[lt]=Ct<<7,nt=0;nt<1<<O[lt]-7;nt++)D[256+Ct++]=lt;for(wt=0;wt<=T;wt++)dt[wt]=0;for(nt=0;nt<=143;)G[2*nt+1]=8,nt++,dt[8]++;for(;nt<=255;)G[2*nt+1]=9,nt++,dt[9]++;for(;nt<=279;)G[2*nt+1]=7,nt++,dt[7]++;for(;nt<=287;)G[2*nt+1]=8,nt++,dt[8]++;for($t(G,w+1,dt),nt=0;nt<x;nt++)N[2*nt+1]=5,N[2*nt]=Dt(nt,5);et=new F(G,P,_+1,w,T),tt=new F(N,O,0,x,T),bt=new F(new Array(0),I,0,C,M)})(),pt=!0),q.l_desc=new $(q.dyn_ltree,et),q.d_desc=new $(q.dyn_dtree,tt),q.bl_desc=new $(q.bl_tree,bt),q.bi_buf=0,q.bi_valid=0,kt(q)},o._tr_stored_block=H,o._tr_flush_block=function(q,nt,wt,At){var lt,Ct,dt=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(gt){var Rt,It=4093624447;for(Rt=0;Rt<=31;Rt++,It>>>=1)if(1&It&&gt.dyn_ltree[2*Rt]!==0)return c;if(gt.dyn_ltree[18]!==0||gt.dyn_ltree[20]!==0||gt.dyn_ltree[26]!==0)return d;for(Rt=32;Rt<_;Rt++)if(gt.dyn_ltree[2*Rt]!==0)return d;return c})(q)),we(q,q.l_desc),we(q,q.d_desc),dt=(function(gt){var Rt;for(A(gt,gt.dyn_ltree,gt.l_desc.max_code),A(gt,gt.dyn_dtree,gt.d_desc.max_code),we(gt,gt.bl_desc),Rt=C-1;3<=Rt&&gt.bl_tree[2*L[Rt]+1]===0;Rt--);return gt.opt_len+=3*(Rt+1)+5+5+4,Rt})(q),lt=q.opt_len+3+7>>>3,(Ct=q.static_len+3+7>>>3)<=lt&&(lt=Ct)):lt=Ct=wt+5,wt+4<=lt&&nt!==-1?H(q,nt,wt,At):q.strategy===4||Ct===lt?(ut(q,2+(At?1:0),3),le(q,G,N)):(ut(q,4+(At?1:0),3),(function(gt,Rt,It,Pt){var ne;for(ut(gt,Rt-257,5),ut(gt,It-1,5),ut(gt,Pt-4,4),ne=0;ne<Pt;ne++)ut(gt,gt.bl_tree[2*L[ne]+1],3);vt(gt,gt.dyn_ltree,Rt-1),vt(gt,gt.dyn_dtree,It-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,dt+1),le(q,q.dyn_ltree,q.dyn_dtree)),kt(q),At&&jt(q)},o._tr_tally=function(q,nt,wt){return q.pending_buf[q.d_buf+2*q.last_lit]=nt>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&nt,q.pending_buf[q.l_buf+q.last_lit]=255&wt,q.last_lit++,nt===0?q.dyn_ltree[2*wt]++:(q.matches++,nt--,q.dyn_ltree[2*(R[wt]+_+1)]++,q.dyn_dtree[2*B(nt)]++),q.last_lit===q.lit_bufsize-1},o._tr_align=function(q){ut(q,2,3),yt(q,U,G),(function(nt){nt.bi_valid===16?(Z(nt,nt.bi_buf),nt.bi_buf=0,nt.bi_valid=0):8<=nt.bi_valid&&(nt.pending_buf[nt.pending++]=255&nt.bi_buf,nt.bi_buf>>=8,nt.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(n,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,o){(function(u){(function(c,d){if(!c.setImmediate){var p,m,y,_,w=1,x={},C=!1,b=c.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(c);T=T&&T.setTimeout?T:c,p={}.toString.call(c.process)==="[object process]"?function(K){process.nextTick(function(){M(K)})}:(function(){if(c.postMessage&&!c.importScripts){var K=!0,Y=c.onmessage;return c.onmessage=function(){K=!1},c.postMessage("","*"),c.onmessage=Y,K}})()?(_="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",U,!1):c.attachEvent("onmessage",U),function(K){c.postMessage(_+K,"*")}):c.MessageChannel?((y=new MessageChannel).port1.onmessage=function(K){M(K.data)},function(K){y.port2.postMessage(K)}):b&&"onreadystatechange"in b.createElement("script")?(m=b.documentElement,function(K){var Y=b.createElement("script");Y.onreadystatechange=function(){M(K),Y.onreadystatechange=null,m.removeChild(Y),Y=null},m.appendChild(Y)}):function(K){setTimeout(M,0,K)},T.setImmediate=function(K){typeof K!="function"&&(K=new Function(""+K));for(var Y=new Array(arguments.length-1),rt=0;rt<Y.length;rt++)Y[rt]=arguments[rt+1];var P={callback:K,args:Y};return x[w]=P,p(w),w++},T.clearImmediate=k}function k(K){delete x[K]}function M(K){if(C)setTimeout(M,0,K);else{var Y=x[K];if(Y){C=!0;try{(function(rt){var P=rt.callback,O=rt.args;switch(O.length){case 0:P();break;case 1:P(O[0]);break;case 2:P(O[0],O[1]);break;case 3:P(O[0],O[1],O[2]);break;default:P.apply(d,O)}})(Y)}finally{k(K),C=!1}}}}function U(K){K.source===c&&typeof K.data=="string"&&K.data.indexOf(_)===0&&M(+K.data.slice(_.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Qd)),Qd.exports}var JD=WD();const tN=zl(JD),eN=()=>{const{loading:a,photos:t,searchGalleryPhotos:n}=Em(),[r,o]=X.useState(!0),[u,c]=X.useState(new Set),[d,p]=X.useState(!1),[m,y]=X.useState(null),[_,w]=X.useState(!1),[x,C]=X.useState(0),[b,T]=X.useState(!1),[k,M]=X.useState({receptionNumber:"",shootingDate:"",customerName:"",password:""}),[U,K]=X.useState({}),Y=(D,R)=>{M(J=>({...J,[D]:R})),K(J=>({...J,[D]:""}))},rt=()=>{const D={};return k.receptionNumber.trim()||(D.receptionNumber="受付番号を入力してください"),k.shootingDate||(D.shootingDate="撮影日を入力してください"),k.customerName.trim()||(D.customerName="お客様氏名を入力してください"),!k.password||!k.password.trim()?D.password="パスワードを入力してください":k.password&&k.password!=="torutora0820"&&(D.password="パスワードが正しくありません"),K(D),Object.keys(D).length===0},P=async()=>{rt()&&(await n(k),o(!1))},O=D=>{c(R=>{const J=new Set(R);return J.has(D)?J.delete(D):J.add(D),J})},I=D=>{if(p(D),D){const R=new Set(t.map(J=>J.id));c(R)}else c(new Set)},L=async(D,R)=>{try{console.log(`Fetching image: ${D}`);const J=await fetch(D);if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);const et=await J.blob();console.log(`Blob created: ${et.size} bytes for ${R}`);const tt=window.URL.createObjectURL(et),bt=document.createElement("a");bt.href=tt,bt.download=R,bt.style.display="none",document.body.appendChild(bt),bt.click(),setTimeout(()=>{document.body.removeChild(bt),window.URL.revokeObjectURL(tt)},100),console.log(`Download triggered for: ${R}`)}catch(J){throw console.error("Download failed:",J),J}},G=async D=>{w(!0),C(0);const R=setInterval(()=>{C(J=>J>=100?(clearInterval(R),100):J+10)},100);try{await L(D.storageUrl,`photo_${D.number}.jpg`),setTimeout(()=>{w(!1),T(!0),C(0)},1200)}catch{w(!1),C(0),alert("ダウンロードに失敗しました")}},N=async()=>{if(u.size===0)return;w(!0),C(0);const D=t.filter(J=>u.has(J.id)),R=new tN;try{console.log(`Starting ZIP download for ${D.length} photos...`);for(let bt=0;bt<D.length;bt++){const ft=D[bt];try{console.log(`Fetching photo ${ft.number} (${bt+1}/${D.length})...`);const F=await fetch(ft.storageUrl);if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const $=await F.blob(),B=`photo_${String(ft.number).padStart(3,"0")}.jpg`;R.file(B,$);const Z=(bt+1)/D.length*100;C(Z),console.log(`Added ${B} to ZIP (${Z.toFixed(1)}%)`)}catch(F){console.error(`Failed to fetch photo ${ft.number}:`,F);const $=(bt+1)/D.length*100;C($)}}console.log("Generating ZIP file..."),C(95);const J=await R.generateAsync({type:"blob"});console.log(`ZIP file generated: ${J.size} bytes`),C(100);const et=window.URL.createObjectURL(J),tt=document.createElement("a");tt.href=et,tt.download=`photos_${D.length}枚.zip`,tt.style.display="none",document.body.appendChild(tt),tt.click(),setTimeout(()=>{document.body.removeChild(tt),window.URL.revokeObjectURL(et)},100),console.log("ZIP download completed successfully")}catch(J){console.error("ZIP download failed:",J),alert("ZIPファイルの作成に失敗しました。")}finally{setTimeout(()=>{w(!1),T(!0),C(0)},1e3)}};return V.jsxs("div",{className:"min-h-screen bg-gray-50",children:[V.jsx("header",{className:"bg-white shadow-sm",children:V.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:V.jsxs("div",{className:"flex items-center",children:[V.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),V.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),V.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),r&&V.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50 p-4",children:r&&V.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[V.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"受付番号と確認番号を入力してください"}),V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号"}),V.jsx("input",{type:"text",value:k.receptionNumber,onChange:D=>Y("receptionNumber",D.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${U.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),U.receptionNumber&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.receptionNumber})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日"}),V.jsx("input",{type:"date",value:k.shootingDate,onChange:D=>Y("shootingDate",D.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${U.shootingDate?"border-red-500":"border-gray-300"}`}),U.shootingDate&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.shootingDate})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ）"}),V.jsx("input",{type:"text",value:k.customerName,onChange:D=>Y("customerName",D.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${U.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),U.customerName&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.customerName})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"パスワード"}),V.jsx("input",{type:"password",value:k.password,onChange:D=>Y("password",D.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${U.password?"border-red-500":"border-gray-300"}`,placeholder:""}),U.password&&V.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.password})]}),V.jsx("button",{onClick:P,disabled:a,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${a?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:a?"検索中...":"写真を表示する"})]})]})}),_&&V.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:V.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 shadow-lg pointer-events-auto",children:[V.jsx("div",{className:"text-center mb-4",children:V.jsxs("span",{className:"text-lg font-medium",children:[Math.round(x),"%"]})}),V.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:V.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x}%`}})})]})}),b&&V.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:V.jsxs("div",{className:"bg-white rounded-lg p-8 text-center shadow-lg pointer-events-auto",children:[V.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:V.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),V.jsx("p",{className:"text-lg font-medium text-gray-800 mb-4",children:"ダウンロードが完了しました"}),V.jsx("button",{onClick:()=>T(!1),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:"閉じる"})]})}),!r&&V.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:t.length===0?V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[V.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"写真が登録されていません。"}),V.jsx("p",{className:"text-gray-600",children:"Lineにてお問い合わせください"}),V.jsx("button",{onClick:()=>o(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"再検索"})]}):V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[V.jsxs("button",{onClick:N,disabled:u.size===0||_,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors mb-4 ${u.size===0||_?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["選択した写真をZIPでダウンロード (",u.size,"枚)"]}),V.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[V.jsx("input",{type:"checkbox",checked:d,onChange:D=>I(D.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),V.jsx("span",{className:"text-gray-800 font-medium",children:"全ての写真を選択する"})]})]}),V.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:t.map(D=>V.jsx("div",{className:"relative",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>y(D),children:[V.jsxs("div",{className:"relative aspect-square",children:[V.jsx("img",{src:D.storageUrl,alt:`写真 ${D.number}`,className:"w-full h-full object-cover"}),V.jsx("button",{onClick:R=>{R.stopPropagation(),O(D.id)},className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${u.has(D.id)?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:u.has(D.id)&&V.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),V.jsx("div",{className:"p-2 text-center",children:V.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(D.number).padStart(3,"0")})})]})},D.id))})]})}),m&&V.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:1e3},children:[V.jsxs("div",{className:"flex items-center justify-between bg-white text-gray-800 p-4 shadow-sm",children:[V.jsx("button",{onClick:()=>y(null),className:"text-gray-800 hover:text-gray-600",children:V.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),V.jsx("span",{className:"font-medium",children:String(m.number).padStart(3,"0")}),V.jsx("button",{onClick:()=>O(m.id),className:`w-8 h-8 rounded flex items-center justify-center ${u.has(m.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:u.has(m.id)&&V.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),V.jsx("div",{className:"flex items-center justify-center bg-black",style:{height:"calc(100vh - 140px)"},children:V.jsx("img",{src:m.storageUrl,alt:`写真 ${m.number}`,className:"max-w-full max-h-full object-contain"})}),V.jsx("div",{className:"p-4 bg-white border-t border-gray-200",style:{height:"80px"},children:V.jsxs("button",{onClick:()=>G(m),disabled:_,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors flex items-center justify-center ${_?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:[V.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),_?"ダウンロード中...":"ダウンロード"]})})]})]})};function nN(){return V.jsxs(BE,{children:[V.jsx(Xa,{path:"/nouhin",element:V.jsx(LD,{})}),V.jsx(Xa,{path:"/photo-info",element:V.jsx(BD,{})}),V.jsx(Xa,{path:"/photo-select",element:V.jsx(KD,{})}),V.jsx(Xa,{path:"/photo-check",element:V.jsx(XD,{})}),V.jsx(Xa,{path:"/photo-collect",element:V.jsx(ZD,{})}),V.jsx(Xa,{path:"/gallery",element:V.jsx(eN,{})}),V.jsx(Xa,{path:"/",element:V.jsx(UE,{to:"/photo-info",replace:!0})})]})}Xw.createRoot(document.getElementById("root")).render(V.jsx(k0.StrictMode,{children:V.jsx(c2,{children:V.jsx(nN,{})})}));
