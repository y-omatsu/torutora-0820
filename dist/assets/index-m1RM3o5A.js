(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function ih(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var _d={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function U1(){if(Ov)return pl;Ov=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var Mv;function L1(){return Mv||(Mv=1,_d.exports=U1()),_d.exports}var E=L1(),bd={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function z1(){if(Vv)return Mt;Vv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function k(O,H,et){this.props=O,this.context=H,this.refs=V,this.updater=et||N}k.prototype.isReactComponent={},k.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=k.prototype;function Z(O,H,et){this.props=O,this.context=H,this.refs=V,this.updater=et||N}var W=Z.prototype=new Y;W.constructor=Z,L(W,k.prototype),W.isPureReactComponent=!0;var ct=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function j(O,H,et,tt,ft,wt){return et=wt.ref,{$$typeof:a,type:O,key:H,ref:et!==void 0?et:null,props:wt}}function R(O,H){return j(O.type,H,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function M(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return H[et]})}var I=/\/+/g;function z(O,H){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):H.toString(36)}function S(){}function pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(S,S):(O.status="pending",O.then(function(H){O.status==="pending"&&(O.status="fulfilled",O.value=H)},function(H){O.status==="pending"&&(O.status="rejected",O.reason=H)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ht(O,H,et,tt,ft){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var yt=!1;if(O===null)yt=!0;else switch(wt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(O.$$typeof){case a:case t:yt=!0;break;case v:return yt=O._init,ht(yt(O._payload),H,et,tt,ft)}}if(yt)return ft=ft(O),yt=tt===""?"."+z(O,0):tt,ct(ft)?(et="",yt!=null&&(et=yt.replace(I,"$&/")+"/"),ht(ft,H,et,"",function(on){return on})):ft!=null&&(C(ft)&&(ft=R(ft,et+(ft.key==null||O&&O.key===ft.key?"":(""+ft.key).replace(I,"$&/")+"/")+yt)),H.push(ft)),1;yt=0;var re=tt===""?".":tt+":";if(ct(O))for(var zt=0;zt<O.length;zt++)tt=O[zt],wt=re+z(tt,zt),yt+=ht(tt,H,et,wt,ft);else if(zt=A(O),typeof zt=="function")for(O=zt.call(O),zt=0;!(tt=O.next()).done;)tt=tt.value,wt=re+z(tt,zt++),yt+=ht(tt,H,et,wt,ft);else if(wt==="object"){if(typeof O.then=="function")return ht(pt(O),H,et,tt,ft);throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return yt}function K(O,H,et){if(O==null)return O;var tt=[],ft=0;return ht(O,tt,"","",function(wt){return H.call(et,wt,ft++)}),tt}function st(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function _t(){}return Mt.Children={map:K,forEach:function(O,H,et){K(O,function(){H.apply(this,arguments)},et)},count:function(O){var H=0;return K(O,function(){H++}),H},toArray:function(O){return K(O,function(H){return H})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Mt.Component=k,Mt.Fragment=i,Mt.Profiler=o,Mt.PureComponent=Z,Mt.StrictMode=r,Mt.Suspense=y,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ut.H.useMemoCache(O)}},Mt.cache=function(O){return function(){return O.apply(null,arguments)}},Mt.cloneElement=function(O,H,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var tt=L({},O.props),ft=O.key,wt=void 0;if(H!=null)for(yt in H.ref!==void 0&&(wt=void 0),H.key!==void 0&&(ft=""+H.key),H)!bt.call(H,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&H.ref===void 0||(tt[yt]=H[yt]);var yt=arguments.length-2;if(yt===1)tt.children=et;else if(1<yt){for(var re=Array(yt),zt=0;zt<yt;zt++)re[zt]=arguments[zt+2];tt.children=re}return j(O.type,ft,void 0,void 0,wt,tt)},Mt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Mt.createElement=function(O,H,et){var tt,ft={},wt=null;if(H!=null)for(tt in H.key!==void 0&&(wt=""+H.key),H)bt.call(H,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ft[tt]=H[tt]);var yt=arguments.length-2;if(yt===1)ft.children=et;else if(1<yt){for(var re=Array(yt),zt=0;zt<yt;zt++)re[zt]=arguments[zt+2];ft.children=re}if(O&&O.defaultProps)for(tt in yt=O.defaultProps,yt)ft[tt]===void 0&&(ft[tt]=yt[tt]);return j(O,wt,void 0,void 0,null,ft)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(O){return{$$typeof:p,render:O}},Mt.isValidElement=C,Mt.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:st}},Mt.memo=function(O,H){return{$$typeof:m,type:O,compare:H===void 0?null:H}},Mt.startTransition=function(O){var H=ut.T,et={};ut.T=et;try{var tt=O(),ft=ut.S;ft!==null&&ft(et,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(_t,ot)}catch(wt){ot(wt)}finally{ut.T=H}},Mt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Mt.use=function(O){return ut.H.use(O)},Mt.useActionState=function(O,H,et){return ut.H.useActionState(O,H,et)},Mt.useCallback=function(O,H){return ut.H.useCallback(O,H)},Mt.useContext=function(O){return ut.H.useContext(O)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(O,H){return ut.H.useDeferredValue(O,H)},Mt.useEffect=function(O,H,et){var tt=ut.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(O,H)},Mt.useId=function(){return ut.H.useId()},Mt.useImperativeHandle=function(O,H,et){return ut.H.useImperativeHandle(O,H,et)},Mt.useInsertionEffect=function(O,H){return ut.H.useInsertionEffect(O,H)},Mt.useLayoutEffect=function(O,H){return ut.H.useLayoutEffect(O,H)},Mt.useMemo=function(O,H){return ut.H.useMemo(O,H)},Mt.useOptimistic=function(O,H){return ut.H.useOptimistic(O,H)},Mt.useReducer=function(O,H,et){return ut.H.useReducer(O,H,et)},Mt.useRef=function(O){return ut.H.useRef(O)},Mt.useState=function(O){return ut.H.useState(O)},Mt.useSyncExternalStore=function(O,H,et){return ut.H.useSyncExternalStore(O,H,et)},Mt.useTransition=function(){return ut.H.useTransition()},Mt.version="19.1.1",Mt}var kv;function Tp(){return kv||(kv=1,bd.exports=z1()),bd.exports}var P=Tp();const C0=ih(P);var xd={exports:{}},ml={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function B1(){return jv||(jv=1,(function(a){function t(K,st){var ot=K.length;K.push(st);t:for(;0<ot;){var _t=ot-1>>>1,O=K[_t];if(0<o(O,st))K[_t]=st,K[ot]=O,ot=_t;else break t}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var st=K[0],ot=K.pop();if(ot!==st){K[0]=ot;t:for(var _t=0,O=K.length,H=O>>>1;_t<H;){var et=2*(_t+1)-1,tt=K[et],ft=et+1,wt=K[ft];if(0>o(tt,ot))ft<O&&0>o(wt,tt)?(K[_t]=wt,K[ft]=ot,_t=ft):(K[_t]=tt,K[et]=ot,_t=et);else if(ft<O&&0>o(wt,ot))K[_t]=wt,K[ft]=ot,_t=ft;else break t}}return st}function o(K,st){var ot=K.sortIndex-st.sortIndex;return ot!==0?ot:K.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var y=[],m=[],v=1,T=null,A=3,N=!1,L=!1,V=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ct(K){for(var st=i(m);st!==null;){if(st.callback===null)r(m);else if(st.startTime<=K)r(m),st.sortIndex=st.expirationTime,t(y,st);else break;st=i(m)}}function ut(K){if(V=!1,ct(K),!L)if(i(y)!==null)L=!0,bt||(bt=!0,z());else{var st=i(m);st!==null&&ht(ut,st.startTime-K)}}var bt=!1,j=-1,R=5,C=-1;function M(){return k?!0:!(a.unstable_now()-C<R)}function I(){if(k=!1,bt){var K=a.unstable_now();C=K;var st=!0;try{t:{L=!1,V&&(V=!1,Z(j),j=-1),N=!0;var ot=A;try{e:{for(ct(K),T=i(y);T!==null&&!(T.expirationTime>K&&M());){var _t=T.callback;if(typeof _t=="function"){T.callback=null,A=T.priorityLevel;var O=_t(T.expirationTime<=K);if(K=a.unstable_now(),typeof O=="function"){T.callback=O,ct(K),st=!0;break e}T===i(y)&&r(y),ct(K)}else r(y);T=i(y)}if(T!==null)st=!0;else{var H=i(m);H!==null&&ht(ut,H.startTime-K),st=!1}}break t}finally{T=null,A=ot,N=!1}st=void 0}}finally{st?z():bt=!1}}}var z;if(typeof W=="function")z=function(){W(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,pt=S.port2;S.port1.onmessage=I,z=function(){pt.postMessage(null)}}else z=function(){Y(I,0)};function ht(K,st){j=Y(function(){K(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(K){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var ot=A;A=st;try{return K()}finally{A=ot}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ot=A;A=K;try{return st()}finally{A=ot}},a.unstable_scheduleCallback=function(K,st,ot){var _t=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?_t+ot:_t):ot=_t,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ot+O,K={id:v++,callback:st,priorityLevel:K,startTime:ot,expirationTime:O,sortIndex:-1},ot>_t?(K.sortIndex=ot,t(m,K),i(y)===null&&K===i(m)&&(V?(Z(j),j=-1):V=!0,ht(ut,ot-_t))):(K.sortIndex=O,t(y,K),L||N||(L=!0,bt||(bt=!0,z()))),K},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(K){var st=A;return function(){var ot=A;A=st;try{return K.apply(this,arguments)}finally{A=ot}}}})(Td)),Td}var Pv;function q1(){return Pv||(Pv=1,Ed.exports=B1()),Ed.exports}var wd={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function H1(){if(Uv)return nn;Uv=1;var a=Tp();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(y,m,null,v)},nn.flushSync=function(y){var m=f.T,v=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=m,r.p=v,r.d.f()}},nn.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},nn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},nn.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=p(v,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:N}):v==="script"&&r.d.X(y,{crossOrigin:T,integrity:A,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},nn.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},nn.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=p(v,m.crossOrigin);r.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},nn.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},nn.requestFormReset=function(y){r.d.r(y)},nn.unstable_batchedUpdates=function(y,m){return y(m)},nn.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var Lv;function F1(){if(Lv)return wd.exports;Lv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),wd.exports=H1(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function G1(){if(zv)return ml;zv=1;var a=q1(),t=Tp(),i=F1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),e;if(d===l)return p(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=d;else{for(var b=!1,x=h.child;x;){if(x===s){b=!0,s=h,l=d;break}if(x===l){b=!0,l=h,s=d;break}x=x.sibling}if(!b){for(x=d.child;x;){if(x===s){b=!0,s=d,l=h;break}if(x===l){b=!0,l=d,s=h;break}x=x.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case k:return"Profiler";case V:return"StrictMode";case ut:return"Suspense";case bt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case W:return(e.displayName||"Context")+".Provider";case Z:return(e._context.displayName||"Context")+".Consumer";case ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return n=e.displayName||null,n!==null?n:pt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return pt(e(n))}catch{}}return null}var ht=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},_t=[],O=-1;function H(e){return{current:e}}function et(e){0>O||(e.current=_t[O],_t[O]=null,O--)}function tt(e,n){O++,_t[O]=e.current,e.current=n}var ft=H(null),wt=H(null),yt=H(null),re=H(null);function zt(e,n){switch(tt(yt,n),tt(wt,e),tt(ft,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?sv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=sv(n),e=ov(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ft),tt(ft,e)}function on(){et(ft),et(wt),et(yt)}function ln(e){e.memoizedState!==null&&tt(re,e);var n=ft.current,s=ov(n,e.type);n!==s&&(tt(wt,e),tt(ft,s))}function Je(e){wt.current===e&&(et(ft),et(wt)),re.current===e&&(et(re),ul._currentValue=ot)}var tn=Object.prototype.hasOwnProperty,gn=a.unstable_scheduleCallback,yn=a.unstable_cancelCallback,In=a.unstable_shouldYield,ci=a.unstable_requestPaint,fe=a.unstable_now,Qn=a.unstable_getCurrentPriorityLevel,hi=a.unstable_ImmediatePriority,Yn=a.unstable_UserBlockingPriority,Ui=a.unstable_NormalPriority,uo=a.unstable_LowPriority,ya=a.unstable_IdlePriority,dt=a.log,Tt=a.unstable_setDisableYieldValue,Ot=null,Ct=null;function ne(e){if(typeof dt=="function"&&Tt(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Ot,e)}catch{}}var ge=Math.clz32?Math.clz32:Xn,Kn=Math.log,or=Math.LN2;function Xn(e){return e>>>=0,e===0?32:31-(Kn(e)/or|0)|0}var Zn=256,On=4194304;function un(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=un(l):(b&=x,b!==0?h=un(b):s||(s=x&~e,s!==0&&(h=un(s))))):(x=l&~d,x!==0?h=un(x):b!==0?h=un(b):s||(s=l&~e,s!==0&&(h=un(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Li(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(){var e=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),e}function co(){var e=On;return On<<=1,(On&62914560)===0&&(On=4194304),e}function zi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Bi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ho(e,n,s,l,h,d){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var x=e.entanglements,D=e.expirationTimes,G=e.hiddenUpdates;for(s=b&~s;0<s;){var J=31-ge(s),it=1<<J;x[J]=0,D[J]=-1;var $=G[J];if($!==null)for(G[J]=null,J=0;J<$.length;J++){var Q=$[J];Q!==null&&(Q.lane&=-536870913)}s&=~it}l!==0&&di(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~n))}function di(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ge(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function fo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ge(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function va(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _a(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Sv(e.type))}function Ql(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var ue=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ue,Ae="__reactProps$"+ue,Mn="__reactContainer$"+ue,po="__reactEvents$"+ue,xh="__reactListeners$"+ue,ba="__reactHandles$"+ue,Yl="__reactResources$"+ue,ur="__reactMarker$"+ue;function xa(e){delete e[Oe],delete e[Ae],delete e[po],delete e[xh],delete e[ba]}function qi(e){var n=e[Oe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Mn]||s[Oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=hv(e);e!==null;){if(s=e[Oe])return s;e=hv(e)}return n}e=s,s=e.parentNode}return null}function pi(e){if(e=e[Oe]||e[Mn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function mi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function cn(e){var n=e[Yl];return n||(n=e[Yl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[ur]=!0}var mo=new Set,Wr={};function Jn(e,n){Hi(e,n),Hi(e+"Capture",n)}function Hi(e,n){for(Wr[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},cr={};function Zl(e){return tn.call(cr,e)?!0:tn.call(Xl,e)?!1:Kl.test(e)?cr[e]=!0:(Xl[e]=!0,!1)}function Ea(e,n,s){if(Zl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gi(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ge(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}var hr,Wl;function Fi(e){if(hr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);hr=n&&n[1]||"",Wl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+e+Wl}var Jr=!1;function ts(e,n){if(!e||Jr)return"";Jr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Q){var $=Q}Reflect.construct(e,[],it)}else{try{it.call()}catch(Q){$=Q}e.call(it.prototype)}}else{try{throw Error()}catch(Q){$=Q}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],x=d[1];if(b&&x){var D=b.split(`
`),G=x.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===G.length)for(l=D.length-1,h=G.length-1;1<=l&&0<=h&&D[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==G[h]){var J=`
`+D[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=h);break}}}finally{Jr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Fi(s):""}function go(e){switch(e.tag){case 26:case 27:case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return Fi("Activity");default:return""}}function es(e){try{var n="";do n+=go(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eh(e){var n=yo(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){e._valueTracker||(e._valueTracker=Eh(e))}function vo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=yo(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function Se(e){return e.replace(Th,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function En(e,n,s,l,h,d,b,x){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+hn(n)):e.value!==""+hn(n)&&(e.value=""+hn(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?Ta(e,b,hn(n)):s!=null?Ta(e,b,hn(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+hn(x):e.removeAttribute("name")}function dr(e,n,s,l,h,d,b,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+hn(s):"",n=n!=null?""+hn(n):s,x||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function Ta(e,n,s){n==="number"&&fr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Gi(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+hn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Wt(e,n,s){if(n!=null&&(n=""+hn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+hn(s):""}function pr(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ht(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=hn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Vn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||mr.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function _o(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Jl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Jl(e,d,n[d])}function bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(e){return Ah.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var $i=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,Yi=null;function xo(e){var n=pi(e);if(n&&(e=n.stateNode)){var s=e[Ae]||null;t:switch(e=n.stateNode,n.type){case"input":if(En(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Se(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ae]||null;if(!h)throw Error(r(90));En(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&vo(l)}break t;case"textarea":Wt(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Gi(e,!!s.multiple,n,!1)}}}var yi=!1;function tu(e,n,s){if(yi)return e(n,s);yi=!0;try{var l=e(n);return l}finally{if(yi=!1,(Qi!==null||Yi!==null)&&(Qu(),Qi&&(n=Qi,e=Yi,Yi=Qi=null,xo(n),e)))for(n=0;n<e.length;n++)xo(e[n])}}function gr(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ae]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(ti)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){jn=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{jn=!1}var vi=null,wa=null,Ki=null;function Eo(){if(Ki)return Ki;var e,n=wa,s=n.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var b=s-e;for(l=1;l<=b&&n[s-l]===h[d-l];l++);return Ki=h.slice(e,1<l?1-l:void 0)}function _i(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function To(){return!1}function Ue(e){function n(s,l,h,d,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bi:To,this.isPropagationStopped=To,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Ue(Yt),vr=v({},Yt,{view:0,detail:0}),eu=Ue(vr),rs,ss,xi,_r=v({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(rs=e.screenX-xi.screenX,ss=e.screenY-xi.screenY):ss=rs=0,xi=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:ss}}),Pn=Ue(_r),nu=v({},_r,{dataTransfer:0}),Sh=Ue(nu),br=v({},vr,{relatedTarget:0}),os=Ue(br),wo=v({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Ue(wo),iu=v({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),us=Ue(iu),Rh=v({},Yt,{data:0}),Ao=Ue(Rh),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ru[e])?!!n[e]:!1}function Er(){return So}var su=v({},vr,{key:function(e){if(e.key){var n=xr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cs=Ue(su),ou=v({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=Ue(ou),Xi=v({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),lu=Ue(Xi),uu=v({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),cu=Ue(uu),hu=v({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hs=Ue(hu),fn=v({},Yt,{newState:0,oldState:0}),fu=Ue(fn),du=[9,13,27,32],Ei=ti&&"CompositionEvent"in window,c=null;ti&&"documentMode"in document&&(c=document.documentMode);var g=ti&&"TextEvent"in window&&!c,_=ti&&(!Ei||c&&8<c&&11>=c),w=" ",q=!1;function X(e,n){switch(e){case"keyup":return du.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bt=!1;function Me(e,n){switch(e){case"compositionend":return lt(n);case"keypress":return n.which!==32?null:(q=!0,w);case"textInput":return e=n.data,e===w&&q?null:e;default:return null}}function qt(e,n){if(Bt)return e==="compositionend"||!Ei&&X(e,n)?(e=Eo(),Ki=wa=vi=null,Bt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Le[e.type]:n==="textarea"}function Zi(e,n,s,l){Qi?Yi?Yi.push(l):Yi=[l]:Qi=l,n=Ju(n,"onChange"),0<n.length&&(s=new as("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var $e=null,Ti=null;function Co(e){ev(e,0)}function pu(e){var n=mi(e);if(vo(n))return e}function Em(e,n){if(e==="change")return n}var Tm=!1;if(ti){var Ch;if(ti){var Dh="oninput"in document;if(!Dh){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),Dh=typeof wm.oninput=="function"}Ch=Dh}else Ch=!1;Tm=Ch&&(!document.documentMode||9<document.documentMode)}function Am(){$e&&($e.detachEvent("onpropertychange",Sm),Ti=$e=null)}function Sm(e){if(e.propertyName==="value"&&pu(Ti)){var n=[];Zi(n,Ti,e,kn(e)),tu(Co,n)}}function pE(e,n,s){e==="focusin"?(Am(),$e=n,Ti=s,$e.attachEvent("onpropertychange",Sm)):e==="focusout"&&Am()}function mE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Ti)}function gE(e,n){if(e==="click")return pu(n)}function yE(e,n){if(e==="input"||e==="change")return pu(n)}function vE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:vE;function Do(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!tn.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function Rm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cm(e,n){var s=Rm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Rm(s)}}function Dm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Dm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Nm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fr(e.document)}return n}function Nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var _E=ti&&"documentMode"in document&&11>=document.documentMode,fs=null,Ih=null,No=null,Oh=!1;function Im(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oh||fs==null||fs!==fr(l)||(l=fs,"selectionStart"in l&&Nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),No&&Do(No,l)||(No=l,l=Ju(Ih,"onSelect"),0<l.length&&(n=new as("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=fs)))}function Tr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ds={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Mh={},Om={};ti&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function wr(e){if(Mh[e])return Mh[e];if(!ds[e])return e;var n=ds[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Om)return Mh[e]=n[s];return e}var Mm=wr("animationend"),Vm=wr("animationiteration"),km=wr("animationstart"),bE=wr("transitionrun"),xE=wr("transitionstart"),EE=wr("transitioncancel"),jm=wr("transitionend"),Pm=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function ei(e,n){Pm.set(e,n),Jn(n,[e])}var Um=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var s=Um.get(e);return s!==void 0?s:(n={value:e,source:n,stack:es(n)},Um.set(e,n),n)}return{value:e,source:n,stack:es(n)}}var Ln=[],ps=0,kh=0;function mu(){for(var e=ps,n=kh=ps=0;n<e;){var s=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var d=Ln[n];if(Ln[n++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}d!==0&&Lm(s,h,d)}}function gu(e,n,s,l){Ln[ps++]=e,Ln[ps++]=n,Ln[ps++]=s,Ln[ps++]=l,kh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function jh(e,n,s,l){return gu(e,n,s,l),yu(e)}function ms(e,n){return gu(e,null,null,n),yu(e)}function Lm(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-ge(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function yu(e){if(50<el)throw el=0,Hf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gs={};function TE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,s,l){return new TE(e,n,s,l)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wi(e,n){var s=e.alternate;return s===null?(s=wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function zm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vu(e,n,s,l,h,d){var b=0;if(l=e,typeof e=="function")Ph(e)&&(b=1);else if(typeof e=="string")b=A1(e,s,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=wn(31,s,n,h),e.elementType=C,e.lanes=d,e;case L:return Ar(s.children,h,d,n);case V:b=8,h|=24;break;case k:return e=wn(12,s,n,h|2),e.elementType=k,e.lanes=d,e;case ut:return e=wn(13,s,n,h),e.elementType=ut,e.lanes=d,e;case bt:return e=wn(19,s,n,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:case W:b=10;break t;case Z:b=9;break t;case ct:b=11;break t;case j:b=14;break t;case R:b=16,l=null;break t}b=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=wn(b,s,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Ar(e,n,s,l){return e=wn(7,e,l,n),e.lanes=s,e}function Uh(e,n,s){return e=wn(6,e,null,n),e.lanes=s,e}function Lh(e,n,s){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ys=[],vs=0,_u=null,bu=0,zn=[],Bn=0,Sr=null,Ji=1,ta="";function Rr(e,n){ys[vs++]=bu,ys[vs++]=_u,_u=e,bu=n}function Bm(e,n,s){zn[Bn++]=Ji,zn[Bn++]=ta,zn[Bn++]=Sr,Sr=e;var l=Ji;e=ta;var h=32-ge(l)-1;l&=~(1<<h),s+=1;var d=32-ge(n)+h;if(30<d){var b=h-h%5;d=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Ji=1<<32-ge(n)+h|s<<h|l,ta=d+e}else Ji=1<<d|s<<h|l,ta=e}function zh(e){e.return!==null&&(Rr(e,1),Bm(e,1,0))}function Bh(e){for(;e===_u;)_u=ys[--vs],ys[vs]=null,bu=ys[--vs],ys[vs]=null;for(;e===Sr;)Sr=zn[--Bn],zn[Bn]=null,ta=zn[--Bn],zn[Bn]=null,Ji=zn[--Bn],zn[Bn]=null}var dn=null,ye=null,Qt=!1,Cr=null,wi=!1,qh=Error(r(519));function Dr(e){var n=Error(r(418,""));throw Mo(Un(n,e)),qh}function qm(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Oe]=e,n[Ae]=l,s){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(s=0;s<il.length;s++)Pt(il[s],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":Pt("invalid",n),dr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(n);break;case"select":Pt("invalid",n);break;case"textarea":Pt("invalid",n),pr(n,l.value,l.defaultValue,l.children),ns(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||rv(n.textContent,s)?(l.popover!=null&&(Pt("beforetoggle",n),Pt("toggle",n)),l.onScroll!=null&&Pt("scroll",n),l.onScrollEnd!=null&&Pt("scrollend",n),l.onClick!=null&&(n.onclick=tc),n=!0):n=!1,n||Dr(e)}function Hm(e){for(dn=e.return;dn;)switch(dn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:dn=dn.return}}function Io(e){if(e!==dn)return!1;if(!Qt)return Hm(e),Qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rd(e.type,e.memoizedProps)),s=!s),s&&ye&&Dr(e),Hm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ye=ii(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ye=null}}else n===27?(n=ye,za(e.type)?(e=ud,ud=null,ye=e):ye=n):ye=dn?ii(e.stateNode.nextSibling):null;return!0}function Oo(){ye=dn=null,Qt=!1}function Fm(){var e=Cr;return e!==null&&(bn===null?bn=e:bn.push.apply(bn,e),Cr=null),e}function Mo(e){Cr===null?Cr=[e]:Cr.push(e)}var Hh=H(null),Nr=null,ea=null;function Aa(e,n,s){tt(Hh,n._currentValue),n._currentValue=s}function na(e){e._currentValue=Hh.current,et(Hh)}function Fh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var b=h.child;d=d.firstContext;t:for(;d!==null;){var x=d;d=h;for(var D=0;D<n.length;D++)if(x.context===n[D]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),Fh(d.return,s,e),l||(b=null);break t}d=x.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=s,d=b.alternate,d!==null&&(d.lanes|=s),Fh(b,s,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Vo(e,n,s,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=h.type;Tn(h.pendingProps.value,b.value)||(e!==null?e.push(x):e=[x])}}else if(h===re.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Gh(n,e,s,l),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Nr=e,ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Gm(Nr,e)}function Eu(e,n){return Nr===null&&Ir(e),Gm(e,n)}function Gm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ea===null){if(e===null)throw Error(r(308));ea=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ea=ea.next=n;return s}var wE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},AE=a.unstable_scheduleCallback,SE=a.unstable_NormalPriority,ke={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new wE,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&AE(SE,function(){e.controller.abort()})}var jo=null,Qh=0,_s=0,bs=null;function RE(e,n){if(jo===null){var s=jo=[];Qh=0,_s=Xf(),bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qh++,n.then($m,$m),n}function $m(){if(--Qh===0&&jo!==null){bs!==null&&(bs.status="fulfilled");var e=jo;jo=null,_s=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function CE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Qm=K.S;K.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&RE(e,n),Qm!==null&&Qm(e,n)};var Or=H(null);function Yh(){var e=Or.current;return e!==null?e:se.pooledCache}function Tu(e,n){n===null?tt(Or,Or.current):tt(Or,n.pool)}function Ym(){var e=Yh();return e===null?null:{parent:ke._currentValue,pool:e}}var Po=Error(r(460)),Km=Error(r(474)),wu=Error(r(542)),Kh={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Au(){}function Zm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Au,Au),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e;default:if(typeof n.status=="string")n.then(Au,Au);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Jm(e),e}throw Uo=n,Po}}var Uo=null;function Wm(){if(Uo===null)throw Error(r(459));var e=Uo;return Uo=null,e}function Jm(e){if(e===Po||e===wu)throw Error(r(483))}var Sa=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=yu(e),Lm(e,null,s),n}return gu(e,l,n,s),yu(e)}function Lo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fo(e,s)}}function Wh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=b:d=d.next=b,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Jh=!1;function zo(){if(Jh){var e=bs;if(e!==null)throw e}}function Bo(e,n,s,l){Jh=!1;var h=e.updateQueue;Sa=!1;var d=h.firstBaseUpdate,b=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var D=x,G=D.next;D.next=null,b===null?d=G:b.next=G,b=D;var J=e.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==b&&(x===null?J.firstBaseUpdate=G:x.next=G,J.lastBaseUpdate=D))}if(d!==null){var it=h.baseState;b=0,J=G=D=null,x=d;do{var $=x.lane&-536870913,Q=$!==x.lane;if(Q?(Ht&$)===$:(l&$)===$){$!==0&&$===_s&&(Jh=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Dt=e,At=x;$=n;var ee=s;switch(At.tag){case 1:if(Dt=At.payload,typeof Dt=="function"){it=Dt.call(ee,it,$);break t}it=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=At.payload,$=typeof Dt=="function"?Dt.call(ee,it,$):Dt,$==null)break t;it=v({},it,$);break t;case 2:Sa=!0}}$=x.callback,$!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[$]:Q.push($))}else Q={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(G=J=Q,D=it):J=J.next=Q,b|=$;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);J===null&&(D=it),h.baseState=D,h.firstBaseUpdate=G,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),ja|=b,e.lanes=b,e.memoizedState=it}}function tg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function eg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)tg(s[e],n)}var xs=H(null),Su=H(0);function ng(e,n){e=ua,tt(Su,e),tt(xs,n),ua=e|n.baseLanes}function tf(){tt(Su,ua),tt(xs,xs.current)}function ef(){ua=Su.current,et(xs),et(Su)}var Da=0,Vt=null,Jt=null,Re=null,Ru=!1,Es=!1,Mr=!1,Cu=0,qo=0,Ts=null,DE=0;function Ee(){throw Error(r(321))}function nf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tn(e[s],n[s]))return!1;return!0}function af(e,n,s,l,h,d){return Da=d,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?Lg:zg,Mr=!1,d=s(l,h),Mr=!1,Es&&(d=ag(n,s,l,h)),ig(e),d}function ig(e){K.H=Vu;var n=Jt!==null&&Jt.next!==null;if(Da=0,Re=Jt=Vt=null,Ru=!1,qo=0,Ts=null,n)throw Error(r(300));e===null||ze||(e=e.dependencies,e!==null&&xu(e)&&(ze=!0))}function ag(e,n,s,l){Vt=e;var h=0;do{if(Es&&(Ts=null),qo=0,Es=!1,25<=h)throw Error(r(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=jE,d=n(s,l)}while(Es);return d}function NE(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Vt.flags|=1024),n}function rf(){var e=Cu!==0;return Cu=0,e}function sf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function of(e){if(Ru){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ru=!1}Da=0,Re=Jt=Vt=null,Es=!1,qo=Cu=0,Ts=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Vt.memoizedState=Re=e:Re=Re.next=e,Re}function Ce(){if(Jt===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Re===null?Vt.memoizedState:Re.next;if(n!==null)Re=n,Jt=e;else{if(e===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?Vt.memoizedState=Re=e:Re=Re.next=e}return Re}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,Ts===null&&(Ts=[]),e=Zm(Ts,e,n),n=Vt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Lg:zg),e}function Du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===W)return en(e)}throw Error(r(438,String(e)))}function uf(e){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=lf(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function ia(e,n){return typeof n=="function"?n(e):n}function Nu(e){var n=Ce();return cf(n,Jt,e)}function cf(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var b=h.next;h.next=d.next,d.next=b}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var x=b=null,D=null,G=n,J=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(Ht&it)===it:(Da&it)===it){var $=G.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===_s&&(J=!0);else if((Da&$)===$){G=G.next,$===_s&&(J=!0);continue}else it={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(x=D=it,b=d):D=D.next=it,Vt.lanes|=$,ja|=$;it=G.action,Mr&&s(d,it),d=G.hasEagerState?G.eagerState:s(d,it)}else $={lane:it,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(x=D=$,b=d):D=D.next=$,Vt.lanes|=it,ja|=it;G=G.next}while(G!==null&&G!==n);if(D===null?b=d:D.next=x,!Tn(d,e.memoizedState)&&(ze=!0,J&&(s=bs,s!==null)))throw s;e.memoizedState=d,e.baseState=b,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function hf(e){var n=Ce(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do d=e(d,b.action),b=b.next;while(b!==h);Tn(d,n.memoizedState)||(ze=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function rg(e,n,s){var l=Vt,h=Ce(),d=Qt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var b=!Tn((Jt||h).memoizedState,s);b&&(h.memoizedState=s,ze=!0),h=h.queue;var x=lg.bind(null,l,h,e);if(Fo(2048,8,x,[e]),h.getSnapshot!==n||b||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,ws(9,Iu(),og.bind(null,l,h,s,n),null),se===null)throw Error(r(349));d||(Da&124)!==0||sg(l,n,s)}return s}function sg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=lf(),Vt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function og(e,n,s,l){n.value=s,n.getSnapshot=l,ug(n)&&cg(e)}function lg(e,n,s){return s(function(){ug(n)&&cg(e)})}function ug(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tn(e,s)}catch{return!0}}function cg(e){var n=ms(e,2);n!==null&&Dn(n,e,2)}function ff(e){var n=vn();if(typeof e=="function"){var s=e;if(e=s(),Mr){ne(!0);try{s()}finally{ne(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},n}function hg(e,n,s,l){return e.baseState=s,cf(e,Jt,typeof l=="function"?l:ia)}function IE(e,n,s,l,h){if(Mu(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};K.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,fg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function fg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=K.T,b={};K.T=b;try{var x=s(h,l),D=K.S;D!==null&&D(b,x),dg(e,n,x)}catch(G){df(e,n,G)}finally{K.T=d}}else try{d=s(h,l),dg(e,n,d)}catch(G){df(e,n,G)}}function dg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){pg(e,n,l)},function(l){return df(e,n,l)}):pg(e,n,s)}function pg(e,n,s){n.status="fulfilled",n.value=s,mg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,fg(e,s)))}function df(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,mg(n),n=n.next;while(n!==l)}e.action=null}function mg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gg(e,n){return n}function yg(e,n){if(Qt){var s=se.formState;if(s!==null){t:{var l=Vt;if(Qt){if(ye){e:{for(var h=ye,d=wi;h.nodeType!==8;){if(!d){h=null;break e}if(h=ii(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ye=ii(h.nextSibling),l=h.data==="F!";break t}}Dr(l)}l=!1}l&&(n=s[0])}}return s=vn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},s.queue=l,s=jg.bind(null,Vt,l),l.dispatch=s,l=ff(!1),d=vf.bind(null,Vt,!1,l.queue),l=vn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=IE.bind(null,Vt,h,d,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function vg(e){var n=Ce();return _g(n,Jt,e)}function _g(e,n,s){if(n=cf(e,n,gg)[0],e=Nu(ia)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ho(n)}catch(b){throw b===Po?wu:b}else l=n;n=Ce();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Vt.flags|=2048,ws(9,Iu(),OE.bind(null,h,s),null)),[l,d,e]}function OE(e,n){e.action=n}function bg(e){var n=Ce(),s=Jt;if(s!==null)return _g(n,s,e);Ce(),n=n.memoizedState,s=Ce();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ws(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=lf(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Iu(){return{destroy:void 0,resource:void 0}}function xg(){return Ce().memoizedState}function Ou(e,n,s,l){var h=vn();l=l===void 0?null:l,Vt.flags|=e,h.memoizedState=ws(1|n,Iu(),s,l)}function Fo(e,n,s,l){var h=Ce();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&nf(l,Jt.memoizedState.deps)?h.memoizedState=ws(n,d,s,l):(Vt.flags|=e,h.memoizedState=ws(1|n,d,s,l))}function Eg(e,n){Ou(8390656,8,e,n)}function Tg(e,n){Fo(2048,8,e,n)}function wg(e,n){return Fo(4,2,e,n)}function Ag(e,n){return Fo(4,4,e,n)}function Sg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rg(e,n,s){s=s!=null?s.concat([e]):null,Fo(4,4,Sg.bind(null,n,e),s)}function pf(){}function Cg(e,n){var s=Ce();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&nf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Dg(e,n){var s=Ce();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&nf(n,l[1]))return l[0];if(l=e(),Mr){ne(!0);try{e()}finally{ne(!1)}}return s.memoizedState=[l,n],l}function mf(e,n,s){return s===void 0||(Da&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Oy(),Vt.lanes|=e,ja|=e,s)}function Ng(e,n,s,l){return Tn(s,n)?s:xs.current!==null?(e=mf(e,s,l),Tn(e,n)||(ze=!0),e):(Da&42)===0?(ze=!0,e.memoizedState=s):(e=Oy(),Vt.lanes|=e,ja|=e,n)}function Ig(e,n,s,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var b=K.T,x={};K.T=x,vf(e,!1,n,s);try{var D=h(),G=K.S;if(G!==null&&G(x,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=CE(D,l);Go(e,n,J,Cn(e))}else Go(e,n,l,Cn(e))}catch(it){Go(e,n,{then:function(){},status:"rejected",reason:it},Cn())}finally{st.p=d,K.T=b}}function ME(){}function gf(e,n,s,l){if(e.tag!==5)throw Error(r(476));var h=Og(e).queue;Ig(e,h,n,ot,s===null?ME:function(){return Mg(e),s(l)})}function Og(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mg(e){var n=Og(e).next.queue;Go(e,n,{},Cn())}function yf(){return en(ul)}function Vg(){return Ce().memoizedState}function kg(){return Ce().memoizedState}function VE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();e=Ra(s);var l=Ca(n,e,s);l!==null&&(Dn(l,n,s),Lo(l,n,s)),n={cache:$h()},e.payload=n;return}n=n.return}}function kE(e,n,s){var l=Cn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Mu(e)?Pg(n,s):(s=jh(e,n,s,l),s!==null&&(Dn(s,e,l),Ug(s,n,l)))}function jg(e,n,s){var l=Cn();Go(e,n,s,l)}function Go(e,n,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))Pg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,x=d(b,s);if(h.hasEagerState=!0,h.eagerState=x,Tn(x,b))return gu(e,n,h,0),se===null&&mu(),!1}catch{}finally{}if(s=jh(e,n,h,l),s!==null)return Dn(s,e,l),Ug(s,n,l),!0}return!1}function vf(e,n,s,l){if(l={lane:2,revertLane:Xf(),action:l,hasEagerState:!1,eagerState:null,next:null},Mu(e)){if(n)throw Error(r(479))}else n=jh(e,s,l,2),n!==null&&Dn(n,e,2)}function Mu(e){var n=e.alternate;return e===Vt||n!==null&&n===Vt}function Pg(e,n){Es=Ru=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ug(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fo(e,s)}}var Vu={readContext:en,use:Du,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},Lg={readContext:en,use:Du,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:en,useEffect:Eg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ou(4194308,4,Sg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ou(4194308,4,e,n)},useInsertionEffect:function(e,n){Ou(4,2,e,n)},useMemo:function(e,n){var s=vn();n=n===void 0?null:n;var l=e();if(Mr){ne(!0);try{e()}finally{ne(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=vn();if(s!==void 0){var h=s(n);if(Mr){ne(!0);try{s(n)}finally{ne(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=kE.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:function(e){e=ff(e);var n=e.queue,s=jg.bind(null,Vt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:pf,useDeferredValue:function(e,n){var s=vn();return mf(s,e,n)},useTransition:function(){var e=ff(!1);return e=Ig.bind(null,Vt,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Vt,h=vn();if(Qt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),se===null)throw Error(r(349));(Ht&124)!==0||sg(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,Eg(lg.bind(null,l,d,e),[e]),l.flags|=2048,ws(9,Iu(),og.bind(null,l,d,s,n),null),s},useId:function(){var e=vn(),n=se.identifierPrefix;if(Qt){var s=ta,l=Ji;s=(l&~(1<<32-ge(l)-1)).toString(32)+s,n=""+n+"R"+s,s=Cu++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=DE++,n=""+n+"r"+s.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:yg,useActionState:yg,useOptimistic:function(e){var n=vn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vf.bind(null,Vt,!0,s),s.dispatch=n,[e,n]},useMemoCache:uf,useCacheRefresh:function(){return vn().memoizedState=VE.bind(null,Vt)}},zg={readContext:en,use:Du,useCallback:Cg,useContext:en,useEffect:Tg,useImperativeHandle:Rg,useInsertionEffect:wg,useLayoutEffect:Ag,useMemo:Dg,useReducer:Nu,useRef:xg,useState:function(){return Nu(ia)},useDebugValue:pf,useDeferredValue:function(e,n){var s=Ce();return Ng(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Nu(ia)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:yf,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var s=Ce();return hg(s,Jt,e,n)},useMemoCache:uf,useCacheRefresh:kg},jE={readContext:en,use:Du,useCallback:Cg,useContext:en,useEffect:Tg,useImperativeHandle:Rg,useInsertionEffect:wg,useLayoutEffect:Ag,useMemo:Dg,useReducer:hf,useRef:xg,useState:function(){return hf(ia)},useDebugValue:pf,useDeferredValue:function(e,n){var s=Ce();return Jt===null?mf(s,e,n):Ng(s,Jt.memoizedState,e,n)},useTransition:function(){var e=hf(ia)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:yf,useFormState:bg,useActionState:bg,useOptimistic:function(e,n){var s=Ce();return Jt!==null?hg(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:uf,useCacheRefresh:kg},As=null,$o=0;function ku(e){var n=$o;return $o+=1,As===null&&(As=[]),Zm(As,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===T?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Bg(e){var n=e._init;return n(e._payload)}function qg(e){function n(B,U){if(e){var F=B.deletions;F===null?(B.deletions=[U],B.flags|=16):F.push(U)}}function s(B,U){if(!e)return null;for(;U!==null;)n(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=Wi(B,U),B.index=0,B.sibling=null,B}function d(B,U,F){return B.index=F,e?(F=B.alternate,F!==null?(F=F.index,F<U?(B.flags|=67108866,U):F):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function b(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function x(B,U,F,nt){return U===null||U.tag!==6?(U=Uh(F,B.mode,nt),U.return=B,U):(U=h(U,F),U.return=B,U)}function D(B,U,F,nt){var vt=F.type;return vt===L?J(B,U,F.props.children,nt,F.key):U!==null&&(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&Bg(vt)===U.type)?(U=h(U,F.props),Qo(U,F),U.return=B,U):(U=vu(F.type,F.key,F.props,null,B.mode,nt),Qo(U,F),U.return=B,U)}function G(B,U,F,nt){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=Lh(F,B.mode,nt),U.return=B,U):(U=h(U,F.children||[]),U.return=B,U)}function J(B,U,F,nt,vt){return U===null||U.tag!==7?(U=Ar(F,B.mode,nt,vt),U.return=B,U):(U=h(U,F),U.return=B,U)}function it(B,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Uh(""+U,B.mode,F),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return F=vu(U.type,U.key,U.props,null,B.mode,F),Qo(F,U),F.return=B,F;case N:return U=Lh(U,B.mode,F),U.return=B,U;case R:var nt=U._init;return U=nt(U._payload),it(B,U,F)}if(ht(U)||z(U))return U=Ar(U,B.mode,F,null),U.return=B,U;if(typeof U.then=="function")return it(B,ku(U),F);if(U.$$typeof===W)return it(B,Eu(B,U),F);ju(B,U)}return null}function $(B,U,F,nt){var vt=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return vt!==null?null:x(B,U,""+F,nt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===vt?D(B,U,F,nt):null;case N:return F.key===vt?G(B,U,F,nt):null;case R:return vt=F._init,F=vt(F._payload),$(B,U,F,nt)}if(ht(F)||z(F))return vt!==null?null:J(B,U,F,nt,null);if(typeof F.then=="function")return $(B,U,ku(F),nt);if(F.$$typeof===W)return $(B,U,Eu(B,F),nt);ju(B,F)}return null}function Q(B,U,F,nt,vt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(F)||null,x(U,B,""+nt,vt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case A:return B=B.get(nt.key===null?F:nt.key)||null,D(U,B,nt,vt);case N:return B=B.get(nt.key===null?F:nt.key)||null,G(U,B,nt,vt);case R:var kt=nt._init;return nt=kt(nt._payload),Q(B,U,F,nt,vt)}if(ht(nt)||z(nt))return B=B.get(F)||null,J(U,B,nt,vt,null);if(typeof nt.then=="function")return Q(B,U,F,ku(nt),vt);if(nt.$$typeof===W)return Q(B,U,F,Eu(U,nt),vt);ju(U,nt)}return null}function Dt(B,U,F,nt){for(var vt=null,kt=null,xt=U,St=U=0,qe=null;xt!==null&&St<F.length;St++){xt.index>St?(qe=xt,xt=null):qe=xt.sibling;var $t=$(B,xt,F[St],nt);if($t===null){xt===null&&(xt=qe);break}e&&xt&&$t.alternate===null&&n(B,xt),U=d($t,U,St),kt===null?vt=$t:kt.sibling=$t,kt=$t,xt=qe}if(St===F.length)return s(B,xt),Qt&&Rr(B,St),vt;if(xt===null){for(;St<F.length;St++)xt=it(B,F[St],nt),xt!==null&&(U=d(xt,U,St),kt===null?vt=xt:kt.sibling=xt,kt=xt);return Qt&&Rr(B,St),vt}for(xt=l(xt);St<F.length;St++)qe=Q(xt,B,St,F[St],nt),qe!==null&&(e&&qe.alternate!==null&&xt.delete(qe.key===null?St:qe.key),U=d(qe,U,St),kt===null?vt=qe:kt.sibling=qe,kt=qe);return e&&xt.forEach(function(Ga){return n(B,Ga)}),Qt&&Rr(B,St),vt}function At(B,U,F,nt){if(F==null)throw Error(r(151));for(var vt=null,kt=null,xt=U,St=U=0,qe=null,$t=F.next();xt!==null&&!$t.done;St++,$t=F.next()){xt.index>St?(qe=xt,xt=null):qe=xt.sibling;var Ga=$(B,xt,$t.value,nt);if(Ga===null){xt===null&&(xt=qe);break}e&&xt&&Ga.alternate===null&&n(B,xt),U=d(Ga,U,St),kt===null?vt=Ga:kt.sibling=Ga,kt=Ga,xt=qe}if($t.done)return s(B,xt),Qt&&Rr(B,St),vt;if(xt===null){for(;!$t.done;St++,$t=F.next())$t=it(B,$t.value,nt),$t!==null&&(U=d($t,U,St),kt===null?vt=$t:kt.sibling=$t,kt=$t);return Qt&&Rr(B,St),vt}for(xt=l(xt);!$t.done;St++,$t=F.next())$t=Q(xt,B,St,$t.value,nt),$t!==null&&(e&&$t.alternate!==null&&xt.delete($t.key===null?St:$t.key),U=d($t,U,St),kt===null?vt=$t:kt.sibling=$t,kt=$t);return e&&xt.forEach(function(P1){return n(B,P1)}),Qt&&Rr(B,St),vt}function ee(B,U,F,nt){if(typeof F=="object"&&F!==null&&F.type===L&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:t:{for(var vt=F.key;U!==null;){if(U.key===vt){if(vt=F.type,vt===L){if(U.tag===7){s(B,U.sibling),nt=h(U,F.props.children),nt.return=B,B=nt;break t}}else if(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&Bg(vt)===U.type){s(B,U.sibling),nt=h(U,F.props),Qo(nt,F),nt.return=B,B=nt;break t}s(B,U);break}else n(B,U);U=U.sibling}F.type===L?(nt=Ar(F.props.children,B.mode,nt,F.key),nt.return=B,B=nt):(nt=vu(F.type,F.key,F.props,null,B.mode,nt),Qo(nt,F),nt.return=B,B=nt)}return b(B);case N:t:{for(vt=F.key;U!==null;){if(U.key===vt)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){s(B,U.sibling),nt=h(U,F.children||[]),nt.return=B,B=nt;break t}else{s(B,U);break}else n(B,U);U=U.sibling}nt=Lh(F,B.mode,nt),nt.return=B,B=nt}return b(B);case R:return vt=F._init,F=vt(F._payload),ee(B,U,F,nt)}if(ht(F))return Dt(B,U,F,nt);if(z(F)){if(vt=z(F),typeof vt!="function")throw Error(r(150));return F=vt.call(F),At(B,U,F,nt)}if(typeof F.then=="function")return ee(B,U,ku(F),nt);if(F.$$typeof===W)return ee(B,U,Eu(B,F),nt);ju(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(s(B,U.sibling),nt=h(U,F),nt.return=B,B=nt):(s(B,U),nt=Uh(F,B.mode,nt),nt.return=B,B=nt),b(B)):s(B,U)}return function(B,U,F,nt){try{$o=0;var vt=ee(B,U,F,nt);return As=null,vt}catch(xt){if(xt===Po||xt===wu)throw xt;var kt=wn(29,xt,null,B.mode);return kt.lanes=nt,kt.return=B,kt}finally{}}}var Ss=qg(!0),Hg=qg(!1),qn=H(null),Ai=null;function Na(e){var n=e.alternate;tt(je,je.current&1),tt(qn,e),Ai===null&&(n===null||xs.current!==null||n.memoizedState!==null)&&(Ai=e)}function Fg(e){if(e.tag===22){if(tt(je,je.current),tt(qn,e),Ai===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ai=e)}}else Ia()}function Ia(){tt(je,je.current),tt(qn,qn.current)}function aa(e){et(qn),Ai===e&&(Ai=null),et(je)}var je=H(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||ld(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _f(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:v({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Cn(),h=Ra(l);h.payload=n,s!=null&&(h.callback=s),n=Ca(e,h,l),n!==null&&(Dn(n,e,l),Lo(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Cn(),h=Ra(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ca(e,h,l),n!==null&&(Dn(n,e,l),Lo(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Cn(),l=Ra(s);l.tag=2,n!=null&&(l.callback=n),n=Ca(e,l,s),n!==null&&(Dn(n,e,s),Lo(n,e,s))}};function Gg(e,n,s,l,h,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!Do(s,l)||!Do(h,d):!0}function $g(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=v({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Qg(e){Uu(e)}function Yg(e){console.error(e)}function Kg(e){Uu(e)}function Lu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,s){return s=Ra(s),s.tag=3,s.payload={element:null},s.callback=function(){Lu(e,n)},s}function Zg(e){return e=Ra(e),e.tag=3,e}function Wg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Xg(n,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Xg(n,s,l),typeof h!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function PE(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Vo(n,s,h,!0),s=qn.current,s!==null){switch(s.tag){case 13:return Ai===null?Gf():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Kh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Qf(e,l,h)),!1;case 22:return s.flags|=65536,l===Kh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Qf(e,l,h)),!1}throw Error(r(435,s.tag))}return Qf(e,l,h),Gf(),!1}if(Qt)return n=qn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==qh&&(e=Error(r(422),{cause:l}),Mo(Un(e,s)))):(l!==qh&&(n=Error(r(423),{cause:l}),Mo(Un(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Un(l,s),h=xf(e.stateNode,l,h),Wh(e,h),ve!==4&&(ve=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,s),tl===null?tl=[d]:tl.push(d),ve!==4&&(ve=2),n===null)return!0;l=Un(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=xf(s.stateNode,l,e),Wh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pa===null||!Pa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Zg(h),Wg(h,e,s,l),Wh(s,h),!1}s=s.return}while(s!==null);return!1}var Jg=Error(r(461)),ze=!1;function Qe(e,n,s,l){n.child=e===null?Hg(n,null,s,l):Ss(n,e.child,s,l)}function ty(e,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var b={};for(var x in l)x!=="ref"&&(b[x]=l[x])}else b=l;return Ir(n),l=af(e,n,s,b,d,h),x=rf(),e!==null&&!ze?(sf(e,n,h),ra(e,n,h)):(Qt&&x&&zh(n),n.flags|=1,Qe(e,n,l,h),n.child)}function ey(e,n,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!Ph(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,ny(e,n,d,l,h)):(e=vu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Df(e,h)){var b=d.memoizedProps;if(s=s.compare,s=s!==null?s:Do,s(b,l)&&e.ref===n.ref)return ra(e,n,h)}return n.flags|=1,e=Wi(d,l),e.ref=n.ref,e.return=n,n.child=e}function ny(e,n,s,l,h){if(e!==null){var d=e.memoizedProps;if(Do(d,l)&&e.ref===n.ref)if(ze=!1,n.pendingProps=l=d,Df(e,h))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,ra(e,n,h)}return Ef(e,n,s,l,h)}function iy(e,n,s){var l=n.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return ay(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(n,d!==null?d.cachePool:null),d!==null?ng(n,d):tf(),Fg(n);else return n.lanes=n.childLanes=536870912,ay(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(Tu(n,d.cachePool),ng(n,d),Ia(),n.memoizedState=null):(e!==null&&Tu(n,null),tf(),Ia());return Qe(e,n,h,s),n.child}function ay(e,n,s,l){var h=Yh();return h=h===null?null:{parent:ke._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&Tu(n,null),tf(),Fg(n),e!==null&&Vo(e,n,l,!0),null}function zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ef(e,n,s,l,h){return Ir(n),s=af(e,n,s,l,void 0,h),l=rf(),e!==null&&!ze?(sf(e,n,h),ra(e,n,h)):(Qt&&l&&zh(n),n.flags|=1,Qe(e,n,s,h),n.child)}function ry(e,n,s,l,h,d){return Ir(n),n.updateQueue=null,s=ag(n,l,s,h),ig(e),l=rf(),e!==null&&!ze?(sf(e,n,d),ra(e,n,d)):(Qt&&l&&zh(n),n.flags|=1,Qe(e,n,s,d),n.child)}function sy(e,n,s,l,h){if(Ir(n),n.stateNode===null){var d=gs,b=s.contextType;typeof b=="object"&&b!==null&&(d=en(b)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Xh(n),b=s.contextType,d.context=typeof b=="object"&&b!==null?en(b):gs,d.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(_f(n,s,b,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&bf.enqueueReplaceState(d,d.state,null),Bo(n,l,d,h),zo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var x=n.memoizedProps,D=Vr(s,x);d.props=D;var G=d.context,J=s.contextType;b=gs,typeof J=="object"&&J!==null&&(b=en(J));var it=s.getDerivedStateFromProps;J=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||G!==b)&&$g(n,d,l,b),Sa=!1;var $=n.memoizedState;d.state=$,Bo(n,l,d,h),zo(),G=n.memoizedState,x||$!==G||Sa?(typeof it=="function"&&(_f(n,s,it,l),G=n.memoizedState),(D=Sa||Gg(n,s,D,l,$,G,b))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=b,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Zh(e,n),b=n.memoizedProps,J=Vr(s,b),d.props=J,it=n.pendingProps,$=d.context,G=s.contextType,D=gs,typeof G=="object"&&G!==null&&(D=en(G)),x=s.getDerivedStateFromProps,(G=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==it||$!==D)&&$g(n,d,l,D),Sa=!1,$=n.memoizedState,d.state=$,Bo(n,l,d,h),zo();var Q=n.memoizedState;b!==it||$!==Q||Sa||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof x=="function"&&(_f(n,s,x,l),Q=n.memoizedState),(J=Sa||Gg(n,s,J,l,$,Q,D)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,zu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ss(n,e.child,null,h),n.child=Ss(n,null,s,h)):Qe(e,n,s,h),n.memoizedState=d.state,e=n.child):e=ra(e,n,h),e}function oy(e,n,s,l){return Oo(),n.flags|=256,Qe(e,n,s,l),n.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(e){return{baseLanes:e,cachePool:Ym()}}function Af(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Hn),e}function ly(e,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(h?Na(n):Ia(),Qt){var x=ye,D;if(D=x){t:{for(D=x,x=wi;D.nodeType!==8;){if(!x){x=null;break t}if(D=ii(D.nextSibling),D===null){x=null;break t}}x=D}x!==null?(n.memoizedState={dehydrated:x,treeContext:Sr!==null?{id:Ji,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},D=wn(18,null,null,0),D.stateNode=x,D.return=n,n.child=D,dn=n,ye=null,D=!0):D=!1}D||Dr(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return ld(x)?n.lanes=32:n.lanes=536870912,null;aa(n)}return x=l.children,l=l.fallback,h?(Ia(),h=n.mode,x=Bu({mode:"hidden",children:x},h),l=Ar(l,h,s,null),x.return=n,l.return=n,x.sibling=l,n.child=x,h=n.child,h.memoizedState=wf(s),h.childLanes=Af(e,b,s),n.memoizedState=Tf,l):(Na(n),Sf(n,x))}if(D=e.memoizedState,D!==null&&(x=D.dehydrated,x!==null)){if(d)n.flags&256?(Na(n),n.flags&=-257,n=Rf(e,n,s)):n.memoizedState!==null?(Ia(),n.child=e.child,n.flags|=128,n=null):(Ia(),h=l.fallback,x=n.mode,l=Bu({mode:"visible",children:l.children},x),h=Ar(h,x,s,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Ss(n,e.child,null,s),l=n.child,l.memoizedState=wf(s),l.childLanes=Af(e,b,s),n.memoizedState=Tf,n=h);else if(Na(n),ld(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(r(419)),l.stack="",l.digest=b,Mo({value:l,source:null,stack:null}),n=Rf(e,n,s)}else if(ze||Vo(e,n,s,!1),b=(s&e.childLanes)!==0,ze||b){if(b=se,b!==null&&(l=s&-s,l=(l&42)!==0?1:va(l),l=(l&(b.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ms(e,l),Dn(b,e,l),Jg;x.data==="$?"||Gf(),n=Rf(e,n,s)}else x.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,ye=ii(x.nextSibling),dn=n,Qt=!0,Cr=null,wi=!1,e!==null&&(zn[Bn++]=Ji,zn[Bn++]=ta,zn[Bn++]=Sr,Ji=e.id,ta=e.overflow,Sr=n),n=Sf(n,l.children),n.flags|=4096);return n}return h?(Ia(),h=l.fallback,x=n.mode,D=e.child,G=D.sibling,l=Wi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?h=Wi(G,h):(h=Ar(h,x,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,x=e.child.memoizedState,x===null?x=wf(s):(D=x.cachePool,D!==null?(G=ke._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=Ym(),x={baseLanes:x.baseLanes|s,cachePool:D}),h.memoizedState=x,h.childLanes=Af(e,b,s),n.memoizedState=Tf,l):(Na(n),s=e.child,e=s.sibling,s=Wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=s,n.memoizedState=null,s)}function Sf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=wn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Rf(e,n,s){return Ss(n,e.child,null,s),e=Sf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function uy(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Fh(e.return,n,s)}function Cf(e,n,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function cy(e,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Qe(e,n,l.children,s),l=je.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uy(e,s,n);else if(e.tag===19)uy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(tt(je,l),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Cf(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Cf(n,!0,s,null,d);break;case"together":Cf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ra(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ja|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Vo(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Wi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Wi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function UE(e,n,s){switch(n.tag){case 3:zt(n,n.stateNode.containerInfo),Aa(n,ke,e.memoizedState.cache),Oo();break;case 27:case 5:ln(n);break;case 4:zt(n,n.stateNode.containerInfo);break;case 10:Aa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Na(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ly(e,n,s):(Na(n),e=ra(e,n,s),e!==null?e.sibling:null);Na(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Vo(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return cy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(je,je.current),l)break;return null;case 22:case 23:return n.lanes=0,iy(e,n,s);case 24:Aa(n,ke,e.memoizedState.cache)}return ra(e,n,s)}function hy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!Df(e,s)&&(n.flags&128)===0)return ze=!1,UE(e,n,s);ze=(e.flags&131072)!==0}else ze=!1,Qt&&(n.flags&1048576)!==0&&Bm(n,bu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Ph(l)?(e=Vr(l,e),n.tag=1,n=sy(null,n,l,e,s)):(n.tag=0,n=Ef(null,n,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===ct){n.tag=11,n=ty(null,n,l,e,s);break t}else if(h===j){n.tag=14,n=ey(null,n,l,e,s);break t}}throw n=pt(l)||l,Error(r(306,n,""))}}return n;case 0:return Ef(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Vr(l,n.pendingProps),sy(e,n,l,h,s);case 3:t:{if(zt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Zh(e,n),Bo(n,l,null,s);var b=n.memoizedState;if(l=b.cache,Aa(n,ke,l),l!==d.cache&&Gh(n,[ke],s,!0),zo(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=oy(e,n,l,s);break t}else if(l!==h){h=Un(Error(r(424)),n),Mo(h),n=oy(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ye=ii(e.firstChild),dn=n,Qt=!0,Cr=null,wi=!0,s=Hg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oo(),l===h){n=ra(e,n,s);break t}Qe(e,n,l,s)}n=n.child}return n;case 26:return zu(e,n),e===null?(s=mv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,e=n.pendingProps,l=ec(yt.current).createElement(s),l[Oe]=n,l[Ae]=e,Ke(l,s,e),xe(l),n.stateNode=l):n.memoizedState=mv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ln(n),e===null&&Qt&&(l=n.stateNode=fv(n.type,n.pendingProps,yt.current),dn=n,wi=!0,h=ye,za(n.type)?(ud=h,ye=ii(l.firstChild)):ye=h),Qe(e,n,n.pendingProps.children,s),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((h=l=ye)&&(l=f1(l,n.type,n.pendingProps,wi),l!==null?(n.stateNode=l,dn=n,ye=ii(l.firstChild),wi=!1,h=!0):h=!1),h||Dr(n)),ln(n),h=n.type,d=n.pendingProps,b=e!==null?e.memoizedProps:null,l=d.children,rd(h,d)?l=null:b!==null&&rd(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=af(e,n,NE,null,null,s),ul._currentValue=h),zu(e,n),Qe(e,n,l,s),n.child;case 6:return e===null&&Qt&&((e=s=ye)&&(s=d1(s,n.pendingProps,wi),s!==null?(n.stateNode=s,dn=n,ye=null,e=!0):e=!1),e||Dr(n)),null;case 13:return ly(e,n,s);case 4:return zt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ss(n,null,l,s):Qe(e,n,l,s),n.child;case 11:return ty(e,n,n.type,n.pendingProps,s);case 7:return Qe(e,n,n.pendingProps,s),n.child;case 8:return Qe(e,n,n.pendingProps.children,s),n.child;case 12:return Qe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Aa(n,n.type,l.value),Qe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=en(h),l=l(h),n.flags|=1,Qe(e,n,l,s),n.child;case 14:return ey(e,n,n.type,n.pendingProps,s);case 15:return ny(e,n,n.type,n.pendingProps,s);case 19:return cy(e,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},e===null?(s=Bu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Wi(e.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return iy(e,n,s);case 24:return Ir(n),l=en(ke),e===null?(h=Yh(),h===null&&(h=se,d=$h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},Xh(n),Aa(n,ke,h)):((e.lanes&s)!==0&&(Zh(e,n),Bo(n,null,null,s),zo()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Aa(n,ke,l)):(l=d.cache,Aa(n,ke,l),l!==h.cache&&Gh(n,[ke],s,!0))),Qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function sa(e){e.flags|=4}function fy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bv(n)){if(n=qn.current,n!==null&&((Ht&4194048)===Ht?Ai!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||n!==Ai))throw Uo=Kh,Km;e.flags|=8192}}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?co():536870912,e.lanes|=n,Ns|=n)}function Yo(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function LE(e,n,s){var l=n.pendingProps;switch(Bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),na(ke),on(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Io(n)?sa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fm())),de(n),null;case 26:return s=n.memoizedState,e===null?(sa(n),s!==null?(de(n),fy(n,s)):(de(n),n.flags&=-16777217)):s?s!==e.memoizedState?(sa(n),de(n),fy(n,s)):(de(n),n.flags&=-16777217):(e.memoizedProps!==l&&sa(n),de(n),n.flags&=-16777217),null;case 27:Je(n),s=yt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return de(n),null}e=ft.current,Io(n)?qm(n):(e=fv(h,l,s),n.stateNode=e,sa(n))}return de(n),null;case 5:if(Je(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return de(n),null}if(e=ft.current,Io(n))qm(n);else{switch(h=ec(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[Oe]=n,e[Ae]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Ke(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&sa(n)}}return de(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&sa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=yt.current,Io(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Oe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||rv(e.nodeValue,s)),e||Dr(n)}else e=ec(e).createTextNode(l),e[Oe]=n,n.stateNode=e}return de(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Io(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Oe]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=Fm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(aa(n),n):(aa(n),null)}if(aa(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),qu(n,n.updateQueue),de(n),null;case 4:return on(),e===null&&td(n.stateNode.containerInfo),de(n),null;case 10:return na(n.type),de(n),null;case 19:if(et(je),h=n.memoizedState,h===null)return de(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Yo(h,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Pu(e),d!==null){for(n.flags|=128,Yo(h,!1),e=d.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)zm(s,e),s=s.sibling;return tt(je,je.current&1|2),n.child}e=e.sibling}h.tail!==null&&fe()>Gu&&(n.flags|=128,l=!0,Yo(h,!1),n.lanes=4194304)}else{if(!l)if(e=Pu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Yo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qt)return de(n),null}else 2*fe()-h.renderingStartTime>Gu&&s!==536870912&&(n.flags|=128,l=!0,Yo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=fe(),n.sibling=null,e=je.current,tt(je,l?e&1|2:e&1),n):(de(n),null);case 22:case 23:return aa(n),ef(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&et(Or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),na(ke),de(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function zE(e,n){switch(Bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return na(ke),on(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Je(n),null;case 13:if(aa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Oo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(je),null;case 4:return on(),null;case 10:return na(n.type),null;case 22:case 23:return aa(n),ef(),e!==null&&et(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return na(ke),null;case 25:return null;default:return null}}function dy(e,n){switch(Bh(n),n.tag){case 3:na(ke),on();break;case 26:case 27:case 5:Je(n);break;case 4:on();break;case 13:aa(n);break;case 19:et(je);break;case 10:na(n.type);break;case 22:case 23:aa(n),ef(),e!==null&&et(Or);break;case 24:na(ke)}}function Ko(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,b=s.inst;l=d(),b.destroy=l}s=s.next}while(s!==h)}}catch(x){ie(n,n.return,x)}}function Oa(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var b=l.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,h=n;var D=s,G=x;try{G()}catch(J){ie(h,D,J)}}}l=l.next}while(l!==d)}}catch(J){ie(n,n.return,J)}}function py(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{eg(n,s)}catch(l){ie(e,e.return,l)}}}function my(e,n,s){s.props=Vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ie(e,n,l)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){ie(e,n,h)}}function Si(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ie(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ie(e,n,h)}else s.current=null}function gy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ie(e,e.return,h)}}function Nf(e,n,s){try{var l=e.stateNode;o1(l,e.type,s,n),l[Ae]=n}catch(h){ie(e,e.return,h)}}function yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&za(e.type)||e.tag===4}function If(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&za(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=tc));else if(l!==4&&(l===27&&za(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,s),e=e.sibling;e!==null;)Of(e,n,s),e=e.sibling}function Hu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&za(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hu(e,n,s),e=e.sibling;e!==null;)Hu(e,n,s),e=e.sibling}function vy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ke(n,l,s),n[Oe]=e,n[Ae]=s}catch(d){ie(e,e.return,d)}}var oa=!1,Te=!1,Mf=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Be=null;function BE(e,n){if(e=e.containerInfo,id=oc,e=Nm(e),Nh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var b=0,x=-1,D=-1,G=0,J=0,it=e,$=null;e:for(;;){for(var Q;it!==s||h!==0&&it.nodeType!==3||(x=b+h),it!==d||l!==0&&it.nodeType!==3||(D=b+l),it.nodeType===3&&(b+=it.nodeValue.length),(Q=it.firstChild)!==null;)$=it,it=Q;for(;;){if(it===e)break e;if($===s&&++G===h&&(x=b),$===d&&++J===l&&(D=b),(Q=it.nextSibling)!==null)break;it=$,$=it.parentNode}it=Q}s=x===-1||D===-1?null:{start:x,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:e,selectionRange:s},oc=!1,Be=n;Be!==null;)if(n=Be,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Be=e;else for(;Be!==null;){switch(n=Be,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Dt=Vr(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(Dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){ie(s,s.return,At)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Be=e;break}Be=n.return}}function by(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ma(e,s),l&4&&Ko(5,s);break;case 1:if(Ma(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(b){ie(s,s.return,b)}else{var h=Vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ie(s,s.return,b)}}l&64&&py(s),l&512&&Xo(s,s.return);break;case 3:if(Ma(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{eg(e,n)}catch(b){ie(s,s.return,b)}}break;case 27:n===null&&l&4&&vy(s);case 26:case 5:Ma(e,s),n===null&&l&4&&gy(s),l&512&&Xo(s,s.return);break;case 12:Ma(e,s);break;case 13:Ma(e,s),l&4&&Ty(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=XE.bind(null,s),p1(e,s))));break;case 22:if(l=s.memoizedState!==null||oa,!l){n=n!==null&&n.memoizedState!==null||Te,h=oa;var d=Te;oa=l,(Te=n)&&!d?Va(e,s,(s.subtreeFlags&8772)!==0):Ma(e,s),oa=h,Te=d}break;case 30:break;default:Ma(e,s)}}function xy(e){var n=e.alternate;n!==null&&(e.alternate=null,xy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&xa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,_n=!1;function la(e,n,s){for(s=s.child;s!==null;)Ey(e,n,s),s=s.sibling}function Ey(e,n,s){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Ot,s)}catch{}switch(s.tag){case 26:Te||Si(s,n),la(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Te||Si(s,n);var l=ce,h=_n;za(s.type)&&(ce=s.stateNode,_n=!1),la(e,n,s),rl(s.stateNode),ce=l,_n=h;break;case 5:Te||Si(s,n);case 6:if(l=ce,h=_n,ce=null,la(e,n,s),ce=l,_n=h,ce!==null)if(_n)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(d){ie(s,n,d)}else try{ce.removeChild(s.stateNode)}catch(d){ie(s,n,d)}break;case 18:ce!==null&&(_n?(e=ce,cv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),dl(e)):cv(ce,s.stateNode));break;case 4:l=ce,h=_n,ce=s.stateNode.containerInfo,_n=!0,la(e,n,s),ce=l,_n=h;break;case 0:case 11:case 14:case 15:Te||Oa(2,s,n),Te||Oa(4,s,n),la(e,n,s);break;case 1:Te||(Si(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&my(s,n,l)),la(e,n,s);break;case 21:la(e,n,s);break;case 22:Te=(l=Te)||s.memoizedState!==null,la(e,n,s),Te=l;break;default:la(e,n,s)}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(s){ie(n,n.return,s)}}function qE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _y),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _y),n;default:throw Error(r(435,e.tag))}}function Vf(e,n){var s=qE(e);n.forEach(function(l){var h=ZE.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function An(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,b=n,x=b;t:for(;x!==null;){switch(x.tag){case 27:if(za(x.type)){ce=x.stateNode,_n=!1;break t}break;case 5:ce=x.stateNode,_n=!1;break t;case 3:case 4:ce=x.stateNode.containerInfo,_n=!0;break t}x=x.return}if(ce===null)throw Error(r(160));Ey(d,b,h),ce=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)wy(n,e),n=n.sibling}var ni=null;function wy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(n,e),Sn(e),l&4&&(Oa(3,e,e.return),Ko(3,e),Oa(5,e,e.return));break;case 1:An(n,e),Sn(e),l&512&&(Te||s===null||Si(s,s.return)),l&64&&oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ni;if(An(n,e),Sn(e),l&512&&(Te||s===null||Si(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ur]||d[Oe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ke(d,l,s),d[Oe]=e,xe(d),l=d;break t;case"link":var b=vv("link","href",h).get(l+(s.href||""));if(b){for(var x=0;x<b.length;x++)if(d=b[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(x,1);break e}}d=h.createElement(l),Ke(d,l,s),h.head.appendChild(d);break;case"meta":if(b=vv("meta","content",h).get(l+(s.content||""))){for(x=0;x<b.length;x++)if(d=b[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(x,1);break e}}d=h.createElement(l),Ke(d,l,s),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Oe]=e,xe(d),l=d}e.stateNode=l}else _v(h,e.type,e.stateNode);else e.stateNode=yv(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?_v(h,e.type,e.stateNode):yv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,s.memoizedProps)}break;case 27:An(n,e),Sn(e),l&512&&(Te||s===null||Si(s,s.return)),s!==null&&l&4&&Nf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(An(n,e),Sn(e),l&512&&(Te||s===null||Si(s,s.return)),e.flags&32){h=e.stateNode;try{Vn(h,"")}catch(Q){ie(e,e.return,Q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Nf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Mf=!0);break;case 6:if(An(n,e),Sn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Q){ie(e,e.return,Q)}}break;case 3:if(ac=null,h=ni,ni=nc(n.containerInfo),An(n,e),ni=h,Sn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{dl(n.containerInfo)}catch(Q){ie(e,e.return,Q)}Mf&&(Mf=!1,Ay(e));break;case 4:l=ni,ni=nc(e.stateNode.containerInfo),An(n,e),Sn(e),ni=l;break;case 12:An(n,e),Sn(e);break;case 13:An(n,e),Sn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(zf=fe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vf(e,l)));break;case 22:h=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,G=oa,J=Te;if(oa=G||h,Te=J||D,An(n,e),Te=J,oa=G,Sn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||D||oa||Te||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(d=D.stateNode,h)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=D.stateNode;var it=D.memoizedProps.style,$=it!=null&&it.hasOwnProperty("display")?it.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){ie(D,D.return,Q)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Q){ie(D,D.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Vf(e,s))));break;case 19:An(n,e),Sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vf(e,l)));break;case 30:break;case 21:break;default:An(n,e),Sn(e)}}function Sn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(yy(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=If(e);Hu(e,d,h);break;case 5:var b=s.stateNode;s.flags&32&&(Vn(b,""),s.flags&=-33);var x=If(e);Hu(e,x,b);break;case 3:case 4:var D=s.stateNode.containerInfo,G=If(e);Of(e,G,D);break;default:throw Error(r(161))}}catch(J){ie(e,e.return,J)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ma(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Oa(4,n,n.return),kr(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&my(n,n.return,s),kr(n);break;case 27:rl(n.stateNode);case 26:case 5:Si(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Va(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Va(h,d,s),Ko(4,d);break;case 1:if(Va(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){ie(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)tg(D[h],x)}catch(G){ie(l,l.return,G)}}s&&b&64&&py(d),Xo(d,d.return);break;case 27:vy(d);case 26:case 5:Va(h,d,s),s&&l===null&&b&4&&gy(d),Xo(d,d.return);break;case 12:Va(h,d,s);break;case 13:Va(h,d,s),s&&b&4&&Ty(h,d);break;case 22:d.memoizedState===null&&Va(h,d,s),Xo(d,d.return);break;case 30:break;default:Va(h,d,s)}n=n.sibling}}function kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ko(s))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function Ri(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,s,l),n=n.sibling}function Sy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ri(e,n,s,l),h&2048&&Ko(9,n);break;case 1:Ri(e,n,s,l);break;case 3:Ri(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){Ri(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,b=d.id,x=d.onPostCommit;typeof x=="function"&&x(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){ie(n,n.return,D)}}else Ri(e,n,s,l);break;case 13:Ri(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Ri(e,n,s,l):Zo(e,n):d._visibility&2?Ri(e,n,s,l):(d._visibility|=2,Rs(e,n,s,l,(n.subtreeFlags&10256)!==0)),h&2048&&kf(b,n);break;case 24:Ri(e,n,s,l),h&2048&&jf(n.alternate,n);break;default:Ri(e,n,s,l)}}function Rs(e,n,s,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,b=n,x=s,D=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:Rs(d,b,x,D,h),Ko(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?Rs(d,b,x,D,h):Zo(d,b):(J._visibility|=2,Rs(d,b,x,D,h)),h&&G&2048&&kf(b.alternate,b);break;case 24:Rs(d,b,x,D,h),h&&G&2048&&jf(b.alternate,b);break;default:Rs(d,b,x,D,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Zo(s,l),h&2048&&kf(l.alternate,l);break;case 24:Zo(s,l),h&2048&&jf(l.alternate,l);break;default:Zo(s,l)}n=n.sibling}}var Wo=8192;function Cs(e){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 26:Cs(e),e.flags&Wo&&e.memoizedState!==null&&R1(ni,e.memoizedState,e.memoizedProps);break;case 5:Cs(e);break;case 3:case 4:var n=ni;ni=nc(e.stateNode.containerInfo),Cs(e),ni=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Wo,Wo=16777216,Cs(e),Wo=n):Cs(e));break;default:Cs(e)}}function Cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Be=l,Ny(l,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Oa(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Jo(e);break;default:Jo(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Be=l,Ny(l,e)}Cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Oa(8,n,n.return),Fu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function Ny(e,n){for(;Be!==null;){var s=Be;switch(s.tag){case 0:case 11:case 15:Oa(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ko(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Be=l;else t:for(s=e;Be!==null;){l=Be;var h=l.sibling,d=l.return;if(xy(l),l===s){Be=null;break t}if(h!==null){h.return=d,Be=h;break t}Be=d}}}var HE={getCacheForType:function(e){var n=en(ke),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},FE=typeof WeakMap=="function"?WeakMap:Map,Xt=0,se=null,jt=null,Ht=0,Zt=0,Rn=null,ka=!1,Ds=!1,Pf=!1,ua=0,ve=0,ja=0,jr=0,Uf=0,Hn=0,Ns=0,tl=null,bn=null,Lf=!1,zf=0,Gu=1/0,$u=null,Pa=null,Ye=0,Ua=null,Is=null,Os=0,Bf=0,qf=null,Iy=null,el=0,Hf=null;function Cn(){if((Xt&2)!==0&&Ht!==0)return Ht&-Ht;if(K.T!==null){var e=_s;return e!==0?e:Xf()}return _a()}function Oy(){Hn===0&&(Hn=(Ht&536870912)===0||Qt?lr():536870912);var e=qn.current;return e!==null&&(e.flags|=32),Hn}function Dn(e,n,s){(e===se&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),La(e,Ht,Hn,!1)),Bi(e,s),((Xt&2)===0||e!==se)&&(e===se&&((Xt&2)===0&&(jr|=s),ve===4&&La(e,Ht,Hn,!1)),Ci(e))}function My(e,n,s){if((Xt&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=l?QE(e,n):$f(e,n,!0),d=l;do{if(h===0){Ds&&!l&&La(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!GE(s)){h=$f(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;t:{var x=e;h=tl;var D=x.current.memoizedState.isDehydrated;if(D&&(Ms(x,b).flags|=256),b=$f(x,b,!1),b!==2){if(Pf&&!D){x.errorRecoveryDisabledLanes|=d,jr|=d,h=4;break t}d=bn,bn=h,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}h=b}if(d=!1,h!==2)continue}}if(h===1){Ms(e,0),La(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:La(l,n,Hn,!ka);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=zf+300-fe(),10<h)){if(La(l,n,Hn,!ka),fi(l,0,!0)!==0)break t;l.timeoutHandle=lv(Vy.bind(null,l,s,bn,$u,Lf,n,Hn,jr,Ns,ka,d,2,-0,0),h);break t}Vy(l,s,bn,$u,Lf,n,Hn,jr,Ns,ka,d,0,-0,0)}}break}while(!0);Ci(e)}function Vy(e,n,s,l,h,d,b,x,D,G,J,it,$,Q){if(e.timeoutHandle=-1,it=n.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:S1},Ry(n),it=C1(),it!==null)){e.cancelPendingCommit=it(By.bind(null,e,n,d,s,l,h,b,x,D,J,1,$,Q)),La(e,d,b,!G);return}By(e,n,d,s,l,h,b,x,D)}function GE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function La(e,n,s,l){n&=~Uf,n&=~jr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-ge(h),b=1<<d;l[d]=-1,h&=~b}s!==0&&di(e,s,n)}function Qu(){return(Xt&6)===0?(nl(0),!1):!0}function Ff(){if(jt!==null){if(Zt===0)var e=jt.return;else e=jt,ea=Nr=null,of(e),As=null,$o=0,e=jt;for(;e!==null;)dy(e.alternate,e),e=e.return;jt=null}}function Ms(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,u1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ff(),se=e,jt=s=Wi(e.current,null),Ht=n,Zt=0,Rn=null,ka=!1,Ds=Wn(e,n),Pf=!1,Ns=Hn=Uf=jr=ja=ve=0,bn=tl=null,Lf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ge(l),d=1<<h;n|=e[h],l&=~d}return ua=n,mu(),s}function ky(e,n){Vt=null,K.H=Vu,n===Po||n===wu?(n=Wm(),Zt=3):n===Km?(n=Wm(),Zt=4):Zt=n===Jg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,jt===null&&(ve=1,Lu(e,Un(n,e.current)))}function jy(){var e=K.H;return K.H=Vu,e===null?Vu:e}function Py(){var e=K.A;return K.A=HE,e}function Gf(){ve=4,ka||(Ht&4194048)!==Ht&&qn.current!==null||(Ds=!0),(ja&134217727)===0&&(jr&134217727)===0||se===null||La(se,Ht,Hn,!1)}function $f(e,n,s){var l=Xt;Xt|=2;var h=jy(),d=Py();(se!==e||Ht!==n)&&($u=null,Ms(e,n)),n=!1;var b=ve;t:do try{if(Zt!==0&&jt!==null){var x=jt,D=Rn;switch(Zt){case 8:Ff(),b=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(n=!0);var G=Zt;if(Zt=0,Rn=null,Vs(e,x,D,G),s&&Ds){b=0;break t}break;default:G=Zt,Zt=0,Rn=null,Vs(e,x,D,G)}}$E(),b=ve;break}catch(J){ky(e,J)}while(!0);return n&&e.shellSuspendCounter++,ea=Nr=null,Xt=l,K.H=h,K.A=d,jt===null&&(se=null,Ht=0,mu()),b}function $E(){for(;jt!==null;)Uy(jt)}function QE(e,n){var s=Xt;Xt|=2;var l=jy(),h=Py();se!==e||Ht!==n?($u=null,Gu=fe()+500,Ms(e,n)):Ds=Wn(e,n);t:do try{if(Zt!==0&&jt!==null){n=jt;var d=Rn;e:switch(Zt){case 1:Zt=0,Rn=null,Vs(e,n,d,1);break;case 2:case 9:if(Xm(d)){Zt=0,Rn=null,Ly(n);break}n=function(){Zt!==2&&Zt!==9||se!==e||(Zt=7),Ci(e)},d.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Xm(d)?(Zt=0,Rn=null,Ly(n)):(Zt=0,Rn=null,Vs(e,n,d,7));break;case 5:var b=null;switch(jt.tag){case 26:b=jt.memoizedState;case 5:case 27:var x=jt;if(!b||bv(b)){Zt=0,Rn=null;var D=x.sibling;if(D!==null)jt=D;else{var G=x.return;G!==null?(jt=G,Yu(G)):jt=null}break e}}Zt=0,Rn=null,Vs(e,n,d,5);break;case 6:Zt=0,Rn=null,Vs(e,n,d,6);break;case 8:Ff(),ve=6;break t;default:throw Error(r(462))}}YE();break}catch(J){ky(e,J)}while(!0);return ea=Nr=null,K.H=l,K.A=h,Xt=s,jt!==null?0:(se=null,Ht=0,mu(),ve)}function YE(){for(;jt!==null&&!In();)Uy(jt)}function Uy(e){var n=hy(e.alternate,e,ua);e.memoizedProps=e.pendingProps,n===null?Yu(e):jt=n}function Ly(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ry(s,n,n.pendingProps,n.type,void 0,Ht);break;case 11:n=ry(s,n,n.pendingProps,n.type.render,n.ref,Ht);break;case 5:of(n);default:dy(s,n),n=jt=zm(n,ua),n=hy(s,n,ua)}e.memoizedProps=e.pendingProps,n===null?Yu(e):jt=n}function Vs(e,n,s,l){ea=Nr=null,of(n),As=null,$o=0;var h=n.return;try{if(PE(e,h,n,s,Ht)){ve=1,Lu(e,Un(s,e.current)),jt=null;return}}catch(d){if(h!==null)throw jt=h,d;ve=1,Lu(e,Un(s,e.current)),jt=null;return}n.flags&32768?(Qt||l===1?e=!0:Ds||(Ht&536870912)!==0?e=!1:(ka=e=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(n,e)):Yu(n)}function Yu(e){var n=e;do{if((n.flags&32768)!==0){zy(n,ka);return}e=n.return;var s=LE(n.alternate,n,ua);if(s!==null){jt=s;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=e}while(n!==null);ve===0&&(ve=5)}function zy(e,n){do{var s=zE(e.alternate,e);if(s!==null){s.flags&=32767,jt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){jt=e;return}jt=e=s}while(e!==null);ve=6,jt=null}function By(e,n,s,l,h,d,b,x,D){e.cancelPendingCommit=null;do Ku();while(Ye!==0);if((Xt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=kh,ho(e,s,d,b,x,D),e===se&&(jt=se=null,Ht=0),Is=n,Ua=e,Os=s,Bf=d,qf=h,Iy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,WE(Ui,function(){return $y(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=st.p,st.p=2,b=Xt,Xt|=4;try{BE(e,n,s)}finally{Xt=b,st.p=h,K.T=l}}Ye=1,qy(),Hy(),Fy()}}function qy(){if(Ye===1){Ye=0;var e=Ua,n=Is,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=st.p;st.p=2;var h=Xt;Xt|=4;try{wy(n,e);var d=ad,b=Nm(e.containerInfo),x=d.focusedElem,D=d.selectionRange;if(b!==x&&x&&x.ownerDocument&&Dm(x.ownerDocument.documentElement,x)){if(D!==null&&Nh(x)){var G=D.start,J=D.end;if(J===void 0&&(J=G),"selectionStart"in x)x.selectionStart=G,x.selectionEnd=Math.min(J,x.value.length);else{var it=x.ownerDocument||document,$=it&&it.defaultView||window;if($.getSelection){var Q=$.getSelection(),Dt=x.textContent.length,At=Math.min(D.start,Dt),ee=D.end===void 0?At:Math.min(D.end,Dt);!Q.extend&&At>ee&&(b=ee,ee=At,At=b);var B=Cm(x,At),U=Cm(x,ee);if(B&&U&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var F=it.createRange();F.setStart(B.node,B.offset),Q.removeAllRanges(),At>ee?(Q.addRange(F),Q.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),Q.addRange(F))}}}}for(it=[],Q=x;Q=Q.parentNode;)Q.nodeType===1&&it.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<it.length;x++){var nt=it[x];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}oc=!!id,ad=id=null}finally{Xt=h,st.p=l,K.T=s}}e.current=n,Ye=2}}function Hy(){if(Ye===2){Ye=0;var e=Ua,n=Is,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=st.p;st.p=2;var h=Xt;Xt|=4;try{by(e,n.alternate,n)}finally{Xt=h,st.p=l,K.T=s}}Ye=3}}function Fy(){if(Ye===4||Ye===3){Ye=0,ci();var e=Ua,n=Is,s=Os,l=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ye=5:(Ye=0,Is=Ua=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pa=null),Zr(s),n=n.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Ot,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=st.p,st.p=2,K.T=null;try{for(var d=e.onRecoverableError,b=0;b<l.length;b++){var x=l[b];d(x.value,{componentStack:x.stack})}}finally{K.T=n,st.p=h}}(Os&3)!==0&&Ku(),Ci(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Hf?el++:(el=0,Hf=e):el=0,nl(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function Ku(e){return qy(),Hy(),Fy(),$y()}function $y(){if(Ye!==5)return!1;var e=Ua,n=Bf;Bf=0;var s=Zr(Os),l=K.T,h=st.p;try{st.p=32>s?32:s,K.T=null,s=qf,qf=null;var d=Ua,b=Os;if(Ye=0,Is=Ua=null,Os=0,(Xt&6)!==0)throw Error(r(331));var x=Xt;if(Xt|=4,Dy(d.current),Sy(d,d.current,b,s),Xt=x,nl(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Ot,d)}catch{}return!0}finally{st.p=h,K.T=l,Gy(e,n)}}function Qy(e,n,s){n=Un(s,n),n=xf(e.stateNode,n,2),e=Ca(e,n,2),e!==null&&(Bi(e,2),Ci(e))}function ie(e,n,s){if(e.tag===3)Qy(e,e,s);else for(;n!==null;){if(n.tag===3){Qy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pa===null||!Pa.has(l))){e=Un(s,e),s=Zg(2),l=Ca(n,s,2),l!==null&&(Wg(s,l,n,e),Bi(l,2),Ci(l));break}}n=n.return}}function Qf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new FE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Pf=!0,h.add(s),e=KE.bind(null,e,n,s),n.then(e,e))}function KE(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(Ht&s)===s&&(ve===4||ve===3&&(Ht&62914560)===Ht&&300>fe()-zf?(Xt&2)===0&&Ms(e,0):Uf|=s,Ns===Ht&&(Ns=0)),Ci(e)}function Yy(e,n){n===0&&(n=co()),e=ms(e,n),e!==null&&(Bi(e,n),Ci(e))}function XE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(e,s)}function ZE(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Yy(e,s)}function WE(e,n){return gn(e,n)}var Xu=null,ks=null,Yf=!1,Zu=!1,Kf=!1,Pr=0;function Ci(e){e!==ks&&e.next===null&&(ks===null?Xu=ks=e:ks=ks.next=e),Zu=!0,Yf||(Yf=!0,t1())}function nl(e,n){if(!Kf&&Zu){Kf=!0;do for(var s=!1,l=Xu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var b=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=h&~(b&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Wy(l,d))}else d=Ht,d=fi(l,l===se?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(s=!0,Wy(l,d));l=l.next}while(s);Kf=!1}}function JE(){Ky()}function Ky(){Zu=Yf=!1;var e=0;Pr!==0&&(l1()&&(e=Pr),Pr=0);for(var n=fe(),s=null,l=Xu;l!==null;){var h=l.next,d=Xy(l,n);d===0?(l.next=null,s===null?Xu=h:s.next=h,h===null&&(ks=s)):(s=l,(e!==0||(d&3)!==0)&&(Zu=!0)),l=h}nl(e)}function Xy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-ge(d),x=1<<b,D=h[b];D===-1?((x&s)===0||(x&l)!==0)&&(h[b]=Li(x,n)):D<=n&&(e.expiredLanes|=x),d&=~x}if(n=se,s=Ht,s=fi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&yn(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Wn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&yn(l),Zr(s)){case 2:case 8:s=Yn;break;case 32:s=Ui;break;case 268435456:s=ya;break;default:s=Ui}return l=Zy.bind(null,e),s=gn(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&yn(l),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ku()&&e.callbackNode!==s)return null;var l=Ht;return l=fi(e,e===se?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(My(e,l,n),Xy(e,fe()),e.callbackNode!=null&&e.callbackNode===s?Zy.bind(null,e):null)}function Wy(e,n){if(Ku())return null;My(e,n,!0)}function t1(){c1(function(){(Xt&6)!==0?gn(hi,JE):Ky()})}function Xf(){return Pr===0&&(Pr=lr()),Pr}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:is(""+e)}function tv(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function e1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=Jy((h[Ae]||null).action),b=l.submitter;b&&(n=(n=b[Ae]||null)?Jy(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var x=new as("action","action",null,l,h);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pr!==0){var D=b?tv(h,b):new FormData(h);gf(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(x.preventDefault(),D=b?tv(h,b):new FormData(h),gf(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Zf=0;Zf<Vh.length;Zf++){var Wf=Vh[Zf],n1=Wf.toLowerCase(),i1=Wf[0].toUpperCase()+Wf.slice(1);ei(n1,"on"+i1)}ei(Mm,"onAnimationEnd"),ei(Vm,"onAnimationIteration"),ei(km,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(bE,"onTransitionRun"),ei(xE,"onTransitionStart"),ei(EE,"onTransitionCancel"),ei(jm,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function ev(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var x=l[b],D=x.instance,G=x.currentTarget;if(x=x.listener,D!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=G;try{d(h)}catch(J){Uu(J)}h.currentTarget=null,d=D}else for(b=0;b<l.length;b++){if(x=l[b],D=x.instance,G=x.currentTarget,x=x.listener,D!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=G;try{d(h)}catch(J){Uu(J)}h.currentTarget=null,d=D}}}}function Pt(e,n){var s=n[po];s===void 0&&(s=n[po]=new Set);var l=e+"__bubble";s.has(l)||(nv(n,e,2,!1),s.add(l))}function Jf(e,n,s){var l=0;n&&(l|=4),nv(s,e,l,n)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[Wu]){e[Wu]=!0,mo.forEach(function(s){s!=="selectionchange"&&(a1.has(s)||Jf(s,!1,e),Jf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wu]||(n[Wu]=!0,Jf("selectionchange",!1,n))}}function nv(e,n,s,l){switch(Sv(n)){case 2:var h=I1;break;case 8:h=O1;break;default:h=pd}s=h.bind(null,n,s,e),h=void 0,!jn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ed(e,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var x=l.stateNode.containerInfo;if(x===h)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;x!==null;){if(b=qi(x),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=d=b;continue t}x=x.parentNode}}l=l.return}tu(function(){var G=d,J=kn(s),it=[];t:{var $=Pm.get(e);if($!==void 0){var Q=as,Dt=e;switch(e){case"keypress":if(_i(s)===0)break t;case"keydown":case"keyup":Q=cs;break;case"focusin":Dt="focus",Q=os;break;case"focusout":Dt="blur",Q=os;break;case"beforeblur":case"afterblur":Q=os;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=lu;break;case Mm:case Vm:case km:Q=ls;break;case jm:Q=cu;break;case"scroll":case"scrollend":Q=eu;break;case"wheel":Q=hs;break;case"copy":case"cut":case"paste":Q=us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ro;break;case"toggle":case"beforetoggle":Q=fu}var At=(n&4)!==0,ee=!At&&(e==="scroll"||e==="scrollend"),B=At?$!==null?$+"Capture":null:$;At=[];for(var U=G,F;U!==null;){var nt=U;if(F=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||F===null||B===null||(nt=gr(U,B),nt!=null&&At.push(al(U,nt,F))),ee)break;U=U.return}0<At.length&&($=new Q($,Dt,null,s,J),it.push({event:$,listeners:At}))}}if((n&7)===0){t:{if($=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",$&&s!==$i&&(Dt=s.relatedTarget||s.fromElement)&&(qi(Dt)||Dt[Mn]))break t;if((Q||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Dt=s.relatedTarget||s.toElement,Q=G,Dt=Dt?qi(Dt):null,Dt!==null&&(ee=u(Dt),At=Dt.tag,Dt!==ee||At!==5&&At!==27&&At!==6)&&(Dt=null)):(Q=null,Dt=G),Q!==Dt)){if(At=Pn,nt="onMouseLeave",B="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(At=Ro,nt="onPointerLeave",B="onPointerEnter",U="pointer"),ee=Q==null?$:mi(Q),F=Dt==null?$:mi(Dt),$=new At(nt,U+"leave",Q,s,J),$.target=ee,$.relatedTarget=F,nt=null,qi(J)===G&&(At=new At(B,U+"enter",Dt,s,J),At.target=F,At.relatedTarget=ee,nt=At),ee=nt,Q&&Dt)e:{for(At=Q,B=Dt,U=0,F=At;F;F=js(F))U++;for(F=0,nt=B;nt;nt=js(nt))F++;for(;0<U-F;)At=js(At),U--;for(;0<F-U;)B=js(B),F--;for(;U--;){if(At===B||B!==null&&At===B.alternate)break e;At=js(At),B=js(B)}At=null}else At=null;Q!==null&&iv(it,$,Q,At,!1),Dt!==null&&ee!==null&&iv(it,ee,Dt,At,!0)}}t:{if($=G?mi(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var vt=Em;else if(Ve($))if(Tm)vt=yE;else{vt=mE;var kt=pE}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&bo(G.elementType)&&(vt=Em):vt=gE;if(vt&&(vt=vt(e,G))){Zi(it,vt,s,J);break t}kt&&kt(e,$,G),e==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Ta($,"number",$.value)}switch(kt=G?mi(G):window,e){case"focusin":(Ve(kt)||kt.contentEditable==="true")&&(fs=kt,Ih=G,No=null);break;case"focusout":No=Ih=fs=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Im(it,s,J);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":Im(it,s,J)}var xt;if(Ei)t:{switch(e){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else Bt?X(e,s)&&(St="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(St="onCompositionStart");St&&(_&&s.locale!=="ko"&&(Bt||St!=="onCompositionStart"?St==="onCompositionEnd"&&Bt&&(xt=Eo()):(vi=J,wa="value"in vi?vi.value:vi.textContent,Bt=!0)),kt=Ju(G,St),0<kt.length&&(St=new Ao(St,e,null,s,J),it.push({event:St,listeners:kt}),xt?St.data=xt:(xt=lt(s),xt!==null&&(St.data=xt)))),(xt=g?Me(e,s):qt(e,s))&&(St=Ju(G,"onBeforeInput"),0<St.length&&(kt=new Ao("onBeforeInput","beforeinput",null,s,J),it.push({event:kt,listeners:St}),kt.data=xt)),e1(it,e,G,s,J)}ev(it,n)})}function al(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ju(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gr(e,s),h!=null&&l.unshift(al(e,h,d)),h=gr(e,n),h!=null&&l.push(al(e,h,d))),e.tag===3)return l;e=e.return}return[]}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function iv(e,n,s,l,h){for(var d=n._reactName,b=[];s!==null&&s!==l;){var x=s,D=x.alternate,G=x.stateNode;if(x=x.tag,D!==null&&D===l)break;x!==5&&x!==26&&x!==27||G===null||(D=G,h?(G=gr(s,d),G!=null&&b.unshift(al(s,G,D))):h||(G=gr(s,d),G!=null&&b.push(al(s,G,D)))),s=s.return}b.length!==0&&e.push({event:n,listeners:b})}var r1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function av(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(s1,"")}function rv(e,n){return n=av(n),av(e)===n}function tc(){}function te(e,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Vn(e,""+l);break;case"className":gi(e,"class",l);break;case"tabIndex":gi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,s,l);break;case"style":_o(e,l,d);break;case"data":if(n!=="object"){gi(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=is(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=is(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=tc);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=is(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),Ea(e,"popover",l);break;case"xlinkActuate":Ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ge(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ge(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ge(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ge(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wh.get(s)||s,Ea(e,s,l))}}function nd(e,n,s,l,h,d){switch(s){case"style":_o(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[Ae]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Ea(e,s,l)}}}function Ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var b=s[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(e,n,d,b,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),l&&te(e,n,"src",s.src,s,null);return;case"input":Pt("invalid",e);var x=d=b=h=null,D=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":b=J;break;case"checked":D=J;break;case"defaultChecked":G=J;break;case"value":d=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:te(e,n,l,J,s,null)}}dr(e,d,x,D,G,b,h,!1),ns(e);return;case"select":Pt("invalid",e),l=b=d=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":b=x;break;case"multiple":l=x;default:te(e,n,h,x,s,null)}n=d,s=b,e.multiple=!!l,n!=null?Gi(e,!!l,n,!1):s!=null&&Gi(e,!!l,s,!0);return;case"textarea":Pt("invalid",e),d=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(x=s[b],x!=null))switch(b){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:te(e,n,b,x,s,null)}pr(e,l,h,d),ns(e);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,n,D,l,s,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<il.length;l++)Pt(il[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(e,n,G,l,s,null)}return;default:if(bo(n)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&nd(e,n,J,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&te(e,n,x,l,s,null))}function o1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,b=null,x=null,D=null,G=null,J=null;for(Q in s){var it=s[Q];if(s.hasOwnProperty(Q)&&it!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=it;default:l.hasOwnProperty(Q)||te(e,n,Q,null,l,it)}}for(var $ in l){var Q=l[$];if(it=s[$],l.hasOwnProperty($)&&(Q!=null||it!=null))switch($){case"type":d=Q;break;case"name":h=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":b=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==it&&te(e,n,$,Q,l,it)}}En(e,b,x,D,G,J,d,h);return;case"select":Q=b=x=$=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||te(e,n,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":$=d;break;case"defaultValue":x=d;break;case"multiple":b=d;default:d!==D&&te(e,n,h,d,l,D)}n=x,s=b,l=Q,$!=null?Gi(e,!!s,$,!1):!!l!=!!s&&(n!=null?Gi(e,!!s,n,!0):Gi(e,!!s,s?[]:"",!1));return;case"textarea":Q=$=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:te(e,n,x,null,l,h)}for(b in l)if(h=l[b],d=s[b],l.hasOwnProperty(b)&&(h!=null||d!=null))switch(b){case"value":$=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&te(e,n,b,h,l,d)}Wt(e,$,Q);return;case"option":for(var Dt in s)if($=s[Dt],s.hasOwnProperty(Dt)&&$!=null&&!l.hasOwnProperty(Dt))switch(Dt){case"selected":e.selected=!1;break;default:te(e,n,Dt,null,l,$)}for(D in l)if($=l[D],Q=s[D],l.hasOwnProperty(D)&&$!==Q&&($!=null||Q!=null))switch(D){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:te(e,n,D,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)$=s[At],s.hasOwnProperty(At)&&$!=null&&!l.hasOwnProperty(At)&&te(e,n,At,null,l,$);for(G in l)if($=l[G],Q=s[G],l.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,n));break;default:te(e,n,G,$,l,Q)}return;default:if(bo(n)){for(var ee in s)$=s[ee],s.hasOwnProperty(ee)&&$!==void 0&&!l.hasOwnProperty(ee)&&nd(e,n,ee,void 0,l,$);for(J in l)$=l[J],Q=s[J],!l.hasOwnProperty(J)||$===Q||$===void 0&&Q===void 0||nd(e,n,J,$,l,Q);return}}for(var B in s)$=s[B],s.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&te(e,n,B,null,l,$);for(it in l)$=l[it],Q=s[it],!l.hasOwnProperty(it)||$===Q||$==null&&Q==null||te(e,n,it,$,l,Q)}var id=null,ad=null;function ec(e){return e.nodeType===9?e:e.ownerDocument}function sv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function l1(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(e){return uv.resolve(null).then(e).catch(h1)}:lv;function h1(e){setTimeout(function(){throw e})}function za(e){return e==="head"}function cv(e,n){var s=n,l=0,h=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var b=e.ownerDocument;if(s&1&&rl(b.documentElement),s&2&&rl(b.body),s&4)for(s=b.head,rl(s),b=s.firstChild;b;){var x=b.nextSibling,D=b.nodeName;b[ur]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=x}}if(h===0){e.removeChild(d),dl(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);dl(n)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),xa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function f1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ur])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ii(e.nextSibling),e===null)break}return null}function d1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ii(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function p1(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ii(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ud=null;function hv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function fv(e,n,s){switch(n=ec(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);xa(e)}var Fn=new Map,dv=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ca=st.d;st.d={f:m1,r:g1,D:y1,C:v1,L:_1,m:b1,X:E1,S:x1,M:T1};function m1(){var e=ca.f(),n=Qu();return e||n}function g1(e){var n=pi(e);n!==null&&n.tag===5&&n.type==="form"?Mg(n):ca.r(e)}var Ps=typeof document>"u"?null:document;function pv(e,n,s){var l=Ps;if(l&&typeof n=="string"&&n){var h=Se(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),dv.has(h)||(dv.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ke(n,"link",e),xe(n),l.head.appendChild(n)))}}function y1(e){ca.D(e),pv("dns-prefetch",e,null)}function v1(e,n){ca.C(e,n),pv("preconnect",e,n)}function _1(e,n,s){ca.L(e,n,s);var l=Ps;if(l&&e&&n){var h='link[rel="preload"][as="'+Se(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Se(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Se(s.imageSizes)+'"]')):h+='[href="'+Se(e)+'"]';var d=h;switch(n){case"style":d=Us(e);break;case"script":d=Ls(e)}Fn.has(d)||(e=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Fn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(sl(d))||n==="script"&&l.querySelector(ol(d))||(n=l.createElement("link"),Ke(n,"link",e),xe(n),l.head.appendChild(n)))}}function b1(e,n){ca.m(e,n);var s=Ps;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ls(e)}if(!Fn.has(d)&&(e=v({rel:"modulepreload",href:e},n),Fn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ol(d)))return}l=s.createElement("link"),Ke(l,"link",e),xe(l),s.head.appendChild(l)}}}function x1(e,n,s){ca.S(e,n,s);var l=Ps;if(l&&e){var h=cn(l).hoistableStyles,d=Us(e);n=n||"default";var b=h.get(d);if(!b){var x={loading:0,preload:null};if(b=l.querySelector(sl(d)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Fn.get(d))&&cd(e,s);var D=b=l.createElement("link");xe(D),Ke(D,"link",e),D._p=new Promise(function(G,J){D.onload=G,D.onerror=J}),D.addEventListener("load",function(){x.loading|=1}),D.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ic(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:x},h.set(d,b)}}}function E1(e,n){ca.X(e,n);var s=Ps;if(s&&e){var l=cn(s).hoistableScripts,h=Ls(e),d=l.get(h);d||(d=s.querySelector(ol(h)),d||(e=v({src:e,async:!0},n),(n=Fn.get(h))&&hd(e,n),d=s.createElement("script"),xe(d),Ke(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function T1(e,n){ca.M(e,n);var s=Ps;if(s&&e){var l=cn(s).hoistableScripts,h=Ls(e),d=l.get(h);d||(d=s.querySelector(ol(h)),d||(e=v({src:e,async:!0,type:"module"},n),(n=Fn.get(h))&&hd(e,n),d=s.createElement("script"),xe(d),Ke(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mv(e,n,s,l){var h=(h=yt.current)?nc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Us(s.href),s=cn(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Us(s.href);var d=cn(h).hoistableStyles,b=d.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=h.querySelector(sl(e)))&&!d._p&&(b.instance=d,b.state.loading=5),Fn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(e,s),d||w1(h,e,s,b.state))),n&&l===null)throw Error(r(528,""));return b}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ls(s),s=cn(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Us(e){return'href="'+Se(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function gv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function w1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ke(n,"link",s),xe(n),e.head.appendChild(n))}function Ls(e){return'[src="'+Se(e)+'"]'}function ol(e){return"script[async]"+e}function yv(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Se(s.href)+'"]');if(l)return n.instance=l,xe(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),Ke(l,"style",h),ic(l,s.precedence,e),n.instance=l;case"stylesheet":h=Us(s.href);var d=e.querySelector(sl(h));if(d)return n.state.loading|=4,n.instance=d,xe(d),d;l=gv(s),(h=Fn.get(h))&&cd(l,h),d=(e.ownerDocument||e).createElement("link"),xe(d);var b=d;return b._p=new Promise(function(x,D){b.onload=x,b.onerror=D}),Ke(d,"link",l),n.state.loading|=4,ic(d,s.precedence,e),n.instance=d;case"script":return d=Ls(s.src),(h=e.querySelector(ol(d)))?(n.instance=h,xe(h),h):(l=s,(h=Fn.get(d))&&(l=v({},s),hd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),Ke(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ic(l,s.precedence,e));return n.instance}function ic(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,b=0;b<l.length;b++){var x=l[b];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function vv(e,n,s){if(ac===null){var l=new Map,h=ac=new Map;h.set(s,l)}else h=ac,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[ur]||d[Oe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=e+b;var x=l.get(b);x?x.push(d):l.set(b,[d])}}return l}function _v(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function A1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function bv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ll=null;function S1(){}function R1(e,n,s){if(ll===null)throw Error(r(475));var l=ll;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Us(s.href),d=e.querySelector(sl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=rc.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,xe(d);return}d=e.ownerDocument||e,s=gv(s),(h=Fn.get(h))&&cd(s,h),d=d.createElement("link"),xe(d);var b=d;b._p=new Promise(function(x,D){b.onload=x,b.onerror=D}),Ke(d,"link",s),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=rc.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function C1(){if(ll===null)throw Error(r(475));var e=ll;return e.stylesheets&&e.count===0&&fd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&fd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function rc(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function fd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,n.forEach(D1,e),sc=null,rc.call(e))}function D1(e,n){if(!(n.state.loading&4)){var s=sc.get(e);if(s)var l=s.get(null);else{s=new Map,sc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var b=h[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=n.instance,b=h.getAttribute("data-precedence"),d=s.get(b)||l,d===l&&s.set(null,h),s.set(b,h),this.count++,l=rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:W,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function N1(e,n,s,l,h,d,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function xv(e,n,s,l,h,d,b,x,D,G,J,it){return e=new N1(e,n,s,b,x,D,G,it),n=1,d===!0&&(n|=24),d=wn(3,null,null,n),e.current=d,d.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},Xh(d),e}function Ev(e){return e?(e=gs,e):gs}function Tv(e,n,s,l,h,d){h=Ev(h),l.context===null?l.context=h:l.pendingContext=h,l=Ra(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ca(e,l,n),s!==null&&(Dn(s,e,n),Lo(s,e,n))}function wv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function dd(e,n){wv(e,n),(e=e.alternate)&&wv(e,n)}function Av(e){if(e.tag===13){var n=ms(e,67108864);n!==null&&Dn(n,e,67108864),dd(e,67108864)}}var oc=!0;function I1(e,n,s,l){var h=K.T;K.T=null;var d=st.p;try{st.p=2,pd(e,n,s,l)}finally{st.p=d,K.T=h}}function O1(e,n,s,l){var h=K.T;K.T=null;var d=st.p;try{st.p=8,pd(e,n,s,l)}finally{st.p=d,K.T=h}}function pd(e,n,s,l){if(oc){var h=md(l);if(h===null)ed(e,n,l,lc,s),Rv(e,l);else if(V1(h,e,n,s,l))l.stopPropagation();else if(Rv(e,l),n&4&&-1<M1.indexOf(e)){for(;h!==null;){var d=pi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=un(d.pendingLanes);if(b!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var D=1<<31-ge(b);x.entanglements[1]|=D,b&=~D}Ci(d),(Xt&6)===0&&(Gu=fe()+500,nl(0))}}break;case 13:x=ms(d,2),x!==null&&Dn(x,d,2),Qu(),dd(d,2)}if(d=md(l),d===null&&ed(e,n,l,lc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else ed(e,n,l,null,s)}}function md(e){return e=kn(e),gd(e)}var lc=null;function gd(e){if(lc=null,e=qi(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lc=e,null}function Sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qn()){case hi:return 2;case Yn:return 8;case Ui:case uo:return 32;case ya:return 268435456;default:return 32}default:return 32}}var yd=!1,Ba=null,qa=null,Ha=null,cl=new Map,hl=new Map,Fa=[],M1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(e,n){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=pi(n),n!==null&&Av(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function V1(e,n,s,l,h){switch(n){case"focusin":return Ba=fl(Ba,e,n,s,l,h),!0;case"dragenter":return qa=fl(qa,e,n,s,l,h),!0;case"mouseover":return Ha=fl(Ha,e,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return cl.set(d,fl(cl.get(d)||null,e,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,hl.set(d,fl(hl.get(d)||null,e,n,s,l,h)),!0}return!1}function Cv(e){var n=qi(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,Ql(e.priority,function(){if(s.tag===13){var l=Cn();l=va(l);var h=ms(s,l);h!==null&&Dn(h,s,l),dd(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);$i=l,s.target.dispatchEvent(l),$i=null}else return n=pi(s),n!==null&&Av(n),e.blockedOn=s,!1;n.shift()}return!0}function Dv(e,n,s){uc(e)&&s.delete(n)}function k1(){yd=!1,Ba!==null&&uc(Ba)&&(Ba=null),qa!==null&&uc(qa)&&(qa=null),Ha!==null&&uc(Ha)&&(Ha=null),cl.forEach(Dv),hl.forEach(Dv)}function cc(e,n){e.blockedOn===n&&(e.blockedOn=null,yd||(yd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,k1)))}var hc=null;function Nv(e){hc!==e&&(hc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(gd(l||s)===null)continue;break}var d=pi(s);d!==null&&(e.splice(n,3),n-=3,gf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function dl(e){function n(D){return cc(D,e)}Ba!==null&&cc(Ba,e),qa!==null&&cc(qa,e),Ha!==null&&cc(Ha,e),cl.forEach(n),hl.forEach(n);for(var s=0;s<Fa.length;s++){var l=Fa[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Fa.length&&(s=Fa[0],s.blockedOn===null);)Cv(s),s.blockedOn===null&&Fa.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],b=h[Ae]||null;if(typeof d=="function")b||Nv(s);else if(b){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,b=d[Ae]||null)x=b.formAction;else if(gd(h)!==null)continue}else x=b.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),Nv(s)}}}function vd(e){this._internalRoot=e}fc.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Cn();Tv(s,l,e,n,null,null)},fc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Tv(e.current,2,null,e,null,null),Qu(),n[Mn]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var n=_a();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Fa.length&&n!==0&&n<Fa[s].priority;s++);Fa.splice(s,0,e),s===0&&Cv(e)}};var Iv=t.version;if(Iv!=="19.1.1")throw Error(r(527,Iv,"19.1.1"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var j1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Ot=dc.inject(j1),Ct=dc}catch{}}return ml.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",h=Qg,d=Yg,b=Kg,x=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=xv(e,1,!1,null,null,s,l,h,d,b,x,null),e[Mn]=n.current,td(e),new vd(n)},ml.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,h="",d=Qg,b=Yg,x=Kg,D=null,G=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(G=s.formState)),n=xv(e,1,!0,n,s??null,l,h,d,b,x,D,G),n.context=Ev(null),s=n.current,l=Cn(),l=va(l),h=Ra(l),h.callback=null,Ca(s,h,l),s=l,n.current.lanes=s,Bi(n,s),Ci(n),e[Mn]=n.current,td(e),new fc(n)},ml.version="19.1.1",ml}var Bv;function $1(){if(Bv)return xd.exports;Bv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),xd.exports=G1(),xd.exports}var Q1=$1();const Y1=ih(Q1);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qv="popstate";function K1(a={}){function t(r,o){let{pathname:u,search:f,hash:p}=r.location;return Gd("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Rl(o)}return Z1(t,i,null,a)}function he(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function ri(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X1(){return Math.random().toString(36).substring(2,10)}function Hv(a,t){return{usr:a.state,key:a.key,idx:t}}function Gd(a,t,i=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?eo(t):t,state:i,key:t&&t.key||r||X1()}}function Rl({pathname:a="/",search:t="",hash:i=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function eo(a){let t={};if(a){let i=a.indexOf("#");i>=0&&(t.hash=a.substring(i),a=a.substring(0,i));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function Z1(a,t,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,p="POP",y=null,m=v();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function v(){return(f.state||{idx:null}).idx}function T(){p="POP";let k=v(),Y=k==null?null:k-m;m=k,y&&y({action:p,location:V.location,delta:Y})}function A(k,Y){p="PUSH";let Z=Gd(V.location,k,Y);m=v()+1;let W=Hv(Z,m),ct=V.createHref(Z);try{f.pushState(W,"",ct)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(ct)}u&&y&&y({action:p,location:V.location,delta:1})}function N(k,Y){p="REPLACE";let Z=Gd(V.location,k,Y);m=v();let W=Hv(Z,m),ct=V.createHref(Z);f.replaceState(W,"",ct),u&&y&&y({action:p,location:V.location,delta:0})}function L(k){return W1(k)}let V={get action(){return p},get location(){return a(o,f)},listen(k){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(qv,T),y=k,()=>{o.removeEventListener(qv,T),y=null}},createHref(k){return t(o,k)},createURL:L,encodeLocation(k){let Y=L(k);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:N,go(k){return f.go(k)}};return V}function W1(a,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),he(i,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Rl(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function D0(a,t,i="/"){return J1(a,t,i,!1)}function J1(a,t,i,r){let o=typeof t=="string"?eo(t):t,u=da(o.pathname||"/",i);if(u==null)return null;let f=N0(a);tT(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let m=hT(u);p=uT(f[y],m,r)}return p}function N0(a,t=[],i=[],r="",o=!1){let u=(f,p,y=o,m)=>{let v={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&y)return;he(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=ha([r,v.relativePath]),A=i.concat(v);f.children&&f.children.length>0&&(he(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),N0(f.children,t,A,T,y)),!(f.path==null&&!f.index)&&t.push({path:T,score:oT(T,f.index),routesMeta:A})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let y of I0(f.path))u(f,p,!0,y)}),t}function I0(a){let t=a.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=I0(r.join("/")),p=[];return p.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&p.push(...f),p.map(y=>a.startsWith("/")&&y===""?"/":y)}function tT(a){a.sort((t,i)=>t.score!==i.score?i.score-t.score:lT(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var eT=/^:[\w-]+$/,nT=3,iT=2,aT=1,rT=10,sT=-2,Fv=a=>a==="*";function oT(a,t){let i=a.split("/"),r=i.length;return i.some(Fv)&&(r+=sT),t&&(r+=iT),i.filter(o=>!Fv(o)).reduce((o,u)=>o+(eT.test(u)?nT:u===""?aT:rT),r)}function lT(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function uT(a,t,i=!1){let{routesMeta:r}=a,o={},u="/",f=[];for(let p=0;p<r.length;++p){let y=r[p],m=p===r.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=Pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),A=y.route;if(!T&&m&&i&&!r[r.length-1].route.index&&(T=Pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ha([u,T.pathname]),pathnameBase:mT(ha([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=ha([u,T.pathnameBase]))}return f}function Pc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,r]=cT(a.path,a.caseSensitive,a.end),o=t.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:T},A)=>{if(v==="*"){let L=p[A]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const N=p[A];return T&&!N?m[v]=void 0:m[v]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:a}}function cT(a,t=!1,i=!0){ri(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function hT(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ri(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function da(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=a.charAt(i);return r&&r!=="/"?null:a.slice(i)||"/"}function fT(a,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof a=="string"?eo(a):a;return{pathname:i?i.startsWith("/")?i:dT(i,t):t,search:gT(r),hash:yT(o)}}function dT(a,t){let i=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ad(a,t,i,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pT(a){return a.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function wp(a){let t=pT(a);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Ap(a,t,i,r=!1){let o;typeof a=="string"?o=eo(a):(o={...a},he(!o.pathname||!o.pathname.includes("?"),Ad("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),Ad("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),Ad("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=i;else{let T=t.length-1;if(!r&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}p=T>=0?t[T]:"/"}let y=fT(o,p),m=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var ha=a=>a.join("/").replace(/\/\/+/g,"/"),mT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),gT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,yT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function vT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var O0=["POST","PUT","PATCH","DELETE"];new Set(O0);var _T=["GET",...O0];new Set(_T);var no=P.createContext(null);no.displayName="DataRouter";var ah=P.createContext(null);ah.displayName="DataRouterState";P.createContext(!1);var M0=P.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var bT=P.createContext(new Map);bT.displayName="Fetchers";var xT=P.createContext(null);xT.displayName="Await";var li=P.createContext(null);li.displayName="Navigation";var Pl=P.createContext(null);Pl.displayName="Location";var Pi=P.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Sp=P.createContext(null);Sp.displayName="RouteError";function ET(a,{relative:t}={}){he(io(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=P.useContext(li),{hash:o,pathname:u,search:f}=Ll(a,{relative:t}),p=u;return i!=="/"&&(p=u==="/"?i:ha([i,u])),r.createHref({pathname:p,search:f,hash:o})}function io(){return P.useContext(Pl)!=null}function ui(){return he(io(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Pl).location}var V0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k0(a){P.useContext(li).static||P.useLayoutEffect(a)}function Ul(){let{isDataRoute:a}=P.useContext(Pi);return a?kT():TT()}function TT(){he(io(),"useNavigate() may be used only in the context of a <Router> component.");let a=P.useContext(no),{basename:t,navigator:i}=P.useContext(li),{matches:r}=P.useContext(Pi),{pathname:o}=ui(),u=JSON.stringify(wp(r)),f=P.useRef(!1);return k0(()=>{f.current=!0}),P.useCallback((y,m={})=>{if(ri(f.current,V0),!f.current)return;if(typeof y=="number"){i.go(y);return}let v=Ap(y,JSON.parse(u),o,m.relative==="path");a==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ha([t,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[t,i,u,o,a])}P.createContext(null);function Ll(a,{relative:t}={}){let{matches:i}=P.useContext(Pi),{pathname:r}=ui(),o=JSON.stringify(wp(i));return P.useMemo(()=>Ap(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function wT(a,t){return j0(a,t)}function j0(a,t,i,r,o){he(io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(li),{matches:f}=P.useContext(Pi),p=f[f.length-1],y=p?p.params:{},m=p?p.pathname:"/",v=p?p.pathnameBase:"/",T=p&&p.route;{let Z=T&&T.path||"";P0(m,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=ui(),N;if(t){let Z=typeof t=="string"?eo(t):t;he(v==="/"||Z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),N=Z}else N=A;let L=N.pathname||"/",V=L;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");V="/"+L.replace(/^\//,"").split("/").slice(Z.length).join("/")}let k=D0(a,{pathname:V});ri(T||k!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ri(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=DT(k&&k.map(Z=>Object.assign({},Z,{params:Object.assign({},y,Z.params),pathname:ha([v,u.encodeLocation?u.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:ha([v,u.encodeLocation?u.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,i,r,o);return t&&Y?P.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},Y):Y}function AT(){let a=VT(),t=vT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),i?P.createElement("pre",{style:o},i):null,f)}var ST=P.createElement(AT,null),RT=class extends P.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?P.createElement(Pi.Provider,{value:this.props.routeContext},P.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CT({routeContext:a,match:t,children:i}){let r=P.useContext(no);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Pi.Provider,{value:a},i)}function DT(a,t=[],i=null,r=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i?.errors;if(f!=null){let m=u.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);he(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,y=-1;if(i)for(let m=0;m<u.length;m++){let v=u[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=m),v.route.id){let{loaderData:T,errors:A}=i,N=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||N){p=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((m,v,T)=>{let A,N=!1,L=null,V=null;i&&(A=f&&v.route.id?f[v.route.id]:void 0,L=v.route.errorElement||ST,p&&(y<0&&T===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,V=null):y===T&&(N=!0,V=v.route.hydrateFallbackElement||null)));let k=t.concat(u.slice(0,T+1)),Y=()=>{let Z;return A?Z=L:N?Z=V:v.route.Component?Z=P.createElement(v.route.Component,null):v.route.element?Z=v.route.element:Z=m,P.createElement(CT,{match:v,routeContext:{outlet:m,matches:k,isDataRoute:i!=null},children:Z})};return i&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?P.createElement(RT,{location:i.location,revalidation:i.revalidation,component:L,error:A,children:Y(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):Y()},null)}function Rp(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(a){let t=P.useContext(no);return he(t,Rp(a)),t}function IT(a){let t=P.useContext(ah);return he(t,Rp(a)),t}function OT(a){let t=P.useContext(Pi);return he(t,Rp(a)),t}function Cp(a){let t=OT(a),i=t.matches[t.matches.length-1];return he(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function MT(){return Cp("useRouteId")}function VT(){let a=P.useContext(Sp),t=IT("useRouteError"),i=Cp("useRouteError");return a!==void 0?a:t.errors?.[i]}function kT(){let{router:a}=NT("useNavigate"),t=Cp("useNavigate"),i=P.useRef(!1);return k0(()=>{i.current=!0}),P.useCallback(async(o,u={})=>{ri(i.current,V0),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var Gv={};function P0(a,t,i){!t&&!Gv[a]&&(Gv[a]=!0,ri(!1,i))}P.memo(jT);function jT({routes:a,future:t,state:i,unstable_onError:r}){return j0(a,void 0,i,r,t)}function PT({to:a,replace:t,state:i,relative:r}){he(io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(li);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Pi),{pathname:f}=ui(),p=Ul(),y=Ap(a,wp(u),f,r==="path"),m=JSON.stringify(y);return P.useEffect(()=>{p(JSON.parse(m),{replace:t,state:i,relative:r})},[p,m,r,t,i]),null}function $a(a){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UT({basename:a="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:u=!1}){he(!io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=eo(i));let{pathname:y="/",search:m="",hash:v="",state:T=null,key:A="default"}=i,N=P.useMemo(()=>{let L=da(y,f);return L==null?null:{location:{pathname:L,search:m,hash:v,state:T,key:A},navigationType:r}},[f,y,m,v,T,A,r]);return ri(N!=null,`<Router basename="${f}"> is not able to match the URL "${y}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:P.createElement(li.Provider,{value:p},P.createElement(Pl.Provider,{children:t,value:N}))}function LT({children:a,location:t}){return wT($d(a),t)}function $d(a,t=[]){let i=[];return P.Children.forEach(a,(r,o)=>{if(!P.isValidElement(r))return;let u=[...t,o];if(r.type===P.Fragment){i.push.apply(i,$d(r.props.children,u));return}he(r.type===$a,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=$d(r.props.children,u)),i.push(f)}),i}var Rc="get",Cc="application/x-www-form-urlencoded";function rh(a){return a!=null&&typeof a.tagName=="string"}function zT(a){return rh(a)&&a.tagName.toLowerCase()==="button"}function BT(a){return rh(a)&&a.tagName.toLowerCase()==="form"}function qT(a){return rh(a)&&a.tagName.toLowerCase()==="input"}function HT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function FT(a,t){return a.button===0&&(!t||t==="_self")&&!HT(a)}var pc=null;function GT(){if(pc===null)try{new FormData(document.createElement("form"),0),pc=!1}catch{pc=!0}return pc}var $T=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sd(a){return a!=null&&!$T.has(a)?(ri(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):a}function QT(a,t){let i,r,o,u,f;if(BT(a)){let p=a.getAttribute("action");r=p?da(p,t):null,i=a.getAttribute("method")||Rc,o=Sd(a.getAttribute("enctype"))||Cc,u=new FormData(a)}else if(zT(a)||qT(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||p.getAttribute("action");if(r=y?da(y,t):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||Rc,o=Sd(a.getAttribute("formenctype"))||Sd(p.getAttribute("enctype"))||Cc,u=new FormData(p,a),!GT()){let{name:m,type:v,value:T}=a;if(v==="image"){let A=m?`${m}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else m&&u.append(m,T)}}else{if(rh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Rc,r=null,o=Cc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dp(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function YT(a,t,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&da(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function KT(a,t){if(a.id in t)return t[a.id];try{let i=await import(a.module);return t[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function ZT(a,t,i){let r=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await KT(u,i);return f.links?f.links():[]}return[]}));return ew(r.flat(1).filter(XT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(a,t,i,r,o,u){let f=(y,m)=>i[m]?y.route.id!==i[m].route.id:!0,p=(y,m)=>i[m].pathname!==y.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,m)=>f(y,m)||p(y,m)):u==="data"?t.filter((y,m)=>{let v=r.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(f(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function WT(a,t,{includeHydrateFallback:i}={}){return JT(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JT(a){return[...new Set(a)]}function tw(a){let t={},i=Object.keys(a).sort();for(let r of i)t[r]=a[r];return t}function ew(a,t){let i=new Set;return new Set(t),a.reduce((r,o)=>{let u=JSON.stringify(tw(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function U0(){let a=P.useContext(no);return Dp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function nw(){let a=P.useContext(ah);return Dp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Np=P.createContext(void 0);Np.displayName="FrameworkContext";function L0(){let a=P.useContext(Np);return Dp(a,"You must render this element inside a <HydratedRouter> element"),a}function iw(a,t){let i=P.useContext(Np),[r,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=t,A=P.useRef(null);P.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let V=Y=>{Y.forEach(Z=>{f(Z.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[a]),P.useEffect(()=>{if(r){let V=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(V)}}},[r]);let N=()=>{o(!0)},L=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,A,{}]:[u,A,{onFocus:gl(p,N),onBlur:gl(y,L),onMouseEnter:gl(m,N),onMouseLeave:gl(v,L),onTouchStart:gl(T,N)}]:[!1,A,{}]}function gl(a,t){return i=>{a&&a(i),i.defaultPrevented||t(i)}}function aw({page:a,...t}){let{router:i}=U0(),r=P.useMemo(()=>D0(i.routes,a,i.basename),[i.routes,a,i.basename]);return r?P.createElement(sw,{page:a,matches:r,...t}):null}function rw(a){let{manifest:t,routeModules:i}=L0(),[r,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return ZT(a,t,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,t,i]),r}function sw({page:a,matches:t,...i}){let r=ui(),{manifest:o,routeModules:u}=L0(),{basename:f}=U0(),{loaderData:p,matches:y}=nw(),m=P.useMemo(()=>$v(a,t,y,o,r,"data"),[a,t,y,o,r]),v=P.useMemo(()=>$v(a,t,y,o,r,"assets"),[a,t,y,o,r]),T=P.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let L=new Set,V=!1;if(t.forEach(Y=>{let Z=o.routes[Y.route.id];!Z||!Z.hasLoader||(!m.some(W=>W.route.id===Y.route.id)&&Y.route.id in p&&u[Y.route.id]?.shouldRevalidate||Z.hasClientLoader?V=!0:L.add(Y.route.id))}),L.size===0)return[];let k=YT(a,f,"data");return V&&L.size>0&&k.searchParams.set("_routes",t.filter(Y=>L.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[k.pathname+k.search]},[f,p,r,o,m,t,a,u]),A=P.useMemo(()=>WT(v,o),[v,o]),N=rw(v);return P.createElement(P.Fragment,null,T.map(L=>P.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),A.map(L=>P.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),N.map(({key:L,link:V})=>P.createElement("link",{key:L,nonce:i.nonce,...V})))}function ow(...a){return t=>{a.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z0&&(window.__reactRouterVersion="7.8.2")}catch{}function lw({basename:a,children:t,window:i}){let r=P.useRef();r.current==null&&(r.current=K1({window:i,v5Compat:!0}));let o=r.current,[u,f]=P.useState({action:o.action,location:o.location}),p=P.useCallback(y=>{P.startTransition(()=>f(y))},[f]);return P.useLayoutEffect(()=>o.listen(p),[o,p]),P.createElement(UT,{basename:a,children:t,location:u.location,navigationType:u.action,navigator:o})}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q0=P.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:p,target:y,to:m,preventScrollReset:v,viewTransition:T,...A},N){let{basename:L}=P.useContext(li),V=typeof m=="string"&&B0.test(m),k,Y=!1;if(typeof m=="string"&&V&&(k=m,z0))try{let C=new URL(window.location.href),M=m.startsWith("//")?new URL(C.protocol+m):new URL(m),I=da(M.pathname,L);M.origin===C.origin&&I!=null?m=I+M.search+M.hash:Y=!0}catch{ri(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=ET(m,{relative:o}),[W,ct,ut]=iw(r,A),bt=fw(m,{replace:f,state:p,target:y,preventScrollReset:v,relative:o,viewTransition:T});function j(C){t&&t(C),C.defaultPrevented||bt(C)}let R=P.createElement("a",{...A,...ut,href:k||Z,onClick:Y||u?t:j,ref:ow(N,ct),target:y,"data-discover":!V&&i==="render"?"true":void 0});return W&&!V?P.createElement(P.Fragment,null,R,P.createElement(aw,{page:Z})):R});q0.displayName="Link";var uw=P.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:p,children:y,...m},v){let T=Ll(f,{relative:m.relative}),A=ui(),N=P.useContext(ah),{navigator:L,basename:V}=P.useContext(li),k=N!=null&&yw(T)&&p===!0,Y=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,Z=A.pathname,W=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(Z=Z.toLowerCase(),W=W?W.toLowerCase():null,Y=Y.toLowerCase()),W&&V&&(W=da(W,V)||W);const ct=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ut=Z===Y||!o&&Z.startsWith(Y)&&Z.charAt(ct)==="/",bt=W!=null&&(W===Y||!o&&W.startsWith(Y)&&W.charAt(Y.length)==="/"),j={isActive:ut,isPending:bt,isTransitioning:k},R=ut?t:void 0,C;typeof r=="function"?C=r(j):C=[r,ut?"active":null,bt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(j):u;return P.createElement(q0,{...m,"aria-current":R,className:C,ref:v,style:M,to:f,viewTransition:p},typeof y=="function"?y(j):y)});uw.displayName="NavLink";var cw=P.forwardRef(({discover:a="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:u,method:f=Rc,action:p,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:T,...A},N)=>{let L=mw(),V=gw(p,{relative:m}),k=f.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&B0.test(p),Z=W=>{if(y&&y(W),W.defaultPrevented)return;W.preventDefault();let ct=W.nativeEvent.submitter,ut=ct?.getAttribute("formmethod")||f;L(ct||W.currentTarget,{fetcherKey:t,method:ut,navigate:i,replace:o,state:u,relative:m,preventScrollReset:v,viewTransition:T})};return P.createElement("form",{ref:N,method:k,action:V,onSubmit:r?y:Z,...A,"data-discover":!Y&&a==="render"?"true":void 0})});cw.displayName="Form";function hw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H0(a){let t=P.useContext(no);return he(t,hw(a)),t}function fw(a,{target:t,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Ul(),y=ui(),m=Ll(a,{relative:u});return P.useCallback(v=>{if(FT(v,t)){v.preventDefault();let T=i!==void 0?i:Rl(y)===Rl(m);p(a,{replace:T,state:r,preventScrollReset:o,relative:u,viewTransition:f})}},[y,p,m,i,r,t,a,o,u,f])}var dw=0,pw=()=>`__${String(++dw)}__`;function mw(){let{router:a}=H0("useSubmit"),{basename:t}=P.useContext(li),i=MT();return P.useCallback(async(r,o={})=>{let{action:u,method:f,encType:p,formData:y,body:m}=QT(r,t);if(o.navigate===!1){let v=o.fetcherKey||pw();await a.fetch(v,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,t,i])}function gw(a,{relative:t}={}){let{basename:i}=P.useContext(li),r=P.useContext(Pi);he(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Ll(a||".",{relative:t})},f=ui();if(a==null){u.search=f.search;let p=new URLSearchParams(u.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(T=>T).forEach(T=>p.append("index",T));let v=p.toString();u.search=v?`?${v}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ha([i,u.pathname])),Rl(u)}function yw(a,{relative:t}={}){let i=P.useContext(M0);he(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=H0("useViewTransitionState"),o=Ll(a,{relative:t});if(!i.isTransitioning)return!1;let u=da(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=da(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Pc(o.pathname,f)!=null||Pc(o.pathname,u)!=null}var Rd={exports:{}},Cd,Qv;function vw(){if(Qv)return Cd;Qv=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cd=a,Cd}var Dd,Yv;function _w(){if(Yv)return Dd;Yv=1;var a=vw();function t(){}function i(){}return i.resetWarningCache=t,Dd=function(){function r(f,p,y,m,v,T){if(T!==a){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}r.isRequired=r;function o(){return r}var u={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:t};return u.PropTypes=u,u},Dd}var Kv;function bw(){return Kv||(Kv=1,Rd.exports=_w()()),Rd.exports}var xw=bw();const ae=ih(xw);function Gr(a,t,i,r){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function p(v){try{m(r.next(v))}catch(T){f(T)}}function y(v){try{m(r.throw(v))}catch(T){f(T)}}function m(v){v.done?u(v.value):o(v.value).then(p,y)}m((r=r.apply(a,t||[])).next())})}const Ew=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Qs(a,t,i){const r=Tw(a),{webkitRelativePath:o}=a,u=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${a.name}`;return typeof r.path!="string"&&Xv(r,"path",u),Xv(r,"relativePath",u),r}function Tw(a){const{name:t}=a;if(t&&t.lastIndexOf(".")!==-1&&!a.type){const r=t.split(".").pop().toLowerCase(),o=Ew.get(r);o&&Object.defineProperty(a,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return a}function Xv(a,t,i){Object.defineProperty(a,t,{value:i,writable:!1,configurable:!1,enumerable:!0})}const ww=[".DS_Store","Thumbs.db"];function Aw(a){return Gr(this,void 0,void 0,function*(){return Uc(a)&&Sw(a.dataTransfer)?Nw(a.dataTransfer,a.type):Rw(a)?Cw(a):Array.isArray(a)&&a.every(t=>"getFile"in t&&typeof t.getFile=="function")?Dw(a):[]})}function Sw(a){return Uc(a)}function Rw(a){return Uc(a)&&Uc(a.target)}function Uc(a){return typeof a=="object"&&a!==null}function Cw(a){return Qd(a.target.files).map(t=>Qs(t))}function Dw(a){return Gr(this,void 0,void 0,function*(){return(yield Promise.all(a.map(i=>i.getFile()))).map(i=>Qs(i))})}function Nw(a,t){return Gr(this,void 0,void 0,function*(){if(a.items){const i=Qd(a.items).filter(o=>o.kind==="file");if(t!=="drop")return i;const r=yield Promise.all(i.map(Iw));return Zv(F0(r))}return Zv(Qd(a.files).map(i=>Qs(i)))})}function Zv(a){return a.filter(t=>ww.indexOf(t.name)===-1)}function Qd(a){if(a===null)return[];const t=[];for(let i=0;i<a.length;i++){const r=a[i];t.push(r)}return t}function Iw(a){if(typeof a.webkitGetAsEntry!="function")return Wv(a);const t=a.webkitGetAsEntry();return t&&t.isDirectory?G0(t):Wv(a,t)}function F0(a){return a.reduce((t,i)=>[...t,...Array.isArray(i)?F0(i):[i]],[])}function Wv(a,t){return Gr(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof a.getAsFileSystemHandle=="function"){const u=yield a.getAsFileSystemHandle();if(u===null)throw new Error(`${a} is not a File`);if(u!==void 0){const f=yield u.getFile();return f.handle=u,Qs(f)}}const r=a.getAsFile();if(!r)throw new Error(`${a} is not a File`);return Qs(r,(i=t?.fullPath)!==null&&i!==void 0?i:void 0)})}function Ow(a){return Gr(this,void 0,void 0,function*(){return a.isDirectory?G0(a):Mw(a)})}function G0(a){const t=a.createReader();return new Promise((i,r)=>{const o=[];function u(){t.readEntries(f=>Gr(this,void 0,void 0,function*(){if(f.length){const p=Promise.all(f.map(Ow));o.push(p),u()}else try{const p=yield Promise.all(o);i(p)}catch(p){r(p)}}),f=>{r(f)})}u()})}function Mw(a){return Gr(this,void 0,void 0,function*(){return new Promise((t,i)=>{a.file(r=>{const o=Qs(r,a.fullPath);t(o)},r=>{i(r)})})})}var mc={},Jv;function Vw(){return Jv||(Jv=1,mc.__esModule=!0,mc.default=function(a,t){if(a&&t){var i=Array.isArray(t)?t:t.split(",");if(i.length===0)return!0;var r=a.name||"",o=(a.type||"").toLowerCase(),u=o.replace(/\/.*$/,"");return i.some(function(f){var p=f.trim().toLowerCase();return p.charAt(0)==="."?r.toLowerCase().endsWith(p):p.endsWith("/*")?u===p.replace(/\/.*$/,""):o===p})}return!0}),mc}var kw=Vw();const Nd=ih(kw);function t_(a){return Uw(a)||Pw(a)||Q0(a)||jw()}function jw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pw(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Uw(a){if(Array.isArray(a))return Yd(a)}function e_(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function n_(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(i),!0).forEach(function(r){$0(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):e_(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function $0(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function Cl(a,t){return Bw(a)||zw(a,t)||Q0(a,t)||Lw()}function Lw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0(a,t){if(a){if(typeof a=="string")return Yd(a,t);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yd(a,t)}}function Yd(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=a[i];return r}function zw(a,t){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,u=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(t&&r.length===t));o=!0);}catch(y){u=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(u)throw p}}return r}}function Bw(a){if(Array.isArray(a))return a}var qw=typeof Nd=="function"?Nd:Nd.default,Hw="file-invalid-type",Fw="file-too-large",Gw="file-too-small",$w="too-many-files",Qw=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=t.split(","),r=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:Hw,message:"File type must be ".concat(r)}},i_=function(t){return{code:Fw,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},a_=function(t){return{code:Gw,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Yw={code:$w,message:"Too many files"};function Y0(a,t){var i=a.type==="application/x-moz-file"||qw(a,t);return[i,i?null:Qw(t)]}function K0(a,t,i){if(Lr(a.size))if(Lr(t)&&Lr(i)){if(a.size>i)return[!1,i_(i)];if(a.size<t)return[!1,a_(t)]}else{if(Lr(t)&&a.size<t)return[!1,a_(t)];if(Lr(i)&&a.size>i)return[!1,i_(i)]}return[!0,null]}function Lr(a){return a!=null}function Kw(a){var t=a.files,i=a.accept,r=a.minSize,o=a.maxSize,u=a.multiple,f=a.maxFiles,p=a.validator;return!u&&t.length>1||u&&f>=1&&t.length>f?!1:t.every(function(y){var m=Y0(y,i),v=Cl(m,1),T=v[0],A=K0(y,r,o),N=Cl(A,1),L=N[0],V=p?p(y):null;return T&&L&&!V})}function Lc(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function gc(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!a.target&&!!a.target.files}function r_(a){a.preventDefault()}function Xw(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function Zw(a){return a.indexOf("Edge/")!==-1}function Ww(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Xw(a)||Zw(a)}function Di(){for(var a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];return function(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),f=1;f<o;f++)u[f-1]=arguments[f];return t.some(function(p){return!Lc(r)&&p&&p.apply(void 0,[r].concat(u)),Lc(r)})}}function Jw(){return"showOpenFilePicker"in window}function tA(a){if(Lr(a)){var t=Object.entries(a).filter(function(i){var r=Cl(i,2),o=r[0],u=r[1],f=!0;return X0(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),f=!1),(!Array.isArray(u)||!u.every(Z0))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),f=!1),f}).reduce(function(i,r){var o=Cl(r,2),u=o[0],f=o[1];return n_(n_({},i),{},$0({},u,f))},{});return[{description:"Files",accept:t}]}return a}function eA(a){if(Lr(a))return Object.entries(a).reduce(function(t,i){var r=Cl(i,2),o=r[0],u=r[1];return[].concat(t_(t),[o],t_(u))},[]).filter(function(t){return X0(t)||Z0(t)}).join(",")}function nA(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function iA(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function X0(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||a==="application/*"||/\w+\/[-+.\w]+/g.test(a)}function Z0(a){return/^.*\.[\w]+$/.test(a)}var aA=["children"],rA=["open"],sA=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],oA=["refKey","onChange","onClick"];function lA(a){return hA(a)||cA(a)||W0(a)||uA()}function uA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cA(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function hA(a){if(Array.isArray(a))return Kd(a)}function Id(a,t){return pA(a)||dA(a,t)||W0(a,t)||fA()}function fA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W0(a,t){if(a){if(typeof a=="string")return Kd(a,t);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kd(a,t)}}function Kd(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=a[i];return r}function dA(a,t){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,u=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(t&&r.length===t));o=!0);}catch(y){u=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(u)throw p}}return r}}function pA(a){if(Array.isArray(a))return a}function s_(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function pe(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(i),!0).forEach(function(r){Xd(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):s_(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function Xd(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function zc(a,t){if(a==null)return{};var i=mA(a,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(i[r]=a[r])}return i}function mA(a,t){if(a==null)return{};var i={},r=Object.keys(a),o,u;for(u=0;u<r.length;u++)o=r[u],!(t.indexOf(o)>=0)&&(i[o]=a[o]);return i}var Ip=P.forwardRef(function(a,t){var i=a.children,r=zc(a,aA),o=tb(r),u=o.open,f=zc(o,rA);return P.useImperativeHandle(t,function(){return{open:u}},[u]),C0.createElement(P.Fragment,null,i(pe(pe({},f),{},{open:u})))});Ip.displayName="Dropzone";var J0={disabled:!1,getFilesFromEvent:Aw,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ip.defaultProps=J0;Ip.propTypes={children:ae.func,accept:ae.objectOf(ae.arrayOf(ae.string)),multiple:ae.bool,preventDropOnDocument:ae.bool,noClick:ae.bool,noKeyboard:ae.bool,noDrag:ae.bool,noDragEventsBubbling:ae.bool,minSize:ae.number,maxSize:ae.number,maxFiles:ae.number,disabled:ae.bool,getFilesFromEvent:ae.func,onFileDialogCancel:ae.func,onFileDialogOpen:ae.func,useFsAccessApi:ae.bool,autoFocus:ae.bool,onDragEnter:ae.func,onDragLeave:ae.func,onDragOver:ae.func,onDrop:ae.func,onDropAccepted:ae.func,onDropRejected:ae.func,onError:ae.func,validator:ae.func};var Zd={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function tb(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=pe(pe({},J0),a),i=t.accept,r=t.disabled,o=t.getFilesFromEvent,u=t.maxSize,f=t.minSize,p=t.multiple,y=t.maxFiles,m=t.onDragEnter,v=t.onDragLeave,T=t.onDragOver,A=t.onDrop,N=t.onDropAccepted,L=t.onDropRejected,V=t.onFileDialogCancel,k=t.onFileDialogOpen,Y=t.useFsAccessApi,Z=t.autoFocus,W=t.preventDropOnDocument,ct=t.noClick,ut=t.noKeyboard,bt=t.noDrag,j=t.noDragEventsBubbling,R=t.onError,C=t.validator,M=P.useMemo(function(){return eA(i)},[i]),I=P.useMemo(function(){return tA(i)},[i]),z=P.useMemo(function(){return typeof k=="function"?k:o_},[k]),S=P.useMemo(function(){return typeof V=="function"?V:o_},[V]),pt=P.useRef(null),ht=P.useRef(null),K=P.useReducer(gA,Zd),st=Id(K,2),ot=st[0],_t=st[1],O=ot.isFocused,H=ot.isFileDialogActive,et=P.useRef(typeof window<"u"&&window.isSecureContext&&Y&&Jw()),tt=function(){!et.current&&H&&setTimeout(function(){if(ht.current){var Tt=ht.current.files;Tt.length||(_t({type:"closeDialog"}),S())}},300)};P.useEffect(function(){return window.addEventListener("focus",tt,!1),function(){window.removeEventListener("focus",tt,!1)}},[ht,H,S,et]);var ft=P.useRef([]),wt=function(Tt){pt.current&&pt.current.contains(Tt.target)||(Tt.preventDefault(),ft.current=[])};P.useEffect(function(){return W&&(document.addEventListener("dragover",r_,!1),document.addEventListener("drop",wt,!1)),function(){W&&(document.removeEventListener("dragover",r_),document.removeEventListener("drop",wt))}},[pt,W]),P.useEffect(function(){return!r&&Z&&pt.current&&pt.current.focus(),function(){}},[pt,Z,r]);var yt=P.useCallback(function(dt){R?R(dt):console.error(dt)},[R]),re=P.useCallback(function(dt){dt.preventDefault(),dt.persist(),Yn(dt),ft.current=[].concat(lA(ft.current),[dt.target]),gc(dt)&&Promise.resolve(o(dt)).then(function(Tt){if(!(Lc(dt)&&!j)){var Ot=Tt.length,Ct=Ot>0&&Kw({files:Tt,accept:M,minSize:f,maxSize:u,multiple:p,maxFiles:y,validator:C}),ne=Ot>0&&!Ct;_t({isDragAccept:Ct,isDragReject:ne,isDragActive:!0,type:"setDraggedFiles"}),m&&m(dt)}}).catch(function(Tt){return yt(Tt)})},[o,m,yt,j,M,f,u,p,y,C]),zt=P.useCallback(function(dt){dt.preventDefault(),dt.persist(),Yn(dt);var Tt=gc(dt);if(Tt&&dt.dataTransfer)try{dt.dataTransfer.dropEffect="copy"}catch{}return Tt&&T&&T(dt),!1},[T,j]),on=P.useCallback(function(dt){dt.preventDefault(),dt.persist(),Yn(dt);var Tt=ft.current.filter(function(Ct){return pt.current&&pt.current.contains(Ct)}),Ot=Tt.indexOf(dt.target);Ot!==-1&&Tt.splice(Ot,1),ft.current=Tt,!(Tt.length>0)&&(_t({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gc(dt)&&v&&v(dt))},[pt,v,j]),ln=P.useCallback(function(dt,Tt){var Ot=[],Ct=[];dt.forEach(function(ne){var ge=Y0(ne,M),Kn=Id(ge,2),or=Kn[0],Xn=Kn[1],Zn=K0(ne,f,u),On=Id(Zn,2),un=On[0],fi=On[1],Wn=C?C(ne):null;if(or&&un&&!Wn)Ot.push(ne);else{var Li=[Xn,fi];Wn&&(Li=Li.concat(Wn)),Ct.push({file:ne,errors:Li.filter(function(lr){return lr})})}}),(!p&&Ot.length>1||p&&y>=1&&Ot.length>y)&&(Ot.forEach(function(ne){Ct.push({file:ne,errors:[Yw]})}),Ot.splice(0)),_t({acceptedFiles:Ot,fileRejections:Ct,isDragReject:Ct.length>0,type:"setFiles"}),A&&A(Ot,Ct,Tt),Ct.length>0&&L&&L(Ct,Tt),Ot.length>0&&N&&N(Ot,Tt)},[_t,p,M,f,u,y,A,N,L,C]),Je=P.useCallback(function(dt){dt.preventDefault(),dt.persist(),Yn(dt),ft.current=[],gc(dt)&&Promise.resolve(o(dt)).then(function(Tt){Lc(dt)&&!j||ln(Tt,dt)}).catch(function(Tt){return yt(Tt)}),_t({type:"reset"})},[o,ln,yt,j]),tn=P.useCallback(function(){if(et.current){_t({type:"openDialog"}),z();var dt={multiple:p,types:I};window.showOpenFilePicker(dt).then(function(Tt){return o(Tt)}).then(function(Tt){ln(Tt,null),_t({type:"closeDialog"})}).catch(function(Tt){nA(Tt)?(S(Tt),_t({type:"closeDialog"})):iA(Tt)?(et.current=!1,ht.current?(ht.current.value=null,ht.current.click()):yt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):yt(Tt)});return}ht.current&&(_t({type:"openDialog"}),z(),ht.current.value=null,ht.current.click())},[_t,z,S,Y,ln,yt,I,p]),gn=P.useCallback(function(dt){!pt.current||!pt.current.isEqualNode(dt.target)||(dt.key===" "||dt.key==="Enter"||dt.keyCode===32||dt.keyCode===13)&&(dt.preventDefault(),tn())},[pt,tn]),yn=P.useCallback(function(){_t({type:"focus"})},[]),In=P.useCallback(function(){_t({type:"blur"})},[]),ci=P.useCallback(function(){ct||(Ww()?setTimeout(tn,0):tn())},[ct,tn]),fe=function(Tt){return r?null:Tt},Qn=function(Tt){return ut?null:fe(Tt)},hi=function(Tt){return bt?null:fe(Tt)},Yn=function(Tt){j&&Tt.stopPropagation()},Ui=P.useMemo(function(){return function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tt=dt.refKey,Ot=Tt===void 0?"ref":Tt,Ct=dt.role,ne=dt.onKeyDown,ge=dt.onFocus,Kn=dt.onBlur,or=dt.onClick,Xn=dt.onDragEnter,Zn=dt.onDragOver,On=dt.onDragLeave,un=dt.onDrop,fi=zc(dt,sA);return pe(pe(Xd({onKeyDown:Qn(Di(ne,gn)),onFocus:Qn(Di(ge,yn)),onBlur:Qn(Di(Kn,In)),onClick:fe(Di(or,ci)),onDragEnter:hi(Di(Xn,re)),onDragOver:hi(Di(Zn,zt)),onDragLeave:hi(Di(On,on)),onDrop:hi(Di(un,Je)),role:typeof Ct=="string"&&Ct!==""?Ct:"presentation"},Ot,pt),!r&&!ut?{tabIndex:0}:{}),fi)}},[pt,gn,yn,In,ci,re,zt,on,Je,ut,bt,r]),uo=P.useCallback(function(dt){dt.stopPropagation()},[]),ya=P.useMemo(function(){return function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tt=dt.refKey,Ot=Tt===void 0?"ref":Tt,Ct=dt.onChange,ne=dt.onClick,ge=zc(dt,oA),Kn=Xd({accept:M,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:fe(Di(Ct,Je)),onClick:fe(Di(ne,uo)),tabIndex:-1},Ot,ht);return pe(pe({},Kn),ge)}},[ht,i,p,Je,r]);return pe(pe({},ot),{},{isFocused:O&&!r,getRootProps:Ui,getInputProps:ya,rootRef:pt,inputRef:ht,open:fe(tn)})}function gA(a,t){switch(t.type){case"focus":return pe(pe({},a),{},{isFocused:!0});case"blur":return pe(pe({},a),{},{isFocused:!1});case"openDialog":return pe(pe({},Zd),{},{isFileDialogActive:!0});case"closeDialog":return pe(pe({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return pe(pe({},a),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return pe(pe({},a),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return pe({},Zd);default:return a}}function o_(){}const yA=({onFilesAdded:a})=>{const t=P.useCallback(u=>{const f=u.map((p,y)=>({id:crypto.randomUUID(),file:p,preview:URL.createObjectURL(p),originalName:p.name,number:y+1}));a(f)},[a]),{getRootProps:i,getInputProps:r,isDragActive:o}=tb({onDrop:t,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp"]},multiple:!0});return E.jsxs("div",{...i(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[E.jsx("input",{...r()}),E.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[E.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-lg font-medium text-gray-700",children:o?"":"&"}),E.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["",E.jsx("span",{className:"text-blue-500 underline",children:""})]})]})]})]})},vA=({photos:a,onRemove:t})=>a.length===0?null:E.jsxs("div",{className:"mt-6",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" (",a.length,")"]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(i=>E.jsx("div",{className:"relative group",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:i.preview,alt:i.originalName,className:"w-full h-32 object-cover"}),E.jsx("button",{onClick:()=>t(i.id),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""}),E.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:i.number})]}),E.jsx("div",{className:"p-3",children:E.jsx("p",{className:"text-xs text-gray-600 truncate",title:i.originalName,children:i.originalName})})]})},i.id))})]}),_A=({metaInfo:a,onChange:t,errors:i})=>{const r=(o,u)=>{t({...a,[o]:u})};return E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:""}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),E.jsx("input",{type:"text",value:a.photographerName,onChange:o=>r("photographerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.photographerName?"border-red-500":"border-gray-300"}`,placeholder:""}),i.photographerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.photographerName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),E.jsx("input",{type:"date",value:a.shootingDate,onChange:o=>r("shootingDate",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.shootingDate?"border-red-500":"border-gray-300"}`}),i.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),E.jsx("input",{type:"number",value:a.receptionNumber,onChange:o=>r("receptionNumber",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),i.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),E.jsx("input",{type:"text",value:a.customerName,onChange:o=>r("customerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),i.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.customerName})]})]})]})},bA=()=>{};var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},xA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],f=a[i++],p=a[i++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=a[i++],f=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,p=f?a[o+1]:0,y=o+2<a.length,m=y?a[o+2]:0,v=u>>2,T=(u&3)<<4|p>>4;let A=(p&15)<<2|m>>6,N=m&63;y||(N=64,f||(A=64)),r.push(i[v],i[T],i[A],i[N])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(eb(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):xA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const m=o<a.length?i[a.charAt(o)]:64;++o;const T=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||p==null||m==null||T==null)throw new EA;const A=u<<2|p>>4;if(r.push(A),m!==64){const N=p<<4&240|m>>2;if(r.push(N),T!==64){const L=m<<6&192|T;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class EA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(a){const t=eb(a);return nb.encodeByteArray(t,!0)},Bc=function(a){return TA(a).replace(/\./g,"")},wA=function(a){try{return nb.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=()=>AA().__FIREBASE_DEFAULTS__,RA=()=>{if(typeof process>"u"||typeof l_>"u")return;const a=l_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},CA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&wA(a[1]);return t&&JSON.parse(t)},Op=()=>{try{return bA()||SA()||RA()||CA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},DA=a=>Op()?.emulatorHosts?.[a],ib=a=>{const t=DA(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},ab=()=>Op()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rb(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(f)),""].join(".")}const xl={};function IA(){const a={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?a.emulator.push(t):a.prod.push(t);return a}function OA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let u_=!1;function ob(a,t){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||xl[a]===t||xl[a]||u_)return;xl[a]=t;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=IA().prod.length>0;function f(){const A=document.getElementById(r);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function m(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{u_=!0,f()},A}function v(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=OA(r),N=i("text"),L=document.getElementById(N)||document.createElement("span"),V=i("learnmore"),k=document.getElementById(V)||document.createElement("a"),Y=i("preprendIcon"),Z=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const W=A.element;p(W),v(k,V);const ct=m();y(Z,Y),W.append(Z,L,k,ct),document.body.appendChild(W)}u?(L.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VA(){const a=Op()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kA(){return!VA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="FirebaseError";class $r extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=UA,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lb.prototype.create)}}class lb{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?LA(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new $r(o,p,r)}}function LA(a,t){return a.replace(zA,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const zA=/\{\$([^}]+)}/g;function qc(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=a[o],f=t[o];if(c_(u)&&c_(f)){if(!qc(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function c_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(a){return a&&a._delegate?a._delegate:a}class Ys{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new NA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HA(t))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ur){return this.instances.has(t)}getOptions(t=Ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ur){return this.component?this.component.multipleInstances?t:Ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qA(a){return a===Ur?void 0:a}function HA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new BA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Gt||(Gt={}));const GA={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},$A=Gt.INFO,QA={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},YA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=QA[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ub{constructor(t){this.name=t,this._logLevel=$A,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const KA=(a,t)=>t.some(i=>a instanceof i);let h_,f_;function XA(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZA(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cb=new WeakMap,Wd=new WeakMap,hb=new WeakMap,Od=new WeakMap,Mp=new WeakMap;function WA(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(Ka(a.result)),o()},f=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&cb.set(i,a)}).catch(()=>{}),Mp.set(t,a),t}function JA(a){if(Wd.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Wd.set(a,t)}let Jd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Wd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||hb.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ka(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function tS(a){Jd=a(Jd)}function eS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Md(this),t,...i);return hb.set(r,t.sort?t.sort():[t]),Ka(r)}:ZA().includes(a)?function(...t){return a.apply(Md(this),t),Ka(cb.get(this))}:function(...t){return Ka(a.apply(Md(this),t))}}function nS(a){return typeof a=="function"?eS(a):(a instanceof IDBTransaction&&JA(a),KA(a,XA())?new Proxy(a,Jd):a)}function Ka(a){if(a instanceof IDBRequest)return WA(a);if(Od.has(a))return Od.get(a);const t=nS(a);return t!==a&&(Od.set(a,t),Mp.set(t,a)),t}const Md=a=>Mp.get(a);function iS(a,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(a,t),p=Ka(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Ka(f.result),y.oldVersion,y.newVersion,Ka(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const aS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],Vd=new Map;function d_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=rS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||aS.includes(i)))return;const u=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let m=y.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),o&&y.done]))[0]};return Vd.set(t,u),u}tS(a=>({...a,get:(t,i,r)=>d_(t,i)||a.get(t,i,r),has:(t,i)=>!!d_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(oS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function oS(a){return a.getComponent()?.type==="VERSION"}const tp="@firebase/app",p_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new ub("@firebase/app"),lS="@firebase/app-compat",uS="@firebase/analytics-compat",cS="@firebase/analytics",hS="@firebase/app-check-compat",fS="@firebase/app-check",dS="@firebase/auth",pS="@firebase/auth-compat",mS="@firebase/database",gS="@firebase/data-connect",yS="@firebase/database-compat",vS="@firebase/functions",_S="@firebase/functions-compat",bS="@firebase/installations",xS="@firebase/installations-compat",ES="@firebase/messaging",TS="@firebase/messaging-compat",wS="@firebase/performance",AS="@firebase/performance-compat",SS="@firebase/remote-config",RS="@firebase/remote-config-compat",CS="@firebase/storage",DS="@firebase/storage-compat",NS="@firebase/firestore",IS="@firebase/ai",OS="@firebase/firestore-compat",MS="firebase",VS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",kS={[tp]:"fire-core",[lS]:"fire-core-compat",[cS]:"fire-analytics",[uS]:"fire-analytics-compat",[fS]:"fire-app-check",[hS]:"fire-app-check-compat",[dS]:"fire-auth",[pS]:"fire-auth-compat",[mS]:"fire-rtdb",[gS]:"fire-data-connect",[yS]:"fire-rtdb-compat",[vS]:"fire-fn",[_S]:"fire-fn-compat",[bS]:"fire-iid",[xS]:"fire-iid-compat",[ES]:"fire-fcm",[TS]:"fire-fcm-compat",[wS]:"fire-perf",[AS]:"fire-perf-compat",[SS]:"fire-rc",[RS]:"fire-rc-compat",[CS]:"fire-gcs",[DS]:"fire-gcs-compat",[NS]:"fire-fst",[OS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[MS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,jS=new Map,np=new Map;function m_(a,t){try{a.container.addComponent(t)}catch(i){pa.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Dl(a){const t=a.name;if(np.has(t))return pa.debug(`There were multiple attempts to register component ${t}.`),!1;np.set(t,a);for(const i of Hc.values())m_(i,a);for(const i of jS.values())m_(i,a);return!0}function fb(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function db(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new lb("app","Firebase",PS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=VS;function mb(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:ep,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Xa.create("bad-app-name",{appName:String(o)});if(i||(i=ab()),!i)throw Xa.create("no-options");const u=Hc.get(o);if(u){if(qc(i,u.options)&&qc(r,u.config))return u;throw Xa.create("duplicate-app",{appName:o})}const f=new FA(o);for(const y of np.values())f.addComponent(y);const p=new US(i,r,f);return Hc.set(o,p),p}function gb(a=ep){const t=Hc.get(a);if(!t&&a===ep&&ab())return mb();if(!t)throw Xa.create("no-app",{appName:a});return t}function Za(a,t,i){let r=kS[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pa.warn(f.join(" "));return}Dl(new Ys(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebase-heartbeat-database",zS=1,Nl="firebase-heartbeat-store";let kd=null;function yb(){return kd||(kd=iS(LS,zS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Xa.create("idb-open",{originalErrorMessage:a.message})})),kd}async function BS(a){try{const i=(await yb()).transaction(Nl),r=await i.objectStore(Nl).get(vb(a));return await i.done,r}catch(t){if(t instanceof $r)pa.warn(t.message);else{const i=Xa.create("idb-get",{originalErrorMessage:t?.message});pa.warn(i.message)}}}async function g_(a,t){try{const r=(await yb()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(t,vb(a)),await r.done}catch(i){if(i instanceof $r)pa.warn(i.message);else{const r=Xa.create("idb-set",{originalErrorMessage:i?.message});pa.warn(r.message)}}}function vb(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1024,HS=30;class FS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $S(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>HS){const o=QS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y_(),{heartbeatsToSend:i,unsentEntries:r}=GS(this._heartbeatsCache.heartbeats),o=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return pa.warn(t),""}}}function y_(){return new Date().toISOString().substring(0,10)}function GS(a,t=qS){const i=[];let r=a.slice();for(const o of a){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),v_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),v_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $S{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await BS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return g_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return g_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function v_(a){return Bc(JSON.stringify({version:2,heartbeats:a})).length}function QS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(a){Dl(new Ys("platform-logger",t=>new sS(t),"PRIVATE")),Dl(new Ys("heartbeat",t=>new FS(t),"PRIVATE")),Za(tp,p_,a),Za(tp,p_,"esm2020"),Za("fire-js","")}YS("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebasestorage.googleapis.com",bb="storageBucket",KS=120*1e3,XS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be extends $r{constructor(t,i,r=0){super(jd(t),`Firebase Storage: ${i} (${jd(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,be.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _e;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_e||(_e={}));function jd(a){return"storage/"+a}function Vp(){const a="An unknown error occurred, please check the error payload for server response.";return new be(_e.UNKNOWN,a)}function ZS(a){return new be(_e.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function WS(a){return new be(_e.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JS(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new be(_e.UNAUTHENTICATED,a)}function t2(){return new be(_e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function e2(a){return new be(_e.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function n2(){return new be(_e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i2(){return new be(_e.CANCELED,"User canceled the upload/download.")}function a2(a){return new be(_e.INVALID_URL,"Invalid URL '"+a+"'.")}function r2(a){return new be(_e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function s2(){return new be(_e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bb+"' property when initializing the app?")}function o2(){return new be(_e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l2(){return new be(_e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function u2(a){return new be(_e.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ip(a){return new be(_e.INVALID_ARGUMENT,a)}function xb(){return new be(_e.APP_DELETED,"The Firebase app was deleted.")}function c2(a){return new be(_e.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function El(a,t){return new be(_e.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function yl(a){throw new be(_e.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=mn.makeFromUrl(t,i)}catch{return new mn(t,"")}if(r.path==="")return r;throw r2(t)}static makeFromUrl(t,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ct){ct.path.charAt(ct.path.length-1)==="/"&&(ct.path_=ct.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function m(ct){ct.path_=decodeURIComponent(ct.path)}const v="v[A-Za-z0-9_]+",T=i.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${v}/b/${o}/o${A}`,"i"),L={bucket:1,path:3},V=i===_b?"(?:storage.googleapis.com|storage.cloud.google.com)":i,k="([^?#]*)",Y=new RegExp(`^https?://${V}/${o}/${k}`,"i"),W=[{regex:p,indices:y,postModify:u},{regex:N,indices:L,postModify:m},{regex:Y,indices:{bucket:1,path:2},postModify:m}];for(let ct=0;ct<W.length;ct++){const ut=W[ct],bt=ut.regex.exec(t);if(bt){const j=bt[ut.indices.bucket];let R=bt[ut.indices.path];R||(R=""),r=new mn(j,R),ut.postModify(r);break}}if(r==null)throw a2(t);return r}}class h2{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(a,t,i){let r=1,o=null,u=null,f=!1,p=0;function y(){return p===2}let m=!1;function v(...k){m||(m=!0,t.apply(null,k))}function T(k){o=setTimeout(()=>{o=null,a(N,y())},k)}function A(){u&&clearTimeout(u)}function N(k,...Y){if(m){A();return}if(k){A(),v.call(null,k,...Y);return}if(y()||f){A(),v.call(null,k,...Y);return}r<64&&(r*=2);let W;p===1?(p=2,W=0):W=(r+Math.random())*1e3,T(W)}let L=!1;function V(k){L||(L=!0,A(),!m&&(o!==null?(k||(p=2),clearTimeout(o),T(0)):k||(p=1)))}return T(0),u=setTimeout(()=>{f=!0,V(!0)},i),V}function d2(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(a){return a!==void 0}function m2(a){return typeof a=="object"&&!Array.isArray(a)}function kp(a){return typeof a=="string"||a instanceof String}function __(a){return jp()&&a instanceof Blob}function jp(){return typeof Blob<"u"}function ap(a,t,i,r){if(r<t)throw ip(`Invalid value for '${a}'. Expected ${t} or greater.`);if(r>i)throw ip(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(a,t,i){let r=t;return i==null&&(r=`https://${t}`),`${i}://${r}/v0${a}`}function Eb(a){const t=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const o=t(r)+"="+t(a[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Br;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Br||(Br={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(a,t){const i=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,u=t.indexOf(a)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,i,r,o,u,f,p,y,m,v,T,A=!0,N=!1){this.url_=t,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=y,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,V)=>{this.resolve_=L,this.reject_=V,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new yc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const y=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,m)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===Br.NO_ERROR,y=u.getStatus();if(!p||g2(y,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Br.ABORT;r(!1,new yc(!1,null,v));return}const m=this.successCodes_.indexOf(y)!==-1;r(!0,new yc(m,u))})},i=(r,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());p2(y)?u(y):u()}catch(y){f(y)}else if(p!==null){const y=Vp();y.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,y)):f(y)}else if(o.canceled){const y=this.appDelete_?xb():i2();f(y)}else{const y=n2();f(y)}};this.canceled_?i(!1,new yc(!1,null,!0)):this.backoffId_=f2(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&d2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yc{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function v2(a,t){t!==null&&t.length>0&&(a.Authorization="Firebase "+t)}function _2(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function b2(a,t){t&&(a["X-Firebase-GMPID"]=t)}function x2(a,t){t!==null&&(a["X-Firebase-AppCheck"]=t)}function E2(a,t,i,r,o,u,f=!0,p=!1){const y=Eb(a.urlParams),m=a.url+y,v=Object.assign({},a.headers);return b2(v,t),v2(v,i),_2(v,u),x2(v,r),new y2(m,a.method,v,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w2(...a){const t=T2();if(t!==void 0){const i=new t;for(let r=0;r<a.length;r++)i.append(a[r]);return i.getBlob()}else{if(jp())return new Blob(a);throw new be(_e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A2(a,t,i){return a.webkitSlice?a.webkitSlice(t,i):a.mozSlice?a.mozSlice(t,i):a.slice?a.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(a){if(typeof atob>"u")throw u2("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pd{constructor(t,i){this.data=t,this.contentType=i||null}}function R2(a,t){switch(a){case Ii.RAW:return new Pd(Tb(t));case Ii.BASE64:case Ii.BASE64URL:return new Pd(wb(a,t));case Ii.DATA_URL:return new Pd(D2(t),N2(t))}throw Vp()}function Tb(a){const t=[];for(let i=0;i<a.length;i++){let r=a.charCodeAt(i);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const u=r,f=a.charCodeAt(++i);r=65536|(u&1023)<<10|f&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function C2(a){let t;try{t=decodeURIComponent(a)}catch{throw El(Ii.DATA_URL,"Malformed data URL.")}return Tb(t)}function wb(a,t){switch(a){case Ii.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw El(a,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw El(a,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=S2(t)}catch(o){throw o.message.includes("polyfill")?o:El(a,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class Ab{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw El(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=I2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function D2(a){const t=new Ab(a);return t.base64?wb(Ii.BASE64,t.rest):C2(t.rest)}function N2(a){return new Ab(a).contentType}function I2(a,t){return a.length>=t.length?a.substring(a.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,i){let r=0,o="";__(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,i){if(__(this.data_)){const r=this.data_,o=A2(r,t,i);return o===null?null:new Qa(o)}else{const r=new Uint8Array(this.data_.buffer,t,i-t);return new Qa(r,!0)}}static getBlob(...t){if(jp()){const i=t.map(r=>r instanceof Qa?r.data_:r);return new Qa(w2.apply(null,i))}else{const i=t.map(f=>kp(f)?R2(Ii.RAW,f).data:f.data_);let r=0;i.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let u=0;return i.forEach(f=>{for(let p=0;p<f.length;p++)o[u++]=f[p]}),new Qa(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(a){let t;try{t=JSON.parse(a)}catch{return null}return m2(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(a){if(a.length===0)return null;const t=a.lastIndexOf("/");return t===-1?"":a.slice(0,t)}function M2(a,t){const i=t.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function Sb(a){const t=a.lastIndexOf("/",a.length-2);return t===-1?a:a.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(a,t){return t}class pn{constructor(t,i,r,o){this.server=t,this.local=i||t,this.writable=!!r,this.xform=o||V2}}let vc=null;function k2(a){return!kp(a)||a.length<2?a:Sb(a)}function Rb(){if(vc)return vc;const a=[];a.push(new pn("bucket")),a.push(new pn("generation")),a.push(new pn("metageneration")),a.push(new pn("name","fullPath",!0));function t(u,f){return k2(f)}const i=new pn("name");i.xform=t,a.push(i);function r(u,f){return f!==void 0?Number(f):f}const o=new pn("size");return o.xform=r,a.push(o),a.push(new pn("timeCreated")),a.push(new pn("updated")),a.push(new pn("md5Hash",null,!0)),a.push(new pn("cacheControl",null,!0)),a.push(new pn("contentDisposition",null,!0)),a.push(new pn("contentEncoding",null,!0)),a.push(new pn("contentLanguage",null,!0)),a.push(new pn("contentType",null,!0)),a.push(new pn("metadata","customMetadata",!0)),vc=a,vc}function j2(a,t){function i(){const r=a.bucket,o=a.fullPath,u=new mn(r,o);return t._makeStorageReference(u)}Object.defineProperty(a,"ref",{get:i})}function P2(a,t,i){const r={};r.type="file";const o=i.length;for(let u=0;u<o;u++){const f=i[u];r[f.local]=f.xform(r,t[f.server])}return j2(r,a),r}function Cb(a,t,i){const r=Pp(t);return r===null?null:P2(a,r,i)}function U2(a,t,i,r){const o=Pp(t);if(o===null||!kp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(m=>{const v=a.bucket,T=a.fullPath,A="/b/"+f(v)+"/o/"+f(T),N=sh(A,i,r),L=Eb({alt:"media",token:m});return N+L})[0]}function L2(a,t){const i={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(i[u.server]=a[u.local])}return JSON.stringify(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="prefixes",x_="items";function z2(a,t,i){const r={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[b_])for(const o of i[b_]){const u=o.replace(/\/$/,""),f=a._makeStorageReference(new mn(t,u));r.prefixes.push(f)}if(i[x_])for(const o of i[x_]){const u=a._makeStorageReference(new mn(t,o.name));r.items.push(u)}return r}function B2(a,t,i){const r=Pp(i);return r===null?null:z2(a,t,r)}class Up{constructor(t,i,r,o){this.url=t,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(a){if(!a)throw Vp()}function q2(a,t){function i(r,o){const u=Cb(a,o,t);return Lp(u!==null),u}return i}function H2(a,t){function i(r,o){const u=B2(a,t,o);return Lp(u!==null),u}return i}function F2(a,t){function i(r,o){const u=Cb(a,o,t);return Lp(u!==null),U2(u,o,a.host,a._protocol)}return i}function zp(a){function t(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=t2():o=JS():i.getStatus()===402?o=WS(a.bucket):i.getStatus()===403?o=e2(a.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return t}function G2(a){const t=zp(a);function i(r,o){let u=t(r,o);return r.getStatus()===404&&(u=ZS(a.path)),u.serverResponse=o.serverResponse,u}return i}function $2(a,t,i,r,o){const u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",i.length>0&&(u.delimiter=i),r&&(u.pageToken=r),o&&(u.maxResults=o);const f=t.bucketOnlyServerUrl(),p=sh(f,a.host,a._protocol),y="GET",m=a.maxOperationRetryTime,v=new Up(p,y,H2(a,t.bucket),m);return v.urlParams=u,v.errorHandler=zp(t),v}function Q2(a,t,i){const r=t.fullServerUrl(),o=sh(r,a.host,a._protocol),u="GET",f=a.maxOperationRetryTime,p=new Up(o,u,F2(a,i),f);return p.errorHandler=G2(t),p}function Y2(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}function K2(a,t,i){const r=Object.assign({},i);return r.fullPath=a.path,r.size=t.size(),r.contentType||(r.contentType=Y2(null,t)),r}function X2(a,t,i,r,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let W="";for(let ct=0;ct<2;ct++)W=W+Math.random().toString().slice(2);return W}const y=p();f["Content-Type"]="multipart/related; boundary="+y;const m=K2(t,r,o),v=L2(m,i),T="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+y+`\r
Content-Type: `+m.contentType+`\r
\r
`,A=`\r
--`+y+"--",N=Qa.getBlob(T,r,A);if(N===null)throw o2();const L={name:m.fullPath},V=sh(u,a.host,a._protocol),k="POST",Y=a.maxUploadRetryTime,Z=new Up(V,k,q2(a,i),Y);return Z.urlParams=L,Z.headers=f,Z.body=N.uploadData(),Z.errorHandler=zp(t),Z}class Z2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Br.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Br.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Br.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,r,o,u){if(this.sent_)throw yl("cannot .send() more than once");if(zl(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class W2 extends Z2{initXhr(){this.xhr_.responseType="text"}}function Bp(){return new W2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i){this._service=t,i instanceof mn?this._location=i:this._location=mn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new qr(t,i)}get root(){const t=new mn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sb(this._location.path)}get storage(){return this._service}get parent(){const t=O2(this._location.path);if(t===null)return null;const i=new mn(this._location.bucket,t);return new qr(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw c2(t)}}function J2(a,t,i){a._throwIfRoot("uploadBytes");const r=X2(a.storage,a._location,Rb(),new Qa(t,!0),i);return a.storage.makeRequestWithTokens(r,Bp).then(o=>({metadata:o,ref:a}))}function tR(a){const t={prefixes:[],items:[]};return Db(a,t).then(()=>t)}async function Db(a,t,i){const o=await eR(a,{pageToken:i});t.prefixes.push(...o.prefixes),t.items.push(...o.items),o.nextPageToken!=null&&await Db(a,t,o.nextPageToken)}function eR(a,t){t!=null&&typeof t.maxResults=="number"&&ap("options.maxResults",1,1e3,t.maxResults);const i=t||{},r=$2(a.storage,a._location,"/",i.pageToken,i.maxResults);return a.storage.makeRequestWithTokens(r,Bp)}function nR(a){a._throwIfRoot("getDownloadURL");const t=Q2(a.storage,a._location,Rb());return a.storage.makeRequestWithTokens(t,Bp).then(i=>{if(i===null)throw l2();return i})}function iR(a,t){const i=M2(a._location.path,t),r=new mn(a._location.bucket,i);return new qr(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(a){return/^[A-Za-z]+:\/\//.test(a)}function rR(a,t){return new qr(a,t)}function Nb(a,t){if(a instanceof qp){const i=a;if(i._bucket==null)throw s2();const r=new qr(i,i._bucket);return t!=null?Nb(r,t):r}else return t!==void 0?iR(a,t):a}function sR(a,t){if(t&&aR(t)){if(a instanceof qp)return rR(a,t);throw ip("To use ref(service, url), the first argument must be a Storage instance.")}else return Nb(a,t)}function E_(a,t){const i=t?.[bb];return i==null?null:mn.makeFromBucketSpec(i,a)}function oR(a,t,i,r={}){a.host=`${t}:${i}`;const o=zl(t);o&&(rb(`https://${a.host}/b`),ob("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(a._overrideAuthToken=typeof u=="string"?u:sb(u,a.app.options.projectId))}class qp{constructor(t,i,r,o,u,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=_b,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KS,this._maxUploadRetryTime=XS,this._requests=new Set,o!=null?this._bucket=mn.makeFromBucketSpec(o,this._host):this._bucket=E_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,t):this._bucket=E_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ap("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ap("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(db(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new qr(this,t)}_makeRequest(t,i,r,o,u=!0){if(this._deleted)return new h2(xb());{const f=E2(t,this._appId,r,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,o).getPromise()}}const T_="@firebase/storage",w_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="storage";function lR(a,t,i){return a=si(a),J2(a,t,i)}function A_(a){return a=si(a),tR(a)}function uR(a){return a=si(a),nR(a)}function Ud(a,t){return a=si(a),sR(a,t)}function cR(a=gb(),t){a=si(a);const r=fb(a,Ib).getImmediate({identifier:t}),o=ib("storage");return o&&hR(r,...o),r}function hR(a,t,i,r={}){oR(a,t,i,r)}function fR(a,{instanceIdentifier:t}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new qp(i,r,o,t,pb)}function dR(){Dl(new Ys(Ib,fR,"PUBLIC").setMultipleInstances(!0)),Za(T_,w_,""),Za(T_,w_,"esm2020")}dR();var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,Ob;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(j,R){function C(){}C.prototype=R.prototype,j.D=R.prototype,j.prototype=new C,j.prototype.constructor=j,j.C=function(M,I,z){for(var S=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)S[pt-2]=arguments[pt];return R.prototype[I].apply(M,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)M[I]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(I=0;16>I;++I)M[I]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=j.g[0],C=j.g[1],I=j.g[2];var z=j.g[3],S=R+(z^C&(I^z))+M[0]+3614090360&4294967295;R=C+(S<<7&4294967295|S>>>25),S=z+(I^R&(C^I))+M[1]+3905402710&4294967295,z=R+(S<<12&4294967295|S>>>20),S=I+(C^z&(R^C))+M[2]+606105819&4294967295,I=z+(S<<17&4294967295|S>>>15),S=C+(R^I&(z^R))+M[3]+3250441966&4294967295,C=I+(S<<22&4294967295|S>>>10),S=R+(z^C&(I^z))+M[4]+4118548399&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(I^R&(C^I))+M[5]+1200080426&4294967295,z=R+(S<<12&4294967295|S>>>20),S=I+(C^z&(R^C))+M[6]+2821735955&4294967295,I=z+(S<<17&4294967295|S>>>15),S=C+(R^I&(z^R))+M[7]+4249261313&4294967295,C=I+(S<<22&4294967295|S>>>10),S=R+(z^C&(I^z))+M[8]+1770035416&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(I^R&(C^I))+M[9]+2336552879&4294967295,z=R+(S<<12&4294967295|S>>>20),S=I+(C^z&(R^C))+M[10]+4294925233&4294967295,I=z+(S<<17&4294967295|S>>>15),S=C+(R^I&(z^R))+M[11]+2304563134&4294967295,C=I+(S<<22&4294967295|S>>>10),S=R+(z^C&(I^z))+M[12]+1804603682&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(I^R&(C^I))+M[13]+4254626195&4294967295,z=R+(S<<12&4294967295|S>>>20),S=I+(C^z&(R^C))+M[14]+2792965006&4294967295,I=z+(S<<17&4294967295|S>>>15),S=C+(R^I&(z^R))+M[15]+1236535329&4294967295,C=I+(S<<22&4294967295|S>>>10),S=R+(I^z&(C^I))+M[1]+4129170786&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^I&(R^C))+M[6]+3225465664&4294967295,z=R+(S<<9&4294967295|S>>>23),S=I+(R^C&(z^R))+M[11]+643717713&4294967295,I=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(I^z))+M[0]+3921069994&4294967295,C=I+(S<<20&4294967295|S>>>12),S=R+(I^z&(C^I))+M[5]+3593408605&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^I&(R^C))+M[10]+38016083&4294967295,z=R+(S<<9&4294967295|S>>>23),S=I+(R^C&(z^R))+M[15]+3634488961&4294967295,I=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(I^z))+M[4]+3889429448&4294967295,C=I+(S<<20&4294967295|S>>>12),S=R+(I^z&(C^I))+M[9]+568446438&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^I&(R^C))+M[14]+3275163606&4294967295,z=R+(S<<9&4294967295|S>>>23),S=I+(R^C&(z^R))+M[3]+4107603335&4294967295,I=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(I^z))+M[8]+1163531501&4294967295,C=I+(S<<20&4294967295|S>>>12),S=R+(I^z&(C^I))+M[13]+2850285829&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^I&(R^C))+M[2]+4243563512&4294967295,z=R+(S<<9&4294967295|S>>>23),S=I+(R^C&(z^R))+M[7]+1735328473&4294967295,I=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(I^z))+M[12]+2368359562&4294967295,C=I+(S<<20&4294967295|S>>>12),S=R+(C^I^z)+M[5]+4294588738&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^I)+M[8]+2272392833&4294967295,z=R+(S<<11&4294967295|S>>>21),S=I+(z^R^C)+M[11]+1839030562&4294967295,I=z+(S<<16&4294967295|S>>>16),S=C+(I^z^R)+M[14]+4259657740&4294967295,C=I+(S<<23&4294967295|S>>>9),S=R+(C^I^z)+M[1]+2763975236&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^I)+M[4]+1272893353&4294967295,z=R+(S<<11&4294967295|S>>>21),S=I+(z^R^C)+M[7]+4139469664&4294967295,I=z+(S<<16&4294967295|S>>>16),S=C+(I^z^R)+M[10]+3200236656&4294967295,C=I+(S<<23&4294967295|S>>>9),S=R+(C^I^z)+M[13]+681279174&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^I)+M[0]+3936430074&4294967295,z=R+(S<<11&4294967295|S>>>21),S=I+(z^R^C)+M[3]+3572445317&4294967295,I=z+(S<<16&4294967295|S>>>16),S=C+(I^z^R)+M[6]+76029189&4294967295,C=I+(S<<23&4294967295|S>>>9),S=R+(C^I^z)+M[9]+3654602809&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^I)+M[12]+3873151461&4294967295,z=R+(S<<11&4294967295|S>>>21),S=I+(z^R^C)+M[15]+530742520&4294967295,I=z+(S<<16&4294967295|S>>>16),S=C+(I^z^R)+M[2]+3299628645&4294967295,C=I+(S<<23&4294967295|S>>>9),S=R+(I^(C|~z))+M[0]+4096336452&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~I))+M[7]+1126891415&4294967295,z=R+(S<<10&4294967295|S>>>22),S=I+(R^(z|~C))+M[14]+2878612391&4294967295,I=z+(S<<15&4294967295|S>>>17),S=C+(z^(I|~R))+M[5]+4237533241&4294967295,C=I+(S<<21&4294967295|S>>>11),S=R+(I^(C|~z))+M[12]+1700485571&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~I))+M[3]+2399980690&4294967295,z=R+(S<<10&4294967295|S>>>22),S=I+(R^(z|~C))+M[10]+4293915773&4294967295,I=z+(S<<15&4294967295|S>>>17),S=C+(z^(I|~R))+M[1]+2240044497&4294967295,C=I+(S<<21&4294967295|S>>>11),S=R+(I^(C|~z))+M[8]+1873313359&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~I))+M[15]+4264355552&4294967295,z=R+(S<<10&4294967295|S>>>22),S=I+(R^(z|~C))+M[6]+2734768916&4294967295,I=z+(S<<15&4294967295|S>>>17),S=C+(z^(I|~R))+M[13]+1309151649&4294967295,C=I+(S<<21&4294967295|S>>>11),S=R+(I^(C|~z))+M[4]+4149444226&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~I))+M[11]+3174756917&4294967295,z=R+(S<<10&4294967295|S>>>22),S=I+(R^(z|~C))+M[2]+718787259&4294967295,I=z+(S<<15&4294967295|S>>>17),S=C+(z^(I|~R))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+R&4294967295,j.g[1]=j.g[1]+(I+(S<<21&4294967295|S>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+z&4294967295}r.prototype.u=function(j,R){R===void 0&&(R=j.length);for(var C=R-this.blockSize,M=this.B,I=this.h,z=0;z<R;){if(I==0)for(;z<=C;)o(this,j,z),z+=this.blockSize;if(typeof j=="string"){for(;z<R;)if(M[I++]=j.charCodeAt(z++),I==this.blockSize){o(this,M),I=0;break}}else for(;z<R;)if(M[I++]=j[z++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=R},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var R=1;R<j.length-8;++R)j[R]=0;var C=8*this.o;for(R=j.length-8;R<j.length;++R)j[R]=C&255,C/=256;for(this.u(j),j=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)j[C++]=this.g[R]>>>M&255;return j};function u(j,R){var C=p;return Object.prototype.hasOwnProperty.call(C,j)?C[j]:C[j]=R(j)}function f(j,R){this.h=R;for(var C=[],M=!0,I=j.length-1;0<=I;I--){var z=j[I]|0;M&&z==R||(C[I]=z,M=!1)}this.g=C}var p={};function y(j){return-128<=j&&128>j?u(j,function(R){return new f([R|0],0>R?-1:0)}):new f([j|0],0>j?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return T;if(0>j)return k(m(-j));for(var R=[],C=1,M=0;j>=C;M++)R[M]=j/C|0,C*=4294967296;return new f(R,0)}function v(j,R){if(j.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(j.charAt(0)=="-")return k(v(j.substring(1),R));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),M=T,I=0;I<j.length;I+=8){var z=Math.min(8,j.length-I),S=parseInt(j.substring(I,I+z),R);8>z?(z=m(Math.pow(R,z)),M=M.j(z).add(m(S))):(M=M.j(C),M=M.add(m(S)))}return M}var T=y(0),A=y(1),N=y(16777216);a=f.prototype,a.m=function(){if(V(this))return-k(this).m();for(var j=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);j+=(0<=M?M:4294967296+M)*R,R*=4294967296}return j},a.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(L(this))return"0";if(V(this))return"-"+k(this).toString(j);for(var R=m(Math.pow(j,6)),C=this,M="";;){var I=ct(C,R).g;C=Y(C,I.j(R));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(j);if(C=I,L(C))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},a.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function L(j){if(j.h!=0)return!1;for(var R=0;R<j.g.length;R++)if(j.g[R]!=0)return!1;return!0}function V(j){return j.h==-1}a.l=function(j){return j=Y(this,j),V(j)?-1:L(j)?0:1};function k(j){for(var R=j.g.length,C=[],M=0;M<R;M++)C[M]=~j.g[M];return new f(C,~j.h).add(A)}a.abs=function(){return V(this)?k(this):this},a.add=function(j){for(var R=Math.max(this.g.length,j.g.length),C=[],M=0,I=0;I<=R;I++){var z=M+(this.i(I)&65535)+(j.i(I)&65535),S=(z>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);M=S>>>16,z&=65535,S&=65535,C[I]=S<<16|z}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Y(j,R){return j.add(k(R))}a.j=function(j){if(L(this)||L(j))return T;if(V(this))return V(j)?k(this).j(k(j)):k(k(this).j(j));if(V(j))return k(this.j(k(j)));if(0>this.l(N)&&0>j.l(N))return m(this.m()*j.m());for(var R=this.g.length+j.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var I=0;I<j.g.length;I++){var z=this.i(M)>>>16,S=this.i(M)&65535,pt=j.i(I)>>>16,ht=j.i(I)&65535;C[2*M+2*I]+=S*ht,Z(C,2*M+2*I),C[2*M+2*I+1]+=z*ht,Z(C,2*M+2*I+1),C[2*M+2*I+1]+=S*pt,Z(C,2*M+2*I+1),C[2*M+2*I+2]+=z*pt,Z(C,2*M+2*I+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new f(C,0)};function Z(j,R){for(;(j[R]&65535)!=j[R];)j[R+1]+=j[R]>>>16,j[R]&=65535,R++}function W(j,R){this.g=j,this.h=R}function ct(j,R){if(L(R))throw Error("division by zero");if(L(j))return new W(T,T);if(V(j))return R=ct(k(j),R),new W(k(R.g),k(R.h));if(V(R))return R=ct(j,k(R)),new W(k(R.g),R.h);if(30<j.g.length){if(V(j)||V(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=R;0>=M.l(j);)C=ut(C),M=ut(M);var I=bt(C,1),z=bt(M,1);for(M=bt(M,2),C=bt(C,2);!L(M);){var S=z.add(M);0>=S.l(j)&&(I=I.add(C),z=S),M=bt(M,1),C=bt(C,1)}return R=Y(j,I.j(R)),new W(I,R)}for(I=T;0<=j.l(R);){for(C=Math.max(1,Math.floor(j.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=m(C),S=z.j(R);V(S)||0<S.l(j);)C-=M,z=m(C),S=z.j(R);L(z)&&(z=A),I=I.add(z),j=Y(j,S)}return new W(I,j)}a.A=function(j){return ct(this,j).h},a.and=function(j){for(var R=Math.max(this.g.length,j.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&j.i(M);return new f(C,this.h&j.h)},a.or=function(j){for(var R=Math.max(this.g.length,j.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|j.i(M);return new f(C,this.h|j.h)},a.xor=function(j){for(var R=Math.max(this.g.length,j.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^j.i(M);return new f(C,this.h^j.h)};function ut(j){for(var R=j.g.length+1,C=[],M=0;M<R;M++)C[M]=j.i(M)<<1|j.i(M-1)>>>31;return new f(C,j.h)}function bt(j,R){var C=R>>5;R%=32;for(var M=j.g.length-C,I=[],z=0;z<M;z++)I[z]=0<R?j.i(z+C)>>>R|j.i(z+C+1)<<32-R:j.i(z+C);return new f(I,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ob=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=v,Wa=f}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mb,vl,Vb,Dc,rp,kb,jb,Pb;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,g){if(g)t:{var _=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in _))break t;_=_[q]}c=c[c.length-1],w=_[c],g=g(w),g!=w&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,w=!1,q={next:function(){if(!w&&_<c.length){var X=_++;return{value:g(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function y(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function T(c,g,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function A(c,g,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function N(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function L(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,q,X){for(var lt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)lt[Bt-2]=arguments[Bt];return g.prototype[q].apply(w,lt)}}function V(c){const g=c.length;if(0<g){const _=Array(g);for(let w=0;w<g;w++)_[w]=c[w];return _}return[]}function k(c,g){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(y(w)){const q=c.length||0,X=w.length||0;c.length=q+X;for(let lt=0;lt<X;lt++)c[q+lt]=w[lt]}else c.push(w)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ct(c){return ct[" "](c),c}ct[" "]=function(){};var ut=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function bt(c,g,_){for(const w in c)g.call(_,c[w],w,c)}function j(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,g){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)c[_]=w[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function I(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function z(c){p.setTimeout(()=>{throw c},0)}function S(){var c=_t;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class pt{constructor(){this.h=this.g=null}add(g,_){const w=ht.get();w.set(g,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ht=new Y(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ot=!1,_t=new pt,O=()=>{const c=p.Promise.resolve(void 0);st=()=>{c.then(H)}};var H=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(_){z(_)}var g=ht;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ft=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,g),p.removeEventListener("test",_,g)}catch{}return c})();function wt(c,g){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ut){t:{try{ct(g.nodeName);var q=!0;break t}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:yt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wt.aa.h.call(this)}}L(wt,tt);var yt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),zt=0;function on(c,g,_,w,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!w,this.ha=q,this.key=++zt,this.da=this.fa=!1}function ln(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Je(c){this.src=c,this.g={},this.h=0}Je.prototype.add=function(c,g,_,w,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var lt=gn(c,g,w,q);return-1<lt?(g=c[lt],_||(g.fa=!1)):(g=new on(g,this.src,X,!!w,q),g.fa=_,c.push(g)),g};function tn(c,g){var _=g.type;if(_ in c.g){var w=c.g[_],q=Array.prototype.indexOf.call(w,g,void 0),X;(X=0<=q)&&Array.prototype.splice.call(w,q,1),X&&(ln(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function gn(c,g,_,w){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==w)return q}return-1}var yn="closure_lm_"+(1e6*Math.random()|0),In={};function ci(c,g,_,w,q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)ci(c,g[X],_,w,q);return null}return _=Tt(_),c&&c[re]?c.K(g,_,m(w)?!!w.capture:!1,q):fe(c,g,_,!1,w,q)}function fe(c,g,_,w,q,X){if(!g)throw Error("Invalid event type");var lt=m(q)?!!q.capture:!!q,Bt=ya(c);if(Bt||(c[yn]=Bt=new Je(c)),_=Bt.add(g,_,w,lt,X),_.proxy)return _;if(w=Qn(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ft||(q=lt),q===void 0&&(q=!1),c.addEventListener(g.toString(),w,q);else if(c.attachEvent)c.attachEvent(Ui(g.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qn(){function c(_){return g.call(c.src,c.listener,_)}const g=uo;return c}function hi(c,g,_,w,q){if(Array.isArray(g))for(var X=0;X<g.length;X++)hi(c,g[X],_,w,q);else w=m(w)?!!w.capture:!!w,_=Tt(_),c&&c[re]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],_=gn(X,_,w,q),-1<_&&(ln(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=ya(c))&&(g=c.g[g.toString()],c=-1,g&&(c=gn(g,_,w,q)),(_=-1<c?g[c]:null)&&Yn(_))}function Yn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[re])tn(g.i,c);else{var _=c.type,w=c.proxy;g.removeEventListener?g.removeEventListener(_,w,c.capture):g.detachEvent?g.detachEvent(Ui(_),w):g.addListener&&g.removeListener&&g.removeListener(w),(_=ya(g))?(tn(_,c),_.h==0&&(_.src=null,g[yn]=null)):ln(c)}}}function Ui(c){return c in In?In[c]:In[c]="on"+c}function uo(c,g){if(c.da)c=!0;else{g=new wt(g,this);var _=c.listener,w=c.ha||c.src;c.fa&&Yn(c),c=_.call(w,g)}return c}function ya(c){return c=c[yn],c instanceof Je?c:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(c){return typeof c=="function"?c:(c[dt]||(c[dt]=function(g){return c.handleEvent(g)}),c[dt])}function Ot(){et.call(this),this.i=new Je(this),this.M=this,this.F=null}L(Ot,et),Ot.prototype[re]=!0,Ot.prototype.removeEventListener=function(c,g,_,w){hi(this,c,g,_,w)};function Ct(c,g){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=g.type||g,typeof g=="string")g=new tt(g,c);else if(g instanceof tt)g.target=g.target||c;else{var q=g;g=new tt(w,c),M(g,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var lt=g.g=_[X];q=ne(lt,w,!0,g)&&q}if(lt=g.g=c,q=ne(lt,w,!0,g)&&q,q=ne(lt,w,!1,g)&&q,_)for(X=0;X<_.length;X++)lt=g.g=_[X],q=ne(lt,w,!1,g)&&q}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],w=0;w<_.length;w++)ln(_[w]);delete c.g[g],c.h--}}this.F=null},Ot.prototype.K=function(c,g,_,w){return this.i.add(String(c),g,!1,_,w)},Ot.prototype.L=function(c,g,_,w){return this.i.add(String(c),g,!0,_,w)};function ne(c,g,_,w){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,X=0;X<g.length;++X){var lt=g[X];if(lt&&!lt.da&&lt.capture==_){var Bt=lt.listener,Me=lt.ha||lt.src;lt.fa&&tn(c.i,lt),q=Bt.call(Me,w)!==!1&&q}}return q&&!w.defaultPrevented}function ge(c,g,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(c,g||0)}function Kn(c){c.g=ge(()=>{c.g=null,c.i&&(c.i=!1,Kn(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class or extends et{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(c){et.call(this),this.h=c,this.g={}}L(Xn,et);var Zn=[];function On(c){bt(c.g,function(g,_){this.g.hasOwnProperty(_)&&Yn(g)},c),c.g={}}Xn.prototype.N=function(){Xn.aa.N.call(this),On(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var un=p.JSON.stringify,fi=p.JSON.parse,Wn=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Li(){}Li.prototype.h=null;function lr(c){return c.h||(c.h=c.i())}function co(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){tt.call(this,"d")}L(Bi,tt);function ho(){tt.call(this,"c")}L(ho,tt);var di={},fo=null;function va(){return fo=fo||new Ot}di.La="serverreachability";function Zr(c){tt.call(this,di.La,c)}L(Zr,tt);function _a(c){const g=va();Ct(g,new Zr(g))}di.STAT_EVENT="statevent";function Ql(c,g){tt.call(this,di.STAT_EVENT,c),this.stat=g}L(Ql,tt);function ue(c){const g=va();Ct(g,new Ql(g,c))}di.Ma="timingevent";function Oe(c,g){tt.call(this,di.Ma,c),this.size=g}L(Oe,tt);function Ae(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},g)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function po(c,g,_,w,q,X){c.info(function(){if(c.g)if(X)for(var lt="",Bt=X.split("&"),Me=0;Me<Bt.length;Me++){var qt=Bt[Me].split("=");if(1<qt.length){var Le=qt[0];qt=qt[1];var Ve=Le.split("_");lt=2<=Ve.length&&Ve[1]=="type"?lt+(Le+"="+qt+"&"):lt+(Le+"=redacted&")}}else lt=null;else lt=X;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+g+`
`+_+`
`+lt})}function xh(c,g,_,w,q,X,lt){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+g+`
`+_+`
`+X+" "+lt})}function ba(c,g,_,w){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ur(c,_)+(w?" "+w:"")})}function Yl(c,g){c.info(function(){return"TIMEOUT: "+g})}Mn.prototype.info=function(){};function ur(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return un(_)}catch{return g}}var xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pi;function mi(){}L(mi,Li),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},pi=new mi;function cn(c,g,_,w){this.j=c,this.i=g,this.l=_,this.R=w||1,this.U=new Xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}var mo={},Wr={};function Jn(c,g,_){c.L=1,c.v=pr(En(g)),c.m=_,c.P=!0,Hi(c,null)}function Hi(c,g){c.F=Date.now(),cr(c),c.A=En(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),xo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new xe,c.g=cu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new or(A(c.Y,c,c.g),c.O)),g=c.U,_=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Zn[0]=q.toString()),q=Zn);for(var X=0;X<q.length;X++){var lt=ci(_,q[X],w||g.handleEvent,!1,g.h||g);if(!lt)break;g.g[lt.key]=lt}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),_a(),po(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Pn(c)==3?g.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)t:{const Ve=Pn(this.g);var g=this.g.Ba();const Zi=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||nu(this.g)))){this.J||Ve!=4||g==7||(g==8||0>=Zi?_a(3):_a(2)),Ea(this);var _=this.g.Z();this.X=_;e:if(Kl(this)){var w=nu(this.g);c="";var q=w.length,X=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),gi(this);var lt="";break e}this.h.i=new p.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(w[g],{stream:!(X&&g==q-1)});w.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,xh(this.i,this.u,this.A,this.l,this.R,Ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,Me=this.g;if((Bt=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Bt)){var qt=Bt;break e}}qt=null}if(_=qt)ba(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hr(this,_);else{this.o=!1,this.s=3,ue(12),Ge(this),gi(this);break t}}if(this.P){_=!0;let $e;for(;!this.J&&this.C<lt.length;)if($e=Xl(this,lt),$e==Wr){Ve==4&&(this.s=4,ue(14),_=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if($e==mo){this.s=4,ue(15),ba(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else ba(this.i,this.l,$e,null),hr(this,$e);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||lt.length!=0||this.h.h||(this.s=1,ue(16),_=!1),this.o=this.o&&_,!_)ba(this.i,this.l,lt,"[Invalid Chunked Response]"),Ge(this),gi(this);else if(0<lt.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Er(Le),Le.M=!0,ue(11))}}else ba(this.i,this.l,lt,null),hr(this,lt);Ve==4&&Ge(this),this.o&&!this.J&&(Ve==4?ou(this.j,this):(this.o=!1,cr(this)))}else Sh(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),Ge(this),gi(this)}}}catch{}finally{}};function Kl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xl(c,g){var _=c.C,w=g.indexOf(`
`,_);return w==-1?Wr:(_=Number(g.substring(_,w)),isNaN(_)?mo:(w+=1,w+_>g.length?Wr:(g=g.slice(w,w+_),c.C=w+_,g)))}cn.prototype.cancel=function(){this.J=!0,Ge(this)};function cr(c){c.S=Date.now()+c.I,Zl(c,c.I)}function Zl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ae(A(c.ba,c),g)}function Ea(c){c.B&&(p.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Yl(this.i,this.A),this.L!=2&&(_a(),ue(17)),Ge(this),this.s=2,gi(this)):Zl(this,this.S-c)};function gi(c){c.j.G==0||c.J||ou(c.j,c)}function Ge(c){Ea(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,On(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function hr(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||go(_.h,c))){if(!c.K&&go(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)cs(_),ls(_);else break t;So(_),ue(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ae(A(_.Za,_),6e3));if(1>=ts(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xi(_,11)}else if((c.K||_.g==c)&&cs(_),!Z(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let qt=q[g];if(_.T=qt[0],qt=qt[1],_.G==2)if(qt[0]=="c"){_.K=qt[1],_.ia=qt[2];const Le=qt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const Ve=qt[4];Ve!=null&&(_.Aa=Ve,_.j.info("SVER="+_.Aa));const Zi=qt[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(w=1.5*Zi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const $e=c.g;if($e){const Ti=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var X=w.h;X.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(es(X,X.h),X.h=null))}if(w.D){const Co=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(w.ya=Co,Wt(w.I,w.D,Co))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var lt=c;if(w.qa=uu(w,w.J?w.ia:null,w.W),lt.K){hn(w.h,lt);var Bt=lt,Me=w.L;Me&&(Bt.I=Me),Bt.B&&(Ea(Bt),cr(Bt)),w.g=lt}else ru(w);0<_.i.length&&us(_)}else qt[0]!="stop"&&qt[0]!="close"||Xi(_,7);else _.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Xi(_,7):wo(_):qt[0]!="noop"&&_.l&&_.l.ta(qt),_.v=0)}}_a(4)}catch{}}var Wl=class{constructor(c,g){this.g=c,this.map=g}};function Fi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ts(c){return c.h?1:c.g?c.g.size:0}function go(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function es(c,g){c.g?c.g.add(g):c.h=g}function hn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Fi.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return V(c.i)}function Eh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var g=[],_=c.length,w=0;w<_;w++)g.push(c[w]);return g}g=[],_=0;for(w in c)g[_++]=c[w];return g}function ns(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const w in c)g[_++]=w;return g}}}function vo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ns(c),w=Eh(c),q=w.length,X=0;X<q;X++)g.call(void 0,w[X],_&&_[X],c)}var fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),q=null;if(0<=w){var X=c[_].substring(0,w);q=c[_].substring(w+1)}else X=c[_];g(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,Ta(this,c.s),this.l=c.l;var g=c.i,_=new $i;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Gi(this,_),this.m=c.m}else c&&(g=String(c).match(fr))?(this.h=!1,dr(this,g[1]||"",!0),this.o=Vn(g[2]||""),this.g=Vn(g[3]||"",!0),Ta(this,g[4]),this.l=Vn(g[5]||"",!0),Gi(this,g[6]||"",!0),this.m=Vn(g[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Se.prototype.toString=function(){var c=[],g=this.j;g&&c.push(mr(g,_o,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(mr(g,_o,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(mr(_,_.charAt(0)=="/"?wh:bo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",mr(_,is)),c.join("")};function En(c){return new Se(c)}function dr(c,g,_){c.j=_?Vn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ta(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Gi(c,g,_){g instanceof $i?(c.i=g,tu(c.i,c.h)):(_||(g=mr(g,Ah)),c.i=new $i(g,c.h))}function Wt(c,g,_){c.i.set(g,_)}function pr(c){return Wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mr(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Jl),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _o=/[#\/\?@]/g,bo=/[#\?:]/g,wh=/[#\?]/g,Ah=/[#\?@]/g,is=/#/g;function $i(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Th(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=$i.prototype,a.add=function(c,g){kn(this),this.i=null,c=yi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Qi(c,g){kn(c),g=yi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Yi(c,g){return kn(c),g=yi(c,g),c.g.has(g)}a.forEach=function(c,g){kn(this),this.g.forEach(function(_,w){_.forEach(function(q){c.call(g,q,w,this)},this)},this)},a.na=function(){kn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let w=0;w<g.length;w++){const q=c[w];for(let X=0;X<q.length;X++)_.push(g[w])}return _},a.V=function(c){kn(this);let g=[];if(typeof c=="string")Yi(this,c)&&(g=g.concat(this.g.get(yi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},a.set=function(c,g){return kn(this),this.i=null,c=yi(this,c),Yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function xo(c,g,_){Qi(c,g),0<_.length&&(c.i=null,c.g.set(yi(c,g),V(_)),c.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var w=g[_];const X=encodeURIComponent(String(w)),lt=this.V(w);for(w=0;w<lt.length;w++){var q=X;lt[w]!==""&&(q+="="+encodeURIComponent(String(lt[w]))),c.push(q)}}return this.i=c.join("&")};function yi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function tu(c,g){g&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,w){var q=w.toLowerCase();w!=q&&(Qi(this,w),xo(this,q,_))},c)),c.j=g}function gr(c,g){const _=new Mn;if(p.Image){const w=new Image;w.onload=N(jn,_,"TestLoadImage: loaded",!0,g,w),w.onerror=N(jn,_,"TestLoadImage: error",!1,g,w),w.onabort=N(jn,_,"TestLoadImage: abort",!1,g,w),w.ontimeout=N(jn,_,"TestLoadImage: timeout",!1,g,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else g(!1)}function ti(c,g){const _=new Mn,w=new AbortController,q=setTimeout(()=>{w.abort(),jn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(q),X.ok?jn(_,"TestPingServer: ok",!0,g):jn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),jn(_,"TestPingServer: error",!1,g)})}function jn(c,g,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function yr(){this.g=new Wn}function vi(c,g,_){const w=_||"";try{vo(c,function(q,X){let lt=q;m(q)&&(lt=un(q)),g.push(w+X+"="+encodeURIComponent(lt))})}catch(q){throw g.push(w+"type="+encodeURIComponent("_badmap")),q}}function wa(c){this.l=c.Ub||null,this.j=c.eb||!1}L(wa,Li),wa.prototype.g=function(){return new Ki(this.l,this.j)},wa.prototype.i=(function(c){return function(){return c}})({});function Ki(c,g){Ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ki,Ot),a=Ki.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,bi(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?_i(this):bi(this),this.readyState==3&&Eo(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,_i(this))},a.Qa=function(c){this.g&&(this.response=c,_i(this))},a.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,bi(c)}a.setRequestHeader=function(c,g){this.u.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function bi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function To(c){let g="";return bt(c,function(_,w){g+=w,g+=":",g+=_,g+=`\r
`}),g}function Ue(c,g,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=To(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Wt(c,g,_))}function Yt(c){Ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Yt,Ot);var as=/^https?$/i,vr=["POST","PUT"];a=Yt.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,g,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pi.g(),this.v=this.o?lr(this.o):lr(pi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){eu(this,X);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())_.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(vr,g,void 0))||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of _)this.g.setRequestHeader(X,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_r(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){eu(this,X)}};function eu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,rs(c),xi(c)}function rs(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),xi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Yt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ss(this):this.bb())},a.bb=function(){ss(this)};function ss(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)ge(c.Ea,0,c);else if(Ct(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var w;if(w=lt===0){var q=String(c.D).match(fr)[1]||null;!q&&p.self&&p.self.location&&(q=p.self.location.protocol.slice(0,-1)),w=!as.test(q?q.toLowerCase():"")}_=w}if(_)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var X=2<Pn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",rs(c)}}finally{xi(c)}}}}function xi(c,g){if(c.g){_r(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ct(c,"ready");try{_.onreadystatechange=w}catch{}}}function _r(c){c.I&&(p.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),fi(g)}};function nu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(c){const g={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(Z(c[w]))continue;var _=I(c[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[q]||[];g[q]=X,X.push(_)}j(g,function(w){return w.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function os(c){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,c),this.cb=br("retryDelaySeedMs",1e4,c),this.Wa=br("forwardChannelMaxRetries",2,c),this.wa=br("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new yr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=os.prototype,a.la=8,a.G=1,a.connect=function(c,g,_,w){ue(0),this.W=c,this.H=g||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=uu(this,null,this.W),us(this)};function wo(c){if(iu(c),c.G==3){var g=c.U++,_=En(c.I);if(Wt(_,"SID",c.K),Wt(_,"RID",g),Wt(_,"TYPE","terminate"),xr(c,_),g=new cn(c,c.j,g),g.L=2,g.v=pr(En(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=g.v,_=!0),_||(g.g=cu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),cr(g)}lu(c)}function ls(c){c.g&&(Er(c),c.g.cancel(),c.g=null)}function iu(c){ls(c),c.u&&(p.clearTimeout(c.u),c.u=null),cs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function us(c){if(!Jr(c.h)&&!c.s){c.s=!0;var g=c.Ga;st||O(),ot||(st(),ot=!0),_t.add(g,c),c.B=0}}function Rh(c,g){return ts(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ae(A(c.Ga,c,g),Ro(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new cn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=au(this,q,g),_=En(this.I),Wt(_,"RID",c),Wt(_,"CVER",22),this.D&&Wt(_,"X-HTTP-Session-Id",this.D),xr(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(To(X)))+"&"+g:this.m&&Ue(_,this.m,X)),es(this.h,q),this.Ua&&Wt(_,"TYPE","init"),this.P?(Wt(_,"$req",g),Wt(_,"SID","null"),q.T=!0,Jn(q,_,null)):Jn(q,_,g),this.G=2}}else this.G==3&&(c?Ao(this,c):this.i.length==0||Jr(this.h)||Ao(this))};function Ao(c,g){var _;g?_=g.l:_=c.U++;const w=En(c.I);Wt(w,"SID",c.K),Wt(w,"RID",_),Wt(w,"AID",c.T),xr(c,w),c.m&&c.o&&Ue(w,c.m,c.o),_=new cn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=au(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),es(c.h,_),Jn(_,w,g)}function xr(c,g){c.H&&bt(c.H,function(_,w){Wt(g,w,_)}),c.l&&vo({},function(_,w){Wt(g,w,_)})}function au(c,g,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;t:{var q=c.i;let X=-1;for(;;){const lt=["count="+_];X==-1?0<_?(X=q[0].g,lt.push("ofs="+X)):X=0:lt.push("ofs="+X);let Bt=!0;for(let Me=0;Me<_;Me++){let qt=q[Me].g;const Le=q[Me].map;if(qt-=X,0>qt)X=Math.max(0,q[Me].g-100),Bt=!1;else try{vi(Le,lt,"req"+qt+"_")}catch{w&&w(Le)}}if(Bt){w=lt.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,w}function ru(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;st||O(),ot||(st(),ot=!0),_t.add(g,c),c.v=0}}function So(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ae(A(c.Fa,c),Ro(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ae(A(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),ls(this),su(this))};function Er(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function su(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=En(c.qa);Wt(g,"RID","rpc"),Wt(g,"SID",c.K),Wt(g,"AID",c.T),Wt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Wt(g,"TO",c.ja),Wt(g,"TYPE","xmlhttp"),xr(c,g),c.m&&c.o&&Ue(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=pr(En(g)),_.m=null,_.P=!0,Hi(_,c)}a.Za=function(){this.C!=null&&(this.C=null,ls(this),So(this),ue(19))};function cs(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function ou(c,g){var _=null;if(c.g==g){cs(c),Er(c),c.g=null;var w=2}else if(go(c.h,g))_=g.D,hn(c.h,g),w=1;else return;if(c.G!=0){if(g.o)if(w==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;w=va(),Ct(w,new Oe(w,_)),us(c)}else ru(c);else if(q=g.s,q==3||q==0&&0<g.X||!(w==1&&Rh(c,g)||w==2&&So(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function Ro(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Xi(c,g){if(c.j.info("Error code "+g),g==2){var _=A(c.fb,c),w=c.Xa;const q=!w;w=new Se(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||dr(w,"https"),pr(w),q?gr(w.toString(),_):ti(w.toString(),_)}else ue(2);c.G=0,c.l&&c.l.sa(g),lu(c),iu(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function lu(c){if(c.G=0,c.ka=[],c.l){const g=yo(c.h);(g.length!=0||c.i.length!=0)&&(k(c.ka,g),k(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function uu(c,g,_){var w=_ instanceof Se?En(_):new Se(_);if(w.g!="")g&&(w.g=g+"."+w.g),Ta(w,w.s);else{var q=p.location;w=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var X=new Se(null);w&&dr(X,w),g&&(X.g=g),q&&Ta(X,q),_&&(X.l=_),w=X}return _=c.D,g=c.ya,_&&g&&Wt(w,_,g),Wt(w,"VER",c.la),xr(c,w),w}function cu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Yt(new wa({eb:_})):new Yt(c.pa),g.Ha(c.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}a=hu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function hs(){}hs.prototype.g=function(c,g){return new fn(c,g)};function fn(c,g){Ot.call(this),this.g=new os(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ei(this)}L(fn,Ot),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){wo(this.g)},fn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=un(c),c=_);g.i.push(new Wl(g.Ya++,c)),g.G==3&&us(g)},fn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,fn.aa.N.call(this)};function fu(c){Bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(fu,Bi);function du(){ho.call(this),this.status=1}L(du,ho);function Ei(c){this.g=c}L(Ei,hu),Ei.prototype.ua=function(){Ct(this.g,"a")},Ei.prototype.ta=function(c){Ct(this.g,new fu(c))},Ei.prototype.sa=function(c){Ct(this.g,new du)},Ei.prototype.ra=function(){Ct(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Pb=function(){return new hs},jb=function(){return va()},kb=di,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Dc=xa,qi.COMPLETE="complete",Vb=qi,co.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,vl=co,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,Mb=Yt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",C_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new ub("@firebase/firestore");function zs(){return Hr.logLevel}function mt(a,...t){if(Hr.logLevel<=Gt.DEBUG){const i=t.map(Hp);Hr.debug(`Firestore (${ao}): ${a}`,...i)}}function ma(a,...t){if(Hr.logLevel<=Gt.ERROR){const i=t.map(Hp);Hr.error(`Firestore (${ao}): ${a}`,...i)}}function Ks(a,...t){if(Hr.logLevel<=Gt.WARN){const i=t.map(Hp);Hr.warn(`Firestore (${ao}): ${a}`,...i)}}function Hp(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,Ub(a,r,i)}function Ub(a,t,i){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ma(r),new Error(r)}function Kt(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||Ub(t,o,r)}function It(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends $r{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class mR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gR{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ja,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ja)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new Lb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class yR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new yR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _R{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,db(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=bR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Ut(a,t){return a<t?-1:a>t?1:0}function sp(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),u=t.charAt(r);if(o!==u)return Ld(o)===Ld(u)?Ut(o,u):Ld(o)?1:-1}return Ut(a.length,t.length)}const xR=55296,ER=57343;function Ld(a){const t=a.charCodeAt(0);return t>=xR&&t<=ER}function Xs(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__name__";class Ni{constructor(t,i,r){i===void 0?i=0:i>t.length&&Rt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Rt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Ni.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Ut(t.length,i.length)}static compareSegments(t,i){const r=Ni.isNumericId(t),o=Ni.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):sp(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wa.fromString(t.substring(4,t.length-2))}}class oe extends Ni{construct(t,i,r){return new oe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ni{construct(t,i,r){return new Ze(t,i,r)}static isValidIdentifier(t){return TR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new Ze([N_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new gt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new gt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new gt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(oe.fromString(t))}static fromName(t){return new Et(oe.fromString(t).popFirst(5))}static empty(){return new Et(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(a,t,i){if(!i)throw new gt(at.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function wR(a,t,i,r){if(t===!0&&r===!0)throw new gt(at.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function I_(a){if(!Et.isDocumentKey(a))throw new gt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function O_(a){if(Et.isDocumentKey(a))throw new gt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Bb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function oh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Rt(12329,{type:typeof a})}function Fc(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new gt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oh(a);throw new gt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(a,t){const i={typeString:a};return t&&(i.value=t),i}function Bl(a,t){if(!Bb(a))throw new gt(at.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const f=a[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new gt(at.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=-62135596800,V_=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*V_);return new le(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<M_)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-M_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ie("string",le._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new le(0,0))}static max(){return new Nt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function AR(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(r===1e9?new le(i+1,0):new le(i,r));return new er(o,Et.empty(),t)}function SR(a){return new er(a.readTime,a.key,Il)}class er{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new er(Nt.min(),Et.empty(),Il)}static max(){return new er(Nt.max(),Et.empty(),Il)}}function RR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(a.documentKey,t.documentKey),i!==0?i:Ut(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(a){if(a.code!==at.FAILED_PRECONDITION||a.message!==CR)throw a;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new rt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof rt?i:rt.resolve(i)}catch(i){return rt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):rt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):rt.reject(i)}static resolve(t){return new rt(((i,r)=>{i(t)}))}static reject(t){return new rt(((i,r)=>{r(t)}))}static waitFor(t){return new rt(((i,r)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&i()}),(y=>r(y)))})),f=!0,u===o&&i()}))}static or(t){let i=rt.resolve(!1);for(const r of t)i=i.next((o=>o?rt.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new rt(((r,o)=>{const u=t.length,f=new Array(u);let p=0;for(let y=0;y<u;y++){const m=y;i(t[m]).next((v=>{f[m]=v,++p,p===u&&r(f)}),(v=>o(v)))}}))}static doWhile(t,i){return new rt(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function NR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function uh(a){return a==null}function Gc(a){return a===0&&1/a==-1/0}function IR(a){return typeof a=="number"&&Number.isInteger(a)&&!Gc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="";function OR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=k_(t)),t=MR(a.get(i),t);return k_(t)}function MR(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const u=a.charAt(o);switch(u){case"\0":i+="";break;case qb:i+="";break;default:i+=u}}return i}function k_(a){return a+qb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Qr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function Hb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,i){this.comparator=t,this.root=i||Xe.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Xe(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new Xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(t){return new P_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Pe(this.comparator);return i.data=t,i}}class P_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new ai([])}unionWith(t){let i=new Pe(Ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ai(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xs(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Fb("Invalid base64 string: "+u):u}})(t);return new We(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(a){if(Kt(!!a,39018),typeof a=="string"){let t=0;const i=VR.exec(a);if(Kt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:we(a.seconds),nanos:we(a.nanos)}}function we(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ir(a){return typeof a=="string"?We.fromBase64String(a):We.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="server_timestamp",$b="__type__",Qb="__previous_value__",Yb="__local_write_time__";function $p(a){return(a?.mapValue?.fields||{})[$b]?.stringValue===Gb}function ch(a){const t=a.mapValue.fields[Qb];return $p(t)?ch(t):t}function Ol(a){const t=nr(a.mapValue.fields[Yb].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,i,r,o,u,f,p,y,m,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=m,this.isUsingEmulator=v}}const $c="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="__type__",jR="__max__",xc={mapValue:{}},Xb="__vector__",Qc="value";function ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?$p(a)?4:UR(a)?9007199254740991:PR(a)?10:11:Rt(28295,{value:a})}function ji(a,t){if(a===t)return!0;const i=ar(a);if(i!==ar(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ol(a).isEqual(Ol(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=nr(o.timestampValue),p=nr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,u){return ir(o.bytesValue).isEqual(ir(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,u){return we(o.geoPointValue.latitude)===we(u.geoPointValue.latitude)&&we(o.geoPointValue.longitude)===we(u.geoPointValue.longitude)})(a,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return we(o.integerValue)===we(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=we(o.doubleValue),p=we(u.doubleValue);return f===p?Gc(f)===Gc(p):isNaN(f)&&isNaN(p)}return!1})(a,t);case 9:return Xs(a.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(j_(f)!==j_(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!ji(f[y],p[y])))return!1;return!0})(a,t);default:return Rt(52216,{left:a})}}function Vl(a,t){return(a.values||[]).find((i=>ji(i,t)))!==void 0}function Zs(a,t){if(a===t)return 0;const i=ar(a),r=ar(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(a.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=we(u.integerValue||u.doubleValue),y=we(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return U_(a.timestampValue,t.timestampValue);case 4:return U_(Ol(a),Ol(t));case 5:return sp(a.stringValue,t.stringValue);case 6:return(function(u,f){const p=ir(u),y=ir(f);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),y=f.split("/");for(let m=0;m<p.length&&m<y.length;m++){const v=Ut(p[m],y[m]);if(v!==0)return v}return Ut(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Ut(we(u.latitude),we(f.latitude));return p!==0?p:Ut(we(u.longitude),we(f.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return L_(a.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},y=f.fields||{},m=p[Qc]?.arrayValue,v=y[Qc]?.arrayValue,T=Ut(m?.values?.length||0,v?.values?.length||0);return T!==0?T:L_(m,v)})(a.mapValue,t.mapValue);case 11:return(function(u,f){if(u===xc.mapValue&&f===xc.mapValue)return 0;if(u===xc.mapValue)return 1;if(f===xc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),m=f.fields||{},v=Object.keys(m);y.sort(),v.sort();for(let T=0;T<y.length&&T<v.length;++T){const A=sp(y[T],v[T]);if(A!==0)return A;const N=Zs(p[y[T]],m[v[T]]);if(N!==0)return N}return Ut(y.length,v.length)})(a.mapValue,t.mapValue);default:throw Rt(23264,{he:i})}}function U_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ut(a,t);const i=nr(a),r=nr(t),o=Ut(i.seconds,r.seconds);return o!==0?o:Ut(i.nanos,r.nanos)}function L_(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Zs(i[o],r[o]);if(u)return u}return Ut(i.length,r.length)}function Ws(a){return op(a)}function op(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=nr(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ir(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return Et.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=op(u);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${op(i.fields[f])}`;return o+"}"})(a.mapValue):Rt(61005,{value:a})}function Nc(a){switch(ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(a);return t?16+Nc(t):16;case 5:return 2*a.stringValue.length;case 6:return ir(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Nc(u)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Qr(r.fields,((u,f)=>{o+=u.length+Nc(f)})),o})(a.mapValue);default:throw Rt(13486,{value:a})}}function z_(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function lp(a){return!!a&&"integerValue"in a}function Qp(a){return!!a&&"arrayValue"in a}function B_(a){return!!a&&"nullValue"in a}function q_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ic(a){return!!a&&"mapValue"in a}function PR(a){return(a?.mapValue?.fields||{})[Kb]?.stringValue===Xb}function Tl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Qr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Tl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(a.arrayValue.values[i]);return t}return{...a}}function UR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=Ze.emptyPath(),r={},o=[];t.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=p.popLast()}f?r[p.lastSegment()]=Tl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Qr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Gn(Tl(this.value))}}function Zb(a){const t=[];return Qr(a.fields,((i,r)=>{const o=new Ze([i]);if(Ic(r)){const u=Zb(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new ai(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,i,r,o,u,f,p){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,Nt.min(),Nt.min(),Nt.min(),Gn.empty(),0)}static newFoundDocument(t,i,r,o){return new sn(t,1,i,Nt.min(),r,o,0)}static newNoDocument(t,i){return new sn(t,2,i,Nt.min(),Nt.min(),Gn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,Nt.min(),Nt.min(),Gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function H_(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const u=t[o],f=a.position[o];if(u.field.isKeyField()?r=Et.comparator(Et.fromName(f.referenceValue),i.key):r=Zs(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function F_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ji(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function LR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{}class Ne extends Wb{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new BR(t,i,r):i==="array-contains"?new FR(t,r):i==="in"?new GR(t,r):i==="not-in"?new $R(t,r):i==="array-contains-any"?new QR(t,r):new Ne(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new qR(t,r):new HR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Zs(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(Zs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends Wb{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new oi(t,i)}matches(t){return Jb(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jb(a){return a.op==="and"}function tx(a){return zR(a)&&Jb(a)}function zR(a){for(const t of a.filters)if(t instanceof oi)return!1;return!0}function up(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+Ws(a.value);if(tx(a))return a.filters.map((t=>up(t))).join(",");{const t=a.filters.map((i=>up(i))).join(",");return`${a.op}(${t})`}}function ex(a,t){return a instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&ji(r.value,o.value)})(a,t):a instanceof oi?(function(r,o){return o instanceof oi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&ex(f,o.filters[p])),!0):!1})(a,t):void Rt(19439)}function nx(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ws(i.value)}`})(a):a instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(nx).join(" ,")+"}"})(a):"Filter"}class BR extends Ne{constructor(t,i,r){super(t,i,r),this.key=Et.fromName(r.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class qR extends Ne{constructor(t,i){super(t,"in",i),this.keys=ix("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class HR extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=ix("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function ix(a,t){return(t.arrayValue?.values||[]).map((i=>Et.fromName(i.referenceValue)))}class FR extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Qp(i)&&Vl(i.arrayValue,this.value)}}class GR extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class $R extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class QR extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Qp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Vl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,i=null,r=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function G_(a,t=null,i=[],r=[],o=null,u=null,f=null){return new YR(a,t,i,r,o,u,f)}function Yp(a){const t=It(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>up(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ws(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ws(r))).join(",")),t.Te=i}return t.Te}function Kp(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!LR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!ex(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!F_(a.startAt,t.startAt)&&F_(a.endAt,t.endAt)}function cp(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,i=null,r=[],o=[],u=null,f="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KR(a,t,i,r,o,u,f,p){return new ql(a,t,i,r,o,u,f,p)}function ax(a){return new ql(a)}function $_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function rx(a){return a.collectionGroup!==null}function wl(a){const t=It(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Pe(Ze.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Kc(u,r))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new Kc(Ze.keyField(),r))}return t.Ie}function Oi(a){const t=It(a);return t.Ee||(t.Ee=XR(t,wl(a))),t.Ee}function XR(a,t){if(a.limitType==="F")return G_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kc(o.field,u)}));const i=a.endAt?new Yc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Yc(a.startAt.position,a.startAt.inclusive):null;return G_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function hp(a,t){const i=a.filters.concat([t]);return new ql(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function fp(a,t,i){return new ql(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function hh(a,t){return Kp(Oi(a),Oi(t))&&a.limitType===t.limitType}function sx(a){return`${Yp(Oi(a))}|lt:${a.limitType}`}function Bs(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>nx(o))).join(", ")}]`),uh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ws(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ws(o))).join(",")),`Target(${r})`})(Oi(a))}; limitType=${a.limitType})`}function fh(a,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Et.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(a,t)&&(function(r,o){for(const u of wl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(f,p,y){const m=H_(f,p,y);return f.inclusive?m<=0:m<0})(r.startAt,wl(r),o)||r.endAt&&!(function(f,p,y){const m=H_(f,p,y);return f.inclusive?m>=0:m>0})(r.endAt,wl(r),o))})(a,t)}function ZR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function ox(a){return(t,i)=>{let r=!1;for(const o of wl(a)){const u=WR(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function WR(a,t,i){const r=a.field.isKeyField()?Et.comparator(t.key,i.key):(function(u,f,p){const y=f.data.field(u),m=p.data.field(u);return y!==null&&m!==null?Zs(y,m):Rt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Qr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new me(Et.comparator);function ga(){return JR}const lx=new me(Et.comparator);function _l(...a){let t=lx;for(const i of a)t=t.insert(i.key,i);return t}function ux(a){let t=lx;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function zr(){return Al()}function cx(){return Al()}function Al(){return new Yr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const tC=new me(Et.comparator),eC=new Pe(Et.comparator);function Lt(...a){let t=eC;for(const i of a)t=t.add(i);return t}const nC=new Pe(Ut);function iC(){return nC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function hx(a){return{integerValue:""+a}}function aC(a,t){return IR(t)?hx(t):Xp(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function rC(a,t,i){return a instanceof Xc?(function(o,u){const f={fields:{[$b]:{stringValue:Gb},[Yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$p(u)&&(u=ch(u)),u&&(f.fields[Qb]=u),{mapValue:f}})(i,t):a instanceof kl?dx(a,t):a instanceof jl?px(a,t):(function(o,u){const f=fx(o,u),p=Q_(f)+Q_(o.Ae);return lp(f)&&lp(o.Ae)?hx(p):Xp(o.serializer,p)})(a,t)}function sC(a,t,i){return a instanceof kl?dx(a,t):a instanceof jl?px(a,t):i}function fx(a,t){return a instanceof Zc?(function(r){return lp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Xc extends dh{}class kl extends dh{constructor(t){super(),this.elements=t}}function dx(a,t){const i=mx(t);for(const r of a.elements)i.some((o=>ji(o,r)))||i.push(r);return{arrayValue:{values:i}}}class jl extends dh{constructor(t){super(),this.elements=t}}function px(a,t){let i=mx(t);for(const r of a.elements)i=i.filter((o=>!ji(o,r)));return{arrayValue:{values:i}}}class Zc extends dh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Q_(a){return we(a.integerValue||a.doubleValue)}function mx(a){return Qp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function oC(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof kl&&o instanceof kl||r instanceof jl&&o instanceof jl?Xs(r.elements,o.elements,ji):r instanceof Zc&&o instanceof Zc?ji(r.Ae,o.Ae):r instanceof Xc&&o instanceof Xc})(a.transform,t.transform)}class lC{constructor(t,i){this.version=t,this.transformResults=i}}class fa{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new fa}static exists(t){return new fa(void 0,t)}static updateTime(t){return new fa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class ph{}function gx(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new vx(a.key,fa.none()):new Hl(a.key,a.data,fa.none());{const i=a.data,r=Gn.empty();let o=new Pe(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Kr(a.key,r,new ai(o.toArray()),fa.none())}}function uC(a,t,i){a instanceof Hl?(function(o,u,f){const p=o.value.clone(),y=K_(o.fieldTransforms,u,f.transformResults);p.setAll(y),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Kr?(function(o,u,f){if(!Oc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=K_(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(yx(o)),y.setAll(p),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(a,t,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Sl(a,t,i,r){return a instanceof Hl?(function(u,f,p,y){if(!Oc(u.precondition,f))return p;const m=u.value.clone(),v=X_(u.fieldTransforms,y,f);return m.setAll(v),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(a,t,i,r):a instanceof Kr?(function(u,f,p,y){if(!Oc(u.precondition,f))return p;const m=X_(u.fieldTransforms,y,f),v=f.data;return v.setAll(yx(u)),v.setAll(m),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(a,t,i,r):(function(u,f,p){return Oc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,t,i)}function cC(a,t){let i=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),u=fx(r.transform,o||null);u!=null&&(i===null&&(i=Gn.empty()),i.set(r.field,u))}return i||null}function Y_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Xs(r,o,((u,f)=>oC(u,f)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Hl extends ph{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kr extends ph{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yx(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function K_(a,t,i){const r=new Map;Kt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const u=a[o],f=u.transform,p=t.data.field(u.field);r.set(u.field,sC(f,p,i[o]))}return r}function X_(a,t,i){const r=new Map;for(const o of a){const u=o.transform,f=i.data.field(o.field);r.set(o.field,rC(u,f,t))}return r}class vx extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hC extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&uC(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Sl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Sl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=cx();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(o.key)?null:p;const y=gx(f,p);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Nt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Xs(this.mutations,t.mutations,((i,r)=>Y_(i,r)))&&Xs(this.baseMutations,t.baseMutations,((i,r)=>Y_(i,r)))}}class Zp{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return tC})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Zp(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,Ft;function mC(a){switch(a){case at.OK:return Rt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Rt(15467,{code:a})}}function _x(a){if(a===void 0)return ma("GRPC error has no .code"),at.UNKNOWN;switch(a){case De.OK:return at.OK;case De.CANCELLED:return at.CANCELLED;case De.UNKNOWN:return at.UNKNOWN;case De.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case De.INTERNAL:return at.INTERNAL;case De.UNAVAILABLE:return at.UNAVAILABLE;case De.UNAUTHENTICATED:return at.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case De.NOT_FOUND:return at.NOT_FOUND;case De.ALREADY_EXISTS:return at.ALREADY_EXISTS;case De.PERMISSION_DENIED:return at.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case De.ABORTED:return at.ABORTED;case De.OUT_OF_RANGE:return at.OUT_OF_RANGE;case De.UNIMPLEMENTED:return at.UNIMPLEMENTED;case De.DATA_LOSS:return at.DATA_LOSS;default:return Rt(39323,{code:a})}}(Ft=De||(De={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Wa([4294967295,4294967295],0);function Z_(a){const t=gC().encode(a),i=new Ob;return i.update(t),new Uint8Array(i.digest())}function W_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Wa([i,r],0),new Wa([o,u],0)]}class Wp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Wa.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Wa.fromNumber(r)));return o.compare(yC)===1&&(o=new Wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Z_(t),[r,o]=W_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Wp(u,o,i);return r.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const i=Z_(t),[r,o]=W_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new mh(Nt.min(),o,new me(Ut),ga(),Lt())}}class Fl{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Fl(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class bx{constructor(t,i){this.targetId=t,this.Ce=i}}class xx{constructor(t,i,r=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class J_{constructor(){this.ve=0,this.Fe=t0(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Rt(38017,{changeType:u})}})),new Fl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=t0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ga(),this.Je=Ec(),this.He=Ec(),this.Ye=new me(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(cp(u))if(r===0){const f=new Et(u.path);this.et(i,f,sn.newNoDocument(f,Nt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const p=this.ut(t),y=p?this.ct(p,t,f):1;if(y!==0){this.it(i);const m=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,m)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let f,p;try{f=ir(r).toUint8Array()}catch(y){if(y instanceof Fb)return Ks("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Wp(f,o,u)}catch(y){return Ks(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&cp(p.target)){const y=new Et(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,sn.newNoDocument(y,t))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let r=Lt();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((y=>{const m=this.ot(y);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new mh(t,i,this.Ye,this.je,r);return this.je=ga(),this.Je=Ec(),this.He=Ec(),this.Ye=new me(Ut),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new J_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Pe(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Pe(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||mt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new J_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new me(Et.comparator)}function t0(){return new me(Et.comparator)}const _C={asc:"ASCENDING",desc:"DESCENDING"},bC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xC={and:"AND",or:"OR"};class EC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dp(a,t){return a.useProto3Json||uh(t)?t:{value:t}}function Wc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ex(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function TC(a,t){return Wc(a,t.toTimestamp())}function Mi(a){return Kt(!!a,49232),Nt.fromTimestamp((function(i){const r=nr(i);return new le(r.seconds,r.nanos)})(a))}function Jp(a,t){return pp(a,t).canonicalString()}function pp(a,t){const i=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function Tx(a){const t=oe.fromString(a);return Kt(Cx(t),10190,{key:t.toString()}),t}function mp(a,t){return Jp(a.databaseId,t.path)}function zd(a,t){const i=Tx(t);if(i.get(1)!==a.databaseId.projectId)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Et(Ax(i))}function wx(a,t){return Jp(a.databaseId,t)}function wC(a){const t=Tx(a);return t.length===4?oe.emptyPath():Ax(t)}function gp(a){return new oe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Ax(a){return Kt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function e0(a,t,i){return{name:mp(a,t),fields:i.value.mapValue.fields}}function AC(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Rt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(m,v){return m.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))})(a,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(m){const v=m.code===void 0?at.UNKNOWN:_x(m.code);return new gt(v,m.message||"")})(f);i=new xx(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=zd(a,r.document.name),u=Mi(r.document.updateTime),f=r.document.createTime?Mi(r.document.createTime):Nt.min(),p=new Gn({mapValue:{fields:r.document.fields}}),y=sn.newFoundDocument(o,u,f,p),m=r.targetIds||[],v=r.removedTargetIds||[];i=new Mc(m,v,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=zd(a,r.document),u=r.readTime?Mi(r.readTime):Nt.min(),f=sn.newNoDocument(o,u),p=r.removedTargetIds||[];i=new Mc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=zd(a,r.document),u=r.removedTargetIds||[];i=new Mc([],u,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new pC(o,u),p=r.targetId;i=new bx(p,f)}}return i}function SC(a,t){let i;if(t instanceof Hl)i={update:e0(a,t.key,t.value)};else if(t instanceof vx)i={delete:mp(a,t.key)};else if(t instanceof Kr)i={update:e0(a,t.key,t.data),updateMask:kC(t.fieldMask)};else{if(!(t instanceof hC))return Rt(16599,{Vt:t.type});i={verify:mp(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof Xc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zc)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Rt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:TC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Rt(27497)})(a,t.precondition)),i}function RC(a,t){return a&&a.length>0?(Kt(t!==void 0,14353),a.map((i=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(Nt.min())&&(f=Mi(u)),new lC(f,o.transformResults||[])})(i,t)))):[]}function CC(a,t){return{documents:[wx(a,t.path)]}}function DC(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=wx(a,o);const u=(function(m){if(m.length!==0)return Rx(oi.create(m,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const f=(function(m){if(m.length!==0)return m.map((v=>(function(A){return{field:qs(A.field),direction:OC(A.dir)}})(v)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const p=dp(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:i,parent:o}}function NC(a){let t=wC(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(T){const A=Sx(T);return A instanceof oi&&tx(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(T){return T.map((A=>(function(L){return new Kc(Hs(L.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(T){let A;return A=typeof T=="object"?T.value:T,uh(A)?null:A})(i.limit));let y=null;i.startAt&&(y=(function(T){const A=!!T.before,N=T.values||[];return new Yc(N,A)})(i.startAt));let m=null;return i.endAt&&(m=(function(T){const A=!T.before,N=T.values||[];return new Yc(N,A)})(i.endAt)),KR(t,o,f,u,p,"F",y,m)}function IC(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Sx(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Hs(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Hs(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Hs(i.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Hs(i.unaryFilter.field);return Ne.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Hs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((r=>Sx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(i.compositeFilter.op))})(a):Rt(30097,{filter:a})}function OC(a){return _C[a]}function MC(a){return bC[a]}function VC(a){return xC[a]}function qs(a){return{fieldPath:a.canonicalString()}}function Hs(a){return Ze.fromServerFormat(a.fieldPath)}function Rx(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(q_(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NAN"}};if(B_(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q_(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NOT_NAN"}};if(B_(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(i.field),op:MC(i.op),value:i.value}}})(a):a instanceof oi?(function(i){const r=i.getFilters().map((o=>Rx(o)));return r.length===1?r[0]:{compositeFilter:{op:VC(i.op),filters:r}}})(a):Rt(54877,{filter:a})}function kC(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function Cx(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,i,r,o,u=Nt.min(),f=Nt.min(),p=We.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.yt=t}}function PC(a){const t=NC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?fp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.Cn=new LC}addToCollectionParentIndex(t,i){return this.Cn.add(i),rt.resolve()}getCollectionParents(t,i){return rt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return rt.resolve()}deleteFieldIndex(t,i){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,i){return rt.resolve()}getDocumentsMatchingTarget(t,i){return rt.resolve(null)}getIndexType(t,i){return rt.resolve(0)}getFieldIndexes(t,i){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,i){return rt.resolve(er.min())}getMinOffsetFromCollectionGroup(t,i){return rt.resolve(er.min())}updateCollectionGroup(t,i,r){return rt.resolve()}updateIndexEntries(t,i){return rt.resolve()}}class LC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Pe(oe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Pe(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dx=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(Dx,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Js(0)}static cr(){return new Js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="LruGarbageCollector",zC=1048576;function a0([a,t],[i,r]){const o=Ut(a,i);return o===0?Ut(t,r):o}class BC{constructor(t){this.Ir=t,this.buffer=new Pe(a0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();a0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(i0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?mt(i0,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class HC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return rt.resolve(lh.ce);const r=new BC(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(n0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,f,p,y,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,p=Date.now(),this.removeTargets(t,r,i)))).next((T=>(u=T,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(m=Date.now(),zs()<=Gt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${T} documents in `+(m-y)+`ms
Total Duration: ${m-v}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function FC(a,t){return new HC(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?rt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Sl(r.mutation,o,ai.empty(),le.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Lt()){const o=zr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let f=_l();return u.forEach(((p,y)=>{f=f.insert(p,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const r=zr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Lt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(t,i,r,o){let u=ga();const f=Al(),p=(function(){return Al()})();return i.forEach(((y,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Kr)?u=u.insert(m.key,m):v!==void 0?(f.set(m.key,v.mutation.getFieldMask()),Sl(v.mutation,m,v.mutation.getFieldMask(),le.now())):f.set(m.key,ai.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((m,v)=>f.set(m,v))),i.forEach(((m,v)=>p.set(m,new $C(v,f.get(m)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Al();let o=new me(((f,p)=>f-p)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const p of f)p.keys().forEach((y=>{const m=i.get(y);if(m===null)return;let v=r.get(y)||ai.empty();v=p.applyToLocalView(m,v),r.set(y,v);const T=(o.get(p.batchId)||Lt()).add(y);o=o.insert(p.batchId,T)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),m=y.key,v=y.value,T=cx();v.forEach((A=>{if(!u.has(A)){const N=gx(i.get(A),r.get(A));N!==null&&T.set(A,N),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(t,m,T))}return rt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):rx(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):rt.resolve(zr());let p=Il,y=u;return f.next((m=>rt.forEach(m,((v,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(v)?rt.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{y=y.insert(v,A)}))))).next((()=>this.populateOverlays(t,m,u))).next((()=>this.computeViews(t,y,m,Lt()))).next((v=>({batchId:p,changes:ux(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next((r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let f=_l();return this.indexManager.getCollectionParents(t,u).next((p=>rt.forEach(p,(y=>{const m=(function(T,A){return new ql(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,m,r,o).next((v=>{v.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((f=>{u.forEach(((y,m)=>{const v=m.getKey();f.get(v)===null&&(f=f.insert(v,sn.newInvalidDocument(v)))}));let p=_l();return f.forEach(((y,m)=>{const v=u.get(y);v!==void 0&&Sl(v.mutation,m,ai.empty(),le.now()),fh(i,m)&&(p=p.insert(y,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return rt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(i)),rt.resolve()}getNamedQuery(t,i){return rt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:PC(o.bundledQuery),readTime:Mi(o.readTime)}})(i)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.overlays=new me(Et.comparator),this.qr=new Map}getOverlay(t,i){return rt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=zr();return rt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),rt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),rt.resolve()}getOverlaysForCollection(t,i,r){const o=zr(),u=i.length+1,f=new Et(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,m=y.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new me(((m,v)=>m-v));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>r){let v=u.get(m.largestBatchId);v===null&&(v=zr(),u=u.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const p=zr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((m,v)=>p.set(m,v))),!(p.size()>=o)););return rt.resolve(p)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new dC(i,r));let u=this.qr.get(i);u===void 0&&(u=Lt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Qr=new Pe(He.$r),this.Ur=new Pe(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new He(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new Et(new oe([])),r=new He(i,t),o=new He(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Et(new oe([])),r=new He(i,t),o=new He(i,t+1);let u=Lt();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const i=new He(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Et.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||Et.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(He.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fC(u,i,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new He(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return rt.resolve(f)}lookupMutationBatch(t,i){return rt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Pe(Ut);return i.forEach((o=>{const u=new He(o,0),f=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),rt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Et.isDocumentKey(u)||(u=u.child(""));const f=new He(new Et(u),0);let p=new Pe(Ut);return this.Zr.forEachWhile((y=>{const m=y.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(y.Yr)),!0)}),f),rt.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return rt.forEach(i.mutations,(o=>{const u=new He(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new He(i,0),o=this.Zr.firstAfterOrEqual(r);return rt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.ri=t,this.docs=(function(){return new me(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return rt.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let r=ga();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),rt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=ga();const f=i.path,p=new Et(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:m,value:{document:v}}=y.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||RR(SR(v),r)<=0||(o.has(v.key)||fh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Rt(9500)}ii(t,i){return rt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new JC(this)}getSize(t){return rt.resolve(this.size)}}class JC extends GC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),rt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.persistence=t,this.si=new Yr((i=>Yp(i)),Kp),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new tm,this.targetCount=0,this.ai=Js.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),rt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Js(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,rt.resolve()}updateTargetData(t,i){return this.Pr(i),rt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return rt.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),rt.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),rt.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return rt.resolve(r)}containsKey(t,i){return rt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t,i){this.ui={},this.overlays={},this.ci=new lh(0),this.li=!1,this.li=!0,this.hi=new XC,this.referenceDelegate=t(this),this.Pi=new tD(this),this.indexManager=new UC,this.remoteDocumentCache=(function(o){return new WC(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jC(i),this.Ii=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new KC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new ZC(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){mt("MemoryPersistence","Starting transaction:",t);const o=new eD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return rt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class eD extends DR{constructor(t){super(),this.currentSequenceNumber=t}}class em{constructor(t){this.persistence=t,this.Ri=new tm,this.Vi=null}static mi(t){return new em(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),rt.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),rt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),rt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(r=>{const o=Et.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Nt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return rt.or([()=>rt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.pi=new Yr((r=>OR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=FC(this,i)}static mi(t,i){return new Jc(t,i)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return rt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?rt.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,i).next((p=>{p||(r++,u.removeEntry(f,Nt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),rt.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nc(t.data.value)),i}br(t,i,r){return rt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return rt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Lt(),o=Lt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new nm(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kA()?8:NR(MA())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new nD;return this.Ss(t,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,i,f,p.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(zs()<=Gt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Bs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(zs()<=Gt.DEBUG&&mt("QueryEngine","Query:",Bs(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(zs()<=Gt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Bs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):rt.resolve())}ys(t,i){if($_(i))return rt.resolve(null);let r=Oi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=fp(i,null,"F"),r=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const m=this.Ds(i,p);return this.Cs(i,m,f,y.readTime)?this.ys(t,fp(i,null,"F")):this.vs(t,m,i,y)}))))})))))}ws(t,i,r,o){return $_(i)||o.isEqual(Nt.min())?rt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,r,o)?rt.resolve(null):(zs()<=Gt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bs(i)),this.vs(t,f,i,AR(o,Il)).next((p=>p)))}))}Ds(t,i){let r=new Pe(ox(t));return i.forEach(((o,u)=>{fh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return zs()<=Gt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Bs(i)),this.ps.getDocumentsMatchingQuery(t,i,er.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",aD=3e8;class rD{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new me(Ut),this.xs=new Yr((u=>Yp(u)),Kp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function sD(a,t,i,r){return new rD(a,t,i,r)}async function Ix(a,t){const i=It(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let y=Lt();for(const m of o){f.push(m.batchId);for(const v of m.mutations)y=y.add(v.key)}for(const m of u){p.push(m.batchId);for(const v of m.mutations)y=y.add(v.key)}return i.localDocuments.getDocuments(r,y).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:p})))}))}))}function oD(a,t){const i=It(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,m,v){const T=m.batch,A=T.keys();let N=rt.resolve();return A.forEach((L=>{N=N.next((()=>v.getEntry(y,L))).next((V=>{const k=m.docVersions.get(L);Kt(k!==null,48541),V.version.compareTo(k)<0&&(T.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),v.addEntry(V)))}))})),N.next((()=>p.mutationQueue.removeMutationBatch(y,T)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Lt();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(y=y.add(p.batch.mutations[m].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Ox(a){const t=It(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function lD(a,t){const i=It(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;p.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,T))));let N=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?N=N.withResumeToken(We.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,r)),o=o.insert(T,N),(function(V,k,Y){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=aD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,N,v)&&p.push(i.Pi.updateTargetData(u,N))}));let y=ga(),m=Lt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),p.push(uD(u,f,t.documentUpdates).next((v=>{y=v.ks,m=v.qs}))),!r.isEqual(Nt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((T=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(v)}return rt.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,m))).next((()=>y))})).then((u=>(i.Ms=o,u)))}function uD(a,t,i){let r=Lt(),o=Lt();return i.forEach((u=>r=r.add(u))),t.getEntries(a,r).next((u=>{let f=ga();return i.forEach(((p,y)=>{const m=u.get(p);y.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Nt.min())?(t.removeEntry(p,y.readTime),f=f.insert(p,y)):!m.isValidDocument()||y.version.compareTo(m.version)>0||y.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(y),f=f.insert(p,y)):mt(im,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function cD(a,t){const i=It(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Gp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function hD(a,t){const i=It(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,rt.resolve(o)):i.Pi.allocateTargetId(r).next((f=>(o=new Ya(t,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function yp(a,t,i){const r=It(a),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!so(f))throw f;mt(im,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function r0(a,t,i){const r=It(a);let o=Nt.min(),u=Lt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,m,v){const T=It(y),A=T.xs.get(v);return A!==void 0?rt.resolve(T.Ms.get(A)):T.Pi.getTargetData(m,v)})(r,f,Oi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,i?o:Nt.min(),i?u:Lt()))).next((p=>(fD(r,ZR(t),p),{documents:p,Qs:u})))))}function fD(a,t,i){let r=a.Os.get(t)||Nt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),a.Os.set(t,r)}class s0{constructor(){this.activeTargetIds=iC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dD{constructor(){this.Mo=new s0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new s0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="ConnectivityMonitor";class l0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(o0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(o0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function vp(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===$c?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const f=vp(),p=this.zo(t,i.toUriEncodedString());mt(Bd,`Sending RPC '${t}' ${f}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:m}=new URL(p),v=zl(m);return this.Jo(t,p,y,r,v).then((T=>(mt(Bd,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Ks(Bd,`RPC '${t}' ${f} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(t,i,r,o,u,f){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=mD[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class vD extends gD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const f=vp();return new Promise(((p,y)=>{const m=new Mb;m.setWithCredentials(!0),m.listenOnce(Vb.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Dc.NO_ERROR:const T=m.getResponseJson();mt(an,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),p(T);break;case Dc.TIMEOUT:mt(an,`RPC '${t}' ${f} timed out`),y(new gt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const A=m.getStatus();if(mt(an,`RPC '${t}' ${f} failed with status:`,A,"response text:",m.getResponseText()),A>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N?.error;if(L&&L.status&&L.message){const V=(function(Y){const Z=Y.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Z)>=0?Z:at.UNKNOWN})(L.status);y(new gt(V,L.message))}else y(new gt(at.UNKNOWN,"Server responded with status "+m.getStatus()))}else y(new gt(at.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{mt(an,`RPC '${t}' ${f} completed.`)}}));const v=JSON.stringify(o);mt(an,`RPC '${t}' ${f} sending request:`,o),m.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=vp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Pb(),p=jb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const v=u.join("");mt(an,`Creating RPC '${t}' stream ${o}: ${v}`,y);const T=f.createWebChannel(v,y);this.I_(T);let A=!1,N=!1;const L=new yD({Yo:k=>{N?mt(an,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(A||(mt(an,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),mt(an,`RPC '${t}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),V=(k,Y,Z)=>{k.listen(Y,(W=>{try{Z(W)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return V(T,vl.EventType.OPEN,(()=>{N||(mt(an,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),V(T,vl.EventType.CLOSE,(()=>{N||(N=!0,mt(an,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(T))})),V(T,vl.EventType.ERROR,(k=>{N||(N=!0,Ks(an,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),L.a_(new gt(at.UNAVAILABLE,"The operation could not be completed")))})),V(T,vl.EventType.MESSAGE,(k=>{if(!N){const Y=k.data[0];Kt(!!Y,16349);const Z=Y,W=Z?.error||Z[0]?.error;if(W){mt(an,`RPC '${t}' stream ${o} received error:`,W);const ct=W.status;let ut=(function(R){const C=De[R];if(C!==void 0)return _x(C)})(ct),bt=W.message;ut===void 0&&(ut=at.INTERNAL,bt="Unknown error status: "+ct+" with message "+W.message),N=!0,L.a_(new gt(ut,bt)),T.close()}else mt(an,`RPC '${t}' stream ${o} received:`,Y),L.u_(Y)}})),V(p,kb.STAT_EVENT,(k=>{k.stat===rp.PROXY?mt(an,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===rp.NOPROXY&&mt(an,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(a){return new EC(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="PersistentStream";class Vx{constructor(t,i,r,o,u,f,p,y){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mx(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(ma(i.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(u0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(mt(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _D extends Vx{constructor(t,i,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=AC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Nt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Nt.min():f.readTime?Mi(f.readTime):Nt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=gp(this.serializer),i.addTarget=(function(u,f){let p;const y=f.target;if(p=cp(y)?{documents:CC(u,y)}:{query:DC(u,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Ex(u,f.resumeToken);const m=dp(u,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(Nt.min())>0){p.readTime=Wc(u,f.snapshotVersion.toTimestamp());const m=dp(u,f.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,t);const r=IC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=gp(this.serializer),i.removeTarget=t,this.q_(i)}}class bD extends Vx{constructor(t,i,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=RC(t.writeResults,t.commitTime),r=Mi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=gp(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>SC(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{}class ED extends xD{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,pp(i,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(at.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,pp(i,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new gt(at.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ma(i),this.aa=!1):mt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="RemoteStore";class wD{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Xr(this)&&(mt(Fr,"Restarting streams for network reachability change."),await(async function(y){const m=It(y);m.Ea.add(4),await Gl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await yh(m)})(this))}))})),this.Ra=new TD(r,o)}}async function yh(a){if(Xr(a))for(const t of a.da)await t(!0)}async function Gl(a){for(const t of a.da)await t(!1)}function kx(a,t){const i=It(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),om(i)?sm(i):oo(i).O_()&&rm(i,t))}function am(a,t){const i=It(a),r=oo(i);i.Ia.delete(t),r.O_()&&jx(i,t),i.Ia.size===0&&(r.O_()?r.L_():Xr(i)&&i.Ra.set("Unknown"))}function rm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(a).Y_(t)}function jx(a,t){a.Va.Ue(t),oo(a).Z_(t)}function sm(a){a.Va=new vC({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),oo(a).start(),a.Ra.ua()}function om(a){return Xr(a)&&!oo(a).x_()&&a.Ia.size>0}function Xr(a){return It(a).Ea.size===0}function Px(a){a.Va=void 0}async function AD(a){a.Ra.set("Online")}async function SD(a){a.Ia.forEach(((t,i)=>{rm(a,t)}))}async function RD(a,t){Px(a),om(a)?(a.Ra.ha(t),sm(a)):a.Ra.set("Unknown")}async function CD(a,t,i){if(a.Ra.set("Online"),t instanceof xx&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(r){mt(Fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await th(a,r)}else if(t instanceof Mc?a.Va.Ze(t):t instanceof bx?a.Va.st(t):a.Va.tt(t),!i.isEqual(Nt.min()))try{const r=await Ox(a.localStore);i.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((y,m)=>{if(y.resumeToken.approximateByteSize()>0){const v=u.Ia.get(m);v&&u.Ia.set(m,v.withResumeToken(y.resumeToken,f))}})),p.targetMismatches.forEach(((y,m)=>{const v=u.Ia.get(y);if(!v)return;u.Ia.set(y,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),jx(u,y);const T=new Ya(v.target,y,m,v.sequenceNumber);rm(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){mt(Fr,"Failed to raise snapshot:",r),await th(a,r)}}async function th(a,t,i){if(!so(t))throw t;a.Ea.add(1),await Gl(a),a.Ra.set("Offline"),i||(i=()=>Ox(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{mt(Fr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await yh(a)}))}function Ux(a,t){return t().catch((i=>th(a,i,t)))}async function vh(a){const t=It(a),i=rr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gp;for(;DD(t);)try{const o=await cD(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,ND(t,o)}catch(o){await th(t,o)}Lx(t)&&zx(t)}function DD(a){return Xr(a)&&a.Ta.length<10}function ND(a,t){a.Ta.push(t);const i=rr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function Lx(a){return Xr(a)&&!rr(a).x_()&&a.Ta.length>0}function zx(a){rr(a).start()}async function ID(a){rr(a).ra()}async function OD(a){const t=rr(a);for(const i of a.Ta)t.ea(i.mutations)}async function MD(a,t,i){const r=a.Ta.shift(),o=Zp.from(r,t,i);await Ux(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await vh(a)}async function VD(a,t){t&&rr(a).X_&&await(async function(r,o){if((function(f){return mC(f)&&f!==at.ABORTED})(o.code)){const u=r.Ta.shift();rr(r).B_(),await Ux(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vh(r)}})(a,t),Lx(a)&&zx(a)}async function c0(a,t){const i=It(a);i.asyncQueue.verifyOperationInProgress(),mt(Fr,"RemoteStore received new credentials");const r=Xr(i);i.Ea.add(3),await Gl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function kD(a,t){const i=It(a);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function oo(a){return a.ma||(a.ma=(function(i,r,o){const u=It(i);return u.sa(),new _D(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:AD.bind(null,a),t_:SD.bind(null,a),r_:RD.bind(null,a),H_:CD.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),om(a)?sm(a):a.Ra.set("Unknown")):(await a.ma.stop(),Px(a))}))),a.ma}function rr(a){return a.fa||(a.fa=(function(i,r,o){const u=It(i);return u.sa(),new bD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:ID.bind(null,a),r_:VD.bind(null,a),ta:OD.bind(null,a),na:MD.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await vh(a)):(await a.fa.stop(),a.Ta.length>0&&(mt(Fr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const f=Date.now()+r,p=new lm(t,i,f,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function um(a,t){if(ma("AsyncQueue",`${t}: ${a}`),so(a))return new gt(at.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static emptySet(t){return new Fs(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Et.comparator(i.key,r.key):(i,r)=>Et.comparator(i.key,r.key),this.keyedMap=_l(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fs)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Fs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.ga=new me(Et.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class to{constructor(t,i,r,o,u,f,p,y,m){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=m}static fromInitialDocuments(t,i,r,o,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new to(t,i,Fs.emptySet(i),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class PD{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=It(i),u=o.queries;o.queries=f0(),u.forEach(((f,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new gt(at.ABORTED,"Firestore shutting down"))}}function f0(){return new Yr((a=>sx(a)),hh)}async function UD(a,t){const i=It(a);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new jD,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=um(f,`Initialization of query '${Bs(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&cm(i)}async function LD(a,t){const i=It(a),r=t.query;let o=3;const u=i.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function zD(a,t){const i=It(a);let r=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&cm(i)}function BD(a,t,i){const r=It(a),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function cm(a){a.Ca.forEach((t=>{t.next()}))}var _p,d0;(d0=_p||(_p={})).Ma="default",d0.Cache="cache";class qD{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new to(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.key=t}}class qx{constructor(t){this.key=t}}class HD{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=ox(t),this.tu=new Fs(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new h0,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const A=o.get(v),N=fh(this.query,T)?T:null,L=!!A&&this.mutatedKeys.has(A.key),V=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;A&&N?A.data.isEqual(N.data)?L!==V&&(r.track({type:3,doc:N}),k=!0):this.su(A,N)||(r.track({type:2,doc:N}),k=!0,(y&&this.eu(N,y)>0||m&&this.eu(N,m)<0)&&(p=!0)):!A&&N?(r.track({type:0,doc:N}),k=!0):A&&!N&&(r.track({type:1,doc:A}),k=!0,(y||m)&&(p=!0)),k&&(N?(f=f.add(N),u=V?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((v,T)=>(function(N,L){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:k})}};return V(N)-V(L)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,m=y!==this.Za;return this.Za=y,f.length!==0||m?{snapshot:new to(this.query,t.tu,u,f,t.mutatedKeys,y===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new qx(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new Bx(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hm="SyncEngine";class FD{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class GD{constructor(t){this.key=t,this.hu=!1}}class $D{constructor(t,i,r,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Yr((p=>sx(p)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new me(Et.comparator),this.Au=new Map,this.Ru=new tm,this.Vu={},this.mu=new Map,this.fu=Js.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QD(a,t,i=!0){const r=Yx(a);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Hx(r,t,i,!0),o}async function YD(a,t){const i=Yx(a);await Hx(i,t,!0,!1)}async function Hx(a,t,i,r){const o=await hD(a.localStore,Oi(t)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await KD(a,t,u,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&kx(a.remoteStore,o),p}async function KD(a,t,i,r,o){a.pu=(T,A,N)=>(async function(V,k,Y,Z){let W=k.view.ru(Y);W.Cs&&(W=await r0(V.localStore,k.query,!1).then((({documents:j})=>k.view.ru(j,W))));const ct=Z&&Z.targetChanges.get(k.targetId),ut=Z&&Z.targetMismatches.get(k.targetId)!=null,bt=k.view.applyChanges(W,V.isPrimaryClient,ct,ut);return m0(V,k.targetId,bt.au),bt.snapshot})(a,T,A,N);const u=await r0(a.localStore,t,!0),f=new HD(t,u.Qs),p=f.ru(u.documents),y=Fl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),m=f.applyChanges(p,a.isPrimaryClient,y);m0(a,i,m.au);const v=new FD(t,i,f);return a.Tu.set(t,v),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),m.snapshot}async function XD(a,t,i){const r=It(a),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!hh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&am(r.remoteStore,o.targetId),bp(r,o.targetId)})).catch(ro)):(bp(r,o.targetId),await yp(r.localStore,o.targetId,!0))}async function ZD(a,t){const i=It(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),am(i.remoteStore,r.targetId))}async function WD(a,t,i){const r=rN(a);try{const o=await(function(f,p){const y=It(f),m=le.now(),v=p.reduce(((N,L)=>N.add(L.key)),Lt());let T,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let L=ga(),V=Lt();return y.Ns.getEntries(N,v).next((k=>{L=k,L.forEach(((Y,Z)=>{Z.isValidDocument()||(V=V.add(Y))}))})).next((()=>y.localDocuments.getOverlayedDocuments(N,L))).next((k=>{T=k;const Y=[];for(const Z of p){const W=cC(Z,T.get(Z.key).overlayedDocument);W!=null&&Y.push(new Kr(Z.key,W,Zb(W.value.mapValue),fa.exists(!0)))}return y.mutationQueue.addMutationBatch(N,m,Y,p)})).next((k=>{A=k;const Y=k.applyToLocalDocumentSet(T,V);return y.documentOverlayCache.saveOverlays(N,k.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:ux(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,y){let m=f.Vu[f.currentUser.toKey()];m||(m=new me(Ut)),m=m.insert(p,y),f.Vu[f.currentUser.toKey()]=m})(r,o.batchId,i),await $l(r,o.changes),await vh(r.remoteStore)}catch(o){const u=um(o,"Failed to persist write");i.reject(u)}}async function Fx(a,t){const i=It(a);try{const r=await lD(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Kt(f.hu,14607):o.removedDocuments.size>0&&(Kt(f.hu,42227),f.hu=!1))})),await $l(i,r,t)}catch(r){await ro(r)}}function p0(a,t,i){const r=It(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const y=It(f);y.onlineState=p;let m=!1;y.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(p)&&(m=!0)})),m&&cm(y)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function JD(a,t,i){const r=It(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new me(Et.comparator);f=f.insert(u,sn.newNoDocument(u,Nt.min()));const p=Lt().add(u),y=new mh(Nt.min(),new Map,new me(Ut),f,p);await Fx(r,y),r.du=r.du.remove(u),r.Au.delete(t),fm(r)}else await yp(r.localStore,t,!1).then((()=>bp(r,t,i))).catch(ro)}async function tN(a,t){const i=It(a),r=t.batch.batchId;try{const o=await oD(i.localStore,t);$x(i,r,null),Gx(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await $l(i,o)}catch(o){await ro(o)}}async function eN(a,t,i){const r=It(a);try{const o=await(function(f,p){const y=It(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return y.mutationQueue.lookupMutationBatch(m,p).next((T=>(Kt(T!==null,37113),v=T.keys(),y.mutationQueue.removeMutationBatch(m,T)))).next((()=>y.mutationQueue.performConsistencyCheck(m))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(m,v,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>y.localDocuments.getDocuments(m,v)))}))})(r.localStore,t);$x(r,t,i),Gx(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await $l(r,o)}catch(o){await ro(o)}}function Gx(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function $x(a,t,i){const r=It(a);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function bp(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||Qx(a,r)}))}function Qx(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(am(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),fm(a))}function m0(a,t,i){for(const r of i)r instanceof Bx?(a.Ru.addReference(r.key,t),nN(a,r)):r instanceof qx?(mt(hm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||Qx(a,r.key)):Rt(19791,{wu:r})}function nN(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(mt(hm,"New document in limbo: "+i),a.Eu.add(r),fm(a))}function fm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new Et(oe.fromString(t)),r=a.fu.next();a.Au.set(r,new GD(i)),a.du=a.du.insert(i,r),kx(a.remoteStore,new Ya(Oi(ax(i.path)),r,"TargetPurposeLimboResolution",lh.ce))}}async function $l(a,t,i){const r=It(a),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{f.push(r.pu(y,t,i).then((m=>{if((m||i)&&r.isPrimaryClient){const v=m?!m.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,v?"current":"not-current")}if(m){o.push(m);const v=nm.As(y.targetId,m);u.push(v)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,m){const v=It(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(m,(A=>rt.forEach(A.Es,(N=>v.persistence.referenceDelegate.addReference(T,A.targetId,N))).next((()=>rt.forEach(A.ds,(N=>v.persistence.referenceDelegate.removeReference(T,A.targetId,N)))))))))}catch(T){if(!so(T))throw T;mt(im,"Failed to update sequence numbers: "+T)}for(const T of m){const A=T.targetId;if(!T.fromCache){const N=v.Ms.get(A),L=N.snapshotVersion,V=N.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(A,V)}}})(r.localStore,u))}async function iN(a,t){const i=It(a);if(!i.currentUser.isEqual(t)){mt(hm,"User change. New user:",t.toKey());const r=await Ix(i.localStore,t);i.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new gt(at.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await $l(i,r.Ls)}}function aN(a,t){const i=It(a),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const u=i.Iu.get(t);if(!u)return o;for(const f of u){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Yx(a){const t=It(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JD.bind(null,t),t.Pu.H_=zD.bind(null,t.eventManager),t.Pu.yu=BD.bind(null,t.eventManager),t}function rN(a){const t=It(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eN.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return sD(this.persistence,new iD,t.initialUser,this.serializer)}Cu(t){return new Nx(em.mi,this.serializer)}Du(t){return new dD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class sN extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof Jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Nx((r=>Jc.mi(r,i)),this.serializer)}}class xp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iN.bind(null,this.syncEngine),await kD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new PD})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),r=(function(u){return new vD(u)})(t.databaseInfo);return(function(u,f,p,y){return new ED(u,f,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,f,p){return new wD(r,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>p0(this.syncEngine,i,0)),(function(){return l0.v()?new l0:new pD})())}createSyncEngine(t,i){return(function(o,u,f,p,y,m,v){const T=new $D(o,u,f,p,y,m);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=It(i);mt(Fr,"RemoteStore shutting down."),r.Ea.add(5),await Gl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ma("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="FirestoreClient";class lN{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{mt(sr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(mt(sr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=um(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Hd(a,t){a.asyncQueue.verifyOperationInProgress(),mt(sr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Ix(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function g0(a,t){a.asyncQueue.verifyOperationInProgress();const i=await uN(a);mt(sr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>c0(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>c0(t.remoteStore,o))),a._onlineComponents=t}async function uN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){mt(sr,"Using user provided OfflineComponentProvider");try{await Hd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ks("Error using user provided cache. Falling back to memory cache: "+i),await Hd(a,new eh)}}else mt(sr,"Using default OfflineComponentProvider"),await Hd(a,new sN(void 0));return a._offlineComponents}async function Kx(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(mt(sr,"Using user provided OnlineComponentProvider"),await g0(a,a._uninitializedComponentsProvider._online)):(mt(sr,"Using default OnlineComponentProvider"),await g0(a,new xp))),a._onlineComponents}function cN(a){return Kx(a).then((t=>t.syncEngine))}async function hN(a){const t=await Kx(a),i=t.eventManager;return i.onListen=QD.bind(null,t.syncEngine),i.onUnlisten=XD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=YD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=ZD.bind(null,t.syncEngine),i}function fN(a,t,i={}){const r=new Ja;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,y,m){const v=new oN({next:A=>{v.Nu(),f.enqueueAndForget((()=>LD(u,T))),A.fromCache&&y.source==="server"?m.reject(new gt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new qD(p,v,{includeMetadataChanges:!0,qa:!0});return UD(u,T)})(await hN(a),a.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firestore.googleapis.com",v0=!0;class _0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zx,this.ssl=v0}else this.host=t.host,this.ssl=t.ssl??v0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Dx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zC)throw new gt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xx(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pR;switch(r.type){case"firstParty":return new vR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=y0.get(i);r&&(mt("ComponentProvider","Removing Datastore"),y0.delete(i),r.terminate())})(this),Promise.resolve()}}function dN(a,t,i,r={}){a=Fc(a,_h);const o=zl(t),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(rb(`https://${p}`),ob("Firestore",!0)),u.host!==Zx&&u.host!==p&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:r};if(!qc(y,f)&&(a._setSettings(y),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=rn.MOCK_USER;else{m=sb(r.mockUserToken,a._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new gt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rn(T)}a._authCredentials=new mR(new Lb(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new lo(this.firestore,t,this._query)}}class Fe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Bl(i,Fe._jsonSchema))return new Fe(t,r||null,new Et(oe.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:Ie("string",Fe._jsonSchemaVersion),referencePath:Ie("string")};class tr extends lo{constructor(t,i,r){super(t,i,ax(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new Et(t))}withConverter(t){return new tr(this.firestore,t,this._path)}}function Vc(a,t,...i){if(a=si(a),zb("collection","path",t),a instanceof _h){const r=oe.fromString(t,...i);return O_(r),new tr(a,null,r)}{if(!(a instanceof Fe||a instanceof tr))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(oe.fromString(t,...i));return O_(r),new tr(a.firestore,null,r)}}function pN(a,t,...i){if(a=si(a),arguments.length===1&&(t=Fp.newId()),zb("doc","path",t),a instanceof _h){const r=oe.fromString(t,...i);return I_(r),new Fe(a,null,new Et(r))}{if(!(a instanceof Fe||a instanceof tr))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(oe.fromString(t,...i));return I_(r),new Fe(a.firestore,a instanceof tr?a.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class x0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mx(this,"async_queue_retry"),this._c=()=>{const r=qd();r&&mt(b0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;mt(b0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ma("INTERNAL UNHANDLED ERROR: ",E0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=lm.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:E0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function E0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class dm extends _h{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new x0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new x0(t),this._firestoreClient=void 0,await t}}}function mN(a,t){const i=typeof a=="object"?a:gb(),r=typeof a=="string"?a:$c,o=fb(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=ib("firestore");u&&dN(o,...u)}return o}function Wx(a){if(a._terminated)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||gN(a),a._firestoreClient}function gN(a){const t=a._freezeSettings(),i=(function(o,u,f,p){return new kR(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Xx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new lN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(We.fromBase64String(t))}catch(i){throw new gt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $n(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ie("string",$n._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new gt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new gt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new gt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ie("string",Vi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ki(t.vectorValues);throw new gt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ie("string",ki._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^__.*__$/;class vN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}function tE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:a})}}class mm{constructor(t,i,r,o,u,f){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new mm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(tE(this.Ac)&&yN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _N{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||gh(t)}Cc(t,i,r,o=!1){return new mm({Ac:t,methodName:i,Dc:r,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eE(a){const t=a._freezeSettings(),i=gh(a._databaseId);return new _N(a._databaseId,!!t.ignoreUndefinedProperties,i)}function bN(a,t,i,r,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,t,i,o);aE("Data must be an object, but it was:",f,r);const p=nE(r,f);let y,m;if(u.merge)y=new ai(f.fieldMask),m=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=EN(t,T,i);if(!f.contains(A))throw new gt(at.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);wN(v,A)||v.push(A)}y=new ai(v),m=f.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,m=f.fieldTransforms;return new vN(new Gn(p),y,m)}function xN(a,t,i,r=!1){return gm(i,a.Cc(r?4:3,t))}function gm(a,t){if(iE(a=si(a)))return aE("Unsupported field value:",t,a),nE(a,t);if(a instanceof Jx)return(function(r,o){if(!tE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let y=gm(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(a,t)}return(function(r,o){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=le.fromDate(r);return{timestampValue:Wc(o.serializer,u)}}if(r instanceof le){const u=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,u)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:Ex(o.serializer,r._byteString)};if(r instanceof Fe){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(f,p){return{mapValue:{fields:{[Kb]:{stringValue:Xb},[Qc]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return Xp(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${oh(r)}`)})(a,t)}function nE(a,t){const i={};return Hb(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qr(a,((r,o)=>{const u=gm(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function iE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof le||a instanceof Vi||a instanceof $n||a instanceof Fe||a instanceof Jx||a instanceof ki)}function aE(a,t,i){if(!iE(i)||!Bb(i)){const r=oh(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function EN(a,t,i){if((t=si(t))instanceof pm)return t._internalPath;if(typeof t=="string")return rE(a,t);throw nh("Field path arguments must be of type string or ",a,!1,void 0,i)}const TN=new RegExp("[~\\*/\\[\\]]");function rE(a,t,i){if(t.search(TN)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new pm(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function nh(a,t,i,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new gt(at.INVALID_ARGUMENT,p+a+y)}function wN(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ym("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AN extends sE{data(){return super.data()}}function ym(a,t){return typeof t=="string"?rE(a,t):t instanceof pm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new gt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vm{}class RN extends vm{}function T0(a,t,...i){let r=[];t instanceof vm&&r.push(t),r=r.concat(i),(function(u){const f=u.filter((y=>y instanceof _m)).length,p=u.filter((y=>y instanceof bh)).length;if(f>1||f>0&&p>0)throw new gt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class bh extends RN{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new bh(t,i,r)}_apply(t){const i=this._parse(t);return oE(t._query,i),new lo(t.firestore,t.converter,hp(t._query,i))}_parse(t){const i=eE(t.firestore);return(function(u,f,p,y,m,v,T){let A;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new gt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){A0(T,v);const L=[];for(const V of T)L.push(w0(y,u,V));A={arrayValue:{values:L}}}else A=w0(y,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||A0(T,v),A=xN(p,f,T,v==="in"||v==="not-in");return Ne.create(m,v,A)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function wc(a,t,i){const r=t,o=ym("where",a);return bh._create(o,r,i)}class _m extends vm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new _m(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const y of p)oE(f,y),f=hp(f,y)})(t._query,i),new lo(t.firestore,t.converter,hp(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function w0(a,t,i){if(typeof(i=si(i))=="string"){if(i==="")throw new gt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rx(t)&&i.indexOf("/")!==-1)throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(oe.fromString(i));if(!Et.isDocumentKey(r))throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z_(a,new Et(r))}if(i instanceof Fe)return z_(a,i._key);throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(i)}.`)}function A0(a,t){if(!Array.isArray(a)||a.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oE(a,t){const i=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class CN{convertValue(t,i="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Qr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((r=>we(r.doubleValue)));return new ki(i)}convertGeoPoint(t){return new Vi(we(t.latitude),we(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=ch(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=nr(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=oe.fromString(t);Kt(Cx(r),9688,{name:t});const o=new Ml(r.get(1),r.get(3)),u=new Et(r.popFirst(5));return o.isEqual(i)||ma(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class Ac{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gs extends sE{constructor(t,i,r,o,u,f){super(t,i,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:Ie("string",Gs._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class kc extends Gs{data(t={}){return super.data(t)}}class $s{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ac(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new kc(this._firestore,this._userDataWriter,r.key,r,new Ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const y=new kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ac(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ac(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:NN(p.type),doc:y,oldIndex:m,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$s._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:a})}}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:Ie("string",$s._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class IN extends CN{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function S0(a){a=Fc(a,lo);const t=Fc(a.firestore,dm),i=Wx(t),r=new IN(t);return SN(a._query),fN(i,a._query).then((o=>new $s(t,r,a,o)))}function lE(a,t){const i=Fc(a.firestore,dm),r=pN(a),o=DN(a.converter,t);return ON(i,[bN(eE(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,fa.exists(!1))]).then((()=>r))}function ON(a,t){return(function(r,o){const u=new Ja;return r.asyncQueue.enqueueAndForget((async()=>WD(await cN(r),o,u))),u.promise})(Wx(a),t)}(function(t,i=!0){(function(o){ao=o})(pb),Dl(new Ys("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new dm(new gR(r.getProvider("auth-internal")),new _R(f,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new gt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(m.options.projectId,v)})(f,o),f);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Za(R_,C_,t),Za(R_,C_,"esm2020")})();var MN="firebase",VN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(MN,VN,"app");const kN={apiKey:"AIzaSyDnKX4BJsQRgv9tjl7R9l6edfLb2Pk6au4",authDomain:"nouhin-bolt-test-202508.firebaseapp.com",projectId:"nouhin-bolt-test-202508",storageBucket:"nouhin-bolt-test-202508.firebasestorage.app",messagingSenderId:"143363676790",appId:"1:143363676790:web:193dc5843f55ba891d1d57",measurementId:"G-4PWQ11BFWF"},uE=mb(kN),Fd=cR(uE),jc=mN(uE),jN=()=>{const[a,t]=P.useState(!1),[i,r]=P.useState(null),o=async(f,p,y)=>{const m=`${f}-${p}-${y}`,v=Ud(Fd,m);try{const T=await A_(v);if(T.items.length===0&&T.prefixes.length===0)return m;let A=2;for(;;){const N=`${m}-ver${A}`,L=Ud(Fd,N);try{const V=await A_(L);if(V.items.length===0&&V.prefixes.length===0)return N;A++}catch{return N}}}catch{return m}};return{uploading:a,uploadProgress:i,uploadPhotos:async(f,p)=>{t(!0),r({current:0,total:f.length,percentage:0});try{const y=await o(p.receptionNumber,p.photographerName,p.customerName),m=[];for(let v=0;v<f.length;v++){const T=f[v],A=`${String(v+1).padStart(3,"0")}`,N=Ud(Fd,`${y}/${A}`),L=await lR(N,T.file),V=await uR(L.ref),k={...p,id:T.id,number:v+1,originalName:T.originalName,storageUrl:V,deliveryDate:new Date};await lE(Vc(jc,"photos"),{...k,shootingDate:new Date(p.shootingDate)}),m.push(k);const Y=v+1,Z=Math.round(Y/f.length*100);r({current:Y,total:f.length,percentage:Z})}return m}finally{t(!1),r(null)}}}},PN=a=>{const t={};return a.photographerName.trim()||(t.photographerName=""),a.shootingDate||(t.shootingDate=""),a.receptionNumber.trim()?/^\d+$/.test(a.receptionNumber)||(t.receptionNumber=""):t.receptionNumber="",a.customerName.trim()||(t.customerName=""),t},UN=()=>{const[a,t]=P.useState([]),[i,r]=P.useState({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),[o,u]=P.useState({}),[f,p]=P.useState(!1),{uploading:y,uploadProgress:m,uploadPhotos:v}=jN(),T=P.useCallback(V=>{t(k=>[...k,...V].map((Z,W)=>({...Z,number:W+1}))),p(!1)},[]),A=P.useCallback(V=>{t(k=>k.filter(Z=>Z.id!==V).map((Z,W)=>({...Z,number:W+1})))},[]),N=P.useCallback(V=>{r(V),u({})},[]),L=async()=>{const V=PN(i);if(Object.keys(V).length>0){u(V);return}if(a.length===0){alert("");return}try{await v(a,i),p(!0),t([]),r({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),alert("")}catch(k){console.error("Upload error:",k),alert("")}};return E.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[E.jsx("header",{className:"bg-white shadow-sm mb-8",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ToruTora"})})}),E.jsx("div",{className:"max-w-6xl mx-auto px-4",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-8 text-center",children:""}),E.jsx("div",{className:"mb-8",children:E.jsx(yA,{onFilesAdded:T})}),E.jsx(vA,{photos:a,onRemove:A}),E.jsx("div",{className:"mt-8",children:E.jsx(_A,{metaInfo:i,onChange:N,errors:o})}),E.jsxs("div",{className:"mt-8 text-center",children:[m&&E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-2",children:[E.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:[m.percentage,"% "]}),E.jsxs("span",{className:"text-sm text-gray-600",children:[m.current," / ",m.total,""]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:E.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${m.percentage}%`}})})]}),E.jsx("button",{onClick:L,disabled:y||a.length===0,className:`px-8 py-3 rounded-lg font-semibold text-white transition-colors ${y||a.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:y?"...":""})]}),f&&E.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:""})]})})]})},LN=()=>{const a=Ul(),[t,i]=P.useState({receptionNumber:"",shootingDate:"",customerName:""}),[r,o]=P.useState({}),u=(y,m)=>{i(v=>({...v,[y]:m})),o(v=>({...v,[y]:""}))},f=()=>{const y={};return t.receptionNumber.trim()||(y.receptionNumber=""),t.shootingDate||(y.shootingDate=""),t.customerName.trim()||(y.customerName=""),o(y),Object.keys(y).length===0},p=()=>{f()&&a("/photo-select",{state:{searchInfo:t}})};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:""}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",value:t.receptionNumber,onChange:y=>u("receptionNumber",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),r.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"date",value:t.shootingDate,onChange:y=>u("shootingDate",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.shootingDate?"border-red-500":"border-gray-300"}`}),r.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",value:t.customerName,onChange:y=>u("customerName",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),r.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.customerName})]}),E.jsx("button",{onClick:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:""})]})]})})]})},bm=()=>{const[a,t]=P.useState(!1),[i,r]=P.useState([]),[o,u]=P.useState(null),f=P.useCallback(async m=>{t(!0),u(null),console.log("Starting gallery photo search with:",m);try{const v=Vc(jc,"gallery"),T=T0(v,wc("receptionNumber","==",m.receptionNumber),wc("customerName","==",m.customerName));console.log("Executing Firestore query on gallery collection...");const A=await S0(T);console.log("Query completed, documents found:",A.size);const N=[];return A.forEach(L=>{const V=L.data();try{console.log("Processing document:",L.id,"shootingDate:",V.shootingDate);let k;if(V.shootingDate&&typeof V.shootingDate.toDate=="function")k=V.shootingDate.toDate();else if(V.shootingDate instanceof Date)k=V.shootingDate;else if(typeof V.shootingDate=="string"){if(k=new Date(V.shootingDate),isNaN(k.getTime())){console.warn("Invalid date string:",V.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",L.id,V.shootingDate);return}let Y;V.deliveryDate&&typeof V.deliveryDate.toDate=="function"?Y=V.deliveryDate.toDate():V.deliveryDate instanceof Date?Y=V.deliveryDate:(console.warn("Invalid deliveryDate format for document:",L.id,V.deliveryDate),Y=new Date);const Z=new Date(m.shootingDate);console.log("Comparing dates - doc:",k,"search:",Z),k.getFullYear()===Z.getFullYear()&&k.getMonth()===Z.getMonth()&&k.getDate()===Z.getDate()&&(N.push({...V,id:L.id,number:V.number,photographerName:V.photographerName,shootingDate:k,receptionNumber:V.receptionNumber,customerName:V.customerName,storageUrl:V.storageUrl,deliveryDate:Y}),console.log("Photo added to results:",V.number))}catch(k){console.error("Error processing document:",L.id,k)}}),console.log("Total photos found:",N.length),N.sort((L,V)=>L.number-V.number),r(N),N}catch(v){return console.error("Error searching gallery photos:",v),u(""),r([]),[]}finally{console.log("Gallery search completed, setting loading to false"),t(!1)}},[]),p=P.useCallback(async m=>{t(!0),u(null),console.log("Starting photo search with:",m);try{const v=Vc(jc,"photos"),T=T0(v,wc("receptionNumber","==",m.receptionNumber),wc("customerName","==",m.customerName));console.log("Executing Firestore query...");const A=await S0(T);console.log("Query completed, documents found:",A.size);const N=[];return A.forEach(L=>{const V=L.data();try{console.log("Processing document:",L.id,"shootingDate:",V.shootingDate);let k;if(V.shootingDate&&typeof V.shootingDate.toDate=="function")k=V.shootingDate.toDate();else if(V.shootingDate instanceof Date)k=V.shootingDate;else if(typeof V.shootingDate=="string"){if(k=new Date(V.shootingDate),isNaN(k.getTime())){console.warn("Invalid date string:",V.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",L.id,V.shootingDate);return}let Y;V.deliveryDate&&typeof V.deliveryDate.toDate=="function"?Y=V.deliveryDate.toDate():V.deliveryDate instanceof Date?Y=V.deliveryDate:(console.warn("Invalid deliveryDate format for document:",L.id,V.deliveryDate),Y=new Date);const Z=new Date(m.shootingDate);console.log("Comparing dates - doc:",k,"search:",Z),k.getFullYear()===Z.getFullYear()&&k.getMonth()===Z.getMonth()&&k.getDate()===Z.getDate()&&(N.push({...V,id:L.id,number:V.number,photographerName:V.photographerName,shootingDate:k,receptionNumber:V.receptionNumber,customerName:V.customerName,storageUrl:V.storageUrl,deliveryDate:Y}),console.log("Photo added to results:",V.number))}catch(k){console.error("Error processing document:",L.id,k)}}),console.log("Total photos found:",N.length),N.sort((L,V)=>L.number-V.number),r(N),N}catch(v){return console.error("Error searching photos:",v),u(""),r([]),[]}finally{console.log("Search completed, setting loading to false"),t(!1)}},[]),y=P.useCallback(async(m,v)=>{t(!0);try{const T=Vc(jc,"gallery");for(const A of m){const N={customerName:A.customerName,deliveryDate:new Date,id:A.id,number:A.number,photographerName:A.photographerName,receptionNumber:A.receptionNumber,shootingDate:A.shootingDate,storageUrl:A.storageUrl,all_photo_flg:v?1:0};await lE(T,N)}}finally{t(!1)}},[]);return{loading:a,error:o,photos:i,searchGalleryPhotos:f,searchPhotos:p,purchasePhotos:y}},Nn=new Map,Ep=1800*1e3,R0=50,cE=()=>{const a=Date.now();for(const[t,i]of Nn.entries())a-i.timestamp>Ep&&Nn.delete(t)},hE=()=>{if(Nn.size<=R0)return;const a=Array.from(Nn.entries());a.sort((i,r)=>i[1].timestamp-r[1].timestamp),a.slice(0,a.length-R0).forEach(([i])=>Nn.delete(i))},fE=(a,t)=>`${a}|${t}`,zN=(a,t,i)=>{const r=fE(a,t);if(Nn.has(r))return console.log("Image already cached, skipping preload:",r),Promise.resolve();console.log(" Starting preload for:",r,"src:",a);const o=2048,u=2048*2048,f=(y,m)=>{let v=y,T=m;if(v>o||T>o){const A=Math.min(o/v,o/T);v=Math.floor(v*A),T=Math.floor(T*A)}if(v*T>u){const A=Math.sqrt(u/(v*T));v=Math.floor(v*A),T=Math.floor(T*A)}return{width:v,height:T}},p=y=>y.includes("firebasestorage.googleapis.com")?`${y}&q=30`:y;return new Promise((y,m)=>{const v=new Image;v.crossOrigin="anonymous",v.onload=()=>{try{const T=document.createElement("canvas"),A=T.getContext("2d");if(!A){m(new Error("Failed to get preload canvas context"));return}const{width:N,height:L}=f(v.width,v.height);T.width=N,T.height=L,A.drawImage(v,0,0,N,L),A.font=`bold ${Math.max(N*.05,24)}px Arial`,A.font=`bold ${Math.max(N*.05,24)}px serif`,A.fillStyle="rgba(255, 255, 255, 0.4)",A.strokeStyle="rgba(0, 0, 0, 0.3)",A.lineWidth=3,A.textAlign="center";const V="ToruTora",k=-Math.PI/6,Y=A.measureText(V+"     ").width,Z=Math.max(L*.15,80),W=Math.sqrt(N*N+L*L),ct=Math.ceil(W/Z)+6;for(let ut=-Math.floor(ct/2);ut<=Math.floor(ct/2);ut++){const bt=N/2,j=L/2,R=ut*Z*Math.cos(k+Math.PI/2),C=ut*Z*Math.sin(k+Math.PI/2),M=W*1.5,I=Math.floor(M/Y)+2;for(let z=0;z<I;z++){const S=(z-I/2)/I,pt=bt+R+S*M*Math.cos(k),ht=j+C+S*M*Math.sin(k);pt>=-100&&pt<=N+100&&ht>=-100&&ht<=L+100&&(A.save(),A.translate(pt,ht),A.rotate(k),A.strokeText(V,0,0),A.fillText(V,0,0),A.restore())}}Nn.set(r,{canvas:T,timestamp:Date.now()}),cE(),hE(),console.log(" Image preloaded and cached (completely isolated):",r,"Size:",N,"x",L,"Cache size:",Nn.size),console.log(" Preload completed - no impact on current display"),console.log(" Preload cache details:",{cacheKey:r,src:a,alt:t,canvasSize:`${N}x${L}`,totalCacheSize:Nn.size}),y()}catch(T){console.error("Preload canvas drawing error:",T),m(T)}},v.onerror=()=>{console.error("Preload image loading error for:",a),m(new Error(`Failed to load image: ${a}`))},v.src=p(a)})},xm=({src:a,alt:t,className:i="",style:r,objectFit:o="cover",onLoadComplete:u,onLoadError:f,hideInternalLoader:p=!1,externalLoading:y=!1,fallbackSrc:m,imageId:v,useCssWatermark:T=!1})=>{const A=P.useRef(null),[N,L]=P.useState(!0),[V,k]=P.useState(!1),[Y,Z]=P.useState(a),[W,ct]=P.useState(v),ut=2048,bt=2048*2048,j=(I,z)=>{let S=I,pt=z;if(S>ut||pt>ut){const ht=Math.min(ut/S,ut/pt);S=Math.floor(S*ht),pt=Math.floor(pt*ht)}if(S*pt>bt){const ht=Math.sqrt(bt/(S*pt));S=Math.floor(S*ht),pt=Math.floor(pt*ht)}return{width:S,height:pt}},R=I=>I.includes("firebasestorage.googleapis.com")?`${I}&q=30`:I,C=P.useCallback((I,z=!1)=>{console.log(" getCachedOrCreateImage called for:",I,"ImageId:",v,"CurrentImageId:",W);const S=fE(I,t),pt=Nn.get(S);if(pt&&Date.now()-pt.timestamp<Ep){console.log(" Using cached image:",S,"Size:",pt.canvas.width,"x",pt.canvas.height,"Current src:",Y,"Requested src:",I);const ot=A.current;if(ot){const _t=ot.getContext("2d");_t&&(ot.width=pt.canvas.width,ot.height=pt.canvas.height,_t.clearRect(0,0,ot.width,ot.height),_t.drawImage(pt.canvas,0,0),L(!1),k(!1),console.log(" Cached image displayed immediately, loading state cleared"),u&&setTimeout(()=>u(),50))}return}console.log(" Cache miss for:",S,"Available cache keys:",Array.from(Nn.keys())),console.log(" Cache check details:",{requestedSrc:I,requestedAlt:t,cacheKey:S,hasCached:!!pt,isExpired:pt?Date.now()-pt.timestamp>Ep:"N/A",currentSrc:Y});const ht=A.current;if(!ht)return;const K=ht.getContext("2d");if(!K)return;const st=new Image;st.crossOrigin="anonymous",st.onload=()=>{try{if(console.log(" Image onload triggered for:",I,"ImageId:",v,"CurrentImageId:",W),console.log(" Image dimensions:",st.width,"x",st.height),console.log(" User Agent:",navigator.userAgent),v&&W&&v!==W){console.log(" Ignoring load completion for outdated image:",v,"Current:",W);return}st.alt=t;const{width:ot,height:_t}=j(st.width,st.height);ht.width=ot,ht.height=_t,K.drawImage(st,0,0,ot,_t),K.font=`bold ${Math.max(ot*.05,24)}px Arial`,K.font=`bold ${Math.max(ot*.05,24)}px serif`,K.fillStyle="rgba(255, 255, 255, 0.4)",K.strokeStyle="rgba(0, 0, 0, 0.3)",K.lineWidth=3,K.textAlign="center";const O="ToruTora",H=-Math.PI/6,et=K.measureText(O+"     ").width,tt=Math.max(_t*.15,80),ft=Math.sqrt(ot*ot+_t*_t),wt=Math.ceil(ft/tt)+6;for(let zt=-Math.floor(wt/2);zt<=Math.floor(wt/2);zt++){const on=ot/2,ln=_t/2,Je=zt*tt*Math.cos(H+Math.PI/2),tn=zt*tt*Math.sin(H+Math.PI/2),gn=ft*1.5,yn=Math.floor(gn/et)+2;for(let In=0;In<yn;In++){const ci=(In-yn/2)/yn,fe=on+Je+ci*gn*Math.cos(H),Qn=ln+tn+ci*gn*Math.sin(H);fe>=-100&&fe<=ot+100&&Qn>=-100&&Qn<=_t+100&&(K.save(),K.translate(fe,Qn),K.rotate(H),K.strokeText(O,0,0),K.fillText(O,0,0),K.restore())}}const yt=document.createElement("canvas");yt.width=ot,yt.height=_t;const re=yt.getContext("2d");if(re&&(re.drawImage(ht,0,0),Nn.set(S,{canvas:yt,timestamp:Date.now()}),cE(),hE(),console.log("Image cached:",S,"Cache size:",Nn.size)),v&&W&&v!==W){console.log(" Ignoring load completion for outdated image:",v,"Current:",W);return}L(!1),console.log(" Image load completed successfully:",I,"ImageId:",v),u&&setTimeout(()=>{console.log(" Calling onLoadComplete callback"),u()},100)}catch(ot){console.error("Canvas drawing error:",ot),k(!0),L(!1),f&&f()}},st.onerror=ot=>{if(console.error("Image loading error for:",I),console.error("Error details:",ot),console.error("User Agent:",navigator.userAgent),console.error("Image src:",st.src),v&&W&&v!==W){console.log(" Ignoring load error for outdated image:",v,"Current:",W);return}if(console.log(" Image onerror triggered for:",I,"ImageId:",v,"CurrentImageId:",W),m&&!z&&I!==m){console.log("Trying fallback image:",m),C(m,!0);return}console.log(" Image load failed, setting error state"),k(!0),L(!1),f&&f()},console.log(" Starting image load for:",I,"ImageId:",v),st.src=R(I)},[t,u,f,m,v,W]);if(P.useEffect(()=>{console.log(" Image src changed from",Y,"to",a,"ImageId:",v),console.log(" User Agent:",navigator.userAgent),console.log(" Is Mobile:",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),Z(a),ct(v),L(!0),k(!1),console.log(" Reset loading state for new image:",a),a!==Y&&(console.log(" Starting immediate load for new image:",a),C(a))},[a,v,C]),P.useEffect(()=>{if(T&&Y){console.log(" Safari image load detection for:",Y);const I=new Image;I.onload=()=>{console.log(" Safari pre-check: Image already loaded:",Y),L(!1),k(!1),u&&u()},I.onerror=()=>{console.log(" Safari pre-check: Image load failed:",Y),m&&Y!==m?(console.log("Trying fallback for Safari pre-check:",m),Z(m)):(k(!0),L(!1),f&&f())},I.src=Y}},[Y,T,m,u,f]),P.useEffect(()=>{console.log(" Loading image for display:",Y,"ImageId:",W),C(Y)},[Y,C,W]),V)return E.jsx("div",{className:`flex items-center justify-center bg-gray-200 ${i}`,style:r,children:E.jsx("span",{className:"text-gray-500",children:""})});const M=!p&&N&&!y;return T?E.jsxs("div",{className:`relative ${i}`,style:r,children:[M&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E.jsx("img",{src:Y,alt:t,className:`w-full h-full object-${o}`,style:{display:N?"none":"block",opacity:y?.3:1,transition:"opacity 0.3s ease",visibility:N?"hidden":"visible"},onLoad:()=>{console.log(" CSS Image loaded:",Y,"FallbackSrc:",m),L(!1),k(!1),u&&u()},onError:()=>{console.log(" CSS Image load error:",Y,"FallbackSrc:",m),m&&Y!==m?(console.log("Trying fallback for CSS image:",m),Z(m)):(console.log("No fallback available, showing error"),k(!0),L(!1),f&&f())},onLoadStart:()=>{console.log(" CSS Image load started:",Y)}}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:E.jsx("div",{className:"text-white font-bold text-2xl md:text-4xl opacity-40 select-none",style:{textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)",transform:"rotate(-30deg)",letterSpacing:"0.2em"},children:"ToruTora"})})]}):E.jsxs("div",{className:`relative ${i}`,style:r,children:[M&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E.jsx("canvas",{ref:A,className:`w-full h-full object-${o}`,style:{display:N?"none":"block",opacity:y?.3:1,transition:"opacity 0.3s ease"}})]})},BN=a=>{if(!a.includes("firebasestorage.googleapis.com"))return{src:a};try{const t=a.split("/o/");if(t.length<2)return{src:a};const i=t[1],r=i.split("?")[0],o=i.includes("?")?"?"+i.split("?")[1]:"",u=decodeURIComponent(r),f=u.split("/");if(f.length<2)return{src:a};const p=f[0],y=f[f.length-1],m=`${y}_200x200`,v=`${p}/thumbs/${m}`,T=`${t[0]}/o/${encodeURIComponent(v)}${o}`;return console.log("Optimal image URL selection:",{original:a,decodedPath:u,folderName:p,fileName:y,thumbnailFileName:m,thumbnailPath:v,thumbnail:T,userAgent:navigator.userAgent,isMobile:dE()}),{src:T,fallbackSrc:a}}catch(t){return console.error("Failed to convert to optimal image URL:",t),{src:a}}},dE=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Sc=a=>{if(a.includes("firebasestorage.googleapis.com")){const t=dE(),i=t?5:10,r=t?150:200;return a.includes("?")?`${a}&quality=${i}&w=${r}`:`${a}?quality=${i}&w=${r}`}return a},qN=(a={})=>{const[t,i]=P.useState(!1),r=P.useRef(null);return P.useEffect(()=>{const o=new IntersectionObserver(([u])=>{i(u.isIntersecting)},{rootMargin:"200px",threshold:.01,...a});return r.current&&o.observe(r.current),()=>o.disconnect()},[]),[r,t]},HN=({photo:a,isSelected:t,onToggleSelection:i,onPhotoClick:r,allPhotoOption:o})=>{const[u,f]=qN(),[p,y]=P.useState(t);return P.useEffect(()=>{y(t)},[t]),E.jsx("div",{ref:u,className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>r(a),children:[E.jsxs("div",{className:"relative aspect-square bg-gray-200",children:[f?(()=>{const{src:m,fallbackSrc:v}=BN(a.storageUrl);return E.jsx(xm,{src:m,alt:` ${a.number}`,className:"w-full h-full",objectFit:"cover",fallbackSrc:v,useCssWatermark:!0})})():E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center text-gray-400",children:[E.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),E.jsx("span",{className:"text-xs",children:""})]})}),E.jsx("button",{onClick:m=>{m.stopPropagation(),y(!p),i(a.id)},disabled:o,className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${p?"bg-blue-600 border-blue-600":"bg-white border-gray-300"} ${o?"cursor-not-allowed opacity-75":"cursor-pointer"} shadow-sm`,children:p&&E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(a.number).padStart(3,"0")})})]})})},FN=()=>{const a=ui(),t=Ul(),{loading:i,error:r,photos:o,searchPhotos:u,searchGalleryPhotos:f}=bm(),[p,y]=P.useState(new Set),[m,v]=P.useState(!1),[T,A]=P.useState(new Set),[N,L]=P.useState(null),[V,k]=P.useState(0),[Y,Z]=P.useState(!1),[W,ct]=P.useState(!1),[ut,bt]=P.useState(0),[j,R]=P.useState(!1),C=a.state?.searchInfo,M=a.state?.forceAllPhotoOption;P.useEffect(()=>{if(!C){t("/photo-info");return}console.log("PhotoSelectPage: Starting purchase check...");const H={receptionNumber:C.receptionNumber,shootingDate:C.shootingDate,customerName:C.customerName};f(H).then(et=>{if(et.length>0)console.log("PhotoSelectPage: Already purchased photos found:",et.length),Z(!0);else return console.log("PhotoSelectPage: No purchased photos found, proceeding with photo search..."),u(C)}).then(()=>{console.log("PhotoSelectPage: Search completed")}).catch(et=>{console.error("PhotoSelectPage: Search failed:",et)})},[C,t,u,f]),P.useEffect(()=>{if(M&&o.length>0){v(!0);const H=new Set(o.map(et=>et.id));y(H)}},[M,o]);const I=P.useCallback(H=>{m||(y(et=>{const tt=new Set(et);return tt.has(H)?tt.delete(H):tt.add(H),tt}),A(et=>{const tt=new Set(et);return tt.has(H)?tt.delete(H):tt.add(H),tt}))},[m]),z=P.useCallback(H=>{const tt=`${Sc(H.storageUrl)}| ${H.number}`,ft=window.imageCache?.get?.(tt);return ft&&Date.now()-ft.timestamp<1800*1e3?(console.log(" Image found in cache:",tt),!0):(console.log(" Image not in cache:",tt),!1)},[]),S=P.useCallback(H=>{console.log(` Starting preload for index ${H}, total photos: ${o.length}`);const et=[],tt=[H+1,H+2,H+3,H+4,H+5].filter(ft=>ft>=0&&ft<o.length);if(console.log(" Indices to preload:",tt),tt.length===0){console.log(` No images to preload for index ${H}`);return}for(const ft of tt){const wt=o[ft],yt=Sc(wt.storageUrl);console.log(` Preloading modal image ${ft}: ${wt.number}, src: ${yt}`),et.push(zN(yt,` ${wt.number}`).then(()=>console.log(` Successfully preloaded modal image ${ft}: ${wt.number}`)).catch(re=>console.warn(` Failed to preload modal image ${ft}:`,re)))}Promise.allSettled(et).then(ft=>{const wt=ft.filter(yt=>yt.status==="fulfilled").length;console.log(` Preload completed: ${wt}/${et.length} adjacent modal images`)})},[o]),pt=P.useCallback(H=>{console.log(` Image load complete for index ${H}, starting preload immediately`),S(H)},[S]),ht=P.useCallback(H=>{const et=o.findIndex(tt=>tt.id===H.id);k(et),L(H),ct(!0),bt(0),R(!1)},[o]),K=P.useCallback(()=>{if(V>0){const H=V-1,et=o[H];console.log(` Going to previous photo: ${V} -> ${H}`),z(et)?(console.log(` Photo ${et.number} is cached, no loading state needed`),ct(!1),bt(100),R(!1)):(console.log(` Photo ${et.number} not cached, setting loading state`),ct(!0),bt(0),R(!1),setTimeout(()=>{W&&(console.log(" Image load timeout, forcing modal to close"),ct(!1),R(!0))},1e4)),k(H),L(et)}},[V,o,z,W]),st=P.useCallback(()=>{if(V<o.length-1){const H=V+1,et=o[H];console.log(` Going to next photo: ${V} -> ${H}`),z(et)?(console.log(` Photo ${et.number} is cached, no loading state needed`),ct(!1),bt(100),R(!1)):(console.log(` Photo ${et.number} not cached, setting loading state`),ct(!0),bt(0),R(!1),setTimeout(()=>{W&&(console.log(" Image load timeout, forcing modal to close"),ct(!1),R(!0))},1e4)),k(H),L(et)}},[V,o,z,W]);P.useEffect(()=>{},[V,o,N]),P.useEffect(()=>{const H=et=>{N&&(et.key==="ArrowLeft"?K():et.key==="ArrowRight"?st():et.key==="Escape"&&L(null))};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[N,K,st]);const ot=P.useCallback(H=>{if(v(H),H){const et=new Set(o.map(tt=>tt.id));y(et)}else y(new Set(T))},[o,T]),_t=P.useCallback(()=>{const H=o.filter(et=>p.has(et.id));t("/photo-check",{state:{selectedPhotos:H,allPhotoOption:m,searchInfo:C}})},[o,p,m,C,t]),O=P.useMemo(()=>o.map(H=>E.jsx(HN,{photo:H,isSelected:p.has(H.id),onToggleSelection:I,onPhotoClick:ht,allPhotoOption:m},H.id)),[o,p,I,ht,m]);return i?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"..."}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:""}),r&&E.jsx("p",{className:"text-red-600 mt-2",children:r})]})}):r?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-red-600 mb-4",children:""}),E.jsx("p",{className:"text-gray-600 mb-4",children:r}),E.jsx("button",{onClick:()=>t("/photo-info"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:""})]})}):E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:Y?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("svg",{className:"w-16 h-16 text-blue-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:""})]}),E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:""}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Line"}),E.jsx("button",{onClick:()=>t("/photo-info"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:""})]}):o.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:""}),E.jsx("p",{className:"text-gray-600",children:"Line"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:E.jsxs("p",{className:"text-blue-800 font-medium",children:[o.length,""]})}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:O}),E.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:m,onChange:H=>ot(H.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-800 font-medium",children:"+5500"}),E.jsx("p",{className:"text-sm text-red-600",children:"19"})]})]})}),E.jsxs("div",{className:"text-center",children:[E.jsxs("button",{onClick:_t,disabled:p.size===0&&!m,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["",m?o.length:p.size,""]}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"3"}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"/"})]})]})}),N&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-lg flex flex-col relative",style:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh"},children:[E.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 overflow-hidden",style:{height:"calc(90vh - 120px)"},children:[E.jsxs("div",{className:"absolute top-4 left-0 right-0 flex items-center justify-between px-4 z-50",children:[E.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium",children:[V+1," / ",o.length]}),E.jsx("button",{onClick:()=>{console.log(" Manual reload requested for photo:",N?.number),R(!1),ct(!0),bt(0);const H=new Image;H.src=Sc(N.storageUrl)+"?t="+Date.now()},className:"bg-gray-400 bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all",title:"",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),E.jsx("button",{onClick:()=>L(null),className:"bg-black bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all text-lg font-bold",children:""})]}),W&&E.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:"..."}),E.jsx("div",{className:"w-64 bg-gray-200 rounded-full h-2 mb-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${ut}%`}})}),E.jsxs("p",{className:"text-sm text-gray-600",children:[ut,"%"]})]})}),j&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[E.jsx("div",{className:"w-16 h-16 text-red-500 mx-auto mb-4",children:E.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:""}),E.jsx("button",{onClick:()=>{R(!1),ct(!0),bt(0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:""})]})}),E.jsx(xm,{src:Sc(N.storageUrl),alt:` ${N.number}`,className:"max-w-full max-h-full",objectFit:"contain",style:{maxWidth:"100%",maxHeight:"100%"},imageId:N.id,onLoadComplete:()=>{console.log(" onLoadComplete called for photo:",N?.number,"index:",V),ct(!1),bt(100),R(!1),console.log(" Modal loading state cleared"),pt(V)},onLoadError:()=>{console.log(" onLoadError called for photo:",N?.number,"index:",V),ct(!1),R(!0),console.log(" Modal loading state cleared due to error")},hideInternalLoader:!0,externalLoading:W}),V>0&&E.jsx("button",{onClick:K,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),V<o.length-1&&E.jsx("button",{onClick:st,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),E.jsx("div",{className:"border-t border-gray-200 bg-white flex flex-col justify-center",style:{height:"120px",flexShrink:0},children:E.jsxs("div",{className:"p-3 text-center",children:[E.jsxs("label",{className:"flex items-center justify-center space-x-2 cursor-pointer mb-2",children:[E.jsx("input",{type:"checkbox",checked:p.has(N.id),onChange:()=>I(N.id),disabled:m,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:`font-medium ${m?"text-gray-400":"text-blue-600"}`,children:m?"":""}),E.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:["(",String(N.number).padStart(3,"0"),")"]})]}),E.jsx("button",{onClick:_t,disabled:p.size===0&&!m,className:`w-full py-2 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:""}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3"}),E.jsx("p",{className:"text-xs text-gray-500",children:"  ESC"})]})})]})})]})},GN=()=>{const a=ui(),t=Ul(),{loading:i,purchasePhotos:r}=bm(),o=a.state?.selectedPhotos||[],u=a.state?.allPhotoOption||!1,f=a.state?.searchInfo,p=()=>u?5500:o.length<=3?0:(o.length-3)*330,y=async()=>{try{await r(o,u),t("/photo-collect",{state:{selectedPhotos:o,allPhotoOption:u}})}catch(v){console.error("Purchase error:",v),alert("")}};if(!o.length)return t("/photo-info"),null;const m=p();return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:o.map(v=>E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[E.jsxs("div",{className:"relative aspect-square",children:[E.jsx(xm,{src:v.storageUrl,alt:` ${v.number}`,className:"w-full h-full"}),E.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(v.number).padStart(3,"0")})})]})},v.id))}),E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["",m.toLocaleString(),""]}),!u&&o.length>3&&E.jsxs("p",{className:"text-gray-600",children:["",o.length-3,"  330"]})]}),!u&&E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5",children:"i"}),E.jsx("div",{className:"flex-1",children:E.jsxs("p",{className:"text-blue-800 font-medium mb-2",children:["5500",E.jsx("button",{onClick:()=>t("/photo-select",{state:{searchInfo:f,forceAllPhotoOption:!0}}),className:"text-blue-600 underline mx-1",children:""}),""]})})]})}),E.jsx("button",{onClick:y,disabled:i,className:`w-full py-4 rounded-lg font-semibold text-white transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?"...":""}),E.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:""})]})]})]})},$N=()=>{const t=ui().state?.selectedPhotos||[],i=()=>t.map(r=>String(r.number).padStart(3,"0")).join("/");return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-md mx-auto px-4 py-16",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:""}),t.length>0&&E.jsxs("div",{className:"mb-6",children:[E.jsx("p",{className:"text-gray-700 font-medium mb-2",children:":"}),E.jsx("p",{className:"text-lg font-bold text-blue-600 mb-4",children:i()})]}),E.jsx("p",{className:"text-gray-600 leading-relaxed",children:""}),E.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:E.jsx("p",{className:"text-sm text-yellow-800",children:""})})]})})]})},QN=()=>{const{loading:a,photos:t,searchGalleryPhotos:i}=bm(),[r,o]=P.useState(!0),[u,f]=P.useState(new Set),[p,y]=P.useState(!1),[m,v]=P.useState(null),[T,A]=P.useState(!1),[N,L]=P.useState(0),[V,k]=P.useState(!1),[Y,Z]=P.useState({receptionNumber:"",shootingDate:"",customerName:"",password:""}),[W,ct]=P.useState({}),ut=(S,pt)=>{Z(ht=>({...ht,[S]:pt})),ct(ht=>({...ht,[S]:""}))},bt=()=>{const S={};return Y.receptionNumber.trim()||(S.receptionNumber=""),Y.shootingDate||(S.shootingDate=""),Y.customerName.trim()||(S.customerName=""),!Y.password||!Y.password.trim()?S.password="":Y.password&&Y.password!=="torutora0820"&&(S.password=""),ct(S),Object.keys(S).length===0},j=async()=>{bt()&&(await i(Y),o(!1))},R=S=>{f(pt=>{const ht=new Set(pt);return ht.has(S)?ht.delete(S):ht.add(S),ht})},C=S=>{if(y(S),S){const pt=new Set(t.map(ht=>ht.id));f(pt)}else f(new Set)},M=async(S,pt)=>{try{const K=await(await fetch(S)).blob(),st=window.URL.createObjectURL(K),ot=document.createElement("a");ot.href=st,ot.download=pt,document.body.appendChild(ot),ot.click(),document.body.removeChild(ot),window.URL.revokeObjectURL(st)}catch(ht){console.error("Download failed:",ht)}},I=async S=>{A(!0),L(0);const pt=setInterval(()=>{L(ht=>ht>=100?(clearInterval(pt),100):ht+10)},100);try{await M(S.storageUrl,`photo_${S.number}.jpg`),setTimeout(()=>{A(!1),k(!0),L(0)},1200)}catch{A(!1),L(0),alert("")}},z=async()=>{if(u.size===0)return;A(!0),L(0);const S=t.filter(ht=>u.has(ht.id));let pt=0;for(const ht of S)try{await M(ht.storageUrl,`photo_${ht.number}.jpg`),pt++,L(pt/S.length*100)}catch{console.error("Download failed for photo:",ht.number)}setTimeout(()=>{A(!1),k(!0),L(0)},500)};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),r&&E.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50 p-4",children:r&&E.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:""}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",value:Y.receptionNumber,onChange:S=>ut("receptionNumber",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${W.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),W.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"date",value:Y.shootingDate,onChange:S=>ut("shootingDate",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${W.shootingDate?"border-red-500":"border-gray-300"}`}),W.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"text",value:Y.customerName,onChange:S=>ut("customerName",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${W.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),W.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.customerName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),E.jsx("input",{type:"password",value:Y.password,onChange:S=>ut("password",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${W.password?"border-red-500":"border-gray-300"}`,placeholder:""}),W.password&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.password})]}),E.jsx("button",{onClick:j,disabled:a,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${a?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:a?"...":""})]})]})}),T&&E.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:E.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 shadow-lg pointer-events-auto",children:[E.jsx("div",{className:"text-center mb-4",children:E.jsxs("span",{className:"text-lg font-medium",children:[Math.round(N),"%"]})}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${N}%`}})})]})}),V&&E.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:E.jsxs("div",{className:"bg-white rounded-lg p-8 text-center shadow-lg pointer-events-auto",children:[E.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-4",children:""}),E.jsx("button",{onClick:()=>k(!1),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:""})]})}),!r&&E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:t.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:""}),E.jsx("p",{className:"text-gray-600",children:"Line"}),E.jsx("button",{onClick:()=>o(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:t.map(S=>E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(S),children:[E.jsxs("div",{className:"relative aspect-square",children:[E.jsx("img",{src:S.storageUrl,alt:` ${S.number}`,className:"w-full h-full object-cover"}),E.jsx("button",{onClick:pt=>{pt.stopPropagation(),R(S.id)},className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${u.has(S.id)?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:u.has(S.id)&&E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(S.number).padStart(3,"0")})})]})},S.id))}),E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mb-4",children:[E.jsx("input",{type:"checkbox",checked:p,onChange:S=>C(S.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:"text-gray-800 font-medium",children:""})]}),E.jsxs("button",{onClick:z,disabled:u.size===0||T,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${u.size===0||T?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[" (",u.size,")"]})]})]})}),m&&E.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:1e3},children:[E.jsxs("div",{className:"flex items-center justify-between bg-white text-gray-800 p-4 shadow-sm",children:[E.jsx("button",{onClick:()=>v(null),className:"text-gray-800 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),E.jsx("span",{className:"font-medium",children:String(m.number).padStart(3,"0")}),E.jsx("button",{onClick:()=>R(m.id),className:`w-8 h-8 rounded flex items-center justify-center ${u.has(m.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:u.has(m.id)&&E.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"flex items-center justify-center bg-black",style:{height:"calc(100vh - 140px)"},children:E.jsx("img",{src:m.storageUrl,alt:` ${m.number}`,className:"max-w-full max-h-full object-contain"})}),E.jsx("div",{className:"p-4 bg-white border-t border-gray-200",style:{height:"80px"},children:E.jsxs("button",{onClick:()=>I(m),disabled:T,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors flex items-center justify-center ${T?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:[E.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),T?"...":""]})})]})]})};function YN(){return E.jsxs(LT,{children:[E.jsx($a,{path:"/nouhin",element:E.jsx(UN,{})}),E.jsx($a,{path:"/photo-info",element:E.jsx(LN,{})}),E.jsx($a,{path:"/photo-select",element:E.jsx(FN,{})}),E.jsx($a,{path:"/photo-check",element:E.jsx(GN,{})}),E.jsx($a,{path:"/photo-collect",element:E.jsx($N,{})}),E.jsx($a,{path:"/gallery",element:E.jsx(QN,{})}),E.jsx($a,{path:"/",element:E.jsx(PT,{to:"/photo-info",replace:!0})})]})}Y1.createRoot(document.getElementById("root")).render(E.jsx(C0.StrictMode,{children:E.jsx(lw,{children:E.jsx(YN,{})})}));
