(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function lh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var wd={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function U1(){if(Pv)return gl;Pv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:r,key:f,ref:o!==void 0?o:null,props:c}}return gl.Fragment=e,gl.jsx=i,gl.jsxs=i,gl}var Uv;function L1(){return Uv||(Uv=1,wd.exports=U1()),wd.exports}var E=L1(),Ad={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function z1(){if(Lv)return ke;Lv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,M={};function k(D,J,le){this.props=D,this.context=J,this.refs=M,this.updater=le||I}k.prototype.isReactComponent={},k.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Q(){}Q.prototype=k.prototype;function W(D,J,le){this.props=D,this.context=J,this.refs=M,this.updater=le||I}var K=W.prototype=new Q;K.constructor=W,U(K,k.prototype),K.isPureReactComponent=!0;var fe=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function P(D,J,le,G,re,de){return le=de.ref,{$$typeof:a,type:D,key:J,ref:le!==void 0?le:null,props:de}}function R(D,J){return P(D.type,J,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function V(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return J[le]})}var N=/\/+/g;function z(D,J){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):J.toString(36)}function S(){}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(S,S):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ce(D,J,le,G,re){var de=typeof D;(de==="undefined"||de==="boolean")&&(D=null);var ge=!1;if(D===null)ge=!0;else switch(de){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(D.$$typeof){case a:case e:ge=!0;break;case v:return ge=D._init,ce(ge(D._payload),J,le,G,re)}}if(ge)return re=re(D),ge=G===""?"."+z(D,0):G,fe(re)?(le="",ge!=null&&(le=ge.replace(N,"$&/")+"/"),ce(re,J,le,"",function(Ze){return Ze})):re!=null&&(C(re)&&(re=R(re,le+(re.key==null||D&&D.key===re.key?"":(""+re.key).replace(N,"$&/")+"/")+ge)),J.push(re)),1;ge=0;var Ve=G===""?".":G+":";if(fe(D))for(var Me=0;Me<D.length;Me++)G=D[Me],de=Ve+z(G,Me),ge+=ce(G,J,le,de,re);else if(Me=A(D),typeof Me=="function")for(D=Me.call(D),Me=0;!(G=D.next()).done;)G=G.value,de=Ve+z(G,Me++),ge+=ce(G,J,le,de,re);else if(de==="object"){if(typeof D.then=="function")return ce(pe(D),J,le,G,re);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ge}function X(D,J,le){if(D==null)return D;var G=[],re=0;return ce(D,G,"","",function(de){return J.call(le,de,re++)}),G}function se(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var oe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function we(){}return ke.Children={map:X,forEach:function(D,J,le){X(D,function(){J.apply(this,arguments)},le)},count:function(D){var J=0;return X(D,function(){J++}),J},toArray:function(D){return X(D,function(J){return J})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ke.Component=k,ke.Fragment=i,ke.Profiler=o,ke.PureComponent=W,ke.StrictMode=r,ke.Suspense=y,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return he.H.useMemoCache(D)}},ke.cache=function(D){return function(){return D.apply(null,arguments)}},ke.cloneElement=function(D,J,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var G=U({},D.props),re=D.key,de=void 0;if(J!=null)for(ge in J.ref!==void 0&&(de=void 0),J.key!==void 0&&(re=""+J.key),J)!be.call(J,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&J.ref===void 0||(G[ge]=J[ge]);var ge=arguments.length-2;if(ge===1)G.children=le;else if(1<ge){for(var Ve=Array(ge),Me=0;Me<ge;Me++)Ve[Me]=arguments[Me+2];G.children=Ve}return P(D.type,re,void 0,void 0,de,G)},ke.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},ke.createElement=function(D,J,le){var G,re={},de=null;if(J!=null)for(G in J.key!==void 0&&(de=""+J.key),J)be.call(J,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(re[G]=J[G]);var ge=arguments.length-2;if(ge===1)re.children=le;else if(1<ge){for(var Ve=Array(ge),Me=0;Me<ge;Me++)Ve[Me]=arguments[Me+2];re.children=Ve}if(D&&D.defaultProps)for(G in ge=D.defaultProps,ge)re[G]===void 0&&(re[G]=ge[G]);return P(D,de,void 0,void 0,null,re)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(D){return{$$typeof:p,render:D}},ke.isValidElement=C,ke.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:se}},ke.memo=function(D,J){return{$$typeof:m,type:D,compare:J===void 0?null:J}},ke.startTransition=function(D){var J=he.T,le={};he.T=le;try{var G=D(),re=he.S;re!==null&&re(le,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(we,oe)}catch(de){oe(de)}finally{he.T=J}},ke.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},ke.use=function(D){return he.H.use(D)},ke.useActionState=function(D,J,le){return he.H.useActionState(D,J,le)},ke.useCallback=function(D,J){return he.H.useCallback(D,J)},ke.useContext=function(D){return he.H.useContext(D)},ke.useDebugValue=function(){},ke.useDeferredValue=function(D,J){return he.H.useDeferredValue(D,J)},ke.useEffect=function(D,J,le){var G=he.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(D,J)},ke.useId=function(){return he.H.useId()},ke.useImperativeHandle=function(D,J,le){return he.H.useImperativeHandle(D,J,le)},ke.useInsertionEffect=function(D,J){return he.H.useInsertionEffect(D,J)},ke.useLayoutEffect=function(D,J){return he.H.useLayoutEffect(D,J)},ke.useMemo=function(D,J){return he.H.useMemo(D,J)},ke.useOptimistic=function(D,J){return he.H.useOptimistic(D,J)},ke.useReducer=function(D,J,le){return he.H.useReducer(D,J,le)},ke.useRef=function(D){return he.H.useRef(D)},ke.useState=function(D){return he.H.useState(D)},ke.useSyncExternalStore=function(D,J,le){return he.H.useSyncExternalStore(D,J,le)},ke.useTransition=function(){return he.H.useTransition()},ke.version="19.1.1",ke}var zv;function Cp(){return zv||(zv=1,Ad.exports=z1()),Ad.exports}var j=Cp();const O_=lh(j);var Sd={exports:{}},yl={},Rd={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function B1(){return Bv||(Bv=1,(function(a){function e(X,se){var oe=X.length;X.push(se);e:for(;0<oe;){var we=oe-1>>>1,D=X[we];if(0<o(D,se))X[we]=se,X[oe]=D,oe=we;else break e}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],oe=X.pop();if(oe!==se){X[0]=oe;e:for(var we=0,D=X.length,J=D>>>1;we<J;){var le=2*(we+1)-1,G=X[le],re=le+1,de=X[re];if(0>o(G,oe))re<D&&0>o(de,G)?(X[we]=de,X[re]=oe,we=re):(X[we]=G,X[le]=oe,we=le);else if(re<D&&0>o(de,oe))X[we]=de,X[re]=oe,we=re;else break e}}return se}function o(X,se){var oe=X.sortIndex-se.sortIndex;return oe!==0?oe:X.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var y=[],m=[],v=1,w=null,A=3,I=!1,U=!1,M=!1,k=!1,Q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var se=i(m);se!==null;){if(se.callback===null)r(m);else if(se.startTime<=X)r(m),se.sortIndex=se.expirationTime,e(y,se);else break;se=i(m)}}function he(X){if(M=!1,fe(X),!U)if(i(y)!==null)U=!0,be||(be=!0,z());else{var se=i(m);se!==null&&ce(he,se.startTime-X)}}var be=!1,P=-1,R=5,C=-1;function V(){return k?!0:!(a.unstable_now()-C<R)}function N(){if(k=!1,be){var X=a.unstable_now();C=X;var se=!0;try{e:{U=!1,M&&(M=!1,W(P),P=-1),I=!0;var oe=A;try{t:{for(fe(X),w=i(y);w!==null&&!(w.expirationTime>X&&V());){var we=w.callback;if(typeof we=="function"){w.callback=null,A=w.priorityLevel;var D=we(w.expirationTime<=X);if(X=a.unstable_now(),typeof D=="function"){w.callback=D,fe(X),se=!0;break t}w===i(y)&&r(y),fe(X)}else r(y);w=i(y)}if(w!==null)se=!0;else{var J=i(m);J!==null&&ce(he,J.startTime-X),se=!1}}break e}finally{w=null,A=oe,I=!1}se=void 0}}finally{se?z():be=!1}}}var z;if(typeof K=="function")z=function(){K(N)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,pe=S.port2;S.port1.onmessage=N,z=function(){pe.postMessage(null)}}else z=function(){Q(N,0)};function ce(X,se){P=Q(function(){X(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(X){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var oe=A;A=se;try{return X()}finally{A=oe}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=A;A=X;try{return se()}finally{A=oe}},a.unstable_scheduleCallback=function(X,se,oe){var we=a.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?we+oe:we):oe=we,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=oe+D,X={id:v++,callback:se,priorityLevel:X,startTime:oe,expirationTime:D,sortIndex:-1},oe>we?(X.sortIndex=oe,e(m,X),i(y)===null&&X===i(m)&&(M?(W(P),P=-1):M=!0,ce(he,oe-we))):(X.sortIndex=D,e(y,X),U||I||(U=!0,be||(be=!0,z()))),X},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(X){var se=A;return function(){var oe=A;A=se;try{return X.apply(this,arguments)}finally{A=oe}}}})(Cd)),Cd}var qv;function q1(){return qv||(qv=1,Rd.exports=B1()),Rd.exports}var Dd={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function H1(){if(Hv)return on;Hv=1;var a=Cp();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,m,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:m,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,v)},on.flushSync=function(y){var m=f.T,v=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=m,r.p=v,r.d.f()}},on.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},on.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},on.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,w=p(v,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,I=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:I}):v==="script"&&r.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:I,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},on.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,w=p(v,m.crossOrigin);r.d.L(y,v,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},on.requestFormReset=function(y){r.d.r(y)},on.unstable_batchedUpdates=function(y,m){return y(m)},on.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.1.1",on}var Fv;function F1(){if(Fv)return Dd.exports;Fv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Dd.exports=H1(),Dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function G1(){if(Gv)return yl;Gv=1;var a=q1(),e=Cp(),i=F1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),t;if(d===l)return p(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=d;else{for(var b=!1,x=h.child;x;){if(x===s){b=!0,s=h,l=d;break}if(x===l){b=!0,l=h,s=d;break}x=x.sibling}if(!b){for(x=d.child;x;){if(x===s){b=!0,s=d,l=h;break}if(x===l){b=!0,l=d,s=h;break}x=x.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),K=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case he:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case K:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case fe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return pe(t(n))}catch{}}return null}var ce=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},we=[],D=-1;function J(t){return{current:t}}function le(t){0>D||(t.current=we[D],we[D]=null,D--)}function G(t,n){D++,we[D]=t.current,t.current=n}var re=J(null),de=J(null),ge=J(null),Ve=J(null);function Me(t,n){switch(G(ge,n),G(de,t),G(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?hv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=hv(n),t=fv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(re),G(re,t)}function Ze(){le(re),le(de),le(ge)}function rt(t){t.memoizedState!==null&&G(Ve,t);var n=re.current,s=fv(n,t.type);n!==s&&(G(de,t),G(re,s))}function We(t){de.current===t&&(le(re),le(de)),Ve.current===t&&(le(Ve),hl._currentValue=oe)}var ft=Object.prototype.hasOwnProperty,Ht=a.unstable_scheduleCallback,vn=a.unstable_cancelCallback,In=a.unstable_shouldYield,ui=a.unstable_requestPaint,gt=a.unstable_now,Qn=a.unstable_getCurrentPriorityLevel,hi=a.unstable_ImmediatePriority,Yn=a.unstable_UserBlockingPriority,Ui=a.unstable_NormalPriority,ho=a.unstable_LowPriority,ya=a.unstable_IdlePriority,me=a.log,Te=a.unstable_setDisableYieldValue,Oe=null,Ce=null;function st(t){if(typeof me=="function"&&Te(t),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(Oe,t)}catch{}}var bt=Math.clz32?Math.clz32:Xn,Kn=Math.log,or=Math.LN2;function Xn(t){return t>>>=0,t===0?32:31-(Kn(t)/or|0)|0}var Zn=256,On=4194304;function hn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=hn(l):(b&=x,b!==0?h=hn(b):s||(s=x&~t,s!==0&&(h=hn(s))))):(x=l&~d,x!==0?h=hn(x):b!==0?h=hn(b):s||(s=l&~t,s!==0&&(h=hn(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Li(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(){var t=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),t}function fo(){var t=On;return On<<=1,(On&62914560)===0&&(On=4194304),t}function zi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Bi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function po(t,n,s,l,h,d){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(s=b&~s;0<s;){var ee=31-bt(s),ne=1<<ee;x[ee]=0,O[ee]=-1;var $=F[ee];if($!==null)for(F[ee]=null,ee=0;ee<$.length;ee++){var Y=$[ee];Y!==null&&(Y.lane&=-536870913)}s&=~ne}l!==0&&di(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(b&~n))}function di(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-bt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function mo(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-bt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function va(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _a(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Iv(t.type))}function Kl(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var dt=Math.random().toString(36).slice(2),Pt="__reactFiber$"+dt,Nt="__reactProps$"+dt,Mn="__reactContainer$"+dt,go="__reactEvents$"+dt,Sh="__reactListeners$"+dt,ba="__reactHandles$"+dt,Xl="__reactResources$"+dt,cr="__reactMarker$"+dt;function xa(t){delete t[Pt],delete t[Nt],delete t[go],delete t[Sh],delete t[ba]}function qi(t){var n=t[Pt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Mn]||s[Pt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=gv(t);t!==null;){if(s=t[Pt])return s;t=gv(t)}return n}t=s,s=t.parentNode}return null}function pi(t){if(t=t[Pt]||t[Mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function mi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function fn(t){var n=t[Xl];return n||(n=t[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(t){t[cr]=!0}var yo=new Set,Wr={};function Jn(t,n){Hi(t,n),Hi(t+"Capture",n)}function Hi(t,n){for(Wr[t]=n,t=0;t<n.length;t++)yo.add(n[t])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},ur={};function Jl(t){return ft.call(ur,t)?!0:ft.call(Wl,t)?!1:Zl.test(t)?ur[t]=!0:(Wl[t]=!0,!1)}function Ea(t,n,s){if(Jl(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function gi(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Zt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var hr,ec;function Fi(t){if(hr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);hr=n&&n[1]||"",ec=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+t+ec}var Jr=!1;function es(t,n){if(!t||Jr)return"";Jr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var $=Y}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Y){$=Y}t.call(ne.prototype)}}else{try{throw Error()}catch(Y){$=Y}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],x=d[1];if(b&&x){var O=b.split(`
`),F=x.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===F.length)for(l=O.length-1,h=F.length-1;1<=l&&0<=h&&O[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==F[h]){var ee=`
`+O[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=h);break}}}finally{Jr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Fi(s):""}function vo(t){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return es(t.type,!1);case 11:return es(t.type.render,!1);case 1:return es(t.type,!0);case 31:return Fi("Activity");default:return""}}function ts(t){try{var n="";do n+=vo(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _o(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rh(t){var n=_o(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ns(t){t._valueTracker||(t._valueTracker=Rh(t))}function bo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=_o(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ch=/[\n"\\]/g;function It(t){return t.replace(Ch,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(t,n,s,l,h,d,b,x){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+dn(n)):t.value!==""+dn(n)&&(t.value=""+dn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?Ta(t,b,dn(n)):s!=null?Ta(t,b,dn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+dn(x):t.removeAttribute("name")}function dr(t,n,s,l,h,d,b,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+dn(s):"",n=n!=null?""+dn(n):s,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Ta(t,n,s){n==="number"&&fr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Gi(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function tt(t,n,s){if(n!=null&&(n=""+dn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+dn(s):""}function pr(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=dn(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Vn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||mr.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function xo(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&tc(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&tc(t,d,n[d])}function Eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(t){return Nh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $i=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,Yi=null;function To(t){var n=pi(t);if(n&&(t=n.stateNode)){var s=t[Nt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Tn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+It(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Nt]||null;if(!h)throw Error(r(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&bo(l)}break e;case"textarea":tt(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Gi(t,!!s.multiple,n,!1)}}}var yi=!1;function nc(t,n,s){if(yi)return t(n,s);yi=!0;try{var l=t(n);return l}finally{if(yi=!1,(Qi!==null||Yi!==null)&&(Kc(),Qi&&(n=Qi,t=Yi,Yi=Qi=null,To(n),t)))for(n=0;n<t.length;n++)To(t[n])}}function gr(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Nt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(ei)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){jn=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{jn=!1}var vi=null,wa=null,Ki=null;function wo(){if(Ki)return Ki;var t,n=wa,s=n.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var b=s-t;for(l=1;l<=b&&n[s-l]===h[d-l];l++);return Ki=h.slice(t,1<l?1-l:void 0)}function _i(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function Ao(){return!1}function Ft(t){function n(s,l,h,d,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bi:Ao,this.isPropagationStopped=Ao,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Ft(Ke),vr=v({},Ke,{view:0,detail:0}),ic=Ft(vr),rs,ss,xi,_r=v({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(rs=t.screenX-xi.screenX,ss=t.screenY-xi.screenY):ss=rs=0,xi=t),rs)},movementY:function(t){return"movementY"in t?t.movementY:ss}}),Pn=Ft(_r),ac=v({},_r,{dataTransfer:0}),Ih=Ft(ac),br=v({},vr,{relatedTarget:0}),os=Ft(br),So=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Ft(So),rc=v({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cs=Ft(rc),Oh=v({},Ke,{data:0}),Ro=Ft(Oh),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=oc[t])?!!n[t]:!1}function Er(){return Co}var lc=v({},vr,{key:function(t){if(t.key){var n=xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=_i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(t){return t.type==="keypress"?_i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),us=Ft(lc),cc=v({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=Ft(cc),Xi=v({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),uc=Ft(Xi),hc=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),fc=Ft(hc),dc=v({},_r,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hs=Ft(dc),pn=v({},Ke,{newState:0,oldState:0}),pc=Ft(pn),mc=[9,13,27,32],Ei=ei&&"CompositionEvent"in window,u=null;ei&&"documentMode"in document&&(u=document.documentMode);var g=ei&&"TextEvent"in window&&!u,_=ei&&(!Ei||u&&8<u&&11>=u),T=" ",q=!1;function Z(t,n){switch(t){case"keyup":return mc.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function Ut(t,n){switch(t){case"compositionend":return ue(n);case"keypress":return n.which!==32?null:(q=!0,T);case"textInput":return t=n.data,t===T&&q?null:t;default:return null}}function He(t,n){if(qe)return t==="compositionend"||!Ei&&Z(t,n)?(t=wo(),Ki=wa=vi=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Gt[t.type]:n==="textarea"}function Zi(t,n,s,l){Qi?Yi?Yi.push(l):Yi=[l]:Qi=l,n=tu(n,"onChange"),0<n.length&&(s=new as("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Wt=null,Ti=null;function No(t){sv(t,0)}function gc(t){var n=mi(t);if(bo(n))return t}function Rm(t,n){if(t==="change")return n}var Cm=!1;if(ei){var Mh;if(ei){var Vh="oninput"in document;if(!Vh){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Vh=typeof Dm.oninput=="function"}Mh=Vh}else Mh=!1;Cm=Mh&&(!document.documentMode||9<document.documentMode)}function Nm(){Wt&&(Wt.detachEvent("onpropertychange",Im),Ti=Wt=null)}function Im(t){if(t.propertyName==="value"&&gc(Ti)){var n=[];Zi(n,Ti,t,kn(t)),nc(No,n)}}function pE(t,n,s){t==="focusin"?(Nm(),Wt=n,Ti=s,Wt.attachEvent("onpropertychange",Im)):t==="focusout"&&Nm()}function mE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(Ti)}function gE(t,n){if(t==="click")return gc(n)}function yE(t,n){if(t==="input"||t==="change")return gc(n)}function vE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:vE;function Io(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ft.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mm(t,n){var s=Om(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Om(s)}}function Vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function km(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=fr(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=fr(t.document)}return n}function kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _E=ei&&"documentMode"in document&&11>=document.documentMode,fs=null,jh=null,Oo=null,Ph=!1;function jm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||fs==null||fs!==fr(l)||(l=fs,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oo&&Io(Oo,l)||(Oo=l,l=tu(jh,"onSelect"),0<l.length&&(n=new as("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=fs)))}function Tr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ds={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Uh={},Pm={};ei&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function wr(t){if(Uh[t])return Uh[t];if(!ds[t])return t;var n=ds[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pm)return Uh[t]=n[s];return t}var Um=wr("animationend"),Lm=wr("animationiteration"),zm=wr("animationstart"),bE=wr("transitionrun"),xE=wr("transitionstart"),EE=wr("transitioncancel"),Bm=wr("transitionend"),qm=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function ti(t,n){qm.set(t,n),Jn(n,[t])}var Hm=new WeakMap;function Un(t,n){if(typeof t=="object"&&t!==null){var s=Hm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ts(n)},Hm.set(t,n),n)}return{value:t,source:n,stack:ts(n)}}var Ln=[],ps=0,zh=0;function yc(){for(var t=ps,n=zh=ps=0;n<t;){var s=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var d=Ln[n];if(Ln[n++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}d!==0&&Fm(s,h,d)}}function vc(t,n,s,l){Ln[ps++]=t,Ln[ps++]=n,Ln[ps++]=s,Ln[ps++]=l,zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bh(t,n,s,l){return vc(t,n,s,l),_c(t)}function ms(t,n){return vc(t,null,null,n),_c(t)}function Fm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-bt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function _c(t){if(50<il)throw il=0,Yf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var gs={};function TE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,s,l){return new TE(t,n,s,l)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var s=t.alternate;return s===null?(s=An(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Gm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function bc(t,n,s,l,h,d){var b=0;if(l=t,typeof t=="function")qh(t)&&(b=1);else if(typeof t=="string")b=A1(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=An(31,s,n,h),t.elementType=C,t.lanes=d,t;case U:return Ar(s.children,h,d,n);case M:b=8,h|=24;break;case k:return t=An(12,s,n,h|2),t.elementType=k,t.lanes=d,t;case he:return t=An(13,s,n,h),t.elementType=he,t.lanes=d,t;case be:return t=An(19,s,n,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case K:b=10;break e;case W:b=9;break e;case fe:b=11;break e;case P:b=14;break e;case R:b=16,l=null;break e}b=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=An(b,s,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Ar(t,n,s,l){return t=An(7,t,l,n),t.lanes=s,t}function Hh(t,n,s){return t=An(6,t,null,n),t.lanes=s,t}function Fh(t,n,s){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ys=[],vs=0,xc=null,Ec=0,zn=[],Bn=0,Sr=null,Ji=1,ea="";function Rr(t,n){ys[vs++]=Ec,ys[vs++]=xc,xc=t,Ec=n}function $m(t,n,s){zn[Bn++]=Ji,zn[Bn++]=ea,zn[Bn++]=Sr,Sr=t;var l=Ji;t=ea;var h=32-bt(l)-1;l&=~(1<<h),s+=1;var d=32-bt(n)+h;if(30<d){var b=h-h%5;d=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Ji=1<<32-bt(n)+h|s<<h|l,ea=d+t}else Ji=1<<d|s<<h|l,ea=t}function Gh(t){t.return!==null&&(Rr(t,1),$m(t,1,0))}function $h(t){for(;t===xc;)xc=ys[--vs],ys[vs]=null,Ec=ys[--vs],ys[vs]=null;for(;t===Sr;)Sr=zn[--Bn],zn[Bn]=null,ea=zn[--Bn],zn[Bn]=null,Ji=zn[--Bn],zn[Bn]=null}var mn=null,xt=null,Ye=!1,Cr=null,wi=!1,Qh=Error(r(519));function Dr(t){var n=Error(r(418,""));throw ko(Un(n,t)),Qh}function Qm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Pt]=t,n[Nt]=l,s){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)Le(rl[s],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),dr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ns(n);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),pr(n,l.value,l.defaultValue,l.children),ns(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||uv(n.textContent,s)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=nu),n=!0):n=!1,n||Dr(t)}function Ym(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:mn=mn.return}}function Mo(t){if(t!==mn)return!1;if(!Ye)return Ym(t),Ye=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ud(t.type,t.memoizedProps)),s=!s),s&&xt&&Dr(t),Ym(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){xt=ii(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}xt=null}}else n===27?(n=xt,za(t.type)?(t=pd,pd=null,xt=t):xt=n):xt=mn?ii(t.stateNode.nextSibling):null;return!0}function Vo(){xt=mn=null,Ye=!1}function Km(){var t=Cr;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),Cr=null),t}function ko(t){Cr===null?Cr=[t]:Cr.push(t)}var Yh=J(null),Nr=null,ta=null;function Aa(t,n,s){G(Yh,n._currentValue),n._currentValue=s}function na(t){t._currentValue=Yh.current,le(Yh)}function Kh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Xh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var b=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var O=0;O<n.length;O++)if(x.context===n[O]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),Kh(d.return,s,t),l||(b=null);break e}d=x.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=s,d=b.alternate,d!==null&&(d.lanes|=s),Kh(b,s,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function jo(t,n,s,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=h.type;wn(h.pendingProps.value,b.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ve.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(hl):t=[hl])}h=h.return}t!==null&&Xh(n,t,s,l),n.flags|=262144}function Tc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){Nr=t,ta=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Xm(Nr,t)}function wc(t,n){return Nr===null&&Ir(t),Xm(t,n)}function Xm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ta===null){if(t===null)throw Error(r(308));ta=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ta=ta.next=n;return s}var wE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},AE=a.unstable_scheduleCallback,SE=a.unstable_NormalPriority,zt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new wE,data:new Map,refCount:0}}function Po(t){t.refCount--,t.refCount===0&&AE(SE,function(){t.controller.abort()})}var Uo=null,Wh=0,_s=0,bs=null;function RE(t,n){if(Uo===null){var s=Uo=[];Wh=0,_s=td(),bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(Zm,Zm),n}function Zm(){if(--Wh===0&&Uo!==null){bs!==null&&(bs.status="fulfilled");var t=Uo;Uo=null,_s=0,bs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Wm=X.S;X.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&RE(t,n),Wm!==null&&Wm(t,n)};var Or=J(null);function Jh(){var t=Or.current;return t!==null?t:ct.pooledCache}function Ac(t,n){n===null?G(Or,Or.current):G(Or,n.pool)}function Jm(){var t=Jh();return t===null?null:{parent:zt._currentValue,pool:t}}var Lo=Error(r(460)),eg=Error(r(474)),Sc=Error(r(542)),ef={then:function(){}};function tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rc(){}function ng(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Rc,Rc),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t;default:if(typeof n.status=="string")n.then(Rc,Rc);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t}throw zo=n,Lo}}var zo=null;function ig(){if(zo===null)throw Error(r(459));var t=zo;return zo=null,t}function ag(t){if(t===Lo||t===Sc)throw Error(r(483))}var Sa=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=_c(t),Fm(t,null,s),n}return vc(t,l,n,s),_c(t)}function Bo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,mo(t,s)}}function af(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=b:d=d.next=b,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var rf=!1;function qo(){if(rf){var t=bs;if(t!==null)throw t}}function Ho(t,n,s,l){rf=!1;var h=t.updateQueue;Sa=!1;var d=h.firstBaseUpdate,b=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var O=x,F=O.next;O.next=null,b===null?d=F:b.next=F,b=O;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,x=ee.lastBaseUpdate,x!==b&&(x===null?ee.firstBaseUpdate=F:x.next=F,ee.lastBaseUpdate=O))}if(d!==null){var ne=h.baseState;b=0,ee=F=O=null,x=d;do{var $=x.lane&-536870913,Y=$!==x.lane;if(Y?(Fe&$)===$:(l&$)===$){$!==0&&$===_s&&(rf=!0),ee!==null&&(ee=ee.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var De=t,Ae=x;$=n;var at=s;switch(Ae.tag){case 1:if(De=Ae.payload,typeof De=="function"){ne=De.call(at,ne,$);break e}ne=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ae.payload,$=typeof De=="function"?De.call(at,ne,$):De,$==null)break e;ne=v({},ne,$);break e;case 2:Sa=!0}}$=x.callback,$!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[$]:Y.push($))}else Y={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ee===null?(F=ee=Y,O=ne):ee=ee.next=Y,b|=$;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);ee===null&&(O=ne),h.baseState=O,h.firstBaseUpdate=F,h.lastBaseUpdate=ee,d===null&&(h.shared.lanes=0),ja|=b,t.lanes=b,t.memoizedState=ne}}function rg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function sg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)rg(s[t],n)}var xs=J(null),Cc=J(0);function og(t,n){t=ca,G(Cc,t),G(xs,n),ca=t|n.baseLanes}function sf(){G(Cc,ca),G(xs,xs.current)}function of(){ca=Cc.current,le(xs),le(Cc)}var Da=0,je=null,nt=null,Ot=null,Dc=!1,Es=!1,Mr=!1,Nc=0,Fo=0,Ts=null,DE=0;function Rt(){throw Error(r(321))}function lf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!wn(t[s],n[s]))return!1;return!0}function cf(t,n,s,l,h,d){return Da=d,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?Fg:Gg,Mr=!1,d=s(l,h),Mr=!1,Es&&(d=cg(n,s,l,h)),lg(t),d}function lg(t){X.H=jc;var n=nt!==null&&nt.next!==null;if(Da=0,Ot=nt=je=null,Dc=!1,Fo=0,Ts=null,n)throw Error(r(300));t===null||$t||(t=t.dependencies,t!==null&&Tc(t)&&($t=!0))}function cg(t,n,s,l){je=t;var h=0;do{if(Es&&(Ts=null),Fo=0,Es=!1,25<=h)throw Error(r(301));if(h+=1,Ot=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=jE,d=n(s,l)}while(Es);return d}function NE(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Go(n):n,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(je.flags|=1024),n}function uf(){var t=Nc!==0;return Nc=0,t}function hf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function ff(t){if(Dc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Dc=!1}Da=0,Ot=nt=je=null,Es=!1,Fo=Nc=0,Ts=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?je.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Mt(){if(nt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var n=Ot===null?je.memoizedState:Ot.next;if(n!==null)Ot=n,nt=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ot===null?je.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(t){var n=Fo;return Fo+=1,Ts===null&&(Ts=[]),t=ng(Ts,t,n),n=je,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?Fg:Gg),t}function Ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Go(t);if(t.$$typeof===K)return sn(t)}throw Error(r(438,String(t)))}function pf(t){var n=null,s=je.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=df(),je.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function ia(t,n){return typeof n=="function"?n(t):n}function Oc(t){var n=Mt();return mf(n,nt,t)}function mf(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var b=h.next;h.next=d.next,d.next=b}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var x=b=null,O=null,F=n,ee=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Fe&ne)===ne:(Da&ne)===ne){var $=F.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===_s&&(ee=!0);else if((Da&$)===$){F=F.next,$===_s&&(ee=!0);continue}else ne={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(x=O=ne,b=d):O=O.next=ne,je.lanes|=$,ja|=$;ne=F.action,Mr&&s(d,ne),d=F.hasEagerState?F.eagerState:s(d,ne)}else $={lane:ne,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(x=O=$,b=d):O=O.next=$,je.lanes|=ne,ja|=ne;F=F.next}while(F!==null&&F!==n);if(O===null?b=d:O.next=x,!wn(d,t.memoizedState)&&($t=!0,ee&&(s=bs,s!==null)))throw s;t.memoizedState=d,t.baseState=b,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gf(t){var n=Mt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do d=t(d,b.action),b=b.next;while(b!==h);wn(d,n.memoizedState)||($t=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function ug(t,n,s){var l=je,h=Mt(),d=Ye;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var b=!wn((nt||h).memoizedState,s);b&&(h.memoizedState=s,$t=!0),h=h.queue;var x=dg.bind(null,l,h,t);if($o(2048,8,x,[t]),h.getSnapshot!==n||b||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,ws(9,Mc(),fg.bind(null,l,h,s,n),null),ct===null)throw Error(r(349));d||(Da&124)!==0||hg(l,n,s)}return s}function hg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=je.updateQueue,n===null?(n=df(),je.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function fg(t,n,s,l){n.value=s,n.getSnapshot=l,pg(n)&&mg(t)}function dg(t,n,s){return s(function(){pg(n)&&mg(t)})}function pg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!wn(t,s)}catch{return!0}}function mg(t){var n=ms(t,2);n!==null&&Nn(n,t,2)}function yf(t){var n=_n();if(typeof t=="function"){var s=t;if(t=s(),Mr){st(!0);try{s()}finally{st(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:t},n}function gg(t,n,s,l){return t.baseState=s,mf(t,nt,typeof l=="function"?l:ia)}function IE(t,n,s,l,h){if(kc(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};X.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,yg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function yg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=X.T,b={};X.T=b;try{var x=s(h,l),O=X.S;O!==null&&O(b,x),vg(t,n,x)}catch(F){vf(t,n,F)}finally{X.T=d}}else try{d=s(h,l),vg(t,n,d)}catch(F){vf(t,n,F)}}function vg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){_g(t,n,l)},function(l){return vf(t,n,l)}):_g(t,n,s)}function _g(t,n,s){n.status="fulfilled",n.value=s,bg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,yg(t,s)))}function vf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,bg(n),n=n.next;while(n!==l)}t.action=null}function bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xg(t,n){return n}function Eg(t,n){if(Ye){var s=ct.formState;if(s!==null){e:{var l=je;if(Ye){if(xt){t:{for(var h=xt,d=wi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=ii(h.nextSibling),l=h.data==="F!";break e}}Dr(l)}l=!1}l&&(n=s[0])}}return s=_n(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},s.queue=l,s=Bg.bind(null,je,l),l.dispatch=s,l=yf(!1),d=Tf.bind(null,je,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=IE.bind(null,je,h,d,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function Tg(t){var n=Mt();return wg(n,nt,t)}function wg(t,n,s){if(n=mf(t,n,xg)[0],t=Oc(ia)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Go(n)}catch(b){throw b===Lo?Sc:b}else l=n;n=Mt();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(je.flags|=2048,ws(9,Mc(),OE.bind(null,h,s),null)),[l,d,t]}function OE(t,n){t.action=n}function Ag(t){var n=Mt(),s=nt;if(s!==null)return wg(n,s,t);Mt(),n=n.memoizedState,s=Mt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ws(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=df(),je.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Mc(){return{destroy:void 0,resource:void 0}}function Sg(){return Mt().memoizedState}function Vc(t,n,s,l){var h=_n();l=l===void 0?null:l,je.flags|=t,h.memoizedState=ws(1|n,Mc(),s,l)}function $o(t,n,s,l){var h=Mt();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&lf(l,nt.memoizedState.deps)?h.memoizedState=ws(n,d,s,l):(je.flags|=t,h.memoizedState=ws(1|n,d,s,l))}function Rg(t,n){Vc(8390656,8,t,n)}function Cg(t,n){$o(2048,8,t,n)}function Dg(t,n){return $o(4,2,t,n)}function Ng(t,n){return $o(4,4,t,n)}function Ig(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Og(t,n,s){s=s!=null?s.concat([t]):null,$o(4,4,Ig.bind(null,n,t),s)}function _f(){}function Mg(t,n){var s=Mt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&lf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Vg(t,n){var s=Mt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&lf(n,l[1]))return l[0];if(l=t(),Mr){st(!0);try{t()}finally{st(!1)}}return s.memoizedState=[l,n],l}function bf(t,n,s){return s===void 0||(Da&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Py(),je.lanes|=t,ja|=t,s)}function kg(t,n,s,l){return wn(s,n)?s:xs.current!==null?(t=bf(t,s,l),wn(t,n)||($t=!0),t):(Da&42)===0?($t=!0,t.memoizedState=s):(t=Py(),je.lanes|=t,ja|=t,n)}function jg(t,n,s,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var b=X.T,x={};X.T=x,Tf(t,!1,n,s);try{var O=h(),F=X.S;if(F!==null&&F(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=CE(O,l);Qo(t,n,ee,Dn(t))}else Qo(t,n,l,Dn(t))}catch(ne){Qo(t,n,{then:function(){},status:"rejected",reason:ne},Dn())}finally{se.p=d,X.T=b}}function ME(){}function xf(t,n,s,l){if(t.tag!==5)throw Error(r(476));var h=Pg(t).queue;jg(t,h,n,oe,s===null?ME:function(){return Ug(t),s(l)})}function Pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:oe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ug(t){var n=Pg(t).next.queue;Qo(t,n,{},Dn())}function Ef(){return sn(hl)}function Lg(){return Mt().memoizedState}function zg(){return Mt().memoizedState}function VE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Dn();t=Ra(s);var l=Ca(n,t,s);l!==null&&(Nn(l,n,s),Bo(l,n,s)),n={cache:Zh()},t.payload=n;return}n=n.return}}function kE(t,n,s){var l=Dn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},kc(t)?qg(n,s):(s=Bh(t,n,s,l),s!==null&&(Nn(s,t,l),Hg(s,n,l)))}function Bg(t,n,s){var l=Dn();Qo(t,n,s,l)}function Qo(t,n,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(kc(t))qg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,x=d(b,s);if(h.hasEagerState=!0,h.eagerState=x,wn(x,b))return vc(t,n,h,0),ct===null&&yc(),!1}catch{}finally{}if(s=Bh(t,n,h,l),s!==null)return Nn(s,t,l),Hg(s,n,l),!0}return!1}function Tf(t,n,s,l){if(l={lane:2,revertLane:td(),action:l,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(n)throw Error(r(479))}else n=Bh(t,s,l,2),n!==null&&Nn(n,t,2)}function kc(t){var n=t.alternate;return t===je||n!==null&&n===je}function qg(t,n){Es=Dc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Hg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,mo(t,s)}}var jc={readContext:sn,use:Ic,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},Fg={readContext:sn,use:Ic,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Rg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Vc(4194308,4,Ig.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vc(4194308,4,t,n)},useInsertionEffect:function(t,n){Vc(4,2,t,n)},useMemo:function(t,n){var s=_n();n=n===void 0?null:n;var l=t();if(Mr){st(!0);try{t()}finally{st(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=_n();if(s!==void 0){var h=s(n);if(Mr){st(!0);try{s(n)}finally{st(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kE.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=yf(t);var n=t.queue,s=Bg.bind(null,je,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:_f,useDeferredValue:function(t,n){var s=_n();return bf(s,t,n)},useTransition:function(){var t=yf(!1);return t=jg.bind(null,je,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=je,h=_n();if(Ye){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ct===null)throw Error(r(349));(Fe&124)!==0||hg(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,Rg(dg.bind(null,l,d,t),[t]),l.flags|=2048,ws(9,Mc(),fg.bind(null,l,d,s,n),null),s},useId:function(){var t=_n(),n=ct.identifierPrefix;if(Ye){var s=ea,l=Ji;s=(l&~(1<<32-bt(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=Nc++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=DE++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Ef,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tf.bind(null,je,!0,s),s.dispatch=n,[t,n]},useMemoCache:pf,useCacheRefresh:function(){return _n().memoizedState=VE.bind(null,je)}},Gg={readContext:sn,use:Ic,useCallback:Mg,useContext:sn,useEffect:Cg,useImperativeHandle:Og,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:Vg,useReducer:Oc,useRef:Sg,useState:function(){return Oc(ia)},useDebugValue:_f,useDeferredValue:function(t,n){var s=Mt();return kg(s,nt.memoizedState,t,n)},useTransition:function(){var t=Oc(ia)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:Go(t),n]},useSyncExternalStore:ug,useId:Lg,useHostTransitionStatus:Ef,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var s=Mt();return gg(s,nt,t,n)},useMemoCache:pf,useCacheRefresh:zg},jE={readContext:sn,use:Ic,useCallback:Mg,useContext:sn,useEffect:Cg,useImperativeHandle:Og,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:Vg,useReducer:gf,useRef:Sg,useState:function(){return gf(ia)},useDebugValue:_f,useDeferredValue:function(t,n){var s=Mt();return nt===null?bf(s,t,n):kg(s,nt.memoizedState,t,n)},useTransition:function(){var t=gf(ia)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:Go(t),n]},useSyncExternalStore:ug,useId:Lg,useHostTransitionStatus:Ef,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var s=Mt();return nt!==null?gg(s,nt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:zg},As=null,Yo=0;function Pc(t){var n=Yo;return Yo+=1,As===null&&(As=[]),ng(As,t,n)}function Ko(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uc(t,n){throw n.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $g(t){var n=t._init;return n(t._payload)}function Qg(t){function n(B,L){if(t){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function s(B,L){if(!t)return null;for(;L!==null;)n(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=Wi(B,L),B.index=0,B.sibling=null,B}function d(B,L,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function b(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function x(B,L,H,te){return L===null||L.tag!==6?(L=Hh(H,B.mode,te),L.return=B,L):(L=h(L,H),L.return=B,L)}function O(B,L,H,te){var _e=H.type;return _e===U?ee(B,L,H.props.children,te,H.key):L!==null&&(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&$g(_e)===L.type)?(L=h(L,H.props),Ko(L,H),L.return=B,L):(L=bc(H.type,H.key,H.props,null,B.mode,te),Ko(L,H),L.return=B,L)}function F(B,L,H,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Fh(H,B.mode,te),L.return=B,L):(L=h(L,H.children||[]),L.return=B,L)}function ee(B,L,H,te,_e){return L===null||L.tag!==7?(L=Ar(H,B.mode,te,_e),L.return=B,L):(L=h(L,H),L.return=B,L)}function ne(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Hh(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return H=bc(L.type,L.key,L.props,null,B.mode,H),Ko(H,L),H.return=B,H;case I:return L=Fh(L,B.mode,H),L.return=B,L;case R:var te=L._init;return L=te(L._payload),ne(B,L,H)}if(ce(L)||z(L))return L=Ar(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return ne(B,Pc(L),H);if(L.$$typeof===K)return ne(B,wc(B,L),H);Uc(B,L)}return null}function $(B,L,H,te){var _e=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:x(B,L,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===_e?O(B,L,H,te):null;case I:return H.key===_e?F(B,L,H,te):null;case R:return _e=H._init,H=_e(H._payload),$(B,L,H,te)}if(ce(H)||z(H))return _e!==null?null:ee(B,L,H,te,null);if(typeof H.then=="function")return $(B,L,Pc(H),te);if(H.$$typeof===K)return $(B,L,wc(B,H),te);Uc(B,H)}return null}function Y(B,L,H,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(H)||null,x(L,B,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return B=B.get(te.key===null?H:te.key)||null,O(L,B,te,_e);case I:return B=B.get(te.key===null?H:te.key)||null,F(L,B,te,_e);case R:var Pe=te._init;return te=Pe(te._payload),Y(B,L,H,te,_e)}if(ce(te)||z(te))return B=B.get(H)||null,ee(L,B,te,_e,null);if(typeof te.then=="function")return Y(B,L,H,Pc(te),_e);if(te.$$typeof===K)return Y(B,L,H,wc(L,te),_e);Uc(L,te)}return null}function De(B,L,H,te){for(var _e=null,Pe=null,xe=L,Se=L=0,Yt=null;xe!==null&&Se<H.length;Se++){xe.index>Se?(Yt=xe,xe=null):Yt=xe.sibling;var Qe=$(B,xe,H[Se],te);if(Qe===null){xe===null&&(xe=Yt);break}t&&xe&&Qe.alternate===null&&n(B,xe),L=d(Qe,L,Se),Pe===null?_e=Qe:Pe.sibling=Qe,Pe=Qe,xe=Yt}if(Se===H.length)return s(B,xe),Ye&&Rr(B,Se),_e;if(xe===null){for(;Se<H.length;Se++)xe=ne(B,H[Se],te),xe!==null&&(L=d(xe,L,Se),Pe===null?_e=xe:Pe.sibling=xe,Pe=xe);return Ye&&Rr(B,Se),_e}for(xe=l(xe);Se<H.length;Se++)Yt=Y(xe,B,Se,H[Se],te),Yt!==null&&(t&&Yt.alternate!==null&&xe.delete(Yt.key===null?Se:Yt.key),L=d(Yt,L,Se),Pe===null?_e=Yt:Pe.sibling=Yt,Pe=Yt);return t&&xe.forEach(function(Ga){return n(B,Ga)}),Ye&&Rr(B,Se),_e}function Ae(B,L,H,te){if(H==null)throw Error(r(151));for(var _e=null,Pe=null,xe=L,Se=L=0,Yt=null,Qe=H.next();xe!==null&&!Qe.done;Se++,Qe=H.next()){xe.index>Se?(Yt=xe,xe=null):Yt=xe.sibling;var Ga=$(B,xe,Qe.value,te);if(Ga===null){xe===null&&(xe=Yt);break}t&&xe&&Ga.alternate===null&&n(B,xe),L=d(Ga,L,Se),Pe===null?_e=Ga:Pe.sibling=Ga,Pe=Ga,xe=Yt}if(Qe.done)return s(B,xe),Ye&&Rr(B,Se),_e;if(xe===null){for(;!Qe.done;Se++,Qe=H.next())Qe=ne(B,Qe.value,te),Qe!==null&&(L=d(Qe,L,Se),Pe===null?_e=Qe:Pe.sibling=Qe,Pe=Qe);return Ye&&Rr(B,Se),_e}for(xe=l(xe);!Qe.done;Se++,Qe=H.next())Qe=Y(xe,B,Se,Qe.value,te),Qe!==null&&(t&&Qe.alternate!==null&&xe.delete(Qe.key===null?Se:Qe.key),L=d(Qe,L,Se),Pe===null?_e=Qe:Pe.sibling=Qe,Pe=Qe);return t&&xe.forEach(function(P1){return n(B,P1)}),Ye&&Rr(B,Se),_e}function at(B,L,H,te){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var _e=H.key;L!==null;){if(L.key===_e){if(_e=H.type,_e===U){if(L.tag===7){s(B,L.sibling),te=h(L,H.props.children),te.return=B,B=te;break e}}else if(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&$g(_e)===L.type){s(B,L.sibling),te=h(L,H.props),Ko(te,H),te.return=B,B=te;break e}s(B,L);break}else n(B,L);L=L.sibling}H.type===U?(te=Ar(H.props.children,B.mode,te,H.key),te.return=B,B=te):(te=bc(H.type,H.key,H.props,null,B.mode,te),Ko(te,H),te.return=B,B=te)}return b(B);case I:e:{for(_e=H.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){s(B,L.sibling),te=h(L,H.children||[]),te.return=B,B=te;break e}else{s(B,L);break}else n(B,L);L=L.sibling}te=Fh(H,B.mode,te),te.return=B,B=te}return b(B);case R:return _e=H._init,H=_e(H._payload),at(B,L,H,te)}if(ce(H))return De(B,L,H,te);if(z(H)){if(_e=z(H),typeof _e!="function")throw Error(r(150));return H=_e.call(H),Ae(B,L,H,te)}if(typeof H.then=="function")return at(B,L,Pc(H),te);if(H.$$typeof===K)return at(B,L,wc(B,H),te);Uc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(s(B,L.sibling),te=h(L,H),te.return=B,B=te):(s(B,L),te=Hh(H,B.mode,te),te.return=B,B=te),b(B)):s(B,L)}return function(B,L,H,te){try{Yo=0;var _e=at(B,L,H,te);return As=null,_e}catch(xe){if(xe===Lo||xe===Sc)throw xe;var Pe=An(29,xe,null,B.mode);return Pe.lanes=te,Pe.return=B,Pe}finally{}}}var Ss=Qg(!0),Yg=Qg(!1),qn=J(null),Ai=null;function Na(t){var n=t.alternate;G(Bt,Bt.current&1),G(qn,t),Ai===null&&(n===null||xs.current!==null||n.memoizedState!==null)&&(Ai=t)}function Kg(t){if(t.tag===22){if(G(Bt,Bt.current),G(qn,t),Ai===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ai=t)}}else Ia()}function Ia(){G(Bt,Bt.current),G(qn,qn.current)}function aa(t){le(qn),Ai===t&&(Ai=null),le(Bt)}var Bt=J(0);function Lc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||dd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:v({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Af={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Dn(),h=Ra(l);h.payload=n,s!=null&&(h.callback=s),n=Ca(t,h,l),n!==null&&(Nn(n,t,l),Bo(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Dn(),h=Ra(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ca(t,h,l),n!==null&&(Nn(n,t,l),Bo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Dn(),l=Ra(s);l.tag=2,n!=null&&(l.callback=n),n=Ca(t,l,s),n!==null&&(Nn(n,t,s),Bo(n,t,s))}};function Xg(t,n,s,l,h,d,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!Io(s,l)||!Io(h,d):!0}function Zg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Af.enqueueReplaceState(n,n.state,null)}function Vr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=v({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var zc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wg(t){zc(t)}function Jg(t){console.error(t)}function ey(t){zc(t)}function Bc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ty(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(t,n,s){return s=Ra(s),s.tag=3,s.payload={element:null},s.callback=function(){Bc(t,n)},s}function ny(t){return t=Ra(t),t.tag=3,t}function iy(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ty(n,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){ty(n,s,l),typeof h!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function PE(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&jo(n,s,h,!0),s=qn.current,s!==null){switch(s.tag){case 13:return Ai===null?Xf():s.alternate===null&&Et===0&&(Et=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ef?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Wf(t,l,h)),!1;case 22:return s.flags|=65536,l===ef?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Wf(t,l,h)),!1}throw Error(r(435,s.tag))}return Wf(t,l,h),Xf(),!1}if(Ye)return n=qn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Qh&&(t=Error(r(422),{cause:l}),ko(Un(t,s)))):(l!==Qh&&(n=Error(r(423),{cause:l}),ko(Un(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,s),h=Sf(t.stateNode,l,h),af(t,h),Et!==4&&(Et=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,s),nl===null?nl=[d]:nl.push(d),Et!==4&&(Et=2),n===null)return!0;l=Un(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Sf(s.stateNode,l,t),af(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pa===null||!Pa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ny(h),iy(h,t,s,l),af(s,h),!1}s=s.return}while(s!==null);return!1}var ay=Error(r(461)),$t=!1;function Jt(t,n,s,l){n.child=t===null?Yg(n,null,s,l):Ss(n,t.child,s,l)}function ry(t,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var b={};for(var x in l)x!=="ref"&&(b[x]=l[x])}else b=l;return Ir(n),l=cf(t,n,s,b,d,h),x=uf(),t!==null&&!$t?(hf(t,n,h),ra(t,n,h)):(Ye&&x&&Gh(n),n.flags|=1,Jt(t,n,l,h),n.child)}function sy(t,n,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!qh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,oy(t,n,d,l,h)):(t=bc(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Vf(t,h)){var b=d.memoizedProps;if(s=s.compare,s=s!==null?s:Io,s(b,l)&&t.ref===n.ref)return ra(t,n,h)}return n.flags|=1,t=Wi(d,l),t.ref=n.ref,t.return=n,n.child=t}function oy(t,n,s,l,h){if(t!==null){var d=t.memoizedProps;if(Io(d,l)&&t.ref===n.ref)if($t=!1,n.pendingProps=l=d,Vf(t,h))(t.flags&131072)!==0&&($t=!0);else return n.lanes=t.lanes,ra(t,n,h)}return Rf(t,n,s,l,h)}function ly(t,n,s){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return cy(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ac(n,d!==null?d.cachePool:null),d!==null?og(n,d):sf(),Kg(n);else return n.lanes=n.childLanes=536870912,cy(t,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(Ac(n,d.cachePool),og(n,d),Ia(),n.memoizedState=null):(t!==null&&Ac(n,null),sf(),Ia());return Jt(t,n,h,s),n.child}function cy(t,n,s,l){var h=Jh();return h=h===null?null:{parent:zt._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&Ac(n,null),sf(),Kg(n),t!==null&&jo(t,n,l,!0),null}function qc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Rf(t,n,s,l,h){return Ir(n),s=cf(t,n,s,l,void 0,h),l=uf(),t!==null&&!$t?(hf(t,n,h),ra(t,n,h)):(Ye&&l&&Gh(n),n.flags|=1,Jt(t,n,s,h),n.child)}function uy(t,n,s,l,h,d){return Ir(n),n.updateQueue=null,s=cg(n,l,s,h),lg(t),l=uf(),t!==null&&!$t?(hf(t,n,d),ra(t,n,d)):(Ye&&l&&Gh(n),n.flags|=1,Jt(t,n,s,d),n.child)}function hy(t,n,s,l,h){if(Ir(n),n.stateNode===null){var d=gs,b=s.contextType;typeof b=="object"&&b!==null&&(d=sn(b)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Af,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},tf(n),b=s.contextType,d.context=typeof b=="object"&&b!==null?sn(b):gs,d.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(wf(n,s,b,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Af.enqueueReplaceState(d,d.state,null),Ho(n,l,d,h),qo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,O=Vr(s,x);d.props=O;var F=d.context,ee=s.contextType;b=gs,typeof ee=="object"&&ee!==null&&(b=sn(ee));var ne=s.getDerivedStateFromProps;ee=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||F!==b)&&Zg(n,d,l,b),Sa=!1;var $=n.memoizedState;d.state=$,Ho(n,l,d,h),qo(),F=n.memoizedState,x||$!==F||Sa?(typeof ne=="function"&&(wf(n,s,ne,l),F=n.memoizedState),(O=Sa||Xg(n,s,O,l,$,F,b))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=b,l=O):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,nf(t,n),b=n.memoizedProps,ee=Vr(s,b),d.props=ee,ne=n.pendingProps,$=d.context,F=s.contextType,O=gs,typeof F=="object"&&F!==null&&(O=sn(F)),x=s.getDerivedStateFromProps,(F=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==ne||$!==O)&&Zg(n,d,l,O),Sa=!1,$=n.memoizedState,d.state=$,Ho(n,l,d,h),qo();var Y=n.memoizedState;b!==ne||$!==Y||Sa||t!==null&&t.dependencies!==null&&Tc(t.dependencies)?(typeof x=="function"&&(wf(n,s,x,l),Y=n.memoizedState),(ee=Sa||Xg(n,s,ee,l,$,Y,O)||t!==null&&t.dependencies!==null&&Tc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=ee):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,qc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Ss(n,t.child,null,h),n.child=Ss(n,null,s,h)):Jt(t,n,s,h),n.memoizedState=d.state,t=n.child):t=ra(t,n,h),t}function fy(t,n,s,l){return Vo(),n.flags|=256,Jt(t,n,s,l),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:Jm()}}function Nf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Hn),t}function dy(t,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?Na(n):Ia(),Ye){var x=xt,O;if(O=x){e:{for(O=x,x=wi;O.nodeType!==8;){if(!x){x=null;break e}if(O=ii(O.nextSibling),O===null){x=null;break e}}x=O}x!==null?(n.memoizedState={dehydrated:x,treeContext:Sr!==null?{id:Ji,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},O=An(18,null,null,0),O.stateNode=x,O.return=n,n.child=O,mn=n,xt=null,O=!0):O=!1}O||Dr(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return dd(x)?n.lanes=32:n.lanes=536870912,null;aa(n)}return x=l.children,l=l.fallback,h?(Ia(),h=n.mode,x=Hc({mode:"hidden",children:x},h),l=Ar(l,h,s,null),x.return=n,l.return=n,x.sibling=l,n.child=x,h=n.child,h.memoizedState=Df(s),h.childLanes=Nf(t,b,s),n.memoizedState=Cf,l):(Na(n),If(n,x))}if(O=t.memoizedState,O!==null&&(x=O.dehydrated,x!==null)){if(d)n.flags&256?(Na(n),n.flags&=-257,n=Of(t,n,s)):n.memoizedState!==null?(Ia(),n.child=t.child,n.flags|=128,n=null):(Ia(),h=l.fallback,x=n.mode,l=Hc({mode:"visible",children:l.children},x),h=Ar(h,x,s,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Ss(n,t.child,null,s),l=n.child,l.memoizedState=Df(s),l.childLanes=Nf(t,b,s),n.memoizedState=Cf,n=h);else if(Na(n),dd(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(r(419)),l.stack="",l.digest=b,ko({value:l,source:null,stack:null}),n=Of(t,n,s)}else if($t||jo(t,n,s,!1),b=(s&t.childLanes)!==0,$t||b){if(b=ct,b!==null&&(l=s&-s,l=(l&42)!==0?1:va(l),l=(l&(b.suspendedLanes|s))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,ms(t,l),Nn(b,t,l),ay;x.data==="$?"||Xf(),n=Of(t,n,s)}else x.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,xt=ii(x.nextSibling),mn=n,Ye=!0,Cr=null,wi=!1,t!==null&&(zn[Bn++]=Ji,zn[Bn++]=ea,zn[Bn++]=Sr,Ji=t.id,ea=t.overflow,Sr=n),n=If(n,l.children),n.flags|=4096);return n}return h?(Ia(),h=l.fallback,x=n.mode,O=t.child,F=O.sibling,l=Wi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?h=Wi(F,h):(h=Ar(h,x,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,x=t.child.memoizedState,x===null?x=Df(s):(O=x.cachePool,O!==null?(F=zt._currentValue,O=O.parent!==F?{parent:F,pool:F}:O):O=Jm(),x={baseLanes:x.baseLanes|s,cachePool:O}),h.memoizedState=x,h.childLanes=Nf(t,b,s),n.memoizedState=Cf,l):(Na(n),s=t.child,t=s.sibling,s=Wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=s,n.memoizedState=null,s)}function If(t,n){return n=Hc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Hc(t,n){return t=An(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Of(t,n,s){return Ss(n,t.child,null,s),t=If(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function py(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kh(t.return,n,s)}function Mf(t,n,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function my(t,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Jt(t,n,l.children,s),l=Bt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,s,n);else if(t.tag===19)py(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(G(Bt,l),h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Lc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Lc(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Mf(n,!0,s,null,d);break;case"together":Mf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ra(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ja|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(jo(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Wi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Wi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Tc(t)))}function UE(t,n,s){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),Aa(n,zt,t.memoizedState.cache),Vo();break;case 27:case 5:rt(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:Aa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Na(n),n.flags|=128,null):(s&n.child.childLanes)!==0?dy(t,n,s):(Na(n),t=ra(t,n,s),t!==null?t.sibling:null);Na(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(jo(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return my(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(Bt,Bt.current),l)break;return null;case 22:case 23:return n.lanes=0,ly(t,n,s);case 24:Aa(n,zt,t.memoizedState.cache)}return ra(t,n,s)}function gy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)$t=!0;else{if(!Vf(t,s)&&(n.flags&128)===0)return $t=!1,UE(t,n,s);$t=(t.flags&131072)!==0}else $t=!1,Ye&&(n.flags&1048576)!==0&&$m(n,Ec,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")qh(l)?(t=Vr(l,t),n.tag=1,n=hy(null,n,l,t,s)):(n.tag=0,n=Rf(null,n,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===fe){n.tag=11,n=ry(null,n,l,t,s);break e}else if(h===P){n.tag=14,n=sy(null,n,l,t,s);break e}}throw n=pe(l)||l,Error(r(306,n,""))}}return n;case 0:return Rf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Vr(l,n.pendingProps),hy(t,n,l,h,s);case 3:e:{if(Me(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,nf(t,n),Ho(n,l,null,s);var b=n.memoizedState;if(l=b.cache,Aa(n,zt,l),l!==d.cache&&Xh(n,[zt],s,!0),qo(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=fy(t,n,l,s);break e}else if(l!==h){h=Un(Error(r(424)),n),ko(h),n=fy(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=ii(t.firstChild),mn=n,Ye=!0,Cr=null,wi=!0,s=Yg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Vo(),l===h){n=ra(t,n,s);break e}Jt(t,n,l,s)}n=n.child}return n;case 26:return qc(t,n),t===null?(s=bv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ye||(s=n.type,t=n.pendingProps,l=iu(ge.current).createElement(s),l[Pt]=n,l[Nt]=t,tn(l,s,t),St(l),n.stateNode=l):n.memoizedState=bv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rt(n),t===null&&Ye&&(l=n.stateNode=yv(n.type,n.pendingProps,ge.current),mn=n,wi=!0,h=xt,za(n.type)?(pd=h,xt=ii(l.firstChild)):xt=h),Jt(t,n,n.pendingProps.children,s),qc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=l=xt)&&(l=f1(l,n.type,n.pendingProps,wi),l!==null?(n.stateNode=l,mn=n,xt=ii(l.firstChild),wi=!1,h=!0):h=!1),h||Dr(n)),rt(n),h=n.type,d=n.pendingProps,b=t!==null?t.memoizedProps:null,l=d.children,ud(h,d)?l=null:b!==null&&ud(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(t,n,NE,null,null,s),hl._currentValue=h),qc(t,n),Jt(t,n,l,s),n.child;case 6:return t===null&&Ye&&((t=s=xt)&&(s=d1(s,n.pendingProps,wi),s!==null?(n.stateNode=s,mn=n,xt=null,t=!0):t=!1),t||Dr(n)),null;case 13:return dy(t,n,s);case 4:return Me(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ss(n,null,l,s):Jt(t,n,l,s),n.child;case 11:return ry(t,n,n.type,n.pendingProps,s);case 7:return Jt(t,n,n.pendingProps,s),n.child;case 8:return Jt(t,n,n.pendingProps.children,s),n.child;case 12:return Jt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Aa(n,n.type,l.value),Jt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=sn(h),l=l(h),n.flags|=1,Jt(t,n,l,s),n.child;case 14:return sy(t,n,n.type,n.pendingProps,s);case 15:return oy(t,n,n.type,n.pendingProps,s);case 19:return my(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=Hc(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Wi(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return ly(t,n,s);case 24:return Ir(n),l=sn(zt),t===null?(h=Jh(),h===null&&(h=ct,d=Zh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},tf(n),Aa(n,zt,h)):((t.lanes&s)!==0&&(nf(t,n),Ho(n,null,null,s),qo()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Aa(n,zt,l)):(l=d.cache,Aa(n,zt,l),l!==h.cache&&Xh(n,[zt],s,!0))),Jt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function sa(t){t.flags|=4}function yy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Av(n)){if(n=qn.current,n!==null&&((Fe&4194048)===Fe?Ai!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||n!==Ai))throw zo=ef,eg;t.flags|=8192}}function Fc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fo():536870912,t.lanes|=n,Ns|=n)}function Xo(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function LE(t,n,s){var l=n.pendingProps;switch($h(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),na(zt),Ze(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Mo(n)?sa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Km())),yt(n),null;case 26:return s=n.memoizedState,t===null?(sa(n),s!==null?(yt(n),yy(n,s)):(yt(n),n.flags&=-16777217)):s?s!==t.memoizedState?(sa(n),yt(n),yy(n,s)):(yt(n),n.flags&=-16777217):(t.memoizedProps!==l&&sa(n),yt(n),n.flags&=-16777217),null;case 27:We(n),s=ge.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&sa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return yt(n),null}t=re.current,Mo(n)?Qm(n):(t=yv(h,l,s),n.stateNode=t,sa(n))}return yt(n),null;case 5:if(We(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&sa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return yt(n),null}if(t=re.current,Mo(n))Qm(n);else{switch(h=iu(ge.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Pt]=n,t[Nt]=l;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;e:switch(tn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&sa(n)}}return yt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&sa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ge.current,Mo(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||uv(t.nodeValue,s)),t||Dr(n)}else t=iu(t).createTextNode(l),t[Pt]=n,n.stateNode=t}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Mo(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Pt]=n}else Vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=Km(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(aa(n),n):(aa(n),null)}if(aa(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Fc(n,n.updateQueue),yt(n),null;case 4:return Ze(),t===null&&rd(n.stateNode.containerInfo),yt(n),null;case 10:return na(n.type),yt(n),null;case 19:if(le(Bt),h=n.memoizedState,h===null)return yt(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Xo(h,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Lc(t),d!==null){for(n.flags|=128,Xo(h,!1),t=d.updateQueue,n.updateQueue=t,Fc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Gm(s,t),s=s.sibling;return G(Bt,Bt.current&1|2),n.child}t=t.sibling}h.tail!==null&&gt()>Qc&&(n.flags|=128,l=!0,Xo(h,!1),n.lanes=4194304)}else{if(!l)if(t=Lc(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Fc(n,t),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ye)return yt(n),null}else 2*gt()-h.renderingStartTime>Qc&&s!==536870912&&(n.flags|=128,l=!0,Xo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gt(),n.sibling=null,t=Bt.current,G(Bt,l?t&1|2:t&1),n):(yt(n),null);case 22:case 23:return aa(n),of(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),s=n.updateQueue,s!==null&&Fc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&le(Or),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),na(zt),yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function zE(t,n){switch($h(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return na(zt),Ze(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return We(n),null;case 13:if(aa(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Vo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return le(Bt),null;case 4:return Ze(),null;case 10:return na(n.type),null;case 22:case 23:return aa(n),of(),t!==null&&le(Or),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return na(zt),null;case 25:return null;default:return null}}function vy(t,n){switch($h(n),n.tag){case 3:na(zt),Ze();break;case 26:case 27:case 5:We(n);break;case 4:Ze();break;case 13:aa(n);break;case 19:le(Bt);break;case 10:na(n.type);break;case 22:case 23:aa(n),of(),t!==null&&le(Or);break;case 24:na(zt)}}function Zo(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,b=s.inst;l=d(),b.destroy=l}s=s.next}while(s!==h)}}catch(x){ot(n,n.return,x)}}function Oa(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var b=l.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,h=n;var O=s,F=x;try{F()}catch(ee){ot(h,O,ee)}}}l=l.next}while(l!==d)}}catch(ee){ot(n,n.return,ee)}}function _y(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{sg(n,s)}catch(l){ot(t,t.return,l)}}}function by(t,n,s){s.props=Vr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ot(t,n,l)}}function Wo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){ot(t,n,h)}}function Si(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ot(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ot(t,n,h)}else s.current=null}function xy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ot(t,t.return,h)}}function kf(t,n,s){try{var l=t.stateNode;o1(l,t.type,s,n),l[Nt]=n}catch(h){ot(t,t.return,h)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&za(t.type)||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&za(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=nu));else if(l!==4&&(l===27&&za(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Pf(t,n,s),t=t.sibling;t!==null;)Pf(t,n,s),t=t.sibling}function Gc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&za(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Gc(t,n,s),t=t.sibling;t!==null;)Gc(t,n,s),t=t.sibling}function Ty(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,l,s),n[Pt]=t,n[Nt]=s}catch(d){ot(t,t.return,d)}}var oa=!1,Ct=!1,Uf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function BE(t,n){if(t=t.containerInfo,ld=cu,t=km(t),kh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var b=0,x=-1,O=-1,F=0,ee=0,ne=t,$=null;t:for(;;){for(var Y;ne!==s||h!==0&&ne.nodeType!==3||(x=b+h),ne!==d||l!==0&&ne.nodeType!==3||(O=b+l),ne.nodeType===3&&(b+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)$=ne,ne=Y;for(;;){if(ne===t)break t;if($===s&&++F===h&&(x=b),$===d&&++ee===l&&(O=b),(Y=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=Y}s=x===-1||O===-1?null:{start:x,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(cd={focusedElem:t,selectionRange:s},cu=!1,Qt=n;Qt!==null;)if(n=Qt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Qt=t;else for(;Qt!==null;){switch(n=Qt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var De=Vr(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(De,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ot(s,s.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)fd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Qt=t;break}Qt=n.return}}function Ay(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ma(t,s),l&4&&Zo(5,s);break;case 1:if(Ma(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(b){ot(s,s.return,b)}else{var h=Vr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(s,s.return,b)}}l&64&&_y(s),l&512&&Wo(s,s.return);break;case 3:if(Ma(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{sg(t,n)}catch(b){ot(s,s.return,b)}}break;case 27:n===null&&l&4&&Ty(s);case 26:case 5:Ma(t,s),n===null&&l&4&&xy(s),l&512&&Wo(s,s.return);break;case 12:Ma(t,s);break;case 13:Ma(t,s),l&4&&Cy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=XE.bind(null,s),p1(t,s))));break;case 22:if(l=s.memoizedState!==null||oa,!l){n=n!==null&&n.memoizedState!==null||Ct,h=oa;var d=Ct;oa=l,(Ct=n)&&!d?Va(t,s,(s.subtreeFlags&8772)!==0):Ma(t,s),oa=h,Ct=d}break;case 30:break;default:Ma(t,s)}}function Sy(t){var n=t.alternate;n!==null&&(t.alternate=null,Sy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,bn=!1;function la(t,n,s){for(s=s.child;s!==null;)Ry(t,n,s),s=s.sibling}function Ry(t,n,s){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Oe,s)}catch{}switch(s.tag){case 26:Ct||Si(s,n),la(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ct||Si(s,n);var l=pt,h=bn;za(s.type)&&(pt=s.stateNode,bn=!1),la(t,n,s),ol(s.stateNode),pt=l,bn=h;break;case 5:Ct||Si(s,n);case 6:if(l=pt,h=bn,pt=null,la(t,n,s),pt=l,bn=h,pt!==null)if(bn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(d){ot(s,n,d)}else try{pt.removeChild(s.stateNode)}catch(d){ot(s,n,d)}break;case 18:pt!==null&&(bn?(t=pt,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ml(t)):mv(pt,s.stateNode));break;case 4:l=pt,h=bn,pt=s.stateNode.containerInfo,bn=!0,la(t,n,s),pt=l,bn=h;break;case 0:case 11:case 14:case 15:Ct||Oa(2,s,n),Ct||Oa(4,s,n),la(t,n,s);break;case 1:Ct||(Si(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&by(s,n,l)),la(t,n,s);break;case 21:la(t,n,s);break;case 22:Ct=(l=Ct)||s.memoizedState!==null,la(t,n,s),Ct=l;break;default:la(t,n,s)}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ml(t)}catch(s){ot(n,n.return,s)}}function qE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wy),n;default:throw Error(r(435,t.tag))}}function Lf(t,n){var s=qE(t);n.forEach(function(l){var h=ZE.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Sn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,b=n,x=b;e:for(;x!==null;){switch(x.tag){case 27:if(za(x.type)){pt=x.stateNode,bn=!1;break e}break;case 5:pt=x.stateNode,bn=!1;break e;case 3:case 4:pt=x.stateNode.containerInfo,bn=!0;break e}x=x.return}if(pt===null)throw Error(r(160));Ry(d,b,h),pt=null,bn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dy(n,t),n=n.sibling}var ni=null;function Dy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),Rn(t),l&4&&(Oa(3,t,t.return),Zo(3,t),Oa(5,t,t.return));break;case 1:Sn(n,t),Rn(t),l&512&&(Ct||s===null||Si(s,s.return)),l&64&&oa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ni;if(Sn(n,t),Rn(t),l&512&&(Ct||s===null||Si(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cr]||d[Pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,s),d[Pt]=t,St(d),l=d;break e;case"link":var b=Tv("link","href",h).get(l+(s.href||""));if(b){for(var x=0;x<b.length;x++)if(d=b[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(x,1);break t}}d=h.createElement(l),tn(d,l,s),h.head.appendChild(d);break;case"meta":if(b=Tv("meta","content",h).get(l+(s.content||""))){for(x=0;x<b.length;x++)if(d=b[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(x,1);break t}}d=h.createElement(l),tn(d,l,s),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Pt]=t,St(d),l=d}t.stateNode=l}else wv(h,t.type,t.stateNode);else t.stateNode=Ev(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?wv(h,t.type,t.stateNode):Ev(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Sn(n,t),Rn(t),l&512&&(Ct||s===null||Si(s,s.return)),s!==null&&l&4&&kf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Sn(n,t),Rn(t),l&512&&(Ct||s===null||Si(s,s.return)),t.flags&32){h=t.stateNode;try{Vn(h,"")}catch(Y){ot(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,kf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Uf=!0);break;case 6:if(Sn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Y){ot(t,t.return,Y)}}break;case 3:if(su=null,h=ni,ni=au(n.containerInfo),Sn(n,t),ni=h,Rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ml(n.containerInfo)}catch(Y){ot(t,t.return,Y)}Uf&&(Uf=!1,Ny(t));break;case 4:l=ni,ni=au(t.stateNode.containerInfo),Sn(n,t),Rn(t),ni=l;break;case 12:Sn(n,t),Rn(t);break;case 13:Sn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gf=gt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 22:h=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,F=oa,ee=Ct;if(oa=F||h,Ct=ee||O,Sn(n,t),Ct=ee,oa=F,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||O||oa||Ct||kr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){O=s=n;try{if(d=O.stateNode,h)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=O.stateNode;var ne=O.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){ot(O,O.return,Y)}}}else if(n.tag===6){if(s===null){O=n;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(Y){ot(O,O.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Lf(t,s))));break;case 19:Sn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 30:break;case 21:break;default:Sn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Ey(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=jf(t);Gc(t,d,h);break;case 5:var b=s.stateNode;s.flags&32&&(Vn(b,""),s.flags&=-33);var x=jf(t);Gc(t,x,b);break;case 3:case 4:var O=s.stateNode.containerInfo,F=jf(t);Pf(t,F,O);break;default:throw Error(r(161))}}catch(ee){ot(t,t.return,ee)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ma(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(t,n.alternate,n),n=n.sibling}function kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Oa(4,n,n.return),kr(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&by(n,n.return,s),kr(n);break;case 27:ol(n.stateNode);case 26:case 5:Si(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}t=t.sibling}}function Va(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Va(h,d,s),Zo(4,d);break;case 1:if(Va(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){ot(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)rg(O[h],x)}catch(F){ot(l,l.return,F)}}s&&b&64&&_y(d),Wo(d,d.return);break;case 27:Ty(d);case 26:case 5:Va(h,d,s),s&&l===null&&b&4&&xy(d),Wo(d,d.return);break;case 12:Va(h,d,s);break;case 13:Va(h,d,s),s&&b&4&&Cy(h,d);break;case 22:d.memoizedState===null&&Va(h,d,s),Wo(d,d.return);break;case 30:break;default:Va(h,d,s)}n=n.sibling}}function zf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Po(s))}function Bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Po(t))}function Ri(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(t,n,s,l),n=n.sibling}function Iy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ri(t,n,s,l),h&2048&&Zo(9,n);break;case 1:Ri(t,n,s,l);break;case 3:Ri(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Po(t)));break;case 12:if(h&2048){Ri(t,n,s,l),t=n.stateNode;try{var d=n.memoizedProps,b=d.id,x=d.onPostCommit;typeof x=="function"&&x(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ot(n,n.return,O)}}else Ri(t,n,s,l);break;case 13:Ri(t,n,s,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Ri(t,n,s,l):Jo(t,n):d._visibility&2?Ri(t,n,s,l):(d._visibility|=2,Rs(t,n,s,l,(n.subtreeFlags&10256)!==0)),h&2048&&zf(b,n);break;case 24:Ri(t,n,s,l),h&2048&&Bf(n.alternate,n);break;default:Ri(t,n,s,l)}}function Rs(t,n,s,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,b=n,x=s,O=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:Rs(d,b,x,O,h),Zo(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Rs(d,b,x,O,h):Jo(d,b):(ee._visibility|=2,Rs(d,b,x,O,h)),h&&F&2048&&zf(b.alternate,b);break;case 24:Rs(d,b,x,O,h),h&&F&2048&&Bf(b.alternate,b);break;default:Rs(d,b,x,O,h)}n=n.sibling}}function Jo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:Jo(s,l),h&2048&&zf(l.alternate,l);break;case 24:Jo(s,l),h&2048&&Bf(l.alternate,l);break;default:Jo(s,l)}n=n.sibling}}var el=8192;function Cs(t){if(t.subtreeFlags&el)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 26:Cs(t),t.flags&el&&t.memoizedState!==null&&R1(ni,t.memoizedState,t.memoizedProps);break;case 5:Cs(t);break;case 3:case 4:var n=ni;ni=au(t.stateNode.containerInfo),Cs(t),ni=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=el,el=16777216,Cs(t),el=n):Cs(t));break;default:Cs(t)}}function My(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Qt=l,ky(l,t)}My(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&Oa(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,$c(t)):tl(t);break;default:tl(t)}}function $c(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Qt=l,ky(l,t)}My(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Oa(8,n,n.return),$c(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$c(n));break;default:$c(n)}t=t.sibling}}function ky(t,n){for(;Qt!==null;){var s=Qt;switch(s.tag){case 0:case 11:case 15:Oa(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Po(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Qt=l;else e:for(s=t;Qt!==null;){l=Qt;var h=l.sibling,d=l.return;if(Sy(l),l===s){Qt=null;break e}if(h!==null){h.return=d,Qt=h;break e}Qt=d}}}var HE={getCacheForType:function(t){var n=sn(zt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},FE=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Ue=null,Fe=0,et=0,Cn=null,ka=!1,Ds=!1,qf=!1,ca=0,Et=0,ja=0,jr=0,Hf=0,Hn=0,Ns=0,nl=null,xn=null,Ff=!1,Gf=0,Qc=1/0,Yc=null,Pa=null,en=0,Ua=null,Is=null,Os=0,$f=0,Qf=null,jy=null,il=0,Yf=null;function Dn(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(X.T!==null){var t=_s;return t!==0?t:td()}return _a()}function Py(){Hn===0&&(Hn=(Fe&536870912)===0||Ye?lr():536870912);var t=qn.current;return t!==null&&(t.flags|=32),Hn}function Nn(t,n,s){(t===ct&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Ms(t,0),La(t,Fe,Hn,!1)),Bi(t,s),((Je&2)===0||t!==ct)&&(t===ct&&((Je&2)===0&&(jr|=s),Et===4&&La(t,Fe,Hn,!1)),Ci(t))}function Uy(t,n,s){if((Je&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Wn(t,n),h=l?QE(t,n):Zf(t,n,!0),d=l;do{if(h===0){Ds&&!l&&La(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!GE(s)){h=Zf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var x=t;h=nl;var O=x.current.memoizedState.isDehydrated;if(O&&(Ms(x,b).flags|=256),b=Zf(x,b,!1),b!==2){if(qf&&!O){x.errorRecoveryDisabledLanes|=d,jr|=d,h=4;break e}d=xn,xn=h,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}h=b}if(d=!1,h!==2)continue}}if(h===1){Ms(t,0),La(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:La(l,n,Hn,!ka);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Gf+300-gt(),10<h)){if(La(l,n,Hn,!ka),fi(l,0,!0)!==0)break e;l.timeoutHandle=dv(Ly.bind(null,l,s,xn,Yc,Ff,n,Hn,jr,Ns,ka,d,2,-0,0),h);break e}Ly(l,s,xn,Yc,Ff,n,Hn,jr,Ns,ka,d,0,-0,0)}}break}while(!0);Ci(t)}function Ly(t,n,s,l,h,d,b,x,O,F,ee,ne,$,Y){if(t.timeoutHandle=-1,ne=n.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:S1},Oy(n),ne=C1(),ne!==null)){t.cancelPendingCommit=ne($y.bind(null,t,n,d,s,l,h,b,x,O,ee,1,$,Y)),La(t,d,b,!F);return}$y(t,n,d,s,l,h,b,x,O)}function GE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!wn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function La(t,n,s,l){n&=~Hf,n&=~jr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-bt(h),b=1<<d;l[d]=-1,h&=~b}s!==0&&di(t,s,n)}function Kc(){return(Je&6)===0?(al(0),!1):!0}function Kf(){if(Ue!==null){if(et===0)var t=Ue.return;else t=Ue,ta=Nr=null,ff(t),As=null,Yo=0,t=Ue;for(;t!==null;)vy(t.alternate,t),t=t.return;Ue=null}}function Ms(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,c1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Kf(),ct=t,Ue=s=Wi(t.current,null),Fe=n,et=0,Cn=null,ka=!1,Ds=Wn(t,n),qf=!1,Ns=Hn=Hf=jr=ja=Et=0,xn=nl=null,Ff=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-bt(l),d=1<<h;n|=t[h],l&=~d}return ca=n,yc(),s}function zy(t,n){je=null,X.H=jc,n===Lo||n===Sc?(n=ig(),et=3):n===eg?(n=ig(),et=4):et=n===ay?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Ue===null&&(Et=1,Bc(t,Un(n,t.current)))}function By(){var t=X.H;return X.H=jc,t===null?jc:t}function qy(){var t=X.A;return X.A=HE,t}function Xf(){Et=4,ka||(Fe&4194048)!==Fe&&qn.current!==null||(Ds=!0),(ja&134217727)===0&&(jr&134217727)===0||ct===null||La(ct,Fe,Hn,!1)}function Zf(t,n,s){var l=Je;Je|=2;var h=By(),d=qy();(ct!==t||Fe!==n)&&(Yc=null,Ms(t,n)),n=!1;var b=Et;e:do try{if(et!==0&&Ue!==null){var x=Ue,O=Cn;switch(et){case 8:Kf(),b=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(n=!0);var F=et;if(et=0,Cn=null,Vs(t,x,O,F),s&&Ds){b=0;break e}break;default:F=et,et=0,Cn=null,Vs(t,x,O,F)}}$E(),b=Et;break}catch(ee){zy(t,ee)}while(!0);return n&&t.shellSuspendCounter++,ta=Nr=null,Je=l,X.H=h,X.A=d,Ue===null&&(ct=null,Fe=0,yc()),b}function $E(){for(;Ue!==null;)Hy(Ue)}function QE(t,n){var s=Je;Je|=2;var l=By(),h=qy();ct!==t||Fe!==n?(Yc=null,Qc=gt()+500,Ms(t,n)):Ds=Wn(t,n);e:do try{if(et!==0&&Ue!==null){n=Ue;var d=Cn;t:switch(et){case 1:et=0,Cn=null,Vs(t,n,d,1);break;case 2:case 9:if(tg(d)){et=0,Cn=null,Fy(n);break}n=function(){et!==2&&et!==9||ct!==t||(et=7),Ci(t)},d.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:tg(d)?(et=0,Cn=null,Fy(n)):(et=0,Cn=null,Vs(t,n,d,7));break;case 5:var b=null;switch(Ue.tag){case 26:b=Ue.memoizedState;case 5:case 27:var x=Ue;if(!b||Av(b)){et=0,Cn=null;var O=x.sibling;if(O!==null)Ue=O;else{var F=x.return;F!==null?(Ue=F,Xc(F)):Ue=null}break t}}et=0,Cn=null,Vs(t,n,d,5);break;case 6:et=0,Cn=null,Vs(t,n,d,6);break;case 8:Kf(),Et=6;break e;default:throw Error(r(462))}}YE();break}catch(ee){zy(t,ee)}while(!0);return ta=Nr=null,X.H=l,X.A=h,Je=s,Ue!==null?0:(ct=null,Fe=0,yc(),Et)}function YE(){for(;Ue!==null&&!In();)Hy(Ue)}function Hy(t){var n=gy(t.alternate,t,ca);t.memoizedProps=t.pendingProps,n===null?Xc(t):Ue=n}function Fy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=uy(s,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=uy(s,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:ff(n);default:vy(s,n),n=Ue=Gm(n,ca),n=gy(s,n,ca)}t.memoizedProps=t.pendingProps,n===null?Xc(t):Ue=n}function Vs(t,n,s,l){ta=Nr=null,ff(n),As=null,Yo=0;var h=n.return;try{if(PE(t,h,n,s,Fe)){Et=1,Bc(t,Un(s,t.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;Et=1,Bc(t,Un(s,t.current)),Ue=null;return}n.flags&32768?(Ye||l===1?t=!0:Ds||(Fe&536870912)!==0?t=!1:(ka=t=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gy(n,t)):Xc(n)}function Xc(t){var n=t;do{if((n.flags&32768)!==0){Gy(n,ka);return}t=n.return;var s=LE(n.alternate,n,ca);if(s!==null){Ue=s;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);Et===0&&(Et=5)}function Gy(t,n){do{var s=zE(t.alternate,t);if(s!==null){s.flags&=32767,Ue=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=s}while(t!==null);Et=6,Ue=null}function $y(t,n,s,l,h,d,b,x,O){t.cancelPendingCommit=null;do Zc();while(en!==0);if((Je&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=zh,po(t,s,d,b,x,O),t===ct&&(Ue=ct=null,Fe=0),Is=n,Ua=t,Os=s,$f=d,Qf=h,jy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WE(Ui,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=se.p,se.p=2,b=Je,Je|=4;try{BE(t,n,s)}finally{Je=b,se.p=h,X.T=l}}en=1,Qy(),Yy(),Ky()}}function Qy(){if(en===1){en=0;var t=Ua,n=Is,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=se.p;se.p=2;var h=Je;Je|=4;try{Dy(n,t);var d=cd,b=km(t.containerInfo),x=d.focusedElem,O=d.selectionRange;if(b!==x&&x&&x.ownerDocument&&Vm(x.ownerDocument.documentElement,x)){if(O!==null&&kh(x)){var F=O.start,ee=O.end;if(ee===void 0&&(ee=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(ee,x.value.length);else{var ne=x.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var Y=$.getSelection(),De=x.textContent.length,Ae=Math.min(O.start,De),at=O.end===void 0?Ae:Math.min(O.end,De);!Y.extend&&Ae>at&&(b=at,at=Ae,Ae=b);var B=Mm(x,Ae),L=Mm(x,at);if(B&&L&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var H=ne.createRange();H.setStart(B.node,B.offset),Y.removeAllRanges(),Ae>at?(Y.addRange(H),Y.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Y.addRange(H))}}}}for(ne=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ne.length;x++){var te=ne[x];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}cu=!!ld,cd=ld=null}finally{Je=h,se.p=l,X.T=s}}t.current=n,en=2}}function Yy(){if(en===2){en=0;var t=Ua,n=Is,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=se.p;se.p=2;var h=Je;Je|=4;try{Ay(t,n.alternate,n)}finally{Je=h,se.p=l,X.T=s}}en=3}}function Ky(){if(en===4||en===3){en=0,ui();var t=Ua,n=Is,s=Os,l=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?en=5:(en=0,Is=Ua=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pa=null),Zr(s),n=n.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,b=0;b<l.length;b++){var x=l[b];d(x.value,{componentStack:x.stack})}}finally{X.T=n,se.p=h}}(Os&3)!==0&&Zc(),Ci(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Yf?il++:(il=0,Yf=t):il=0,al(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Po(n)))}function Zc(t){return Qy(),Yy(),Ky(),Zy()}function Zy(){if(en!==5)return!1;var t=Ua,n=$f;$f=0;var s=Zr(Os),l=X.T,h=se.p;try{se.p=32>s?32:s,X.T=null,s=Qf,Qf=null;var d=Ua,b=Os;if(en=0,Is=Ua=null,Os=0,(Je&6)!==0)throw Error(r(331));var x=Je;if(Je|=4,Vy(d.current),Iy(d,d.current,b,s),Je=x,al(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Oe,d)}catch{}return!0}finally{se.p=h,X.T=l,Xy(t,n)}}function Wy(t,n,s){n=Un(s,n),n=Sf(t.stateNode,n,2),t=Ca(t,n,2),t!==null&&(Bi(t,2),Ci(t))}function ot(t,n,s){if(t.tag===3)Wy(t,t,s);else for(;n!==null;){if(n.tag===3){Wy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pa===null||!Pa.has(l))){t=Un(s,t),s=ny(2),l=Ca(n,s,2),l!==null&&(iy(s,l,n,t),Bi(l,2),Ci(l));break}}n=n.return}}function Wf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new FE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(qf=!0,h.add(s),t=KE.bind(null,t,n,s),n.then(t,t))}function KE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ct===t&&(Fe&s)===s&&(Et===4||Et===3&&(Fe&62914560)===Fe&&300>gt()-Gf?(Je&2)===0&&Ms(t,0):Hf|=s,Ns===Fe&&(Ns=0)),Ci(t)}function Jy(t,n){n===0&&(n=fo()),t=ms(t,n),t!==null&&(Bi(t,n),Ci(t))}function XE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Jy(t,s)}function ZE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Jy(t,s)}function WE(t,n){return Ht(t,n)}var Wc=null,ks=null,Jf=!1,Jc=!1,ed=!1,Pr=0;function Ci(t){t!==ks&&t.next===null&&(ks===null?Wc=ks=t:ks=ks.next=t),Jc=!0,Jf||(Jf=!0,e1())}function al(t,n){if(!ed&&Jc){ed=!0;do for(var s=!1,l=Wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var b=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-bt(42|t)+1)-1,d&=h&~(b&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,iv(l,d))}else d=Fe,d=fi(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(s=!0,iv(l,d));l=l.next}while(s);ed=!1}}function JE(){ev()}function ev(){Jc=Jf=!1;var t=0;Pr!==0&&(l1()&&(t=Pr),Pr=0);for(var n=gt(),s=null,l=Wc;l!==null;){var h=l.next,d=tv(l,n);d===0?(l.next=null,s===null?Wc=h:s.next=h,h===null&&(ks=s)):(s=l,(t!==0||(d&3)!==0)&&(Jc=!0)),l=h}al(t)}function tv(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var b=31-bt(d),x=1<<b,O=h[b];O===-1?((x&s)===0||(x&l)!==0)&&(h[b]=Li(x,n)):O<=n&&(t.expiredLanes|=x),d&=~x}if(n=ct,s=Fe,s=fi(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Wn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&vn(l),Zr(s)){case 2:case 8:s=Yn;break;case 32:s=Ui;break;case 268435456:s=ya;break;default:s=Ui}return l=nv.bind(null,t),s=Ht(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&vn(l),t.callbackPriority=2,t.callbackNode=null,2}function nv(t,n){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Zc()&&t.callbackNode!==s)return null;var l=Fe;return l=fi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uy(t,l,n),tv(t,gt()),t.callbackNode!=null&&t.callbackNode===s?nv.bind(null,t):null)}function iv(t,n){if(Zc())return null;Uy(t,n,!0)}function e1(){u1(function(){(Je&6)!==0?Ht(hi,JE):ev()})}function td(){return Pr===0&&(Pr=lr()),Pr}function av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:is(""+t)}function rv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function t1(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=av((h[Nt]||null).action),b=l.submitter;b&&(n=(n=b[Nt]||null)?av(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var x=new as("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pr!==0){var O=b?rv(h,b):new FormData(h);xf(s,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(x.preventDefault(),O=b?rv(h,b):new FormData(h),xf(s,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var nd=0;nd<Lh.length;nd++){var id=Lh[nd],n1=id.toLowerCase(),i1=id[0].toUpperCase()+id.slice(1);ti(n1,"on"+i1)}ti(Um,"onAnimationEnd"),ti(Lm,"onAnimationIteration"),ti(zm,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(bE,"onTransitionRun"),ti(xE,"onTransitionStart"),ti(EE,"onTransitionCancel"),ti(Bm,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function sv(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var x=l[b],O=x.instance,F=x.currentTarget;if(x=x.listener,O!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=F;try{d(h)}catch(ee){zc(ee)}h.currentTarget=null,d=O}else for(b=0;b<l.length;b++){if(x=l[b],O=x.instance,F=x.currentTarget,x=x.listener,O!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=F;try{d(h)}catch(ee){zc(ee)}h.currentTarget=null,d=O}}}}function Le(t,n){var s=n[go];s===void 0&&(s=n[go]=new Set);var l=t+"__bubble";s.has(l)||(ov(n,t,2,!1),s.add(l))}function ad(t,n,s){var l=0;n&&(l|=4),ov(s,t,l,n)}var eu="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[eu]){t[eu]=!0,yo.forEach(function(s){s!=="selectionchange"&&(a1.has(s)||ad(s,!1,t),ad(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[eu]||(n[eu]=!0,ad("selectionchange",!1,n))}}function ov(t,n,s,l){switch(Iv(n)){case 2:var h=I1;break;case 8:h=O1;break;default:h=_d}s=h.bind(null,n,s,t),h=void 0,!jn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function sd(t,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var x=l.stateNode.containerInfo;if(x===h)break;if(b===4)for(b=l.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;x!==null;){if(b=qi(x),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){l=d=b;continue e}x=x.parentNode}}l=l.return}nc(function(){var F=d,ee=kn(s),ne=[];e:{var $=qm.get(t);if($!==void 0){var Y=as,De=t;switch(t){case"keypress":if(_i(s)===0)break e;case"keydown":case"keyup":Y=us;break;case"focusin":De="focus",Y=os;break;case"focusout":De="blur",Y=os;break;case"beforeblur":case"afterblur":Y=os;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=uc;break;case Um:case Lm:case zm:Y=ls;break;case Bm:Y=fc;break;case"scroll":case"scrollend":Y=ic;break;case"wheel":Y=hs;break;case"copy":case"cut":case"paste":Y=cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Do;break;case"toggle":case"beforetoggle":Y=pc}var Ae=(n&4)!==0,at=!Ae&&(t==="scroll"||t==="scrollend"),B=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var L=F,H;L!==null;){var te=L;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||B===null||(te=gr(L,B),te!=null&&Ae.push(sl(L,te,H))),at)break;L=L.return}0<Ae.length&&($=new Y($,De,null,s,ee),ne.push({event:$,listeners:Ae}))}}if((n&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",$&&s!==$i&&(De=s.relatedTarget||s.fromElement)&&(qi(De)||De[Mn]))break e;if((Y||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(De=s.relatedTarget||s.toElement,Y=F,De=De?qi(De):null,De!==null&&(at=c(De),Ae=De.tag,De!==at||Ae!==5&&Ae!==27&&Ae!==6)&&(De=null)):(Y=null,De=F),Y!==De)){if(Ae=Pn,te="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Do,te="onPointerLeave",B="onPointerEnter",L="pointer"),at=Y==null?$:mi(Y),H=De==null?$:mi(De),$=new Ae(te,L+"leave",Y,s,ee),$.target=at,$.relatedTarget=H,te=null,qi(ee)===F&&(Ae=new Ae(B,L+"enter",De,s,ee),Ae.target=H,Ae.relatedTarget=at,te=Ae),at=te,Y&&De)t:{for(Ae=Y,B=De,L=0,H=Ae;H;H=js(H))L++;for(H=0,te=B;te;te=js(te))H++;for(;0<L-H;)Ae=js(Ae),L--;for(;0<H-L;)B=js(B),H--;for(;L--;){if(Ae===B||B!==null&&Ae===B.alternate)break t;Ae=js(Ae),B=js(B)}Ae=null}else Ae=null;Y!==null&&lv(ne,$,Y,Ae,!1),De!==null&&at!==null&&lv(ne,at,De,Ae,!0)}}e:{if($=F?mi(F):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var _e=Rm;else if(Lt($))if(Cm)_e=yE;else{_e=mE;var Pe=pE}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&Eo(F.elementType)&&(_e=Rm):_e=gE;if(_e&&(_e=_e(t,F))){Zi(ne,_e,s,ee);break e}Pe&&Pe(t,$,F),t==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&Ta($,"number",$.value)}switch(Pe=F?mi(F):window,t){case"focusin":(Lt(Pe)||Pe.contentEditable==="true")&&(fs=Pe,jh=F,Oo=null);break;case"focusout":Oo=jh=fs=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,jm(ne,s,ee);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":jm(ne,s,ee)}var xe;if(Ei)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else qe?Z(t,s)&&(Se="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Se="onCompositionStart");Se&&(_&&s.locale!=="ko"&&(qe||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&qe&&(xe=wo()):(vi=ee,wa="value"in vi?vi.value:vi.textContent,qe=!0)),Pe=tu(F,Se),0<Pe.length&&(Se=new Ro(Se,t,null,s,ee),ne.push({event:Se,listeners:Pe}),xe?Se.data=xe:(xe=ue(s),xe!==null&&(Se.data=xe)))),(xe=g?Ut(t,s):He(t,s))&&(Se=tu(F,"onBeforeInput"),0<Se.length&&(Pe=new Ro("onBeforeInput","beforeinput",null,s,ee),ne.push({event:Pe,listeners:Se}),Pe.data=xe)),t1(ne,t,F,s,ee)}sv(ne,n)})}function sl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function tu(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gr(t,s),h!=null&&l.unshift(sl(t,h,d)),h=gr(t,n),h!=null&&l.push(sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lv(t,n,s,l,h){for(var d=n._reactName,b=[];s!==null&&s!==l;){var x=s,O=x.alternate,F=x.stateNode;if(x=x.tag,O!==null&&O===l)break;x!==5&&x!==26&&x!==27||F===null||(O=F,h?(F=gr(s,d),F!=null&&b.unshift(sl(s,F,O))):h||(F=gr(s,d),F!=null&&b.push(sl(s,F,O)))),s=s.return}b.length!==0&&t.push({event:n,listeners:b})}var r1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(r1,`
`).replace(s1,"")}function uv(t,n){return n=cv(n),cv(t)===n}function nu(){}function it(t,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Vn(t,""+l);break;case"className":gi(t,"class",l);break;case"tabIndex":gi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(t,s,l);break;case"style":xo(t,l,d);break;case"data":if(n!=="object"){gi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=is(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&it(t,n,"name",h.name,h,null),it(t,n,"formEncType",h.formEncType,h,null),it(t,n,"formMethod",h.formMethod,h,null),it(t,n,"formTarget",h.formTarget,h,null)):(it(t,n,"encType",h.encType,h,null),it(t,n,"method",h.method,h,null),it(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=is(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=nu);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":Zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Dh.get(s)||s,Ea(t,s,l))}}function od(t,n,s,l,h,d){switch(s){case"style":xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=t[Nt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ea(t,s,l)}}}function tn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var b=s[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:it(t,n,d,b,s,null)}}h&&it(t,n,"srcSet",s.srcSet,s,null),l&&it(t,n,"src",s.src,s,null);return;case"input":Le("invalid",t);var x=d=b=h=null,O=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var ee=s[l];if(ee!=null)switch(l){case"name":h=ee;break;case"type":b=ee;break;case"checked":O=ee;break;case"defaultChecked":F=ee;break;case"value":d=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,n));break;default:it(t,n,l,ee,s,null)}}dr(t,d,x,O,F,b,h,!1),ns(t);return;case"select":Le("invalid",t),l=b=d=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":b=x;break;case"multiple":l=x;default:it(t,n,h,x,s,null)}n=d,s=b,t.multiple=!!l,n!=null?Gi(t,!!l,n,!1):s!=null&&Gi(t,!!l,s,!0);return;case"textarea":Le("invalid",t),d=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(x=s[b],x!=null))switch(b){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:it(t,n,b,x,s,null)}pr(t,l,h,d),ns(t);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,n,O,l,s,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<rl.length;l++)Le(rl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:it(t,n,F,l,s,null)}return;default:if(Eo(n)){for(ee in s)s.hasOwnProperty(ee)&&(l=s[ee],l!==void 0&&od(t,n,ee,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&it(t,n,x,l,s,null))}function o1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,b=null,x=null,O=null,F=null,ee=null;for(Y in s){var ne=s[Y];if(s.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=ne;default:l.hasOwnProperty(Y)||it(t,n,Y,null,l,ne)}}for(var $ in l){var Y=l[$];if(ne=s[$],l.hasOwnProperty($)&&(Y!=null||ne!=null))switch($){case"type":d=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":ee=Y;break;case"value":b=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Y!==ne&&it(t,n,$,Y,l,ne)}}Tn(t,b,x,O,F,ee,d,h);return;case"select":Y=b=x=$=null;for(d in s)if(O=s[d],s.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||it(t,n,d,null,l,O)}for(h in l)if(d=l[h],O=s[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":$=d;break;case"defaultValue":x=d;break;case"multiple":b=d;default:d!==O&&it(t,n,h,d,l,O)}n=x,s=b,l=Y,$!=null?Gi(t,!!s,$,!1):!!l!=!!s&&(n!=null?Gi(t,!!s,n,!0):Gi(t,!!s,s?[]:"",!1));return;case"textarea":Y=$=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:it(t,n,x,null,l,h)}for(b in l)if(h=l[b],d=s[b],l.hasOwnProperty(b)&&(h!=null||d!=null))switch(b){case"value":$=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&it(t,n,b,h,l,d)}tt(t,$,Y);return;case"option":for(var De in s)if($=s[De],s.hasOwnProperty(De)&&$!=null&&!l.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:it(t,n,De,null,l,$)}for(O in l)if($=l[O],Y=s[O],l.hasOwnProperty(O)&&$!==Y&&($!=null||Y!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:it(t,n,O,$,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)$=s[Ae],s.hasOwnProperty(Ae)&&$!=null&&!l.hasOwnProperty(Ae)&&it(t,n,Ae,null,l,$);for(F in l)if($=l[F],Y=s[F],l.hasOwnProperty(F)&&$!==Y&&($!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,n));break;default:it(t,n,F,$,l,Y)}return;default:if(Eo(n)){for(var at in s)$=s[at],s.hasOwnProperty(at)&&$!==void 0&&!l.hasOwnProperty(at)&&od(t,n,at,void 0,l,$);for(ee in l)$=l[ee],Y=s[ee],!l.hasOwnProperty(ee)||$===Y||$===void 0&&Y===void 0||od(t,n,ee,$,l,Y);return}}for(var B in s)$=s[B],s.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&it(t,n,B,null,l,$);for(ne in l)$=l[ne],Y=s[ne],!l.hasOwnProperty(ne)||$===Y||$==null&&Y==null||it(t,n,ne,$,l,Y)}var ld=null,cd=null;function iu(t){return t.nodeType===9?t:t.ownerDocument}function hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ud(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function l1(){var t=window.event;return t&&t.type==="popstate"?t===hd?!1:(hd=t,!0):(hd=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,c1=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(t){return pv.resolve(null).then(t).catch(h1)}:dv;function h1(t){setTimeout(function(){throw t})}function za(t){return t==="head"}function mv(t,n){var s=n,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var b=t.ownerDocument;if(s&1&&ol(b.documentElement),s&2&&ol(b.body),s&4)for(s=b.head,ol(s),b=s.firstChild;b;){var x=b.nextSibling,O=b.nodeName;b[cr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=x}}if(h===0){t.removeChild(d),ml(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);ml(n)}function fd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fd(s),xa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function f1(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function d1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ii(t.nextSibling),t===null))return null;return t}function dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function p1(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ii(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var pd=null;function gv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function yv(t,n,s){switch(n=iu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ol(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xa(t)}var Fn=new Map,vv=new Set;function au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ua=se.d;se.d={f:m1,r:g1,D:y1,C:v1,L:_1,m:b1,X:E1,S:x1,M:T1};function m1(){var t=ua.f(),n=Kc();return t||n}function g1(t){var n=pi(t);n!==null&&n.tag===5&&n.type==="form"?Ug(n):ua.r(t)}var Ps=typeof document>"u"?null:document;function _v(t,n,s){var l=Ps;if(l&&typeof n=="string"&&n){var h=It(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),vv.has(h)||(vv.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),tn(n,"link",t),St(n),l.head.appendChild(n)))}}function y1(t){ua.D(t),_v("dns-prefetch",t,null)}function v1(t,n){ua.C(t,n),_v("preconnect",t,n)}function _1(t,n,s){ua.L(t,n,s);var l=Ps;if(l&&t&&n){var h='link[rel="preload"][as="'+It(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+It(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+It(s.imageSizes)+'"]')):h+='[href="'+It(t)+'"]';var d=h;switch(n){case"style":d=Us(t);break;case"script":d=Ls(t)}Fn.has(d)||(t=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Fn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ll(d))||n==="script"&&l.querySelector(cl(d))||(n=l.createElement("link"),tn(n,"link",t),St(n),l.head.appendChild(n)))}}function b1(t,n){ua.m(t,n);var s=Ps;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ls(t)}if(!Fn.has(d)&&(t=v({rel:"modulepreload",href:t},n),Fn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(d)))return}l=s.createElement("link"),tn(l,"link",t),St(l),s.head.appendChild(l)}}}function x1(t,n,s){ua.S(t,n,s);var l=Ps;if(l&&t){var h=fn(l).hoistableStyles,d=Us(t);n=n||"default";var b=h.get(d);if(!b){var x={loading:0,preload:null};if(b=l.querySelector(ll(d)))x.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Fn.get(d))&&md(t,s);var O=b=l.createElement("link");St(O),tn(O,"link",t),O._p=new Promise(function(F,ee){O.onload=F,O.onerror=ee}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ru(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:x},h.set(d,b)}}}function E1(t,n){ua.X(t,n);var s=Ps;if(s&&t){var l=fn(s).hoistableScripts,h=Ls(t),d=l.get(h);d||(d=s.querySelector(cl(h)),d||(t=v({src:t,async:!0},n),(n=Fn.get(h))&&gd(t,n),d=s.createElement("script"),St(d),tn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function T1(t,n){ua.M(t,n);var s=Ps;if(s&&t){var l=fn(s).hoistableScripts,h=Ls(t),d=l.get(h);d||(d=s.querySelector(cl(h)),d||(t=v({src:t,async:!0,type:"module"},n),(n=Fn.get(h))&&gd(t,n),d=s.createElement("script"),St(d),tn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bv(t,n,s,l){var h=(h=ge.current)?au(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Us(s.href),s=fn(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Us(s.href);var d=fn(h).hoistableStyles,b=d.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,b),(d=h.querySelector(ll(t)))&&!d._p&&(b.instance=d,b.state.loading=5),Fn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(t,s),d||w1(h,t,s,b.state))),n&&l===null)throw Error(r(528,""));return b}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ls(s),s=fn(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Us(t){return'href="'+It(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function xv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function w1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),tn(n,"link",s),St(n),t.head.appendChild(n))}function Ls(t){return'[src="'+It(t)+'"]'}function cl(t){return"script[async]"+t}function Ev(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+It(s.href)+'"]');if(l)return n.instance=l,St(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),tn(l,"style",h),ru(l,s.precedence,t),n.instance=l;case"stylesheet":h=Us(s.href);var d=t.querySelector(ll(h));if(d)return n.state.loading|=4,n.instance=d,St(d),d;l=xv(s),(h=Fn.get(h))&&md(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var b=d;return b._p=new Promise(function(x,O){b.onload=x,b.onerror=O}),tn(d,"link",l),n.state.loading|=4,ru(d,s.precedence,t),n.instance=d;case"script":return d=Ls(s.src),(h=t.querySelector(cl(d)))?(n.instance=h,St(h),h):(l=s,(h=Fn.get(d))&&(l=v({},s),gd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),tn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ru(l,s.precedence,t));return n.instance}function ru(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,b=0;b<l.length;b++){var x=l[b];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var su=null;function Tv(t,n,s){if(su===null){var l=new Map,h=su=new Map;h.set(s,l)}else h=su,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[cr]||d[Pt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=t+b;var x=l.get(b);x?x.push(d):l.set(b,[d])}}return l}function wv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function A1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ul=null;function S1(){}function R1(t,n,s){if(ul===null)throw Error(r(475));var l=ul;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Us(s.href),d=t.querySelector(ll(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ou.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,St(d);return}d=t.ownerDocument||t,s=xv(s),(h=Fn.get(h))&&md(s,h),d=d.createElement("link"),St(d);var b=d;b._p=new Promise(function(x,O){b.onload=x,b.onerror=O}),tn(d,"link",s),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ou.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function C1(){if(ul===null)throw Error(r(475));var t=ul;return t.stylesheets&&t.count===0&&yd(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function ou(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lu=null;function yd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lu=new Map,n.forEach(D1,t),lu=null,ou.call(t))}function D1(t,n){if(!(n.state.loading&4)){var s=lu.get(t);if(s)var l=s.get(null);else{s=new Map,lu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var b=h[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=n.instance,b=h.getAttribute("data-precedence"),d=s.get(b)||l,d===l&&s.set(null,h),s.set(b,h),this.count++,l=ou.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var hl={$$typeof:K,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function N1(t,n,s,l,h,d,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Sv(t,n,s,l,h,d,b,x,O,F,ee,ne){return t=new N1(t,n,s,b,x,O,F,ne),n=1,d===!0&&(n|=24),d=An(3,null,null,n),t.current=d,d.stateNode=t,n=Zh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},tf(d),t}function Rv(t){return t?(t=gs,t):gs}function Cv(t,n,s,l,h,d){h=Rv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ra(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ca(t,l,n),s!==null&&(Nn(s,t,n),Bo(s,t,n))}function Dv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function vd(t,n){Dv(t,n),(t=t.alternate)&&Dv(t,n)}function Nv(t){if(t.tag===13){var n=ms(t,67108864);n!==null&&Nn(n,t,67108864),vd(t,67108864)}}var cu=!0;function I1(t,n,s,l){var h=X.T;X.T=null;var d=se.p;try{se.p=2,_d(t,n,s,l)}finally{se.p=d,X.T=h}}function O1(t,n,s,l){var h=X.T;X.T=null;var d=se.p;try{se.p=8,_d(t,n,s,l)}finally{se.p=d,X.T=h}}function _d(t,n,s,l){if(cu){var h=bd(l);if(h===null)sd(t,n,l,uu,s),Ov(t,l);else if(V1(h,t,n,s,l))l.stopPropagation();else if(Ov(t,l),n&4&&-1<M1.indexOf(t)){for(;h!==null;){var d=pi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=hn(d.pendingLanes);if(b!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var O=1<<31-bt(b);x.entanglements[1]|=O,b&=~O}Ci(d),(Je&6)===0&&(Qc=gt()+500,al(0))}}break;case 13:x=ms(d,2),x!==null&&Nn(x,d,2),Kc(),vd(d,2)}if(d=bd(l),d===null&&sd(t,n,l,uu,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else sd(t,n,l,null,s)}}function bd(t){return t=kn(t),xd(t)}var uu=null;function xd(t){if(uu=null,t=qi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uu=t,null}function Iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qn()){case hi:return 2;case Yn:return 8;case Ui:case ho:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Ed=!1,Ba=null,qa=null,Ha=null,fl=new Map,dl=new Map,Fa=[],M1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(t,n){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function pl(t,n,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=pi(n),n!==null&&Nv(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function V1(t,n,s,l,h){switch(n){case"focusin":return Ba=pl(Ba,t,n,s,l,h),!0;case"dragenter":return qa=pl(qa,t,n,s,l,h),!0;case"mouseover":return Ha=pl(Ha,t,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return fl.set(d,pl(fl.get(d)||null,t,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,dl.set(d,pl(dl.get(d)||null,t,n,s,l,h)),!0}return!1}function Mv(t){var n=qi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Kl(t.priority,function(){if(s.tag===13){var l=Dn();l=va(l);var h=ms(s,l);h!==null&&Nn(h,s,l),vd(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=bd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);$i=l,s.target.dispatchEvent(l),$i=null}else return n=pi(s),n!==null&&Nv(n),t.blockedOn=s,!1;n.shift()}return!0}function Vv(t,n,s){hu(t)&&s.delete(n)}function k1(){Ed=!1,Ba!==null&&hu(Ba)&&(Ba=null),qa!==null&&hu(qa)&&(qa=null),Ha!==null&&hu(Ha)&&(Ha=null),fl.forEach(Vv),dl.forEach(Vv)}function fu(t,n){t.blockedOn===n&&(t.blockedOn=null,Ed||(Ed=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,k1)))}var du=null;function kv(t){du!==t&&(du=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){du===t&&(du=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(xd(l||s)===null)continue;break}var d=pi(s);d!==null&&(t.splice(n,3),n-=3,xf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function ml(t){function n(O){return fu(O,t)}Ba!==null&&fu(Ba,t),qa!==null&&fu(qa,t),Ha!==null&&fu(Ha,t),fl.forEach(n),dl.forEach(n);for(var s=0;s<Fa.length;s++){var l=Fa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fa.length&&(s=Fa[0],s.blockedOn===null);)Mv(s),s.blockedOn===null&&Fa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],b=h[Nt]||null;if(typeof d=="function")b||kv(s);else if(b){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,b=d[Nt]||null)x=b.formAction;else if(xd(h)!==null)continue}else x=b.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),kv(s)}}}function Td(t){this._internalRoot=t}pu.prototype.render=Td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Dn();Cv(s,l,t,n,null,null)},pu.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Cv(t.current,2,null,t,null,null),Kc(),n[Mn]=null}};function pu(t){this._internalRoot=t}pu.prototype.unstable_scheduleHydration=function(t){if(t){var n=_a();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Fa.length&&n!==0&&n<Fa[s].priority;s++);Fa.splice(s,0,t),s===0&&Mv(t)}};var jv=e.version;if(jv!=="19.1.1")throw Error(r(527,jv,"19.1.1"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var j1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Oe=mu.inject(j1),Ce=mu}catch{}}return yl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",h=Wg,d=Jg,b=ey,x=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=Sv(t,1,!1,null,null,s,l,h,d,b,x,null),t[Mn]=n.current,rd(t),new Td(n)},yl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,h="",d=Wg,b=Jg,x=ey,O=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),n=Sv(t,1,!0,n,s??null,l,h,d,b,x,O,F),n.context=Rv(null),s=n.current,l=Dn(),l=va(l),h=Ra(l),h.callback=null,Ca(s,h,l),s=l,n.current.lanes=s,Bi(n,s),Ci(n),t[Mn]=n.current,rd(t),new pu(n)},yl.version="19.1.1",yl}var $v;function $1(){if($v)return Sd.exports;$v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sd.exports=G1(),Sd.exports}var Q1=$1();const Y1=lh(Q1);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function K1(a={}){function e(r,o){let{pathname:c,search:f,hash:p}=r.location;return Xd("",{pathname:c,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Dl(o)}return Z1(e,i,null,a)}function mt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ri(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X1(){return Math.random().toString(36).substring(2,10)}function Yv(a,e){return{usr:a.state,key:a.key,idx:e}}function Xd(a,e,i=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:i,key:e&&e.key||r||X1()}}function Dl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function io(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let r=a.indexOf("?");r>=0&&(e.search=a.substring(r),a=a.substring(0,r)),a&&(e.pathname=a)}return e}function Z1(a,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,f=o.history,p="POP",y=null,m=v();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function v(){return(f.state||{idx:null}).idx}function w(){p="POP";let k=v(),Q=k==null?null:k-m;m=k,y&&y({action:p,location:M.location,delta:Q})}function A(k,Q){p="PUSH";let W=Xd(M.location,k,Q);m=v()+1;let K=Yv(W,m),fe=M.createHref(W);try{f.pushState(K,"",fe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(fe)}c&&y&&y({action:p,location:M.location,delta:1})}function I(k,Q){p="REPLACE";let W=Xd(M.location,k,Q);m=v();let K=Yv(W,m),fe=M.createHref(W);f.replaceState(K,"",fe),c&&y&&y({action:p,location:M.location,delta:0})}function U(k){return W1(k)}let M={get action(){return p},get location(){return a(o,f)},listen(k){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,w),y=k,()=>{o.removeEventListener(Qv,w),y=null}},createHref(k){return e(o,k)},createURL:U,encodeLocation(k){let Q=U(k);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:I,go(k){return f.go(k)}};return M}function W1(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),mt(i,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Dl(a);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function M_(a,e,i="/"){return J1(a,e,i,!1)}function J1(a,e,i,r){let o=typeof e=="string"?io(e):e,c=da(o.pathname||"/",i);if(c==null)return null;let f=V_(a);eT(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let m=hT(c);p=cT(f[y],m,r)}return p}function V_(a,e=[],i=[],r="",o=!1){let c=(f,p,y=o,m)=>{let v={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&y)return;mt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let w=ha([r,v.relativePath]),A=i.concat(v);f.children&&f.children.length>0&&(mt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),V_(f.children,e,A,w,y)),!(f.path==null&&!f.index)&&e.push({path:w,score:oT(w,f.index),routesMeta:A})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let y of k_(f.path))c(f,p,!0,y)}),e}function k_(a){let e=a.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let f=k_(r.join("/")),p=[];return p.push(...f.map(y=>y===""?c:[c,y].join("/"))),o&&p.push(...f),p.map(y=>a.startsWith("/")&&y===""?"/":y)}function eT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:lT(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var tT=/^:[\w-]+$/,nT=3,iT=2,aT=1,rT=10,sT=-2,Kv=a=>a==="*";function oT(a,e){let i=a.split("/"),r=i.length;return i.some(Kv)&&(r+=sT),e&&(r+=iT),i.filter(o=>!Kv(o)).reduce((o,c)=>o+(tT.test(c)?nT:c===""?aT:rT),r)}function lT(a,e){return a.length===e.length&&a.slice(0,-1).every((r,o)=>r===e[o])?a[a.length-1]-e[e.length-1]:0}function cT(a,e,i=!1){let{routesMeta:r}=a,o={},c="/",f=[];for(let p=0;p<r.length;++p){let y=r[p],m=p===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",w=zu({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),A=y.route;if(!w&&m&&i&&!r[r.length-1].route.index&&(w=zu({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ha([c,w.pathname]),pathnameBase:mT(ha([c,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(c=ha([c,w.pathnameBase]))}return f}function zu(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,r]=uT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:w},A)=>{if(v==="*"){let U=p[A]||"";f=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const I=p[A];return w&&!I?m[v]=void 0:m[v]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:f,pattern:a}}function uT(a,e=!1,i=!0){ri(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function hT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function da(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=a.charAt(i);return r&&r!=="/"?null:a.slice(i)||"/"}function fT(a,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof a=="string"?io(a):a;return{pathname:i?i.startsWith("/")?i:dT(i,e):e,search:gT(r),hash:yT(o)}}function dT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Nd(a,e,i,r){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Dp(a){let e=pT(a);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Np(a,e,i,r=!1){let o;typeof a=="string"?o=io(a):(o={...a},mt(!o.pathname||!o.pathname.includes("?"),Nd("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Nd("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Nd("#","search","hash",o)));let c=a===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=i;else{let w=e.length-1;if(!r&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}p=w>=0?e[w]:"/"}let y=fT(o,p),m=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var ha=a=>a.join("/").replace(/\/\/+/g,"/"),mT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),gT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,yT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function vT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var j_=["POST","PUT","PATCH","DELETE"];new Set(j_);var _T=["GET",...j_];new Set(_T);var ao=j.createContext(null);ao.displayName="DataRouter";var ch=j.createContext(null);ch.displayName="DataRouterState";j.createContext(!1);var P_=j.createContext({isTransitioning:!1});P_.displayName="ViewTransition";var bT=j.createContext(new Map);bT.displayName="Fetchers";var xT=j.createContext(null);xT.displayName="Await";var li=j.createContext(null);li.displayName="Navigation";var Ll=j.createContext(null);Ll.displayName="Location";var Pi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Ip=j.createContext(null);Ip.displayName="RouteError";function ET(a,{relative:e}={}){mt(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=j.useContext(li),{hash:o,pathname:c,search:f}=Bl(a,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:ha([i,c])),r.createHref({pathname:p,search:f,hash:o})}function ro(){return j.useContext(Ll)!=null}function ci(){return mt(ro(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ll).location}var U_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(a){j.useContext(li).static||j.useLayoutEffect(a)}function zl(){let{isDataRoute:a}=j.useContext(Pi);return a?kT():TT()}function TT(){mt(ro(),"useNavigate() may be used only in the context of a <Router> component.");let a=j.useContext(ao),{basename:e,navigator:i}=j.useContext(li),{matches:r}=j.useContext(Pi),{pathname:o}=ci(),c=JSON.stringify(Dp(r)),f=j.useRef(!1);return L_(()=>{f.current=!0}),j.useCallback((y,m={})=>{if(ri(f.current,U_),!f.current)return;if(typeof y=="number"){i.go(y);return}let v=Np(y,JSON.parse(c),o,m.relative==="path");a==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ha([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,c,o,a])}j.createContext(null);function Bl(a,{relative:e}={}){let{matches:i}=j.useContext(Pi),{pathname:r}=ci(),o=JSON.stringify(Dp(i));return j.useMemo(()=>Np(a,JSON.parse(o),r,e==="path"),[a,o,r,e])}function wT(a,e){return z_(a,e)}function z_(a,e,i,r,o){mt(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(li),{matches:f}=j.useContext(Pi),p=f[f.length-1],y=p?p.params:{},m=p?p.pathname:"/",v=p?p.pathnameBase:"/",w=p&&p.route;{let W=w&&w.path||"";B_(m,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=ci(),I;if(e){let W=typeof e=="string"?io(e):e;mt(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),I=W}else I=A;let U=I.pathname||"/",M=U;if(v!=="/"){let W=v.replace(/^\//,"").split("/");M="/"+U.replace(/^\//,"").split("/").slice(W.length).join("/")}let k=M_(a,{pathname:M});ri(w||k!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),ri(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=DT(k&&k.map(W=>Object.assign({},W,{params:Object.assign({},y,W.params),pathname:ha([v,c.encodeLocation?c.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:ha([v,c.encodeLocation?c.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,i,r,o);return e&&Q?j.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},Q):Q}function AT(){let a=VT(),e=vT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),i?j.createElement("pre",{style:o},i):null,f)}var ST=j.createElement(AT,null),RT=class extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?j.createElement(Pi.Provider,{value:this.props.routeContext},j.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CT({routeContext:a,match:e,children:i}){let r=j.useContext(ao);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Pi.Provider,{value:a},i)}function DT(a,e=[],i=null,r=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let c=a,f=i?.errors;if(f!=null){let m=c.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let p=!1,y=-1;if(i)for(let m=0;m<c.length;m++){let v=c[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=m),v.route.id){let{loaderData:w,errors:A}=i,I=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||I){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((m,v,w)=>{let A,I=!1,U=null,M=null;i&&(A=f&&v.route.id?f[v.route.id]:void 0,U=v.route.errorElement||ST,p&&(y<0&&w===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):y===w&&(I=!0,M=v.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,w+1)),Q=()=>{let W;return A?W=U:I?W=M:v.route.Component?W=j.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=m,j.createElement(CT,{match:v,routeContext:{outlet:m,matches:k,isDataRoute:i!=null},children:W})};return i&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?j.createElement(RT,{location:i.location,revalidation:i.revalidation,component:U,error:A,children:Q(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):Q()},null)}function Op(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(a){let e=j.useContext(ao);return mt(e,Op(a)),e}function IT(a){let e=j.useContext(ch);return mt(e,Op(a)),e}function OT(a){let e=j.useContext(Pi);return mt(e,Op(a)),e}function Mp(a){let e=OT(a),i=e.matches[e.matches.length-1];return mt(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function MT(){return Mp("useRouteId")}function VT(){let a=j.useContext(Ip),e=IT("useRouteError"),i=Mp("useRouteError");return a!==void 0?a:e.errors?.[i]}function kT(){let{router:a}=NT("useNavigate"),e=Mp("useNavigate"),i=j.useRef(!1);return L_(()=>{i.current=!0}),j.useCallback(async(o,c={})=>{ri(i.current,U_),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Xv={};function B_(a,e,i){!e&&!Xv[a]&&(Xv[a]=!0,ri(!1,i))}j.memo(jT);function jT({routes:a,future:e,state:i,unstable_onError:r}){return z_(a,void 0,i,r,e)}function PT({to:a,replace:e,state:i,relative:r}){mt(ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(li);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(Pi),{pathname:f}=ci(),p=zl(),y=Np(a,Dp(c),f,r==="path"),m=JSON.stringify(y);return j.useEffect(()=>{p(JSON.parse(m),{replace:e,state:i,relative:r})},[p,m,r,e,i]),null}function $a(a){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UT({basename:a="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){mt(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=io(i));let{pathname:y="/",search:m="",hash:v="",state:w=null,key:A="default"}=i,I=j.useMemo(()=>{let U=da(y,f);return U==null?null:{location:{pathname:U,search:m,hash:v,state:w,key:A},navigationType:r}},[f,y,m,v,w,A,r]);return ri(I!=null,`<Router basename="${f}"> is not able to match the URL "${y}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:j.createElement(li.Provider,{value:p},j.createElement(Ll.Provider,{children:e,value:I}))}function LT({children:a,location:e}){return wT(Zd(a),e)}function Zd(a,e=[]){let i=[];return j.Children.forEach(a,(r,o)=>{if(!j.isValidElement(r))return;let c=[...e,o];if(r.type===j.Fragment){i.push.apply(i,Zd(r.props.children,c));return}mt(r.type===$a,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Zd(r.props.children,c)),i.push(f)}),i}var Du="get",Nu="application/x-www-form-urlencoded";function uh(a){return a!=null&&typeof a.tagName=="string"}function zT(a){return uh(a)&&a.tagName.toLowerCase()==="button"}function BT(a){return uh(a)&&a.tagName.toLowerCase()==="form"}function qT(a){return uh(a)&&a.tagName.toLowerCase()==="input"}function HT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function FT(a,e){return a.button===0&&(!e||e==="_self")&&!HT(a)}var gu=null;function GT(){if(gu===null)try{new FormData(document.createElement("form"),0),gu=!1}catch{gu=!0}return gu}var $T=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Id(a){return a!=null&&!$T.has(a)?(ri(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nu}"`),null):a}function QT(a,e){let i,r,o,c,f;if(BT(a)){let p=a.getAttribute("action");r=p?da(p,e):null,i=a.getAttribute("method")||Du,o=Id(a.getAttribute("enctype"))||Nu,c=new FormData(a)}else if(zT(a)||qT(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||p.getAttribute("action");if(r=y?da(y,e):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||Du,o=Id(a.getAttribute("formenctype"))||Id(p.getAttribute("enctype"))||Nu,c=new FormData(p,a),!GT()){let{name:m,type:v,value:w}=a;if(v==="image"){let A=m?`${m}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else m&&c.append(m,w)}}else{if(uh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Du,r=null,o=Nu,f=a}return c&&o==="text/plain"&&(f=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function YT(a,e,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&da(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function KT(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function ZT(a,e,i){let r=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await KT(c,i);return f.links?f.links():[]}return[]}));return tw(r.flat(1).filter(XT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(a,e,i,r,o,c){let f=(y,m)=>i[m]?y.route.id!==i[m].route.id:!0,p=(y,m)=>i[m].pathname!==y.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,m)=>f(y,m)||p(y,m)):c==="data"?e.filter((y,m)=>{let v=r.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(f(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function WT(a,e,{includeHydrateFallback:i}={}){return JT(a.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function JT(a){return[...new Set(a)]}function ew(a){let e={},i=Object.keys(a).sort();for(let r of i)e[r]=a[r];return e}function tw(a,e){let i=new Set;return new Set(e),a.reduce((r,o)=>{let c=JSON.stringify(ew(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function q_(){let a=j.useContext(ao);return Vp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function nw(){let a=j.useContext(ch);return Vp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var kp=j.createContext(void 0);kp.displayName="FrameworkContext";function H_(){let a=j.useContext(kp);return Vp(a,"You must render this element inside a <HydratedRouter> element"),a}function iw(a,e){let i=j.useContext(kp),[r,o]=j.useState(!1),[c,f]=j.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=e,A=j.useRef(null);j.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let M=Q=>{Q.forEach(W=>{f(W.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[a]),j.useEffect(()=>{if(r){let M=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(M)}}},[r]);let I=()=>{o(!0)},U=()=>{o(!1),f(!1)};return i?a!=="intent"?[c,A,{}]:[c,A,{onFocus:vl(p,I),onBlur:vl(y,U),onMouseEnter:vl(m,I),onMouseLeave:vl(v,U),onTouchStart:vl(w,I)}]:[!1,A,{}]}function vl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function aw({page:a,...e}){let{router:i}=q_(),r=j.useMemo(()=>M_(i.routes,a,i.basename),[i.routes,a,i.basename]);return r?j.createElement(sw,{page:a,matches:r,...e}):null}function rw(a){let{manifest:e,routeModules:i}=H_(),[r,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return ZT(a,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[a,e,i]),r}function sw({page:a,matches:e,...i}){let r=ci(),{manifest:o,routeModules:c}=H_(),{basename:f}=q_(),{loaderData:p,matches:y}=nw(),m=j.useMemo(()=>Zv(a,e,y,o,r,"data"),[a,e,y,o,r]),v=j.useMemo(()=>Zv(a,e,y,o,r,"assets"),[a,e,y,o,r]),w=j.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let U=new Set,M=!1;if(e.forEach(Q=>{let W=o.routes[Q.route.id];!W||!W.hasLoader||(!m.some(K=>K.route.id===Q.route.id)&&Q.route.id in p&&c[Q.route.id]?.shouldRevalidate||W.hasClientLoader?M=!0:U.add(Q.route.id))}),U.size===0)return[];let k=YT(a,f,"data");return M&&U.size>0&&k.searchParams.set("_routes",e.filter(Q=>U.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[k.pathname+k.search]},[f,p,r,o,m,e,a,c]),A=j.useMemo(()=>WT(v,o),[v,o]),I=rw(v);return j.createElement(j.Fragment,null,w.map(U=>j.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...i})),A.map(U=>j.createElement("link",{key:U,rel:"modulepreload",href:U,...i})),I.map(({key:U,link:M})=>j.createElement("link",{key:U,nonce:i.nonce,...M})))}function ow(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var F_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F_&&(window.__reactRouterVersion="7.8.2")}catch{}function lw({basename:a,children:e,window:i}){let r=j.useRef();r.current==null&&(r.current=K1({window:i,v5Compat:!0}));let o=r.current,[c,f]=j.useState({action:o.action,location:o.location}),p=j.useCallback(y=>{j.startTransition(()=>f(y))},[f]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.createElement(UT,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var G_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=j.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:f,state:p,target:y,to:m,preventScrollReset:v,viewTransition:w,...A},I){let{basename:U}=j.useContext(li),M=typeof m=="string"&&G_.test(m),k,Q=!1;if(typeof m=="string"&&M&&(k=m,F_))try{let C=new URL(window.location.href),V=m.startsWith("//")?new URL(C.protocol+m):new URL(m),N=da(V.pathname,U);V.origin===C.origin&&N!=null?m=N+V.search+V.hash:Q=!0}catch{ri(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=ET(m,{relative:o}),[K,fe,he]=iw(r,A),be=fw(m,{replace:f,state:p,target:y,preventScrollReset:v,relative:o,viewTransition:w});function P(C){e&&e(C),C.defaultPrevented||be(C)}let R=j.createElement("a",{...A,...he,href:k||W,onClick:Q||c?e:P,ref:ow(I,fe),target:y,"data-discover":!M&&i==="render"?"true":void 0});return K&&!M?j.createElement(j.Fragment,null,R,j.createElement(aw,{page:W})):R});$_.displayName="Link";var cw=j.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:f,viewTransition:p,children:y,...m},v){let w=Bl(f,{relative:m.relative}),A=ci(),I=j.useContext(ch),{navigator:U,basename:M}=j.useContext(li),k=I!=null&&yw(w)&&p===!0,Q=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,W=A.pathname,K=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(W=W.toLowerCase(),K=K?K.toLowerCase():null,Q=Q.toLowerCase()),K&&M&&(K=da(K,M)||K);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let he=W===Q||!o&&W.startsWith(Q)&&W.charAt(fe)==="/",be=K!=null&&(K===Q||!o&&K.startsWith(Q)&&K.charAt(Q.length)==="/"),P={isActive:he,isPending:be,isTransitioning:k},R=he?e:void 0,C;typeof r=="function"?C=r(P):C=[r,he?"active":null,be?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(P):c;return j.createElement($_,{...m,"aria-current":R,className:C,ref:v,style:V,to:f,viewTransition:p},typeof y=="function"?y(P):y)});cw.displayName="NavLink";var uw=j.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:f=Du,action:p,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:w,...A},I)=>{let U=mw(),M=gw(p,{relative:m}),k=f.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&G_.test(p),W=K=>{if(y&&y(K),K.defaultPrevented)return;K.preventDefault();let fe=K.nativeEvent.submitter,he=fe?.getAttribute("formmethod")||f;U(fe||K.currentTarget,{fetcherKey:e,method:he,navigate:i,replace:o,state:c,relative:m,preventScrollReset:v,viewTransition:w})};return j.createElement("form",{ref:I,method:k,action:M,onSubmit:r?y:W,...A,"data-discover":!Q&&a==="render"?"true":void 0})});uw.displayName="Form";function hw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q_(a){let e=j.useContext(ao);return mt(e,hw(a)),e}function fw(a,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:f}={}){let p=zl(),y=ci(),m=Bl(a,{relative:c});return j.useCallback(v=>{if(FT(v,e)){v.preventDefault();let w=i!==void 0?i:Dl(y)===Dl(m);p(a,{replace:w,state:r,preventScrollReset:o,relative:c,viewTransition:f})}},[y,p,m,i,r,e,a,o,c,f])}var dw=0,pw=()=>`__${String(++dw)}__`;function mw(){let{router:a}=Q_("useSubmit"),{basename:e}=j.useContext(li),i=MT();return j.useCallback(async(r,o={})=>{let{action:c,method:f,encType:p,formData:y,body:m}=QT(r,e);if(o.navigate===!1){let v=o.fetcherKey||pw();await a.fetch(v,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function gw(a,{relative:e}={}){let{basename:i}=j.useContext(li),r=j.useContext(Pi);mt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Bl(a||".",{relative:e})},f=ci();if(a==null){c.search=f.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(w=>w).forEach(w=>p.append("index",w));let v=p.toString();c.search=v?`?${v}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ha([i,c.pathname])),Dl(c)}function yw(a,{relative:e}={}){let i=j.useContext(P_);mt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Q_("useViewTransitionState"),o=Bl(a,{relative:e});if(!i.isTransitioning)return!1;let c=da(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=da(i.nextLocation.pathname,r)||i.nextLocation.pathname;return zu(o.pathname,f)!=null||zu(o.pathname,c)!=null}var Od={exports:{}},Md,Wv;function vw(){if(Wv)return Md;Wv=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Md=a,Md}var Vd,Jv;function _w(){if(Jv)return Vd;Jv=1;var a=vw();function e(){}function i(){}return i.resetWarningCache=e,Vd=function(){function r(f,p,y,m,v,w){if(w!==a){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}r.isRequired=r;function o(){return r}var c={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return c.PropTypes=c,c},Vd}var e0;function bw(){return e0||(e0=1,Od.exports=_w()()),Od.exports}var xw=bw();const lt=lh(xw);function Gr(a,e,i,r){function o(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function p(v){try{m(r.next(v))}catch(w){f(w)}}function y(v){try{m(r.throw(v))}catch(w){f(w)}}function m(v){v.done?c(v.value):o(v.value).then(p,y)}m((r=r.apply(a,e||[])).next())})}const Ew=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ks(a,e,i){const r=Tw(a),{webkitRelativePath:o}=a,c=typeof e=="string"?e:typeof o=="string"&&o.length>0?o:`./${a.name}`;return typeof r.path!="string"&&t0(r,"path",c),t0(r,"relativePath",c),r}function Tw(a){const{name:e}=a;if(e&&e.lastIndexOf(".")!==-1&&!a.type){const r=e.split(".").pop().toLowerCase(),o=Ew.get(r);o&&Object.defineProperty(a,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return a}function t0(a,e,i){Object.defineProperty(a,e,{value:i,writable:!1,configurable:!1,enumerable:!0})}const ww=[".DS_Store","Thumbs.db"];function Aw(a){return Gr(this,void 0,void 0,function*(){return Bu(a)&&Sw(a.dataTransfer)?Nw(a.dataTransfer,a.type):Rw(a)?Cw(a):Array.isArray(a)&&a.every(e=>"getFile"in e&&typeof e.getFile=="function")?Dw(a):[]})}function Sw(a){return Bu(a)}function Rw(a){return Bu(a)&&Bu(a.target)}function Bu(a){return typeof a=="object"&&a!==null}function Cw(a){return Wd(a.target.files).map(e=>Ks(e))}function Dw(a){return Gr(this,void 0,void 0,function*(){return(yield Promise.all(a.map(i=>i.getFile()))).map(i=>Ks(i))})}function Nw(a,e){return Gr(this,void 0,void 0,function*(){if(a.items){const i=Wd(a.items).filter(o=>o.kind==="file");if(e!=="drop")return i;const r=yield Promise.all(i.map(Iw));return n0(Y_(r))}return n0(Wd(a.files).map(i=>Ks(i)))})}function n0(a){return a.filter(e=>ww.indexOf(e.name)===-1)}function Wd(a){if(a===null)return[];const e=[];for(let i=0;i<a.length;i++){const r=a[i];e.push(r)}return e}function Iw(a){if(typeof a.webkitGetAsEntry!="function")return i0(a);const e=a.webkitGetAsEntry();return e&&e.isDirectory?K_(e):i0(a,e)}function Y_(a){return a.reduce((e,i)=>[...e,...Array.isArray(i)?Y_(i):[i]],[])}function i0(a,e){return Gr(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof a.getAsFileSystemHandle=="function"){const c=yield a.getAsFileSystemHandle();if(c===null)throw new Error(`${a} is not a File`);if(c!==void 0){const f=yield c.getFile();return f.handle=c,Ks(f)}}const r=a.getAsFile();if(!r)throw new Error(`${a} is not a File`);return Ks(r,(i=e?.fullPath)!==null&&i!==void 0?i:void 0)})}function Ow(a){return Gr(this,void 0,void 0,function*(){return a.isDirectory?K_(a):Mw(a)})}function K_(a){const e=a.createReader();return new Promise((i,r)=>{const o=[];function c(){e.readEntries(f=>Gr(this,void 0,void 0,function*(){if(f.length){const p=Promise.all(f.map(Ow));o.push(p),c()}else try{const p=yield Promise.all(o);i(p)}catch(p){r(p)}}),f=>{r(f)})}c()})}function Mw(a){return Gr(this,void 0,void 0,function*(){return new Promise((e,i)=>{a.file(r=>{const o=Ks(r,a.fullPath);e(o)},r=>{i(r)})})})}var yu={},a0;function Vw(){return a0||(a0=1,yu.__esModule=!0,yu.default=function(a,e){if(a&&e){var i=Array.isArray(e)?e:e.split(",");if(i.length===0)return!0;var r=a.name||"",o=(a.type||"").toLowerCase(),c=o.replace(/\/.*$/,"");return i.some(function(f){var p=f.trim().toLowerCase();return p.charAt(0)==="."?r.toLowerCase().endsWith(p):p.endsWith("/*")?c===p.replace(/\/.*$/,""):o===p})}return!0}),yu}var kw=Vw();const kd=lh(kw);function r0(a){return Uw(a)||Pw(a)||Z_(a)||jw()}function jw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pw(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Uw(a){if(Array.isArray(a))return Jd(a)}function s0(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function o0(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(i),!0).forEach(function(r){X_(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):s0(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function X_(a,e,i){return e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function Nl(a,e){return Bw(a)||zw(a,e)||Z_(a,e)||Lw()}function Lw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_(a,e){if(a){if(typeof a=="string")return Jd(a,e);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jd(a,e)}}function Jd(a,e){(e==null||e>a.length)&&(e=a.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=a[i];return r}function zw(a,e){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,c=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(e&&r.length===e));o=!0);}catch(y){c=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw p}}return r}}function Bw(a){if(Array.isArray(a))return a}var qw=typeof kd=="function"?kd:kd.default,Hw="file-invalid-type",Fw="file-too-large",Gw="file-too-small",$w="too-many-files",Qw=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=e.split(","),r=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:Hw,message:"File type must be ".concat(r)}},l0=function(e){return{code:Fw,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},c0=function(e){return{code:Gw,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Yw={code:$w,message:"Too many files"};function W_(a,e){var i=a.type==="application/x-moz-file"||qw(a,e);return[i,i?null:Qw(e)]}function J_(a,e,i){if(Lr(a.size))if(Lr(e)&&Lr(i)){if(a.size>i)return[!1,l0(i)];if(a.size<e)return[!1,c0(e)]}else{if(Lr(e)&&a.size<e)return[!1,c0(e)];if(Lr(i)&&a.size>i)return[!1,l0(i)]}return[!0,null]}function Lr(a){return a!=null}function Kw(a){var e=a.files,i=a.accept,r=a.minSize,o=a.maxSize,c=a.multiple,f=a.maxFiles,p=a.validator;return!c&&e.length>1||c&&f>=1&&e.length>f?!1:e.every(function(y){var m=W_(y,i),v=Nl(m,1),w=v[0],A=J_(y,r,o),I=Nl(A,1),U=I[0],M=p?p(y):null;return w&&U&&!M})}function qu(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function vu(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!a.target&&!!a.target.files}function u0(a){a.preventDefault()}function Xw(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function Zw(a){return a.indexOf("Edge/")!==-1}function Ww(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Xw(a)||Zw(a)}function Di(){for(var a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return function(r){for(var o=arguments.length,c=new Array(o>1?o-1:0),f=1;f<o;f++)c[f-1]=arguments[f];return e.some(function(p){return!qu(r)&&p&&p.apply(void 0,[r].concat(c)),qu(r)})}}function Jw(){return"showOpenFilePicker"in window}function eA(a){if(Lr(a)){var e=Object.entries(a).filter(function(i){var r=Nl(i,2),o=r[0],c=r[1],f=!0;return eb(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),f=!1),(!Array.isArray(c)||!c.every(tb))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),f=!1),f}).reduce(function(i,r){var o=Nl(r,2),c=o[0],f=o[1];return o0(o0({},i),{},X_({},c,f))},{});return[{description:"Files",accept:e}]}return a}function tA(a){if(Lr(a))return Object.entries(a).reduce(function(e,i){var r=Nl(i,2),o=r[0],c=r[1];return[].concat(r0(e),[o],r0(c))},[]).filter(function(e){return eb(e)||tb(e)}).join(",")}function nA(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function iA(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function eb(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||a==="application/*"||/\w+\/[-+.\w]+/g.test(a)}function tb(a){return/^.*\.[\w]+$/.test(a)}var aA=["children"],rA=["open"],sA=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],oA=["refKey","onChange","onClick"];function lA(a){return hA(a)||uA(a)||nb(a)||cA()}function cA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uA(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function hA(a){if(Array.isArray(a))return ep(a)}function jd(a,e){return pA(a)||dA(a,e)||nb(a,e)||fA()}function fA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nb(a,e){if(a){if(typeof a=="string")return ep(a,e);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ep(a,e)}}function ep(a,e){(e==null||e>a.length)&&(e=a.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=a[i];return r}function dA(a,e){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var r=[],o=!0,c=!1,f,p;try{for(i=i.call(a);!(o=(f=i.next()).done)&&(r.push(f.value),!(e&&r.length===e));o=!0);}catch(y){c=!0,p=y}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw p}}return r}}function pA(a){if(Array.isArray(a))return a}function h0(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,r)}return i}function vt(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?h0(Object(i),!0).forEach(function(r){tp(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):h0(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function tp(a,e,i){return e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function Hu(a,e){if(a==null)return{};var i=mA(a,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(i[r]=a[r])}return i}function mA(a,e){if(a==null)return{};var i={},r=Object.keys(a),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(i[o]=a[o]);return i}var jp=j.forwardRef(function(a,e){var i=a.children,r=Hu(a,aA),o=ab(r),c=o.open,f=Hu(o,rA);return j.useImperativeHandle(e,function(){return{open:c}},[c]),O_.createElement(j.Fragment,null,i(vt(vt({},f),{},{open:c})))});jp.displayName="Dropzone";var ib={disabled:!1,getFilesFromEvent:Aw,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};jp.defaultProps=ib;jp.propTypes={children:lt.func,accept:lt.objectOf(lt.arrayOf(lt.string)),multiple:lt.bool,preventDropOnDocument:lt.bool,noClick:lt.bool,noKeyboard:lt.bool,noDrag:lt.bool,noDragEventsBubbling:lt.bool,minSize:lt.number,maxSize:lt.number,maxFiles:lt.number,disabled:lt.bool,getFilesFromEvent:lt.func,onFileDialogCancel:lt.func,onFileDialogOpen:lt.func,useFsAccessApi:lt.bool,autoFocus:lt.bool,onDragEnter:lt.func,onDragLeave:lt.func,onDragOver:lt.func,onDrop:lt.func,onDropAccepted:lt.func,onDropRejected:lt.func,onError:lt.func,validator:lt.func};var np={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ab(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=vt(vt({},ib),a),i=e.accept,r=e.disabled,o=e.getFilesFromEvent,c=e.maxSize,f=e.minSize,p=e.multiple,y=e.maxFiles,m=e.onDragEnter,v=e.onDragLeave,w=e.onDragOver,A=e.onDrop,I=e.onDropAccepted,U=e.onDropRejected,M=e.onFileDialogCancel,k=e.onFileDialogOpen,Q=e.useFsAccessApi,W=e.autoFocus,K=e.preventDropOnDocument,fe=e.noClick,he=e.noKeyboard,be=e.noDrag,P=e.noDragEventsBubbling,R=e.onError,C=e.validator,V=j.useMemo(function(){return tA(i)},[i]),N=j.useMemo(function(){return eA(i)},[i]),z=j.useMemo(function(){return typeof k=="function"?k:f0},[k]),S=j.useMemo(function(){return typeof M=="function"?M:f0},[M]),pe=j.useRef(null),ce=j.useRef(null),X=j.useReducer(gA,np),se=jd(X,2),oe=se[0],we=se[1],D=oe.isFocused,J=oe.isFileDialogActive,le=j.useRef(typeof window<"u"&&window.isSecureContext&&Q&&Jw()),G=function(){!le.current&&J&&setTimeout(function(){if(ce.current){var Te=ce.current.files;Te.length||(we({type:"closeDialog"}),S())}},300)};j.useEffect(function(){return window.addEventListener("focus",G,!1),function(){window.removeEventListener("focus",G,!1)}},[ce,J,S,le]);var re=j.useRef([]),de=function(Te){pe.current&&pe.current.contains(Te.target)||(Te.preventDefault(),re.current=[])};j.useEffect(function(){return K&&(document.addEventListener("dragover",u0,!1),document.addEventListener("drop",de,!1)),function(){K&&(document.removeEventListener("dragover",u0),document.removeEventListener("drop",de))}},[pe,K]),j.useEffect(function(){return!r&&W&&pe.current&&pe.current.focus(),function(){}},[pe,W,r]);var ge=j.useCallback(function(me){R?R(me):console.error(me)},[R]),Ve=j.useCallback(function(me){me.preventDefault(),me.persist(),Yn(me),re.current=[].concat(lA(re.current),[me.target]),vu(me)&&Promise.resolve(o(me)).then(function(Te){if(!(qu(me)&&!P)){var Oe=Te.length,Ce=Oe>0&&Kw({files:Te,accept:V,minSize:f,maxSize:c,multiple:p,maxFiles:y,validator:C}),st=Oe>0&&!Ce;we({isDragAccept:Ce,isDragReject:st,isDragActive:!0,type:"setDraggedFiles"}),m&&m(me)}}).catch(function(Te){return ge(Te)})},[o,m,ge,P,V,f,c,p,y,C]),Me=j.useCallback(function(me){me.preventDefault(),me.persist(),Yn(me);var Te=vu(me);if(Te&&me.dataTransfer)try{me.dataTransfer.dropEffect="copy"}catch{}return Te&&w&&w(me),!1},[w,P]),Ze=j.useCallback(function(me){me.preventDefault(),me.persist(),Yn(me);var Te=re.current.filter(function(Ce){return pe.current&&pe.current.contains(Ce)}),Oe=Te.indexOf(me.target);Oe!==-1&&Te.splice(Oe,1),re.current=Te,!(Te.length>0)&&(we({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),vu(me)&&v&&v(me))},[pe,v,P]),rt=j.useCallback(function(me,Te){var Oe=[],Ce=[];me.forEach(function(st){var bt=W_(st,V),Kn=jd(bt,2),or=Kn[0],Xn=Kn[1],Zn=J_(st,f,c),On=jd(Zn,2),hn=On[0],fi=On[1],Wn=C?C(st):null;if(or&&hn&&!Wn)Oe.push(st);else{var Li=[Xn,fi];Wn&&(Li=Li.concat(Wn)),Ce.push({file:st,errors:Li.filter(function(lr){return lr})})}}),(!p&&Oe.length>1||p&&y>=1&&Oe.length>y)&&(Oe.forEach(function(st){Ce.push({file:st,errors:[Yw]})}),Oe.splice(0)),we({acceptedFiles:Oe,fileRejections:Ce,isDragReject:Ce.length>0,type:"setFiles"}),A&&A(Oe,Ce,Te),Ce.length>0&&U&&U(Ce,Te),Oe.length>0&&I&&I(Oe,Te)},[we,p,V,f,c,y,A,I,U,C]),We=j.useCallback(function(me){me.preventDefault(),me.persist(),Yn(me),re.current=[],vu(me)&&Promise.resolve(o(me)).then(function(Te){qu(me)&&!P||rt(Te,me)}).catch(function(Te){return ge(Te)}),we({type:"reset"})},[o,rt,ge,P]),ft=j.useCallback(function(){if(le.current){we({type:"openDialog"}),z();var me={multiple:p,types:N};window.showOpenFilePicker(me).then(function(Te){return o(Te)}).then(function(Te){rt(Te,null),we({type:"closeDialog"})}).catch(function(Te){nA(Te)?(S(Te),we({type:"closeDialog"})):iA(Te)?(le.current=!1,ce.current?(ce.current.value=null,ce.current.click()):ge(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ge(Te)});return}ce.current&&(we({type:"openDialog"}),z(),ce.current.value=null,ce.current.click())},[we,z,S,Q,rt,ge,N,p]),Ht=j.useCallback(function(me){!pe.current||!pe.current.isEqualNode(me.target)||(me.key===" "||me.key==="Enter"||me.keyCode===32||me.keyCode===13)&&(me.preventDefault(),ft())},[pe,ft]),vn=j.useCallback(function(){we({type:"focus"})},[]),In=j.useCallback(function(){we({type:"blur"})},[]),ui=j.useCallback(function(){fe||(Ww()?setTimeout(ft,0):ft())},[fe,ft]),gt=function(Te){return r?null:Te},Qn=function(Te){return he?null:gt(Te)},hi=function(Te){return be?null:gt(Te)},Yn=function(Te){P&&Te.stopPropagation()},Ui=j.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Te=me.refKey,Oe=Te===void 0?"ref":Te,Ce=me.role,st=me.onKeyDown,bt=me.onFocus,Kn=me.onBlur,or=me.onClick,Xn=me.onDragEnter,Zn=me.onDragOver,On=me.onDragLeave,hn=me.onDrop,fi=Hu(me,sA);return vt(vt(tp({onKeyDown:Qn(Di(st,Ht)),onFocus:Qn(Di(bt,vn)),onBlur:Qn(Di(Kn,In)),onClick:gt(Di(or,ui)),onDragEnter:hi(Di(Xn,Ve)),onDragOver:hi(Di(Zn,Me)),onDragLeave:hi(Di(On,Ze)),onDrop:hi(Di(hn,We)),role:typeof Ce=="string"&&Ce!==""?Ce:"presentation"},Oe,pe),!r&&!he?{tabIndex:0}:{}),fi)}},[pe,Ht,vn,In,ui,Ve,Me,Ze,We,he,be,r]),ho=j.useCallback(function(me){me.stopPropagation()},[]),ya=j.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Te=me.refKey,Oe=Te===void 0?"ref":Te,Ce=me.onChange,st=me.onClick,bt=Hu(me,oA),Kn=tp({accept:V,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:gt(Di(Ce,We)),onClick:gt(Di(st,ho)),tabIndex:-1},Oe,ce);return vt(vt({},Kn),bt)}},[ce,i,p,We,r]);return vt(vt({},oe),{},{isFocused:D&&!r,getRootProps:Ui,getInputProps:ya,rootRef:pe,inputRef:ce,open:gt(ft)})}function gA(a,e){switch(e.type){case"focus":return vt(vt({},a),{},{isFocused:!0});case"blur":return vt(vt({},a),{},{isFocused:!1});case"openDialog":return vt(vt({},np),{},{isFileDialogActive:!0});case"closeDialog":return vt(vt({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return vt(vt({},a),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return vt(vt({},a),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return vt({},np);default:return a}}function f0(){}const yA=({onFilesAdded:a})=>{const e=j.useCallback(c=>{const f=c.map((p,y)=>({id:crypto.randomUUID(),file:p,preview:URL.createObjectURL(p),originalName:p.name,number:y+1}));a(f)},[a]),{getRootProps:i,getInputProps:r,isDragActive:o}=ab({onDrop:e,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp"]},multiple:!0});return E.jsxs("div",{...i(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[E.jsx("input",{...r()}),E.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[E.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-lg font-medium text-gray-700",children:o?"写真をドロップしてください":"写真をドラッグ&ドロップ"}),E.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["または",E.jsx("span",{className:"text-blue-500 underline",children:"ファイルを選択"})]})]})]})]})},vA=({photos:a,onRemove:e})=>a.length===0?null:E.jsxs("div",{className:"mt-6",children:[E.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["プレビュー (",a.length,"枚)"]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(i=>E.jsx("div",{className:"relative group",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:i.preview,alt:i.originalName,className:"w-full h-32 object-cover"}),E.jsx("button",{onClick:()=>e(i.id),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"×"}),E.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:i.number})]}),E.jsx("div",{className:"p-3",children:E.jsx("p",{className:"text-xs text-gray-600 truncate",title:i.originalName,children:i.originalName})})]})},i.id))})]}),_A=({metaInfo:a,onChange:e,errors:i})=>{const r=(o,c)=>{e({...a,[o]:c})};return E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:"撮影情報"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"カメラマン名 *"}),E.jsx("input",{type:"text",value:a.photographerName,onChange:o=>r("photographerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.photographerName?"border-red-500":"border-gray-300"}`,placeholder:"カメラマン名を入力"}),i.photographerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.photographerName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日 *"}),E.jsx("input",{type:"date",value:a.shootingDate,onChange:o=>r("shootingDate",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.shootingDate?"border-red-500":"border-gray-300"}`}),i.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号 *"}),E.jsx("input",{type:"number",value:a.receptionNumber,onChange:o=>r("receptionNumber",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:"受付番号を入力"}),i.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ） *"}),E.jsx("input",{type:"text",value:a.customerName,onChange:o=>r("customerName",o.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.customerName?"border-red-500":"border-gray-300"}`,placeholder:"お客様氏名（苗字のみ）を入力"}),i.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.customerName})]})]})]})},bA=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},xA=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],f=a[i++],p=a[i++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],f=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const c=a[o],f=o+1<a.length,p=f?a[o+1]:0,y=o+2<a.length,m=y?a[o+2]:0,v=c>>2,w=(c&3)<<4|p>>4;let A=(p&15)<<2|m>>6,I=m&63;y||(I=64,f||(A=64)),r.push(i[v],i[w],i[A],i[I])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(rb(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):xA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const m=o<a.length?i[a.charAt(o)]:64;++o;const w=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||p==null||m==null||w==null)throw new EA;const A=c<<2|p>>4;if(r.push(A),m!==64){const I=p<<4&240|m>>2;if(r.push(I),w!==64){const U=m<<6&192|w;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class EA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(a){const e=rb(a);return sb.encodeByteArray(e,!0)},Fu=function(a){return TA(a).replace(/\./g,"")},wA=function(a){try{return sb.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=()=>AA().__FIREBASE_DEFAULTS__,RA=()=>{if(typeof process>"u"||typeof d0>"u")return;const a=d0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},CA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&wA(a[1]);return e&&JSON.parse(e)},Pp=()=>{try{return bA()||SA()||RA()||CA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},DA=a=>Pp()?.emulatorHosts?.[a],ob=a=>{const e=DA(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},lb=()=>Pp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cb(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Fu(JSON.stringify(i)),Fu(JSON.stringify(f)),""].join(".")}const Tl={};function IA(){const a={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?a.emulator.push(e):a.prod.push(e);return a}function OA(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let p0=!1;function hb(a,e){if(typeof window>"u"||typeof document>"u"||!ql(window.location.host)||Tl[a]===e||Tl[a]||p0)return;Tl[a]=e;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",c=IA().prod.length>0;function f(){const A=document.getElementById(r);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function m(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{p0=!0,f()},A}function v(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=OA(r),I=i("text"),U=document.getElementById(I)||document.createElement("span"),M=i("learnmore"),k=document.getElementById(M)||document.createElement("a"),Q=i("preprendIcon"),W=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const K=A.element;p(K),v(k,M);const fe=m();y(W,Q),K.append(W,U,k,fe),document.body.appendChild(K)}c?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VA(){const a=Pp()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kA(){return!VA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="FirebaseError";class $r extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=UA,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fb.prototype.create)}}class fb{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?LA(c,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new $r(o,p,r)}}function LA(a,e){return a.replace(zA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const zA=/\{\$([^}]+)}/g;function Gu(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=a[o],f=e[o];if(m0(c)&&m0(f)){if(!Gu(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function m0(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(a){return a&&a._delegate?a._delegate:a}class Xs{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new NA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HA(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&f.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qA(a){return a===Ur?void 0:a}function HA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new BA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})($e||($e={}));const GA={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},$A=$e.INFO,QA={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},YA=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=QA[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class db{constructor(e){this.name=e,this._logLevel=$A,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const KA=(a,e)=>e.some(i=>a instanceof i);let g0,y0;function XA(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZA(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pb=new WeakMap,ip=new WeakMap,mb=new WeakMap,Pd=new WeakMap,Up=new WeakMap;function WA(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",f)},c=()=>{i(Ka(a.result)),o()},f=()=>{r(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&pb.set(i,a)}).catch(()=>{}),Up.set(e,a),e}function JA(a){if(ip.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",f),a.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",f),a.addEventListener("abort",f)});ip.set(a,e)}let ap={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ip.get(a);if(e==="objectStoreNames")return a.objectStoreNames||mb.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ka(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function eS(a){ap=a(ap)}function tS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Ud(this),e,...i);return mb.set(r,e.sort?e.sort():[e]),Ka(r)}:ZA().includes(a)?function(...e){return a.apply(Ud(this),e),Ka(pb.get(this))}:function(...e){return Ka(a.apply(Ud(this),e))}}function nS(a){return typeof a=="function"?tS(a):(a instanceof IDBTransaction&&JA(a),KA(a,XA())?new Proxy(a,ap):a)}function Ka(a){if(a instanceof IDBRequest)return WA(a);if(Pd.has(a))return Pd.get(a);const e=nS(a);return e!==a&&(Pd.set(a,e),Up.set(e,a)),e}const Ud=a=>Up.get(a);function iS(a,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(a,e),p=Ka(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Ka(f.result),y.oldVersion,y.newVersion,Ka(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const aS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],Ld=new Map;function v0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=rS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||aS.includes(i)))return;const c=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let m=y.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),o&&y.done]))[0]};return Ld.set(e,c),c}eS(a=>({...a,get:(e,i,r)=>v0(e,i)||a.get(e,i,r),has:(e,i)=>!!v0(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(oS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function oS(a){return a.getComponent()?.type==="VERSION"}const rp="@firebase/app",_0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new db("@firebase/app"),lS="@firebase/app-compat",cS="@firebase/analytics-compat",uS="@firebase/analytics",hS="@firebase/app-check-compat",fS="@firebase/app-check",dS="@firebase/auth",pS="@firebase/auth-compat",mS="@firebase/database",gS="@firebase/data-connect",yS="@firebase/database-compat",vS="@firebase/functions",_S="@firebase/functions-compat",bS="@firebase/installations",xS="@firebase/installations-compat",ES="@firebase/messaging",TS="@firebase/messaging-compat",wS="@firebase/performance",AS="@firebase/performance-compat",SS="@firebase/remote-config",RS="@firebase/remote-config-compat",CS="@firebase/storage",DS="@firebase/storage-compat",NS="@firebase/firestore",IS="@firebase/ai",OS="@firebase/firestore-compat",MS="firebase",VS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",kS={[rp]:"fire-core",[lS]:"fire-core-compat",[uS]:"fire-analytics",[cS]:"fire-analytics-compat",[fS]:"fire-app-check",[hS]:"fire-app-check-compat",[dS]:"fire-auth",[pS]:"fire-auth-compat",[mS]:"fire-rtdb",[gS]:"fire-data-connect",[yS]:"fire-rtdb-compat",[vS]:"fire-fn",[_S]:"fire-fn-compat",[bS]:"fire-iid",[xS]:"fire-iid-compat",[ES]:"fire-fcm",[TS]:"fire-fcm-compat",[wS]:"fire-perf",[AS]:"fire-perf-compat",[SS]:"fire-rc",[RS]:"fire-rc-compat",[CS]:"fire-gcs",[DS]:"fire-gcs-compat",[NS]:"fire-fst",[OS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[MS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,jS=new Map,op=new Map;function b0(a,e){try{a.container.addComponent(e)}catch(i){pa.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Il(a){const e=a.name;if(op.has(e))return pa.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,a);for(const i of $u.values())b0(i,a);for(const i of jS.values())b0(i,a);return!0}function gb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function yb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new fb("app","Firebase",PS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=VS;function _b(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:sp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Xa.create("bad-app-name",{appName:String(o)});if(i||(i=lb()),!i)throw Xa.create("no-options");const c=$u.get(o);if(c){if(Gu(i,c.options)&&Gu(r,c.config))return c;throw Xa.create("duplicate-app",{appName:o})}const f=new FA(o);for(const y of op.values())f.addComponent(y);const p=new US(i,r,f);return $u.set(o,p),p}function bb(a=sp){const e=$u.get(a);if(!e&&a===sp&&lb())return _b();if(!e)throw Xa.create("no-app",{appName:a});return e}function Za(a,e,i){let r=kS[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pa.warn(f.join(" "));return}Il(new Xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebase-heartbeat-database",zS=1,Ol="firebase-heartbeat-store";let zd=null;function xb(){return zd||(zd=iS(LS,zS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(a=>{throw Xa.create("idb-open",{originalErrorMessage:a.message})})),zd}async function BS(a){try{const i=(await xb()).transaction(Ol),r=await i.objectStore(Ol).get(Eb(a));return await i.done,r}catch(e){if(e instanceof $r)pa.warn(e.message);else{const i=Xa.create("idb-get",{originalErrorMessage:e?.message});pa.warn(i.message)}}}async function x0(a,e){try{const r=(await xb()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,Eb(a)),await r.done}catch(i){if(i instanceof $r)pa.warn(i.message);else{const r=Xa.create("idb-set",{originalErrorMessage:i?.message});pa.warn(r.message)}}}function Eb(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1024,HS=30;class FS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $S(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=E0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>HS){const o=QS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E0(),{heartbeatsToSend:i,unsentEntries:r}=GS(this._heartbeatsCache.heartbeats),o=Fu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pa.warn(e),""}}}function E0(){return new Date().toISOString().substring(0,10)}function GS(a,e=qS){const i=[];let r=a.slice();for(const o of a){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),T0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),T0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $S{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await BS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function T0(a){return Fu(JSON.stringify({version:2,heartbeats:a})).length}function QS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(a){Il(new Xs("platform-logger",e=>new sS(e),"PRIVATE")),Il(new Xs("heartbeat",e=>new FS(e),"PRIVATE")),Za(rp,_0,a),Za(rp,_0,"esm2020"),Za("fire-js","")}YS("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebasestorage.googleapis.com",wb="storageBucket",KS=120*1e3,XS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends $r{constructor(e,i,r=0){super(Bd(e),`Firebase Storage: ${i} (${Bd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Bd(a){return"storage/"+a}function Lp(){const a="An unknown error occurred, please check the error payload for server response.";return new At(wt.UNKNOWN,a)}function ZS(a){return new At(wt.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function WS(a){return new At(wt.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JS(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(wt.UNAUTHENTICATED,a)}function e2(){return new At(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function t2(a){return new At(wt.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function n2(){return new At(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i2(){return new At(wt.CANCELED,"User canceled the upload/download.")}function a2(a){return new At(wt.INVALID_URL,"Invalid URL '"+a+"'.")}function r2(a){return new At(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function s2(){return new At(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wb+"' property when initializing the app?")}function o2(){return new At(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l2(){return new At(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c2(a){return new At(wt.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lp(a){return new At(wt.INVALID_ARGUMENT,a)}function Ab(){return new At(wt.APP_DELETED,"The Firebase app was deleted.")}function u2(a){return new At(wt.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wl(a,e){return new At(wt.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function _l(a){throw new At(wt.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=yn.makeFromUrl(e,i)}catch{return new yn(e,"")}if(r.path==="")return r;throw r2(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function m(fe){fe.path_=decodeURIComponent(fe.path)}const v="v[A-Za-z0-9_]+",w=i.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${v}/b/${o}/o${A}`,"i"),U={bucket:1,path:3},M=i===Tb?"(?:storage.googleapis.com|storage.cloud.google.com)":i,k="([^?#]*)",Q=new RegExp(`^https?://${M}/${o}/${k}`,"i"),K=[{regex:p,indices:y,postModify:c},{regex:I,indices:U,postModify:m},{regex:Q,indices:{bucket:1,path:2},postModify:m}];for(let fe=0;fe<K.length;fe++){const he=K[fe],be=he.regex.exec(e);if(be){const P=be[he.indices.bucket];let R=be[he.indices.path];R||(R=""),r=new yn(P,R),he.postModify(r);break}}if(r==null)throw a2(e);return r}}class h2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(a,e,i){let r=1,o=null,c=null,f=!1,p=0;function y(){return p===2}let m=!1;function v(...k){m||(m=!0,e.apply(null,k))}function w(k){o=setTimeout(()=>{o=null,a(I,y())},k)}function A(){c&&clearTimeout(c)}function I(k,...Q){if(m){A();return}if(k){A(),v.call(null,k,...Q);return}if(y()||f){A(),v.call(null,k,...Q);return}r<64&&(r*=2);let K;p===1?(p=2,K=0):K=(r+Math.random())*1e3,w(K)}let U=!1;function M(k){U||(U=!0,A(),!m&&(o!==null?(k||(p=2),clearTimeout(o),w(0)):k||(p=1)))}return w(0),c=setTimeout(()=>{f=!0,M(!0)},i),M}function d2(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(a){return a!==void 0}function m2(a){return typeof a=="object"&&!Array.isArray(a)}function zp(a){return typeof a=="string"||a instanceof String}function w0(a){return Bp()&&a instanceof Blob}function Bp(){return typeof Blob<"u"}function cp(a,e,i,r){if(r<e)throw lp(`Invalid value for '${a}'. Expected ${e} or greater.`);if(r>i)throw lp(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(a,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${a}`}function Sb(a){const e=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const o=e(r)+"="+e(a[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Br;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Br||(Br={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(a,e){const i=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,c=e.indexOf(a)!==-1;return i||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,i,r,o,c,f,p,y,m,v,w,A=!0,I=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=y,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,M)=>{this.resolve_=U,this.reject_=M,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new _u(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const y=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,m)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===Br.NO_ERROR,y=c.getStatus();if(!p||g2(y,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===Br.ABORT;r(!1,new _u(!1,null,v));return}const m=this.successCodes_.indexOf(y)!==-1;r(!0,new _u(m,c))})},i=(r,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());p2(y)?c(y):c()}catch(y){f(y)}else if(p!==null){const y=Lp();y.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,y)):f(y)}else if(o.canceled){const y=this.appDelete_?Ab():i2();f(y)}else{const y=n2();f(y)}};this.canceled_?i(!1,new _u(!1,null,!0)):this.backoffId_=f2(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _u{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function v2(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function _2(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b2(a,e){e&&(a["X-Firebase-GMPID"]=e)}function x2(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function E2(a,e,i,r,o,c,f=!0,p=!1){const y=Sb(a.urlParams),m=a.url+y,v=Object.assign({},a.headers);return b2(v,e),v2(v,i),_2(v,c),x2(v,r),new y2(m,a.method,v,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w2(...a){const e=T2();if(e!==void 0){const i=new e;for(let r=0;r<a.length;r++)i.append(a[r]);return i.getBlob()}else{if(Bp())return new Blob(a);throw new At(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A2(a,e,i){return a.webkitSlice?a.webkitSlice(e,i):a.mozSlice?a.mozSlice(e,i):a.slice?a.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(a){if(typeof atob>"u")throw c2("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qd{constructor(e,i){this.data=e,this.contentType=i||null}}function R2(a,e){switch(a){case Ii.RAW:return new qd(Rb(e));case Ii.BASE64:case Ii.BASE64URL:return new qd(Cb(a,e));case Ii.DATA_URL:return new qd(D2(e),N2(e))}throw Lp()}function Rb(a){const e=[];for(let i=0;i<a.length;i++){let r=a.charCodeAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const c=r,f=a.charCodeAt(++i);r=65536|(c&1023)<<10|f&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function C2(a){let e;try{e=decodeURIComponent(a)}catch{throw wl(Ii.DATA_URL,"Malformed data URL.")}return Rb(e)}function Cb(a,e){switch(a){case Ii.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw wl(a,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw wl(a,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=S2(e)}catch(o){throw o.message.includes("polyfill")?o:wl(a,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class Db{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw wl(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=I2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function D2(a){const e=new Db(a);return e.base64?Cb(Ii.BASE64,e.rest):C2(e.rest)}function N2(a){return new Db(a).contentType}function I2(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,i){let r=0,o="";w0(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(w0(this.data_)){const r=this.data_,o=A2(r,e,i);return o===null?null:new Qa(o)}else{const r=new Uint8Array(this.data_.buffer,e,i-e);return new Qa(r,!0)}}static getBlob(...e){if(Bp()){const i=e.map(r=>r instanceof Qa?r.data_:r);return new Qa(w2.apply(null,i))}else{const i=e.map(f=>zp(f)?R2(Ii.RAW,f).data:f.data_);let r=0;i.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let c=0;return i.forEach(f=>{for(let p=0;p<f.length;p++)o[c++]=f[p]}),new Qa(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(a){let e;try{e=JSON.parse(a)}catch{return null}return m2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function M2(a,e){const i=e.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function Nb(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(a,e){return e}class gn{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||V2}}let bu=null;function k2(a){return!zp(a)||a.length<2?a:Nb(a)}function Ib(){if(bu)return bu;const a=[];a.push(new gn("bucket")),a.push(new gn("generation")),a.push(new gn("metageneration")),a.push(new gn("name","fullPath",!0));function e(c,f){return k2(f)}const i=new gn("name");i.xform=e,a.push(i);function r(c,f){return f!==void 0?Number(f):f}const o=new gn("size");return o.xform=r,a.push(o),a.push(new gn("timeCreated")),a.push(new gn("updated")),a.push(new gn("md5Hash",null,!0)),a.push(new gn("cacheControl",null,!0)),a.push(new gn("contentDisposition",null,!0)),a.push(new gn("contentEncoding",null,!0)),a.push(new gn("contentLanguage",null,!0)),a.push(new gn("contentType",null,!0)),a.push(new gn("metadata","customMetadata",!0)),bu=a,bu}function j2(a,e){function i(){const r=a.bucket,o=a.fullPath,c=new yn(r,o);return e._makeStorageReference(c)}Object.defineProperty(a,"ref",{get:i})}function P2(a,e,i){const r={};r.type="file";const o=i.length;for(let c=0;c<o;c++){const f=i[c];r[f.local]=f.xform(r,e[f.server])}return j2(r,a),r}function Ob(a,e,i){const r=qp(e);return r===null?null:P2(a,r,i)}function U2(a,e,i,r){const o=qp(e);if(o===null||!zp(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const f=encodeURIComponent;return c.split(",").map(m=>{const v=a.bucket,w=a.fullPath,A="/b/"+f(v)+"/o/"+f(w),I=hh(A,i,r),U=Sb({alt:"media",token:m});return I+U})[0]}function L2(a,e){const i={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(i[c.server]=a[c.local])}return JSON.stringify(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="prefixes",S0="items";function z2(a,e,i){const r={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[A0])for(const o of i[A0]){const c=o.replace(/\/$/,""),f=a._makeStorageReference(new yn(e,c));r.prefixes.push(f)}if(i[S0])for(const o of i[S0]){const c=a._makeStorageReference(new yn(e,o.name));r.items.push(c)}return r}function B2(a,e,i){const r=qp(i);return r===null?null:z2(a,e,r)}class Hp{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(a){if(!a)throw Lp()}function q2(a,e){function i(r,o){const c=Ob(a,o,e);return Fp(c!==null),c}return i}function H2(a,e){function i(r,o){const c=B2(a,e,o);return Fp(c!==null),c}return i}function F2(a,e){function i(r,o){const c=Ob(a,o,e);return Fp(c!==null),U2(c,o,a.host,a._protocol)}return i}function Gp(a){function e(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=e2():o=JS():i.getStatus()===402?o=WS(a.bucket):i.getStatus()===403?o=t2(a.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return e}function G2(a){const e=Gp(a);function i(r,o){let c=e(r,o);return r.getStatus()===404&&(c=ZS(a.path)),c.serverResponse=o.serverResponse,c}return i}function $2(a,e,i,r,o){const c={};e.isRoot?c.prefix="":c.prefix=e.path+"/",i.length>0&&(c.delimiter=i),r&&(c.pageToken=r),o&&(c.maxResults=o);const f=e.bucketOnlyServerUrl(),p=hh(f,a.host,a._protocol),y="GET",m=a.maxOperationRetryTime,v=new Hp(p,y,H2(a,e.bucket),m);return v.urlParams=c,v.errorHandler=Gp(e),v}function Q2(a,e,i){const r=e.fullServerUrl(),o=hh(r,a.host,a._protocol),c="GET",f=a.maxOperationRetryTime,p=new Hp(o,c,F2(a,i),f);return p.errorHandler=G2(e),p}function Y2(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function K2(a,e,i){const r=Object.assign({},i);return r.fullPath=a.path,r.size=e.size(),r.contentType||(r.contentType=Y2(null,e)),r}function X2(a,e,i,r,o){const c=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let K="";for(let fe=0;fe<2;fe++)K=K+Math.random().toString().slice(2);return K}const y=p();f["Content-Type"]="multipart/related; boundary="+y;const m=K2(e,r,o),v=L2(m,i),w="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+y+`\r
Content-Type: `+m.contentType+`\r
\r
`,A=`\r
--`+y+"--",I=Qa.getBlob(w,r,A);if(I===null)throw o2();const U={name:m.fullPath},M=hh(c,a.host,a._protocol),k="POST",Q=a.maxUploadRetryTime,W=new Hp(M,k,q2(a,i),Q);return W.urlParams=U,W.headers=f,W.body=I.uploadData(),W.errorHandler=Gp(e),W}class Z2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Br.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Br.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Br.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o,c){if(this.sent_)throw _l("cannot .send() more than once");if(ql(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),c!==void 0)for(const f in c)c.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,c[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _l("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _l("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _l("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _l("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class W2 extends Z2{initXhr(){this.xhr_.responseType="text"}}function $p(){return new W2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,i){this._service=e,i instanceof yn?this._location=i:this._location=yn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new qr(e,i)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nb(this._location.path)}get storage(){return this._service}get parent(){const e=O2(this._location.path);if(e===null)return null;const i=new yn(this._location.bucket,e);return new qr(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw u2(e)}}function J2(a,e,i){a._throwIfRoot("uploadBytes");const r=X2(a.storage,a._location,Ib(),new Qa(e,!0),i);return a.storage.makeRequestWithTokens(r,$p).then(o=>({metadata:o,ref:a}))}function eR(a){const e={prefixes:[],items:[]};return Mb(a,e).then(()=>e)}async function Mb(a,e,i){const o=await tR(a,{pageToken:i});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await Mb(a,e,o.nextPageToken)}function tR(a,e){e!=null&&typeof e.maxResults=="number"&&cp("options.maxResults",1,1e3,e.maxResults);const i=e||{},r=$2(a.storage,a._location,"/",i.pageToken,i.maxResults);return a.storage.makeRequestWithTokens(r,$p)}function nR(a){a._throwIfRoot("getDownloadURL");const e=Q2(a.storage,a._location,Ib());return a.storage.makeRequestWithTokens(e,$p).then(i=>{if(i===null)throw l2();return i})}function iR(a,e){const i=M2(a._location.path,e),r=new yn(a._location.bucket,i);return new qr(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(a){return/^[A-Za-z]+:\/\//.test(a)}function rR(a,e){return new qr(a,e)}function Vb(a,e){if(a instanceof Qp){const i=a;if(i._bucket==null)throw s2();const r=new qr(i,i._bucket);return e!=null?Vb(r,e):r}else return e!==void 0?iR(a,e):a}function sR(a,e){if(e&&aR(e)){if(a instanceof Qp)return rR(a,e);throw lp("To use ref(service, url), the first argument must be a Storage instance.")}else return Vb(a,e)}function R0(a,e){const i=e?.[wb];return i==null?null:yn.makeFromBucketSpec(i,a)}function oR(a,e,i,r={}){a.host=`${e}:${i}`;const o=ql(e);o&&(cb(`https://${a.host}/b`),hb("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(a._overrideAuthToken=typeof c=="string"?c:ub(c,a.app.options.projectId))}class Qp{constructor(e,i,r,o,c,f=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=Tb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KS,this._maxUploadRetryTime=XS,this._requests=new Set,o!=null?this._bucket=yn.makeFromBucketSpec(o,this._host):this._bucket=R0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=R0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(yb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qr(this,e)}_makeRequest(e,i,r,o,c=!0){if(this._deleted)return new h2(Ab());{const f=E2(e,this._appId,r,o,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const C0="@firebase/storage",D0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="storage";function lR(a,e,i){return a=si(a),J2(a,e,i)}function N0(a){return a=si(a),eR(a)}function cR(a){return a=si(a),nR(a)}function Hd(a,e){return a=si(a),sR(a,e)}function uR(a=bb(),e){a=si(a);const r=gb(a,kb).getImmediate({identifier:e}),o=ob("storage");return o&&hR(r,...o),r}function hR(a,e,i,r={}){oR(a,e,i,r)}function fR(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new Qp(i,r,o,e,vb)}function dR(){Il(new Xs(kb,fR,"PUBLIC").setMultipleInstances(!0)),Za(C0,D0,""),Za(C0,D0,"esm2020")}dR();var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,jb;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function C(){}C.prototype=R.prototype,P.D=R.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(V,N,z){for(var S=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)S[pe-2]=arguments[pe];return R.prototype[N].apply(V,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,C){C||(C=0);var V=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)V[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;16>N;++N)V[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=P.g[0],C=P.g[1],N=P.g[2];var z=P.g[3],S=R+(z^C&(N^z))+V[0]+3614090360&4294967295;R=C+(S<<7&4294967295|S>>>25),S=z+(N^R&(C^N))+V[1]+3905402710&4294967295,z=R+(S<<12&4294967295|S>>>20),S=N+(C^z&(R^C))+V[2]+606105819&4294967295,N=z+(S<<17&4294967295|S>>>15),S=C+(R^N&(z^R))+V[3]+3250441966&4294967295,C=N+(S<<22&4294967295|S>>>10),S=R+(z^C&(N^z))+V[4]+4118548399&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(N^R&(C^N))+V[5]+1200080426&4294967295,z=R+(S<<12&4294967295|S>>>20),S=N+(C^z&(R^C))+V[6]+2821735955&4294967295,N=z+(S<<17&4294967295|S>>>15),S=C+(R^N&(z^R))+V[7]+4249261313&4294967295,C=N+(S<<22&4294967295|S>>>10),S=R+(z^C&(N^z))+V[8]+1770035416&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(N^R&(C^N))+V[9]+2336552879&4294967295,z=R+(S<<12&4294967295|S>>>20),S=N+(C^z&(R^C))+V[10]+4294925233&4294967295,N=z+(S<<17&4294967295|S>>>15),S=C+(R^N&(z^R))+V[11]+2304563134&4294967295,C=N+(S<<22&4294967295|S>>>10),S=R+(z^C&(N^z))+V[12]+1804603682&4294967295,R=C+(S<<7&4294967295|S>>>25),S=z+(N^R&(C^N))+V[13]+4254626195&4294967295,z=R+(S<<12&4294967295|S>>>20),S=N+(C^z&(R^C))+V[14]+2792965006&4294967295,N=z+(S<<17&4294967295|S>>>15),S=C+(R^N&(z^R))+V[15]+1236535329&4294967295,C=N+(S<<22&4294967295|S>>>10),S=R+(N^z&(C^N))+V[1]+4129170786&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^N&(R^C))+V[6]+3225465664&4294967295,z=R+(S<<9&4294967295|S>>>23),S=N+(R^C&(z^R))+V[11]+643717713&4294967295,N=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(N^z))+V[0]+3921069994&4294967295,C=N+(S<<20&4294967295|S>>>12),S=R+(N^z&(C^N))+V[5]+3593408605&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^N&(R^C))+V[10]+38016083&4294967295,z=R+(S<<9&4294967295|S>>>23),S=N+(R^C&(z^R))+V[15]+3634488961&4294967295,N=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(N^z))+V[4]+3889429448&4294967295,C=N+(S<<20&4294967295|S>>>12),S=R+(N^z&(C^N))+V[9]+568446438&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^N&(R^C))+V[14]+3275163606&4294967295,z=R+(S<<9&4294967295|S>>>23),S=N+(R^C&(z^R))+V[3]+4107603335&4294967295,N=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(N^z))+V[8]+1163531501&4294967295,C=N+(S<<20&4294967295|S>>>12),S=R+(N^z&(C^N))+V[13]+2850285829&4294967295,R=C+(S<<5&4294967295|S>>>27),S=z+(C^N&(R^C))+V[2]+4243563512&4294967295,z=R+(S<<9&4294967295|S>>>23),S=N+(R^C&(z^R))+V[7]+1735328473&4294967295,N=z+(S<<14&4294967295|S>>>18),S=C+(z^R&(N^z))+V[12]+2368359562&4294967295,C=N+(S<<20&4294967295|S>>>12),S=R+(C^N^z)+V[5]+4294588738&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^N)+V[8]+2272392833&4294967295,z=R+(S<<11&4294967295|S>>>21),S=N+(z^R^C)+V[11]+1839030562&4294967295,N=z+(S<<16&4294967295|S>>>16),S=C+(N^z^R)+V[14]+4259657740&4294967295,C=N+(S<<23&4294967295|S>>>9),S=R+(C^N^z)+V[1]+2763975236&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^N)+V[4]+1272893353&4294967295,z=R+(S<<11&4294967295|S>>>21),S=N+(z^R^C)+V[7]+4139469664&4294967295,N=z+(S<<16&4294967295|S>>>16),S=C+(N^z^R)+V[10]+3200236656&4294967295,C=N+(S<<23&4294967295|S>>>9),S=R+(C^N^z)+V[13]+681279174&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^N)+V[0]+3936430074&4294967295,z=R+(S<<11&4294967295|S>>>21),S=N+(z^R^C)+V[3]+3572445317&4294967295,N=z+(S<<16&4294967295|S>>>16),S=C+(N^z^R)+V[6]+76029189&4294967295,C=N+(S<<23&4294967295|S>>>9),S=R+(C^N^z)+V[9]+3654602809&4294967295,R=C+(S<<4&4294967295|S>>>28),S=z+(R^C^N)+V[12]+3873151461&4294967295,z=R+(S<<11&4294967295|S>>>21),S=N+(z^R^C)+V[15]+530742520&4294967295,N=z+(S<<16&4294967295|S>>>16),S=C+(N^z^R)+V[2]+3299628645&4294967295,C=N+(S<<23&4294967295|S>>>9),S=R+(N^(C|~z))+V[0]+4096336452&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~N))+V[7]+1126891415&4294967295,z=R+(S<<10&4294967295|S>>>22),S=N+(R^(z|~C))+V[14]+2878612391&4294967295,N=z+(S<<15&4294967295|S>>>17),S=C+(z^(N|~R))+V[5]+4237533241&4294967295,C=N+(S<<21&4294967295|S>>>11),S=R+(N^(C|~z))+V[12]+1700485571&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~N))+V[3]+2399980690&4294967295,z=R+(S<<10&4294967295|S>>>22),S=N+(R^(z|~C))+V[10]+4293915773&4294967295,N=z+(S<<15&4294967295|S>>>17),S=C+(z^(N|~R))+V[1]+2240044497&4294967295,C=N+(S<<21&4294967295|S>>>11),S=R+(N^(C|~z))+V[8]+1873313359&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~N))+V[15]+4264355552&4294967295,z=R+(S<<10&4294967295|S>>>22),S=N+(R^(z|~C))+V[6]+2734768916&4294967295,N=z+(S<<15&4294967295|S>>>17),S=C+(z^(N|~R))+V[13]+1309151649&4294967295,C=N+(S<<21&4294967295|S>>>11),S=R+(N^(C|~z))+V[4]+4149444226&4294967295,R=C+(S<<6&4294967295|S>>>26),S=z+(C^(R|~N))+V[11]+3174756917&4294967295,z=R+(S<<10&4294967295|S>>>22),S=N+(R^(z|~C))+V[2]+718787259&4294967295,N=z+(S<<15&4294967295|S>>>17),S=C+(z^(N|~R))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var C=R-this.blockSize,V=this.B,N=this.h,z=0;z<R;){if(N==0)for(;z<=C;)o(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<R;)if(V[N++]=P.charCodeAt(z++),N==this.blockSize){o(this,V),N=0;break}}else for(;z<R;)if(V[N++]=P[z++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var C=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=C&255,C/=256;for(this.u(P),P=Array(16),R=C=0;4>R;++R)for(var V=0;32>V;V+=8)P[C++]=this.g[R]>>>V&255;return P};function c(P,R){var C=p;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=R(P)}function f(P,R){this.h=R;for(var C=[],V=!0,N=P.length-1;0<=N;N--){var z=P[N]|0;V&&z==R||(C[N]=z,V=!1)}this.g=C}var p={};function y(P){return-128<=P&&128>P?c(P,function(R){return new f([R|0],0>R?-1:0)}):new f([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return k(m(-P));for(var R=[],C=1,V=0;P>=C;V++)R[V]=P/C|0,C*=4294967296;return new f(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return k(v(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),V=w,N=0;N<P.length;N+=8){var z=Math.min(8,P.length-N),S=parseInt(P.substring(N,N+z),R);8>z?(z=m(Math.pow(R,z)),V=V.j(z).add(m(S))):(V=V.j(C),V=V.add(m(S)))}return V}var w=y(0),A=y(1),I=y(16777216);a=f.prototype,a.m=function(){if(M(this))return-k(this).m();for(var P=0,R=1,C=0;C<this.g.length;C++){var V=this.i(C);P+=(0<=V?V:4294967296+V)*R,R*=4294967296}return P},a.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(U(this))return"0";if(M(this))return"-"+k(this).toString(P);for(var R=m(Math.pow(P,6)),C=this,V="";;){var N=fe(C,R).g;C=Q(C,N.j(R));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=N,U(C))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},a.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function U(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function M(P){return P.h==-1}a.l=function(P){return P=Q(this,P),M(P)?-1:U(P)?0:1};function k(P){for(var R=P.g.length,C=[],V=0;V<R;V++)C[V]=~P.g[V];return new f(C,~P.h).add(A)}a.abs=function(){return M(this)?k(this):this},a.add=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],V=0,N=0;N<=R;N++){var z=V+(this.i(N)&65535)+(P.i(N)&65535),S=(z>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);V=S>>>16,z&=65535,S&=65535,C[N]=S<<16|z}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Q(P,R){return P.add(k(R))}a.j=function(P){if(U(this)||U(P))return w;if(M(this))return M(P)?k(this).j(k(P)):k(k(this).j(P));if(M(P))return k(this.j(k(P)));if(0>this.l(I)&&0>P.l(I))return m(this.m()*P.m());for(var R=this.g.length+P.g.length,C=[],V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<P.g.length;N++){var z=this.i(V)>>>16,S=this.i(V)&65535,pe=P.i(N)>>>16,ce=P.i(N)&65535;C[2*V+2*N]+=S*ce,W(C,2*V+2*N),C[2*V+2*N+1]+=z*ce,W(C,2*V+2*N+1),C[2*V+2*N+1]+=S*pe,W(C,2*V+2*N+1),C[2*V+2*N+2]+=z*pe,W(C,2*V+2*N+2)}for(V=0;V<R;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=R;V<2*R;V++)C[V]=0;return new f(C,0)};function W(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function K(P,R){this.g=P,this.h=R}function fe(P,R){if(U(R))throw Error("division by zero");if(U(P))return new K(w,w);if(M(P))return R=fe(k(P),R),new K(k(R.g),k(R.h));if(M(R))return R=fe(P,k(R)),new K(k(R.g),R.h);if(30<P.g.length){if(M(P)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,V=R;0>=V.l(P);)C=he(C),V=he(V);var N=be(C,1),z=be(V,1);for(V=be(V,2),C=be(C,2);!U(V);){var S=z.add(V);0>=S.l(P)&&(N=N.add(C),z=S),V=be(V,1),C=be(C,1)}return R=Q(P,N.j(R)),new K(N,R)}for(N=w;0<=P.l(R);){for(C=Math.max(1,Math.floor(P.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=m(C),S=z.j(R);M(S)||0<S.l(P);)C-=V,z=m(C),S=z.j(R);U(z)&&(z=A),N=N.add(z),P=Q(P,S)}return new K(N,P)}a.A=function(P){return fe(this,P).h},a.and=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)&P.i(V);return new f(C,this.h&P.h)},a.or=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)|P.i(V);return new f(C,this.h|P.h)},a.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)^P.i(V);return new f(C,this.h^P.h)};function he(P){for(var R=P.g.length+1,C=[],V=0;V<R;V++)C[V]=P.i(V)<<1|P.i(V-1)>>>31;return new f(C,P.h)}function be(P,R){var C=R>>5;R%=32;for(var V=P.g.length-C,N=[],z=0;z<V;z++)N[z]=0<R?P.i(z+C)>>>R|P.i(z+C+1)<<32-R:P.i(z+C);return new f(N,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=v,Wa=f}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pb,bl,Ub,Iu,up,Lb,zb,Bb;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xu=="object"&&xu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,g){if(g)e:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var q=u[T];if(!(q in _))break e;_=_[q]}u=u[u.length-1],T=_[u],g=g(T),g!=T&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,T=!1,q={next:function(){if(!T&&_<u.length){var Z=_++;return{value:g(Z,u[Z]),done:!1}}return T=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function y(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,T),u.apply(g,q)}}return function(){return u.apply(g,arguments)}}function A(u,g,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,A.apply(null,arguments)}function I(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function U(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,q,Z){for(var ue=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ue[qe-2]=arguments[qe];return g.prototype[q].apply(T,ue)}}function M(u){const g=u.length;if(0<g){const _=Array(g);for(let T=0;T<g;T++)_[T]=u[T];return _}return[]}function k(u,g){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(y(T)){const q=u.length||0,Z=T.length||0;u.length=q+Z;for(let ue=0;ue<Z;ue++)u[q+ue]=T[ue]}else u.push(T)}}class Q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function W(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function fe(u){return fe[" "](u),u}fe[" "]=function(){};var he=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function be(u,g,_){for(const T in u)g.call(_,u[T],T,u)}function P(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function R(u){const g={};for(const _ in u)g[_]=u[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let _,T;for(let q=1;q<arguments.length;q++){T=arguments[q];for(_ in T)u[_]=T[_];for(let Z=0;Z<C.length;Z++)_=C[Z],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function z(u){p.setTimeout(()=>{throw u},0)}function S(){var u=we;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class pe{constructor(){this.h=this.g=null}add(g,_){const T=ce.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new Q(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,oe=!1,we=new pe,D=()=>{const u=p.Promise.resolve(void 0);se=()=>{u.then(J)}};var J=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(_){z(_)}var g=ce;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}oe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,g),p.removeEventListener("test",_,g)}catch{}return u})();function de(u,g){if(G.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(he){e:{try{fe(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&de.aa.h.call(this)}}U(de,G);var ge={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ze(u,g,_,T,q){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=q,this.key=++Me,this.da=this.fa=!1}function rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function We(u){this.src=u,this.g={},this.h=0}We.prototype.add=function(u,g,_,T,q){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var ue=Ht(u,g,T,q);return-1<ue?(g=u[ue],_||(g.fa=!1)):(g=new Ze(g,this.src,Z,!!T,q),g.fa=_,u.push(g)),g};function ft(u,g){var _=g.type;if(_ in u.g){var T=u.g[_],q=Array.prototype.indexOf.call(T,g,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(T,q,1),Z&&(rt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ht(u,g,_,T){for(var q=0;q<u.length;++q){var Z=u[q];if(!Z.da&&Z.listener==g&&Z.capture==!!_&&Z.ha==T)return q}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),In={};function ui(u,g,_,T,q){if(Array.isArray(g)){for(var Z=0;Z<g.length;Z++)ui(u,g[Z],_,T,q);return null}return _=Te(_),u&&u[Ve]?u.K(g,_,m(T)?!!T.capture:!1,q):gt(u,g,_,!1,T,q)}function gt(u,g,_,T,q,Z){if(!g)throw Error("Invalid event type");var ue=m(q)?!!q.capture:!!q,qe=ya(u);if(qe||(u[vn]=qe=new We(u)),_=qe.add(g,_,T,ue,Z),_.proxy)return _;if(T=Qn(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)re||(q=ue),q===void 0&&(q=!1),u.addEventListener(g.toString(),T,q);else if(u.attachEvent)u.attachEvent(Ui(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qn(){function u(_){return g.call(u.src,u.listener,_)}const g=ho;return u}function hi(u,g,_,T,q){if(Array.isArray(g))for(var Z=0;Z<g.length;Z++)hi(u,g[Z],_,T,q);else T=m(T)?!!T.capture:!!T,_=Te(_),u&&u[Ve]?(u=u.i,g=String(g).toString(),g in u.g&&(Z=u.g[g],_=Ht(Z,_,T,q),-1<_&&(rt(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete u.g[g],u.h--)))):u&&(u=ya(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ht(g,_,T,q)),(_=-1<u?g[u]:null)&&Yn(_))}function Yn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ve])ft(g.i,u);else{var _=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(_,T,u.capture):g.detachEvent?g.detachEvent(Ui(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=ya(g))?(ft(_,u),_.h==0&&(_.src=null,g[vn]=null)):rt(u)}}}function Ui(u){return u in In?In[u]:In[u]="on"+u}function ho(u,g){if(u.da)u=!0;else{g=new de(g,this);var _=u.listener,T=u.ha||u.src;u.fa&&Yn(u),u=_.call(T,g)}return u}function ya(u){return u=u[vn],u instanceof We?u:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(u){return typeof u=="function"?u:(u[me]||(u[me]=function(g){return u.handleEvent(g)}),u[me])}function Oe(){le.call(this),this.i=new We(this),this.M=this,this.F=null}U(Oe,le),Oe.prototype[Ve]=!0,Oe.prototype.removeEventListener=function(u,g,_,T){hi(this,u,g,_,T)};function Ce(u,g){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new G(g,u);else if(g instanceof G)g.target=g.target||u;else{var q=g;g=new G(T,u),V(g,q)}if(q=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ue=g.g=_[Z];q=st(ue,T,!0,g)&&q}if(ue=g.g=u,q=st(ue,T,!0,g)&&q,q=st(ue,T,!1,g)&&q,_)for(Z=0;Z<_.length;Z++)ue=g.g=_[Z],q=st(ue,T,!1,g)&&q}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],T=0;T<_.length;T++)rt(_[T]);delete u.g[g],u.h--}}this.F=null},Oe.prototype.K=function(u,g,_,T){return this.i.add(String(u),g,!1,_,T)},Oe.prototype.L=function(u,g,_,T){return this.i.add(String(u),g,!0,_,T)};function st(u,g,_,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,Z=0;Z<g.length;++Z){var ue=g[Z];if(ue&&!ue.da&&ue.capture==_){var qe=ue.listener,Ut=ue.ha||ue.src;ue.fa&&ft(u.i,ue),q=qe.call(Ut,T)!==!1&&q}}return q&&!T.defaultPrevented}function bt(u,g,_){if(typeof u=="function")_&&(u=A(u,_));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(u,g||0)}function Kn(u){u.g=bt(()=>{u.g=null,u.i&&(u.i=!1,Kn(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class or extends le{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(u){le.call(this),this.h=u,this.g={}}U(Xn,le);var Zn=[];function On(u){be(u.g,function(g,_){this.g.hasOwnProperty(_)&&Yn(g)},u),u.g={}}Xn.prototype.N=function(){Xn.aa.N.call(this),On(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hn=p.JSON.stringify,fi=p.JSON.parse,Wn=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Li(){}Li.prototype.h=null;function lr(u){return u.h||(u.h=u.i())}function fo(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){G.call(this,"d")}U(Bi,G);function po(){G.call(this,"c")}U(po,G);var di={},mo=null;function va(){return mo=mo||new Oe}di.La="serverreachability";function Zr(u){G.call(this,di.La,u)}U(Zr,G);function _a(u){const g=va();Ce(g,new Zr(g))}di.STAT_EVENT="statevent";function Kl(u,g){G.call(this,di.STAT_EVENT,u),this.stat=g}U(Kl,G);function dt(u){const g=va();Ce(g,new Kl(g,u))}di.Ma="timingevent";function Pt(u,g){G.call(this,di.Ma,u),this.size=g}U(Pt,G);function Nt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},g)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function go(u,g,_,T,q,Z){u.info(function(){if(u.g)if(Z)for(var ue="",qe=Z.split("&"),Ut=0;Ut<qe.length;Ut++){var He=qe[Ut].split("=");if(1<He.length){var Gt=He[0];He=He[1];var Lt=Gt.split("_");ue=2<=Lt.length&&Lt[1]=="type"?ue+(Gt+"="+He+"&"):ue+(Gt+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+T+") [attempt "+q+"]: "+g+`
`+_+`
`+ue})}function Sh(u,g,_,T,q,Z,ue){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+q+"]: "+g+`
`+_+`
`+Z+" "+ue})}function ba(u,g,_,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+cr(u,_)+(T?" "+T:"")})}function Xl(u,g){u.info(function(){return"TIMEOUT: "+g})}Mn.prototype.info=function(){};function cr(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var q=T[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<q.length;ue++)q[ue]=""}}}}return hn(_)}catch{return g}}var xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pi;function mi(){}U(mi,Li),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},pi=new mi;function fn(u,g,_,T){this.j=u,this.i=g,this.l=_,this.R=T||1,this.U=new Xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var yo={},Wr={};function Jn(u,g,_){u.L=1,u.v=pr(Tn(g)),u.m=_,u.P=!0,Hi(u,null)}function Hi(u,g){u.F=Date.now(),ur(u),u.A=Tn(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),To(_.i,"t",T),u.C=0,_=u.j.J,u.h=new St,u.g=fc(u.j,_?g:null,!u.m),0<u.O&&(u.M=new or(A(u.Y,u,u.g),u.O)),g=u.U,_=u.g,T=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Zn[0]=q.toString()),q=Zn);for(var Z=0;Z<q.length;Z++){var ue=ui(_,q[Z],T||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),_a(),go(u.i,u.u,u.A,u.l,u.R,u.m)}fn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Pn(u)==3?g.j():this.Y(u)},fn.prototype.Y=function(u){try{if(u==this.g)e:{const Lt=Pn(this.g);var g=this.g.Ba();const Zi=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||ac(this.g)))){this.J||Lt!=4||g==7||(g==8||0>=Zi?_a(3):_a(2)),Ea(this);var _=this.g.Z();this.X=_;t:if(Zl(this)){var T=ac(this.g);u="";var q=T.length,Z=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),gi(this);var ue="";break t}this.h.i=new p.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,u+=this.h.i.decode(T[g],{stream:!(Z&&g==q-1)});T.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,Sh(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ut=this.g;if((qe=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(qe)){var He=qe;break t}}He=null}if(_=He)ba(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hr(this,_);else{this.o=!1,this.s=3,dt(12),Zt(this),gi(this);break e}}if(this.P){_=!0;let Wt;for(;!this.J&&this.C<ue.length;)if(Wt=Wl(this,ue),Wt==Wr){Lt==4&&(this.s=4,dt(14),_=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==yo){this.s=4,dt(15),ba(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else ba(this.i,this.l,Wt,null),hr(this,Wt);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ue.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)ba(this.i,this.l,ue,"[Invalid Chunked Response]"),Zt(this),gi(this);else if(0<ue.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Er(Gt),Gt.M=!0,dt(11))}}else ba(this.i,this.l,ue,null),hr(this,ue);Lt==4&&Zt(this),this.o&&!this.J&&(Lt==4?cc(this.j,this):(this.o=!1,ur(this)))}else Ih(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Zt(this),gi(this)}}}catch{}finally{}};function Zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Wl(u,g){var _=u.C,T=g.indexOf(`
`,_);return T==-1?Wr:(_=Number(g.substring(_,T)),isNaN(_)?yo:(T+=1,T+_>g.length?Wr:(g=g.slice(T,T+_),u.C=T+_,g)))}fn.prototype.cancel=function(){this.J=!0,Zt(this)};function ur(u){u.S=Date.now()+u.I,Jl(u,u.I)}function Jl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nt(A(u.ba,u),g)}function Ea(u){u.B&&(p.clearTimeout(u.B),u.B=null)}fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xl(this.i,this.A),this.L!=2&&(_a(),dt(17)),Zt(this),this.s=2,gi(this)):Jl(this,this.S-u)};function gi(u){u.j.G==0||u.J||cc(u.j,u)}function Zt(u){Ea(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,On(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function hr(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||vo(_.h,u))){if(!u.K&&vo(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var q=T;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)us(_),ls(_);else break e;Co(_),dt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Nt(A(_.Za,_),6e3));if(1>=es(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xi(_,11)}else if((u.K||_.g==u)&&us(_),!W(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let He=q[g];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Gt=He[3];Gt!=null&&(_.la=Gt,_.j.info("VER="+_.la));const Lt=He[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const Zi=He[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(T=1.5*Zi,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Wt=u.g;if(Wt){const Ti=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var Z=T.h;Z.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ts(Z,Z.h),Z.h=null))}if(T.D){const No=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(T.ya=No,tt(T.I,T.D,No))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var ue=u;if(T.qa=hc(T,T.J?T.ia:null,T.W),ue.K){dn(T.h,ue);var qe=ue,Ut=T.L;Ut&&(qe.I=Ut),qe.B&&(Ea(qe),ur(qe)),T.g=ue}else oc(T);0<_.i.length&&cs(_)}else He[0]!="stop"&&He[0]!="close"||Xi(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Xi(_,7):So(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}_a(4)}catch{}}var ec=class{constructor(u,g){this.g=u,this.map=g}};function Fi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function es(u){return u.h?1:u.g?u.g.size:0}function vo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ts(u,g){u.g?u.g.add(g):u.h=g}function dn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Fi.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return M(u.i)}function Rh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var g=[],_=u.length,T=0;T<_;T++)g.push(u[T]);return g}g=[],_=0;for(T in u)g[_++]=u[T];return g}function ns(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const T in u)g[_++]=T;return g}}}function bo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=ns(u),T=Rh(u),q=T.length,Z=0;Z<q;Z++)g.call(void 0,T[Z],_&&_[Z],u)}var fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ch(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),q=null;if(0<=T){var Z=u[_].substring(0,T);q=u[_].substring(T+1)}else Z=u[_];g(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function It(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof It){this.h=u.h,dr(this,u.j),this.o=u.o,this.g=u.g,Ta(this,u.s),this.l=u.l;var g=u.i,_=new $i;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Gi(this,_),this.m=u.m}else u&&(g=String(u).match(fr))?(this.h=!1,dr(this,g[1]||"",!0),this.o=Vn(g[2]||""),this.g=Vn(g[3]||"",!0),Ta(this,g[4]),this.l=Vn(g[5]||"",!0),Gi(this,g[6]||"",!0),this.m=Vn(g[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}It.prototype.toString=function(){var u=[],g=this.j;g&&u.push(mr(g,xo,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(mr(g,xo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(mr(_,_.charAt(0)=="/"?Dh:Eo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",mr(_,is)),u.join("")};function Tn(u){return new It(u)}function dr(u,g,_){u.j=_?Vn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ta(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Gi(u,g,_){g instanceof $i?(u.i=g,nc(u.i,u.h)):(_||(g=mr(g,Nh)),u.i=new $i(g,u.h))}function tt(u,g,_){u.i.set(g,_)}function pr(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Vn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,tc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xo=/[#\/\?@]/g,Eo=/[#\?:]/g,Dh=/[#\?]/g,Nh=/[#\?@]/g,is=/#/g;function $i(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function kn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ch(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=$i.prototype,a.add=function(u,g){kn(this),this.i=null,u=yi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Qi(u,g){kn(u),g=yi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Yi(u,g){return kn(u),g=yi(u,g),u.g.has(g)}a.forEach=function(u,g){kn(this),this.g.forEach(function(_,T){_.forEach(function(q){u.call(g,q,T,this)},this)},this)},a.na=function(){kn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let T=0;T<g.length;T++){const q=u[T];for(let Z=0;Z<q.length;Z++)_.push(g[T])}return _},a.V=function(u){kn(this);let g=[];if(typeof u=="string")Yi(this,u)&&(g=g.concat(this.g.get(yi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},a.set=function(u,g){return kn(this),this.i=null,u=yi(this,u),Yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function To(u,g,_){Qi(u,g),0<_.length&&(u.i=null,u.g.set(yi(u,g),M(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var T=g[_];const Z=encodeURIComponent(String(T)),ue=this.V(T);for(T=0;T<ue.length;T++){var q=Z;ue[T]!==""&&(q+="="+encodeURIComponent(String(ue[T]))),u.push(q)}}return this.i=u.join("&")};function yi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function nc(u,g){g&&!u.j&&(kn(u),u.i=null,u.g.forEach(function(_,T){var q=T.toLowerCase();T!=q&&(Qi(this,T),To(this,q,_))},u)),u.j=g}function gr(u,g){const _=new Mn;if(p.Image){const T=new Image;T.onload=I(jn,_,"TestLoadImage: loaded",!0,g,T),T.onerror=I(jn,_,"TestLoadImage: error",!1,g,T),T.onabort=I(jn,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=I(jn,_,"TestLoadImage: timeout",!1,g,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function ei(u,g){const _=new Mn,T=new AbortController,q=setTimeout(()=>{T.abort(),jn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(Z=>{clearTimeout(q),Z.ok?jn(_,"TestPingServer: ok",!0,g):jn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),jn(_,"TestPingServer: error",!1,g)})}function jn(u,g,_,T,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),T(_)}catch{}}function yr(){this.g=new Wn}function vi(u,g,_){const T=_||"";try{bo(u,function(q,Z){let ue=q;m(q)&&(ue=hn(q)),g.push(T+Z+"="+encodeURIComponent(ue))})}catch(q){throw g.push(T+"type="+encodeURIComponent("_badmap")),q}}function wa(u){this.l=u.Ub||null,this.j=u.eb||!1}U(wa,Li),wa.prototype.g=function(){return new Ki(this.l,this.j)},wa.prototype.i=(function(u){return function(){return u}})({});function Ki(u,g){Oe.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ki,Oe),a=Ki.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,bi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function wo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?_i(this):bi(this),this.readyState==3&&wo(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,_i(this))},a.Qa=function(u){this.g&&(this.response=u,_i(this))},a.ga=function(){this.g&&_i(this)};function _i(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bi(u)}a.setRequestHeader=function(u,g){this.u.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function bi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ao(u){let g="";return be(u,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function Ft(u,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Ao(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):tt(u,g,_))}function Ke(u){Oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ke,Oe);var as=/^https?$/i,vr=["POST","PUT"];a=Ke.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pi.g(),this.v=this.o?lr(this.o):lr(pi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Z){ic(this,Z);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var q in T)_.set(q,T[q]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Z of T.keys())_.set(Z,T.get(Z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(vr,g,void 0))||T||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of _)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_r(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){ic(this,Z)}};function ic(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,rs(u),xi(u)}function rs(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),xi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Ke.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ss(this):this.bb())},a.bb=function(){ss(this)};function ss(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Pn(u)!=4||u.Z()!=2)){if(u.u&&Pn(u)==4)bt(u.Ea,0,u);else if(Ce(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=ue===0){var q=String(u.D).match(fr)[1]||null;!q&&p.self&&p.self.location&&(q=p.self.location.protocol.slice(0,-1)),T=!as.test(q?q.toLowerCase():"")}_=T}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var Z=2<Pn(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",rs(u)}}finally{xi(u)}}}}function xi(u,g){if(u.g){_r(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{_.onreadystatechange=T}catch{}}}function _r(u){u.I&&(p.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),fi(g)}};function ac(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(u){const g={};u=(u.g&&2<=Pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(W(u[T]))continue;var _=N(u[T]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=g[q]||[];g[q]=Z,Z.push(_)}P(g,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function os(u){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,u),this.cb=br("retryDelaySeedMs",1e4,u),this.Wa=br("forwardChannelMaxRetries",2,u),this.wa=br("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(u&&u.concurrentRequestLimit),this.Da=new yr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=os.prototype,a.la=8,a.G=1,a.connect=function(u,g,_,T){dt(0),this.W=u,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=hc(this,null,this.W),cs(this)};function So(u){if(rc(u),u.G==3){var g=u.U++,_=Tn(u.I);if(tt(_,"SID",u.K),tt(_,"RID",g),tt(_,"TYPE","terminate"),xr(u,_),g=new fn(u,u.j,g),g.L=2,g.v=pr(Tn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=g.v,_=!0),_||(g.g=fc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ur(g)}uc(u)}function ls(u){u.g&&(Er(u),u.g.cancel(),u.g=null)}function rc(u){ls(u),u.u&&(p.clearTimeout(u.u),u.u=null),us(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function cs(u){if(!Jr(u.h)&&!u.s){u.s=!0;var g=u.Ga;se||D(),oe||(se(),oe=!0),we.add(g,u),u.B=0}}function Oh(u,g){return es(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nt(A(u.Ga,u,g),Do(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new fn(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=R(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=sc(this,q,g),_=Tn(this.I),tt(_,"RID",u),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),xr(this,_),Z&&(this.O?g="headers="+encodeURIComponent(String(Ao(Z)))+"&"+g:this.m&&Ft(_,this.m,Z)),ts(this.h,q),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",g),tt(_,"SID","null"),q.T=!0,Jn(q,_,null)):Jn(q,_,g),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||Jr(this.h)||Ro(this))};function Ro(u,g){var _;g?_=g.l:_=u.U++;const T=Tn(u.I);tt(T,"SID",u.K),tt(T,"RID",_),tt(T,"AID",u.T),xr(u,T),u.m&&u.o&&Ft(T,u.m,u.o),_=new fn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=sc(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ts(u.h,_),Jn(_,T,g)}function xr(u,g){u.H&&be(u.H,function(_,T){tt(g,T,_)}),u.l&&bo({},function(_,T){tt(g,T,_)})}function sc(u,g,_){_=Math.min(u.i.length,_);var T=u.l?A(u.l.Na,u.l,u):null;e:{var q=u.i;let Z=-1;for(;;){const ue=["count="+_];Z==-1?0<_?(Z=q[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let qe=!0;for(let Ut=0;Ut<_;Ut++){let He=q[Ut].g;const Gt=q[Ut].map;if(He-=Z,0>He)Z=Math.max(0,q[Ut].g-100),qe=!1;else try{vi(Gt,ue,"req"+He+"_")}catch{T&&T(Gt)}}if(qe){T=ue.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,T}function oc(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;se||D(),oe||(se(),oe=!0),we.add(g,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nt(A(u.Fa,u),Do(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nt(A(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),ls(this),lc(this))};function Er(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function lc(u){u.g=new fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Tn(u.qa);tt(g,"RID","rpc"),tt(g,"SID",u.K),tt(g,"AID",u.T),tt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(g,"TO",u.ja),tt(g,"TYPE","xmlhttp"),xr(u,g),u.m&&u.o&&Ft(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=pr(Tn(g)),_.m=null,_.P=!0,Hi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,ls(this),Co(this),dt(19))};function us(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function cc(u,g){var _=null;if(u.g==g){us(u),Er(u),u.g=null;var T=2}else if(vo(u.h,g))_=g.D,dn(u.h,g),T=1;else return;if(u.G!=0){if(g.o)if(T==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=u.B;T=va(),Ce(T,new Pt(T,_)),cs(u)}else oc(u);else if(q=g.s,q==3||q==0&&0<g.X||!(T==1&&Oh(u,g)||T==2&&Co(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),q){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function Do(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Xi(u,g){if(u.j.info("Error code "+g),g==2){var _=A(u.fb,u),T=u.Xa;const q=!T;T=new It(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||dr(T,"https"),pr(T),q?gr(T.toString(),_):ei(T.toString(),_)}else dt(2);u.G=0,u.l&&u.l.sa(g),uc(u),rc(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function uc(u){if(u.G=0,u.ka=[],u.l){const g=_o(u.h);(g.length!=0||u.i.length!=0)&&(k(u.ka,g),k(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function hc(u,g,_){var T=_ instanceof It?Tn(_):new It(_);if(T.g!="")g&&(T.g=g+"."+T.g),Ta(T,T.s);else{var q=p.location;T=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var Z=new It(null);T&&dr(Z,T),g&&(Z.g=g),q&&Ta(Z,q),_&&(Z.l=_),T=Z}return _=u.D,g=u.ya,_&&g&&tt(T,_,g),tt(T,"VER",u.la),xr(u,T),T}function fc(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ke(new wa({eb:_})):new Ke(u.pa),g.Ha(u.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}a=dc.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function hs(){}hs.prototype.g=function(u,g){return new pn(u,g)};function pn(u,g){Oe.call(this),this.g=new os(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!W(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!W(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ei(this)}U(pn,Oe),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){So(this.g)},pn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=hn(u),u=_);g.i.push(new ec(g.Ya++,u)),g.G==3&&cs(g)},pn.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,pn.aa.N.call(this)};function pc(u){Bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}U(pc,Bi);function mc(){po.call(this),this.status=1}U(mc,po);function Ei(u){this.g=u}U(Ei,dc),Ei.prototype.ua=function(){Ce(this.g,"a")},Ei.prototype.ta=function(u){Ce(this.g,new pc(u))},Ei.prototype.sa=function(u){Ce(this.g,new mc)},Ei.prototype.ra=function(){Ce(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Bb=function(){return new hs},zb=function(){return va()},Lb=di,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Iu=xa,qi.COMPLETE="complete",Ub=qi,fo.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,bl=fo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Pb=Ke}).apply(typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new db("@firebase/firestore");function zs(){return Hr.logLevel}function ye(a,...e){if(Hr.logLevel<=$e.DEBUG){const i=e.map(Yp);Hr.debug(`Firestore (${so}): ${a}`,...i)}}function ma(a,...e){if(Hr.logLevel<=$e.ERROR){const i=e.map(Yp);Hr.error(`Firestore (${so}): ${a}`,...i)}}function Zs(a,...e){if(Hr.logLevel<=$e.WARN){const i=e.map(Yp);Hr.warn(`Firestore (${so}): ${a}`,...i)}}function Yp(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,qb(a,r,i)}function qb(a,e,i){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ma(r),new Error(r)}function Xe(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||qb(e,o,r)}function Ie(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends $r{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class mR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gR{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xe(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ja,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ja)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new Hb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class yR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new yR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _R{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xe(this.o===void 0,3512);const r=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Xe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=bR(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function ze(a,e){return a<e?-1:a>e?1:0}function hp(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),c=e.charAt(r);if(o!==c)return Fd(o)===Fd(c)?ze(o,c):Fd(o)?1:-1}return ze(a.length,e.length)}const xR=55296,ER=57343;function Fd(a){const e=a.charCodeAt(0);return e>=xR&&e<=ER}function Ws(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class Ni{constructor(e,i,r){i===void 0?i=0:i>e.length&&Re(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Re(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Ni.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const r=Ni.isNumericId(e),o=Ni.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(i)):hp(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class ut extends Ni{construct(e,i,r){return new ut(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ut(i)}static emptyPath(){return new ut([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Ni{construct(e,i,r){return new an(e,i,r)}static isValidIdentifier(e){return TR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new an([k0])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(c(),o++)}if(c(),f)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ut.fromString(e))}static fromName(e){return new Ee(ut.fromString(e).popFirst(5))}static empty(){return new Ee(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ut.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(a,e,i){if(!i)throw new ve(ie.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function wR(a,e,i,r){if(e===!0&&r===!0)throw new ve(ie.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function j0(a){if(!Ee.isDocumentKey(a))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function P0(a){if(Ee.isDocumentKey(a))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Gb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function fh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Re(12329,{type:typeof a})}function Qu(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fh(a);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(a,e){const i={typeString:a};return e&&(i.value=e),i}function Hl(a,e){if(!Gb(a))throw new ve(ie.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const f=a[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ve(ie.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-62135596800,L0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*L0);return new ht(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:jt("string",ht._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ht(0,0))}static max(){return new Ne(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function AR(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(r===1e9?new ht(i+1,0):new ht(i,r));return new tr(o,Ee.empty(),e)}function SR(a){return new tr(a.readTime,a.key,Ml)}class tr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new tr(Ne.min(),Ee.empty(),Ml)}static max(){return new tr(Ne.max(),Ee.empty(),Ml)}}function RR(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Ee.comparator(a.documentKey,e.documentKey),i!==0?i:ze(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(a){if(a.code!==ie.FAILED_PRECONDITION||a.message!==CR)throw a;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ae(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ae?i:ae.resolve(i)}catch(i){return ae.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ae.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ae.reject(i)}static resolve(e){return new ae(((i,r)=>{i(e)}))}static reject(e){return new ae(((i,r)=>{r(e)}))}static waitFor(e){return new ae(((i,r)=>{let o=0,c=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&i()}),(y=>r(y)))})),f=!0,c===o&&i()}))}static or(e){let i=ae.resolve(!1);for(const r of e)i=i.next((o=>o?ae.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new ae(((r,o)=>{const c=e.length,f=new Array(c);let p=0;for(let y=0;y<c;y++){const m=y;i(e[m]).next((v=>{f[m]=v,++p,p===c&&r(f)}),(v=>o(v)))}}))}static doWhile(e,i){return new ae(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function NR(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function lo(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function ph(a){return a==null}function Yu(a){return a===0&&1/a==-1/0}function IR(a){return typeof a=="number"&&Number.isInteger(a)&&!Yu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="";function OR(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=z0(e)),e=MR(a.get(i),e);return z0(e)}function MR(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case $b:i+="";break;default:i+=c}}return i}function z0(a){return a+$b+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Qr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Qb(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new nn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new ai([])}unionWith(e){let i=new qt(an.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ai(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Yb("Invalid base64 string: "+c):c}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(a){if(Xe(!!a,39018),typeof a=="string"){let e=0;const i=VR.exec(a);if(Xe(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(a.seconds),nanos:Dt(a.nanos)}}function Dt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ir(a){return typeof a=="string"?rn.fromBase64String(a):rn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="server_timestamp",Xb="__type__",Zb="__previous_value__",Wb="__local_write_time__";function Zp(a){return(a?.mapValue?.fields||{})[Xb]?.stringValue===Kb}function mh(a){const e=a.mapValue.fields[Zb];return Zp(e)?mh(e):e}function Vl(a){const e=nr(a.mapValue.fields[Wb].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,i,r,o,c,f,p,y,m,v){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=m,this.isUsingEmulator=v}}const Ku="(default)";class kl{constructor(e,i){this.projectId=e,this.database=i||Ku}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Ku}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="__type__",jR="__max__",Tu={mapValue:{}},ex="__vector__",Xu="value";function ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Zp(a)?4:UR(a)?9007199254740991:PR(a)?10:11:Re(28295,{value:a})}function ji(a,e){if(a===e)return!0;const i=ar(a);if(i!==ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Vl(a).isEqual(Vl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=nr(o.timestampValue),p=nr(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return ir(o.bytesValue).isEqual(ir(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return Dt(o.geoPointValue.latitude)===Dt(c.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Dt(o.integerValue)===Dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Dt(o.doubleValue),p=Dt(c.doubleValue);return f===p?Yu(f)===Yu(p):isNaN(f)&&isNaN(p)}return!1})(a,e);case 9:return Ws(a.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(B0(f)!==B0(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!ji(f[y],p[y])))return!1;return!0})(a,e);default:return Re(52216,{left:a})}}function jl(a,e){return(a.values||[]).find((i=>ji(i,e)))!==void 0}function Js(a,e){if(a===e)return 0;const i=ar(a),r=ar(e);if(i!==r)return ze(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(a.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=Dt(c.integerValue||c.doubleValue),y=Dt(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,e);case 3:return H0(a.timestampValue,e.timestampValue);case 4:return H0(Vl(a),Vl(e));case 5:return hp(a.stringValue,e.stringValue);case 6:return(function(c,f){const p=ir(c),y=ir(f);return p.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),y=f.split("/");for(let m=0;m<p.length&&m<y.length;m++){const v=ze(p[m],y[m]);if(v!==0)return v}return ze(p.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=ze(Dt(c.latitude),Dt(f.latitude));return p!==0?p:ze(Dt(c.longitude),Dt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return F0(a.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},y=f.fields||{},m=p[Xu]?.arrayValue,v=y[Xu]?.arrayValue,w=ze(m?.values?.length||0,v?.values?.length||0);return w!==0?w:F0(m,v)})(a.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Tu.mapValue&&f===Tu.mapValue)return 0;if(c===Tu.mapValue)return 1;if(f===Tu.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),m=f.fields||{},v=Object.keys(m);y.sort(),v.sort();for(let w=0;w<y.length&&w<v.length;++w){const A=hp(y[w],v[w]);if(A!==0)return A;const I=Js(p[y[w]],m[v[w]]);if(I!==0)return I}return ze(y.length,v.length)})(a.mapValue,e.mapValue);default:throw Re(23264,{he:i})}}function H0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return ze(a,e);const i=nr(a),r=nr(e),o=ze(i.seconds,r.seconds);return o!==0?o:ze(i.nanos,r.nanos)}function F0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Js(i[o],r[o]);if(c)return c}return ze(i.length,r.length)}function eo(a){return fp(a)}function fp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=nr(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ir(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return Ee.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=fp(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${fp(i.fields[f])}`;return o+"}"})(a.mapValue):Re(61005,{value:a})}function Ou(a){switch(ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(a);return e?16+Ou(e):16;case 5:return 2*a.stringValue.length;case 6:return ir(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ou(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Qr(r.fields,((c,f)=>{o+=c.length+Ou(f)})),o})(a.mapValue);default:throw Re(13486,{value:a})}}function G0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function dp(a){return!!a&&"integerValue"in a}function Wp(a){return!!a&&"arrayValue"in a}function $0(a){return!!a&&"nullValue"in a}function Q0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mu(a){return!!a&&"mapValue"in a}function PR(a){return(a?.mapValue?.fields||{})[Jb]?.stringValue===ex}function Al(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Qr(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Al(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Al(a.arrayValue.values[i]);return e}return{...a}}function UR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Mu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(i)}setAll(e){let i=an.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=p.popLast()}f?r[p.lastSegment()]=Al(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Mu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Qr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Gn(Al(this.value))}}function tx(a){const e=[];return Qr(a.fields,((i,r)=>{const o=new an([i]);if(Mu(r)){const c=tx(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,i,r,o,c,f,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Ne.min(),Ne.min(),Ne.min(),Gn.empty(),0)}static newFoundDocument(e,i,r,o){return new un(e,1,i,Ne.min(),r,o,0)}static newNoDocument(e,i){return new un(e,2,i,Ne.min(),Ne.min(),Gn.empty(),0)}static newUnknownDocument(e,i){return new un(e,3,i,Ne.min(),Ne.min(),Gn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i){this.position=e,this.inclusive=i}}function Y0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const c=e[o],f=a.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(f.referenceValue),i.key):r=Js(f,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function K0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ji(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i="asc"){this.field=e,this.dir=i}}function LR(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{}class kt extends nx{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new BR(e,i,r):i==="array-contains"?new FR(e,r):i==="in"?new GR(e,r):i==="not-in"?new $R(e,r):i==="array-contains-any"?new QR(e,r):new kt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new qR(e,r):new HR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Js(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(Js(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends nx{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new oi(e,i)}matches(e){return ix(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ix(a){return a.op==="and"}function ax(a){return zR(a)&&ix(a)}function zR(a){for(const e of a.filters)if(e instanceof oi)return!1;return!0}function pp(a){if(a instanceof kt)return a.field.canonicalString()+a.op.toString()+eo(a.value);if(ax(a))return a.filters.map((e=>pp(e))).join(",");{const e=a.filters.map((i=>pp(i))).join(",");return`${a.op}(${e})`}}function rx(a,e){return a instanceof kt?(function(r,o){return o instanceof kt&&r.op===o.op&&r.field.isEqual(o.field)&&ji(r.value,o.value)})(a,e):a instanceof oi?(function(r,o){return o instanceof oi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,p)=>c&&rx(f,o.filters[p])),!0):!1})(a,e):void Re(19439)}function sx(a){return a instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(a):a instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(sx).join(" ,")+"}"})(a):"Filter"}class BR extends kt{constructor(e,i,r){super(e,i,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const i=Ee.comparator(e.key,this.key);return this.matchesComparison(i)}}class qR extends kt{constructor(e,i){super(e,"in",i),this.keys=ox("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class HR extends kt{constructor(e,i){super(e,"not-in",i),this.keys=ox("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ox(a,e){return(e.arrayValue?.values||[]).map((i=>Ee.fromName(i.referenceValue)))}class FR extends kt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wp(i)&&jl(i.arrayValue,this.value)}}class GR extends kt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class $R extends kt{constructor(e,i){super(e,"not-in",i)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class QR extends kt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>jl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,i=null,r=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function X0(a,e=null,i=[],r=[],o=null,c=null,f=null){return new YR(a,e,i,r,o,c,f)}function Jp(a){const e=Ie(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>pp(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>eo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>eo(r))).join(",")),e.Te=i}return e.Te}function em(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!LR(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!rx(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!K0(a.startAt,e.startAt)&&K0(a.endAt,e.endAt)}function mp(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,i=null,r=[],o=[],c=null,f="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KR(a,e,i,r,o,c,f,p){return new Fl(a,e,i,r,o,c,f,p)}function lx(a){return new Fl(a)}function Z0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function cx(a){return a.collectionGroup!==null}function Sl(a){const e=Ie(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new qt(an.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Wu(c,r))})),i.has(an.keyField().canonicalString())||e.Ie.push(new Wu(an.keyField(),r))}return e.Ie}function Oi(a){const e=Ie(a);return e.Ee||(e.Ee=XR(e,Sl(a))),e.Ee}function XR(a,e){if(a.limitType==="F")return X0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Wu(o.field,c)}));const i=a.endAt?new Zu(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Zu(a.startAt.position,a.startAt.inclusive):null;return X0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function gp(a,e){const i=a.filters.concat([e]);return new Fl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function yp(a,e,i){return new Fl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function gh(a,e){return em(Oi(a),Oi(e))&&a.limitType===e.limitType}function ux(a){return`${Jp(Oi(a))}|lt:${a.limitType}`}function Bs(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>sx(o))).join(", ")}]`),ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>eo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>eo(o))).join(",")),`Target(${r})`})(Oi(a))}; limitType=${a.limitType})`}function yh(a,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,e)&&(function(r,o){for(const c of Sl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,y){const m=Y0(f,p,y);return f.inclusive?m<=0:m<0})(r.startAt,Sl(r),o)||r.endAt&&!(function(f,p,y){const m=Y0(f,p,y);return f.inclusive?m>=0:m>0})(r.endAt,Sl(r),o))})(a,e)}function ZR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function hx(a){return(e,i)=>{let r=!1;for(const o of Sl(a)){const c=WR(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function WR(a,e,i){const r=a.field.isKeyField()?Ee.comparator(e.key,i.key):(function(c,f,p){const y=f.data.field(c),m=p.data.field(c);return y!==null&&m!==null?Js(y,m):Re(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Qb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new _t(Ee.comparator);function ga(){return JR}const fx=new _t(Ee.comparator);function xl(...a){let e=fx;for(const i of a)e=e.insert(i.key,i);return e}function dx(a){let e=fx;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function zr(){return Rl()}function px(){return Rl()}function Rl(){return new Yr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const eC=new _t(Ee.comparator),tC=new qt(Ee.comparator);function Be(...a){let e=tC;for(const i of a)e=e.add(i);return e}const nC=new qt(ze);function iC(){return nC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function mx(a){return{integerValue:""+a}}function aC(a,e){return IR(e)?mx(e):tm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function rC(a,e,i){return a instanceof Ju?(function(o,c){const f={fields:{[Xb]:{stringValue:Kb},[Wb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zp(c)&&(c=mh(c)),c&&(f.fields[Zb]=c),{mapValue:f}})(i,e):a instanceof Pl?yx(a,e):a instanceof Ul?vx(a,e):(function(o,c){const f=gx(o,c),p=W0(f)+W0(o.Ae);return dp(f)&&dp(o.Ae)?mx(p):tm(o.serializer,p)})(a,e)}function sC(a,e,i){return a instanceof Pl?yx(a,e):a instanceof Ul?vx(a,e):i}function gx(a,e){return a instanceof eh?(function(r){return dp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Ju extends vh{}class Pl extends vh{constructor(e){super(),this.elements=e}}function yx(a,e){const i=_x(e);for(const r of a.elements)i.some((o=>ji(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Ul extends vh{constructor(e){super(),this.elements=e}}function vx(a,e){let i=_x(e);for(const r of a.elements)i=i.filter((o=>!ji(o,r)));return{arrayValue:{values:i}}}class eh extends vh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function W0(a){return Dt(a.integerValue||a.doubleValue)}function _x(a){return Wp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function oC(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof Pl&&o instanceof Pl||r instanceof Ul&&o instanceof Ul?Ws(r.elements,o.elements,ji):r instanceof eh&&o instanceof eh?ji(r.Ae,o.Ae):r instanceof Ju&&o instanceof Ju})(a.transform,e.transform)}class lC{constructor(e,i){this.version=e,this.transformResults=i}}class fa{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class _h{}function bx(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Ex(a.key,fa.none()):new Gl(a.key,a.data,fa.none());{const i=a.data,r=Gn.empty();let o=new qt(an.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Kr(a.key,r,new ai(o.toArray()),fa.none())}}function cC(a,e,i){a instanceof Gl?(function(o,c,f){const p=o.value.clone(),y=e_(o.fieldTransforms,c,f.transformResults);p.setAll(y),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,i):a instanceof Kr?(function(o,c,f){if(!Vu(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=e_(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(xx(o)),y.setAll(p),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(a,e,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Cl(a,e,i,r){return a instanceof Gl?(function(c,f,p,y){if(!Vu(c.precondition,f))return p;const m=c.value.clone(),v=t_(c.fieldTransforms,y,f);return m.setAll(v),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(a,e,i,r):a instanceof Kr?(function(c,f,p,y){if(!Vu(c.precondition,f))return p;const m=t_(c.fieldTransforms,y,f),v=f.data;return v.setAll(xx(c)),v.setAll(m),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(a,e,i,r):(function(c,f,p){return Vu(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,e,i)}function uC(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),c=gx(r.transform,o||null);c!=null&&(i===null&&(i=Gn.empty()),i.set(r.field,c))}return i||null}function J0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ws(r,o,((c,f)=>oC(c,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Gl extends _h{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kr extends _h{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function xx(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function e_(a,e,i){const r=new Map;Xe(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],f=c.transform,p=e.data.field(c.field);r.set(c.field,sC(f,p,i[o]))}return r}function t_(a,e,i){const r=new Map;for(const o of a){const c=o.transform,f=i.data.field(o.field);r.set(o.field,rC(c,f,e))}return r}class Ex extends _h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hC extends _h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&cC(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Cl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Cl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=px();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=i.has(o.key)?null:p;const y=bx(f,p);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,((i,r)=>J0(i,r)))&&Ws(this.baseMutations,e.baseMutations,((i,r)=>J0(i,r)))}}class nm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return eC})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new nm(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Ge;function mC(a){switch(a){case ie.OK:return Re(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re(15467,{code:a})}}function Tx(a){if(a===void 0)return ma("GRPC error has no .code"),ie.UNKNOWN;switch(a){case Vt.OK:return ie.OK;case Vt.CANCELLED:return ie.CANCELLED;case Vt.UNKNOWN:return ie.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ie.INTERNAL;case Vt.UNAVAILABLE:return ie.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ie.NOT_FOUND;case Vt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Vt.ABORTED:return ie.ABORTED;case Vt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Vt.DATA_LOSS:return ie.DATA_LOSS;default:return Re(39323,{code:a})}}(Ge=Vt||(Vt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Wa([4294967295,4294967295],0);function n_(a){const e=gC().encode(a),i=new jb;return i.update(e),new Uint8Array(i.digest())}function i_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Wa([i,r],0),new Wa([o,c],0)]}class im{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Wa.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Wa.fromNumber(r)));return o.compare(yC)===1&&(o=new Wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=n_(e),[r,o]=i_(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new im(c,o,i);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=n_(e),[r,o]=i_(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.Se(f)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new bh(Ne.min(),o,new _t(ze),ga(),Be())}}class $l{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new $l(r,i,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class wx{constructor(e,i){this.targetId=e,this.Ce=i}}class Ax{constructor(e,i,r=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class a_{constructor(){this.ve=0,this.Fe=r_(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),r=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:c})}})),new $l(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=r_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ga(),this.Je=wu(),this.He=wu(),this.Ye=new _t(ze)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(mp(c))if(r===0){const f=new Ee(c.path);this.et(i,f,un.newNoDocument(f,Ne.min()))}else Xe(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const p=this.ut(e),y=p?this.ct(p,e,f):1;if(y!==0){this.it(i);const m=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,m)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let f,p;try{f=ir(r).toUint8Array()}catch(y){if(y instanceof Yb)return Zs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new im(f,o,c)}catch(y){return Zs(y instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&mp(p.target)){const y=new Ee(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,un.newNoDocument(y,e))}c.Be&&(i.set(f,c.ke()),c.qe())}}));let r=Be();this.He.forEach(((c,f)=>{let p=!0;f.forEachWhile((y=>{const m=this.ot(y);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new bh(e,i,this.Ye,this.je,r);return this.je=ga(),this.Je=wu(),this.He=wu(),this.Ye=new _t(ze),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new a_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new qt(ze),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new qt(ze),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ye("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function wu(){return new _t(Ee.comparator)}function r_(){return new _t(Ee.comparator)}const _C={asc:"ASCENDING",desc:"DESCENDING"},bC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xC={and:"AND",or:"OR"};class EC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vp(a,e){return a.useProto3Json||ph(e)?e:{value:e}}function th(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sx(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function TC(a,e){return th(a,e.toTimestamp())}function Mi(a){return Xe(!!a,49232),Ne.fromTimestamp((function(i){const r=nr(i);return new ht(r.seconds,r.nanos)})(a))}function am(a,e){return _p(a,e).canonicalString()}function _p(a,e){const i=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Rx(a){const e=ut.fromString(a);return Xe(Ox(e),10190,{key:e.toString()}),e}function bp(a,e){return am(a.databaseId,e.path)}function Gd(a,e){const i=Rx(e);if(i.get(1)!==a.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Ee(Dx(i))}function Cx(a,e){return am(a.databaseId,e)}function wC(a){const e=Rx(a);return e.length===4?ut.emptyPath():Dx(e)}function xp(a){return new ut(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Dx(a){return Xe(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function s_(a,e,i){return{name:bp(a,e),fields:i.value.mapValue.fields}}function AC(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(m,v){return m.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(m){const v=m.code===void 0?ie.UNKNOWN:Tx(m.code);return new ve(v,m.message||"")})(f);i=new Ax(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gd(a,r.document.name),c=Mi(r.document.updateTime),f=r.document.createTime?Mi(r.document.createTime):Ne.min(),p=new Gn({mapValue:{fields:r.document.fields}}),y=un.newFoundDocument(o,c,f,p),m=r.targetIds||[],v=r.removedTargetIds||[];i=new ku(m,v,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Gd(a,r.document),c=r.readTime?Mi(r.readTime):Ne.min(),f=un.newNoDocument(o,c),p=r.removedTargetIds||[];i=new ku([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Gd(a,r.document),c=r.removedTargetIds||[];i=new ku([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new pC(o,c),p=r.targetId;i=new wx(p,f)}}return i}function SC(a,e){let i;if(e instanceof Gl)i={update:s_(a,e.key,e.value)};else if(e instanceof Ex)i={delete:bp(a,e.key)};else if(e instanceof Kr)i={update:s_(a,e.key,e.data),updateMask:kC(e.fieldMask)};else{if(!(e instanceof hC))return Re(16599,{Vt:e.type});i={verify:bp(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const p=f.transform;if(p instanceof Ju)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Pl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Re(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:TC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)})(a,e.precondition)),i}function RC(a,e){return a&&a.length>0?(Xe(e!==void 0,14353),a.map((i=>(function(o,c){let f=o.updateTime?Mi(o.updateTime):Mi(c);return f.isEqual(Ne.min())&&(f=Mi(c)),new lC(f,o.transformResults||[])})(i,e)))):[]}function CC(a,e){return{documents:[Cx(a,e.path)]}}function DC(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Cx(a,o);const c=(function(m){if(m.length!==0)return Ix(oi.create(m,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(m){if(m.length!==0)return m.map((v=>(function(A){return{field:qs(A.field),direction:OC(A.dir)}})(v)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=vp(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:i,parent:o}}function NC(a){let e=wC(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Xe(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];i.where&&(c=(function(w){const A=Nx(w);return A instanceof oi&&ax(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(w){return w.map((A=>(function(U){return new Wu(Hs(U.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let A;return A=typeof w=="object"?w.value:w,ph(A)?null:A})(i.limit));let y=null;i.startAt&&(y=(function(w){const A=!!w.before,I=w.values||[];return new Zu(I,A)})(i.startAt));let m=null;return i.endAt&&(m=(function(w){const A=!w.before,I=w.values||[];return new Zu(I,A)})(i.endAt)),KR(e,o,f,c,p,"F",y,m)}function IC(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Nx(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Hs(i.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Hs(i.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Hs(i.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Hs(i.unaryFilter.field);return kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(a):a.fieldFilter!==void 0?(function(i){return kt.create(Hs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((r=>Nx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(i.compositeFilter.op))})(a):Re(30097,{filter:a})}function OC(a){return _C[a]}function MC(a){return bC[a]}function VC(a){return xC[a]}function qs(a){return{fieldPath:a.canonicalString()}}function Hs(a){return an.fromServerFormat(a.fieldPath)}function Ix(a){return a instanceof kt?(function(i){if(i.op==="=="){if(Q0(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NAN"}};if($0(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q0(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NOT_NAN"}};if($0(i.value))return{unaryFilter:{field:qs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(i.field),op:MC(i.op),value:i.value}}})(a):a instanceof oi?(function(i){const r=i.getFilters().map((o=>Ix(o)));return r.length===1?r[0]:{compositeFilter:{op:VC(i.op),filters:r}}})(a):Re(54877,{filter:a})}function kC(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Ox(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,i,r,o,c=Ne.min(),f=Ne.min(),p=rn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.yt=e}}function PC(a){const e=NC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.Cn=new LC}addToCollectionParentIndex(e,i){return this.Cn.add(i),ae.resolve()}getCollectionParents(e,i){return ae.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ae.resolve()}deleteFieldIndex(e,i){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,i){return ae.resolve()}getDocumentsMatchingTarget(e,i){return ae.resolve(null)}getIndexType(e,i){return ae.resolve(0)}getFieldIndexes(e,i){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,i){return ae.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,i){return ae.resolve(tr.min())}updateCollectionGroup(e,i,r){return ae.resolve()}updateIndexEntries(e,i){return ae.resolve()}}class LC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new qt(ut.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mx=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(Mx,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LruGarbageCollector",zC=1048576;function c_([a,e],[i,r]){const o=ze(a,i);return o===0?ze(e,r):o}class BC{constructor(e){this.Ir=e,this.buffer=new qt(c_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();c_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(l_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){lo(i)?ye(l_,"Ignoring IndexedDB error during garbage collection: ",i):await oo(i)}await this.Vr(3e5)}))}}class HC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return ae.resolve(dh.ce);const r=new BC(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(o_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,f,p,y,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),zs()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(m-y)+`ms
Total Duration: ${m-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function FC(a,e){return new HC(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.changes=new Yr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ae.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Cl(r.mutation,o,ai.empty(),ht.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Be()){const o=zr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let f=xl();return c.forEach(((p,y)=>{f=f.insert(p,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const r=zr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Be())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,r,o){let c=ga();const f=Rl(),p=(function(){return Rl()})();return i.forEach(((y,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Kr)?c=c.insert(m.key,m):v!==void 0?(f.set(m.key,v.mutation.getFieldMask()),Cl(v.mutation,m,v.mutation.getFieldMask(),ht.now())):f.set(m.key,ai.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((m,v)=>f.set(m,v))),i.forEach(((m,v)=>p.set(m,new $C(v,f.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Rl();let o=new _t(((f,p)=>f-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((y=>{const m=i.get(y);if(m===null)return;let v=r.get(y)||ai.empty();v=p.applyToLocalView(m,v),r.set(y,v);const w=(o.get(p.batchId)||Be()).add(y);o=o.insert(p.batchId,w)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),m=y.key,v=y.value,w=px();v.forEach((A=>{if(!c.has(A)){const I=bx(i.get(A),r.get(A));I!==null&&w.set(A,I),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,m,w))}return ae.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):ae.resolve(zr());let p=Ml,y=c;return f.next((m=>ae.forEach(m,((v,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{y=y.insert(v,A)}))))).next((()=>this.populateOverlays(e,m,c))).next((()=>this.computeViews(e,y,m,Be()))).next((v=>({batchId:p,changes:dx(v)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ee(i)).next((r=>{let o=xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(e,c).next((p=>ae.forEach(p,(y=>{const m=(function(w,A){return new Fl(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((v=>{v.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((f=>{c.forEach(((y,m)=>{const v=m.getKey();f.get(v)===null&&(f=f.insert(v,un.newInvalidDocument(v)))}));let p=xl();return f.forEach(((y,m)=>{const v=c.get(y);v!==void 0&&Cl(v.mutation,m,ai.empty(),ht.now()),yh(i,m)&&(p=p.insert(y,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ae.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(i)),ae.resolve()}getNamedQuery(e,i){return ae.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:PC(o.bundledQuery),readTime:Mi(o.readTime)}})(i)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(e,i){return ae.resolve(this.overlays.get(i))}getOverlays(e,i){const r=zr();return ae.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),ae.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,i,r){const o=zr(),c=i.length+1,f=new Ee(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,m=y.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new _t(((m,v)=>m-v));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>r){let v=c.get(m.largestBatchId);v===null&&(v=zr(),c=c.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const p=zr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((m,v)=>p.set(m,v))),!(p.size()>=o)););return ae.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new dC(i,r));let c=this.qr.get(i);c===void 0&&(c=Be(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.Qr=new qt(Kt.$r),this.Ur=new qt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Kt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Kt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Ee(new ut([])),r=new Kt(i,e),o=new Kt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ee(new ut([])),r=new Kt(i,e),o=new Kt(i,e+1);let c=Be();return this.Ur.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new Kt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ee.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||Ee.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Kt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fC(c,i,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,i){return ae.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return ae.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Xp:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);c.push(p)})),ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qt(ze);return i.forEach((o=>{const c=new Kt(o,0),f=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(p=>{r=r.add(p.Yr)}))})),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const f=new Kt(new Ee(c),0);let p=new qt(ze);return this.Zr.forEachWhile((y=>{const m=y.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(y.Yr)),!0)}),f),ae.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Xe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(i.mutations,(o=>{const c=new Kt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Kt(i,0),o=this.Zr.firstAfterOrEqual(r);return ae.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ae.resolve(r?r.document.mutableCopy():un.newInvalidDocument(i))}getEntries(e,i){let r=ga();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():un.newInvalidDocument(o))})),ae.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ga();const f=i.path,p=new Ee(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:m,value:{document:v}}=y.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||RR(SR(v),r)<=0||(o.has(v.key)||yh(i,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ae.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Re(9500)}ii(e,i){return ae.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new JC(this)}getSize(e){return ae.resolve(this.size)}}class JC extends GC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ae.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.persistence=e,this.si=new Yr((i=>Jp(i)),em),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new rm,this.targetCount=0,this.ai=to.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ae.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ae.resolve()}updateTargetData(e,i){return this.Pr(i),ae.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ae.waitFor(c).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return ae.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),ae.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),ae.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ae.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return ae.resolve(r)}containsKey(e,i){return ae.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,i){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new XC,this.referenceDelegate=e(this),this.Pi=new eD(this),this.indexManager=new UC,this.remoteDocumentCache=(function(o){return new WC(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jC(i),this.Ii=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new ZC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ye("MemoryPersistence","Starting transaction:",e);const o=new tD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class tD extends DR{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.Ri=new rm,this.Vi=null}static mi(e){return new sm(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ae.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ae.or([()=>ae.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class nh{constructor(e,i){this.persistence=e,this.pi=new Yr((r=>OR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=FC(this,i)}static mi(e,i){return new nh(e,i)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return ae.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?ae.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((p=>{p||(r++,c.removeEntry(f,Ne.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ou(e.data.value)),i}br(e,i,r){return ae.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return ae.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Be(),o=Be();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new om(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kA()?8:NR(MA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new nD;return this.Ss(e,i,f).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(zs()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Bs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(zs()<=$e.DEBUG&&ye("QueryEngine","Query:",Bs(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(zs()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Bs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(i))):ae.resolve())}ys(e,i){if(Z0(i))return ae.resolve(null);let r=Oi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=yp(i,null,"F"),r=Oi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=Be(...c);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const m=this.Ds(i,p);return this.Cs(i,m,f,y.readTime)?this.ys(e,yp(i,null,"F")):this.vs(e,m,i,y)}))))})))))}ws(e,i,r,o){return Z0(i)||o.isEqual(Ne.min())?ae.resolve(null):this.ps.getDocuments(e,r).next((c=>{const f=this.Ds(i,c);return this.Cs(i,f,r,o)?ae.resolve(null):(zs()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bs(i)),this.vs(e,f,i,AR(o,Ml)).next((p=>p)))}))}Ds(e,i){let r=new qt(hx(e));return i.forEach(((o,c)=>{yh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return zs()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Bs(i)),this.ps.getDocumentsMatchingQuery(e,i,tr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LocalStore",aD=3e8;class rD{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new _t(ze),this.xs=new Yr((c=>Jp(c)),em),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function sD(a,e,i,r){return new rD(a,e,i,r)}async function kx(a,e){const i=Ie(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],p=[];let y=Be();for(const m of o){f.push(m.batchId);for(const v of m.mutations)y=y.add(v.key)}for(const m of c){p.push(m.batchId);for(const v of m.mutations)y=y.add(v.key)}return i.localDocuments.getDocuments(r,y).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:p})))}))}))}function oD(a,e){const i=Ie(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,m,v){const w=m.batch,A=w.keys();let I=ae.resolve();return A.forEach((U=>{I=I.next((()=>v.getEntry(y,U))).next((M=>{const k=m.docVersions.get(U);Xe(k!==null,48541),M.version.compareTo(k)<0&&(w.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),v.addEntry(M)))}))})),I.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Be();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(y=y.add(p.batch.mutations[m].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function jx(a){const e=Ie(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lD(a,e){const i=Ie(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((v,w)=>{const A=o.get(w);if(!A)return;p.push(i.Pi.removeMatchingKeys(c,v.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,v.addedDocuments,w))));let I=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(rn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),o=o.insert(w,I),(function(M,k,Q){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=aD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(A,I,v)&&p.push(i.Pi.updateTargetData(c,I))}));let y=ga(),m=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,v))})),p.push(cD(c,f,e.documentUpdates).next((v=>{y=v.ks,m=v.qs}))),!r.isEqual(Ne.min())){const v=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(v)}return ae.waitFor(p).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,m))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function cD(a,e,i){let r=Be(),o=Be();return i.forEach((c=>r=r.add(c))),e.getEntries(a,r).next((c=>{let f=ga();return i.forEach(((p,y)=>{const m=c.get(p);y.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ne.min())?(e.removeEntry(p,y.readTime),f=f.insert(p,y)):!m.isValidDocument()||y.version.compareTo(m.version)>0||y.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(y),f=f.insert(p,y)):ye(lm,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function uD(a,e){const i=Ie(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hD(a,e){const i=Ie(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,ae.resolve(o)):i.Pi.allocateTargetId(r).next((f=>(o=new Ya(e,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Ep(a,e,i){const r=Ie(a),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!lo(f))throw f;ye(lm,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function u_(a,e,i){const r=Ie(a);let o=Ne.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,m,v){const w=Ie(y),A=w.xs.get(v);return A!==void 0?ae.resolve(w.Ms.get(A)):w.Pi.getTargetData(m,v)})(r,f,Oi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,i?o:Ne.min(),i?c:Be()))).next((p=>(fD(r,ZR(e),p),{documents:p,Qs:c})))))}function fD(a,e,i){let r=a.Os.get(e)||Ne.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(e,r)}class h_{constructor(){this.activeTargetIds=iC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dD{constructor(){this.Mo=new h_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="ConnectivityMonitor";class d_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(f_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(f_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au=null;function Tp(){return Au===null?Au=(function(){return 268435456+Math.round(2147483648*Math.random())})():Au++,"0x"+Au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ku?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const f=Tp(),p=this.zo(e,i.toUriEncodedString());ye($d,`Sending RPC '${e}' ${f}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:m}=new URL(p),v=ql(m);return this.Jo(e,p,y,r,v).then((w=>(ye($d,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Zs($d,`RPC '${e}' ${f} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,i,r,o,c,f){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=mD[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class vD extends gD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const f=Tp();return new Promise(((p,y)=>{const m=new Pb;m.setWithCredentials(!0),m.listenOnce(Ub.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Iu.NO_ERROR:const w=m.getResponseJson();ye(ln,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),p(w);break;case Iu.TIMEOUT:ye(ln,`RPC '${e}' ${f} timed out`),y(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const A=m.getStatus();if(ye(ln,`RPC '${e}' ${f} failed with status:`,A,"response text:",m.getResponseText()),A>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const U=I?.error;if(U&&U.status&&U.message){const M=(function(Q){const W=Q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(W)>=0?W:ie.UNKNOWN})(U.status);y(new ve(M,U.message))}else y(new ve(ie.UNKNOWN,"Server responded with status "+m.getStatus()))}else y(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ye(ln,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);ye(ln,`RPC '${e}' ${f} sending request:`,o),m.send(i,"POST",v,r,15)}))}T_(e,i,r){const o=Tp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Bb(),p=zb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const v=c.join("");ye(ln,`Creating RPC '${e}' stream ${o}: ${v}`,y);const w=f.createWebChannel(v,y);this.I_(w);let A=!1,I=!1;const U=new yD({Yo:k=>{I?ye(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(A||(ye(ln,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ye(ln,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Zo:()=>w.close()}),M=(k,Q,W)=>{k.listen(Q,(K=>{try{W(K)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return M(w,bl.EventType.OPEN,(()=>{I||(ye(ln,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),M(w,bl.EventType.CLOSE,(()=>{I||(I=!0,ye(ln,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(w))})),M(w,bl.EventType.ERROR,(k=>{I||(I=!0,Zs(ln,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),U.a_(new ve(ie.UNAVAILABLE,"The operation could not be completed")))})),M(w,bl.EventType.MESSAGE,(k=>{if(!I){const Q=k.data[0];Xe(!!Q,16349);const W=Q,K=W?.error||W[0]?.error;if(K){ye(ln,`RPC '${e}' stream ${o} received error:`,K);const fe=K.status;let he=(function(R){const C=Vt[R];if(C!==void 0)return Tx(C)})(fe),be=K.message;he===void 0&&(he=ie.INTERNAL,be="Unknown error status: "+fe+" with message "+K.message),I=!0,U.a_(new ve(he,be)),w.close()}else ye(ln,`RPC '${e}' stream ${o} received:`,Q),U.u_(Q)}})),M(p,Lb.STAT_EVENT,(k=>{k.stat===up.PROXY?ye(ln,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===up.NOPROXY&&ye(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(a){return new EC(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class Ux{constructor(e,i,r,o,c,f,p,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Px(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ie.RESOURCE_EXHAUSTED?(ma(i.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ve(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ye(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _D extends Ux{constructor(e,i,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=AC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ne.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ne.min():f.readTime?Mi(f.readTime):Ne.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=xp(this.serializer),i.addTarget=(function(c,f){let p;const y=f.target;if(p=mp(y)?{documents:CC(c,y)}:{query:DC(c,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Sx(c,f.resumeToken);const m=vp(c,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(Ne.min())>0){p.readTime=th(c,f.snapshotVersion.toTimestamp());const m=vp(c,f.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const r=IC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=xp(this.serializer),i.removeTarget=e,this.q_(i)}}class bD extends Ux{constructor(e,i,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=RC(e.writeResults,e.commitTime),r=Mi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=xp(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>SC(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{}class ED extends xD{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,_p(i,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ie.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,_p(i,r),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ve(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TD{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ma(i),this.aa=!1):ye("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="RemoteStore";class wD{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Xr(this)&&(ye(Fr,"Restarting streams for network reachability change."),await(async function(y){const m=Ie(y);m.Ea.add(4),await Ql(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Eh(m)})(this))}))})),this.Ra=new TD(r,o)}}async function Eh(a){if(Xr(a))for(const e of a.da)await e(!0)}async function Ql(a){for(const e of a.da)await e(!1)}function Lx(a,e){const i=Ie(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),fm(i)?hm(i):co(i).O_()&&um(i,e))}function cm(a,e){const i=Ie(a),r=co(i);i.Ia.delete(e),r.O_()&&zx(i,e),i.Ia.size===0&&(r.O_()?r.L_():Xr(i)&&i.Ra.set("Unknown"))}function um(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}co(a).Y_(e)}function zx(a,e){a.Va.Ue(e),co(a).Z_(e)}function hm(a){a.Va=new vC({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),co(a).start(),a.Ra.ua()}function fm(a){return Xr(a)&&!co(a).x_()&&a.Ia.size>0}function Xr(a){return Ie(a).Ea.size===0}function Bx(a){a.Va=void 0}async function AD(a){a.Ra.set("Online")}async function SD(a){a.Ia.forEach(((e,i)=>{um(a,e)}))}async function RD(a,e){Bx(a),fm(a)?(a.Ra.ha(e),hm(a)):a.Ra.set("Unknown")}async function CD(a,e,i){if(a.Ra.set("Online"),e instanceof Ax&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(r){ye(Fr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ih(a,r)}else if(e instanceof ku?a.Va.Ze(e):e instanceof wx?a.Va.st(e):a.Va.tt(e),!i.isEqual(Ne.min()))try{const r=await jx(a.localStore);i.compareTo(r)>=0&&await(function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach(((y,m)=>{if(y.resumeToken.approximateByteSize()>0){const v=c.Ia.get(m);v&&c.Ia.set(m,v.withResumeToken(y.resumeToken,f))}})),p.targetMismatches.forEach(((y,m)=>{const v=c.Ia.get(y);if(!v)return;c.Ia.set(y,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),zx(c,y);const w=new Ya(v.target,y,m,v.sequenceNumber);um(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){ye(Fr,"Failed to raise snapshot:",r),await ih(a,r)}}async function ih(a,e,i){if(!lo(e))throw e;a.Ea.add(1),await Ql(a),a.Ra.set("Offline"),i||(i=()=>jx(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ye(Fr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Eh(a)}))}function qx(a,e){return e().catch((i=>ih(a,i,e)))}async function Th(a){const e=Ie(a),i=rr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xp;for(;DD(e);)try{const o=await uD(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,ND(e,o)}catch(o){await ih(e,o)}Hx(e)&&Fx(e)}function DD(a){return Xr(a)&&a.Ta.length<10}function ND(a,e){a.Ta.push(e);const i=rr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Hx(a){return Xr(a)&&!rr(a).x_()&&a.Ta.length>0}function Fx(a){rr(a).start()}async function ID(a){rr(a).ra()}async function OD(a){const e=rr(a);for(const i of a.Ta)e.ea(i.mutations)}async function MD(a,e,i){const r=a.Ta.shift(),o=nm.from(r,e,i);await qx(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Th(a)}async function VD(a,e){e&&rr(a).X_&&await(async function(r,o){if((function(f){return mC(f)&&f!==ie.ABORTED})(o.code)){const c=r.Ta.shift();rr(r).B_(),await qx(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Th(r)}})(a,e),Hx(a)&&Fx(a)}async function m_(a,e){const i=Ie(a);i.asyncQueue.verifyOperationInProgress(),ye(Fr,"RemoteStore received new credentials");const r=Xr(i);i.Ea.add(3),await Ql(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Eh(i)}async function kD(a,e){const i=Ie(a);e?(i.Ea.delete(2),await Eh(i)):e||(i.Ea.add(2),await Ql(i),i.Ra.set("Unknown"))}function co(a){return a.ma||(a.ma=(function(i,r,o){const c=Ie(i);return c.sa(),new _D(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:AD.bind(null,a),t_:SD.bind(null,a),r_:RD.bind(null,a),H_:CD.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),fm(a)?hm(a):a.Ra.set("Unknown")):(await a.ma.stop(),Bx(a))}))),a.ma}function rr(a){return a.fa||(a.fa=(function(i,r,o){const c=Ie(i);return c.sa(),new bD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:ID.bind(null,a),r_:VD.bind(null,a),ta:OD.bind(null,a),na:MD.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Th(a)):(await a.fa.stop(),a.Ta.length>0&&(ye(Fr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const f=Date.now()+r,p=new dm(e,i,f,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(a,e){if(ma("AsyncQueue",`${e}: ${a}`),lo(a))return new ve(ie.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{static emptySet(e){return new $s(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Ee.comparator(i.key,r.key):(i,r)=>Ee.comparator(i.key,r.key),this.keyedMap=xl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new $s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.ga=new _t(Ee.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class no{constructor(e,i,r,o,c,f,p,y,m){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=m}static fromInitialDocuments(e,i,r,o,c){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new no(e,i,$s.emptySet(i),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PD{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ie(i),c=o.queries;o.queries=y_(),c.forEach(((f,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function y_(){return new Yr((a=>ux(a)),gh)}async function UD(a,e){const i=Ie(a);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new jD,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=pm(f,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mm(i)}async function LD(a,e){const i=Ie(a),r=e.query;let o=3;const c=i.queries.get(r);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function zD(a,e){const i=Ie(a);let r=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&mm(i)}function BD(a,e,i){const r=Ie(a),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function mm(a){a.Ca.forEach((e=>{e.next()}))}var wp,v_;(v_=wp||(wp={})).Ma="default",v_.Cache="cache";class qD{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new no(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.key=e}}class $x{constructor(e){this.key=e}}class HD{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=hx(e),this.tu=new $s(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new g_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const A=o.get(v),I=yh(this.query,w)?w:null,U=!!A&&this.mutatedKeys.has(A.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;A&&I?A.data.isEqual(I.data)?U!==M&&(r.track({type:3,doc:I}),k=!0):this.su(A,I)||(r.track({type:2,doc:I}),k=!0,(y&&this.eu(I,y)>0||m&&this.eu(I,m)<0)&&(p=!0)):!A&&I?(r.track({type:0,doc:I}),k=!0):A&&!I&&(r.track({type:1,doc:A}),k=!0,(y||m)&&(p=!0)),k&&(I?(f=f.add(I),c=M?c.add(v):c.delete(v)):(f=f.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:f,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((v,w)=>(function(I,U){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:k})}};return M(I)-M(U)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,m=y!==this.Za;return this.Za=y,f.length!==0||m?{snapshot:new no(this.query,e.tu,c,f,e.mutatedKeys,y===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new $x(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Gx(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gm="SyncEngine";class FD{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class GD{constructor(e){this.key=e,this.hu=!1}}class $D{constructor(e,i,r,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Yr((p=>ux(p)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new rm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QD(a,e,i=!0){const r=Wx(a);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Qx(r,e,i,!0),o}async function YD(a,e){const i=Wx(a);await Qx(i,e,!0,!1)}async function Qx(a,e,i,r){const o=await hD(a.localStore,Oi(e)),c=o.targetId,f=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await KD(a,e,c,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&Lx(a.remoteStore,o),p}async function KD(a,e,i,r,o){a.pu=(w,A,I)=>(async function(M,k,Q,W){let K=k.view.ru(Q);K.Cs&&(K=await u_(M.localStore,k.query,!1).then((({documents:P})=>k.view.ru(P,K))));const fe=W&&W.targetChanges.get(k.targetId),he=W&&W.targetMismatches.get(k.targetId)!=null,be=k.view.applyChanges(K,M.isPrimaryClient,fe,he);return b_(M,k.targetId,be.au),be.snapshot})(a,w,A,I);const c=await u_(a.localStore,e,!0),f=new HD(e,c.Qs),p=f.ru(c.documents),y=$l.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),m=f.applyChanges(p,a.isPrimaryClient,y);b_(a,i,m.au);const v=new FD(e,i,f);return a.Tu.set(e,v),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),m.snapshot}async function XD(a,e,i){const r=Ie(a),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!gh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&cm(r.remoteStore,o.targetId),Ap(r,o.targetId)})).catch(oo)):(Ap(r,o.targetId),await Ep(r.localStore,o.targetId,!0))}async function ZD(a,e){const i=Ie(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),cm(i.remoteStore,r.targetId))}async function WD(a,e,i){const r=rN(a);try{const o=await(function(f,p){const y=Ie(f),m=ht.now(),v=p.reduce(((I,U)=>I.add(U.key)),Be());let w,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let U=ga(),M=Be();return y.Ns.getEntries(I,v).next((k=>{U=k,U.forEach(((Q,W)=>{W.isValidDocument()||(M=M.add(Q))}))})).next((()=>y.localDocuments.getOverlayedDocuments(I,U))).next((k=>{w=k;const Q=[];for(const W of p){const K=uC(W,w.get(W.key).overlayedDocument);K!=null&&Q.push(new Kr(W.key,K,tx(K.value.mapValue),fa.exists(!0)))}return y.mutationQueue.addMutationBatch(I,m,Q,p)})).next((k=>{A=k;const Q=k.applyToLocalDocumentSet(w,M);return y.documentOverlayCache.saveOverlays(I,k.batchId,Q)}))})).then((()=>({batchId:A.batchId,changes:dx(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,y){let m=f.Vu[f.currentUser.toKey()];m||(m=new _t(ze)),m=m.insert(p,y),f.Vu[f.currentUser.toKey()]=m})(r,o.batchId,i),await Yl(r,o.changes),await Th(r.remoteStore)}catch(o){const c=pm(o,"Failed to persist write");i.reject(c)}}async function Yx(a,e){const i=Ie(a);try{const r=await lD(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xe(f.hu,14607):o.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))})),await Yl(i,r,e)}catch(r){await oo(r)}}function __(a,e,i){const r=Ie(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const y=Ie(f);y.onlineState=p;let m=!1;y.queries.forEach(((v,w)=>{for(const A of w.Sa)A.va(p)&&(m=!0)})),m&&mm(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JD(a,e,i){const r=Ie(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new _t(Ee.comparator);f=f.insert(c,un.newNoDocument(c,Ne.min()));const p=Be().add(c),y=new bh(Ne.min(),new Map,new _t(ze),f,p);await Yx(r,y),r.du=r.du.remove(c),r.Au.delete(e),ym(r)}else await Ep(r.localStore,e,!1).then((()=>Ap(r,e,i))).catch(oo)}async function eN(a,e){const i=Ie(a),r=e.batch.batchId;try{const o=await oD(i.localStore,e);Xx(i,r,null),Kx(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(i,o)}catch(o){await oo(o)}}async function tN(a,e,i){const r=Ie(a);try{const o=await(function(f,p){const y=Ie(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return y.mutationQueue.lookupMutationBatch(m,p).next((w=>(Xe(w!==null,37113),v=w.keys(),y.mutationQueue.removeMutationBatch(m,w)))).next((()=>y.mutationQueue.performConsistencyCheck(m))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(m,v,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>y.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);Xx(r,e,i),Kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Yl(r,o)}catch(o){await oo(o)}}function Kx(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Xx(a,e,i){const r=Ie(a);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ap(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||Zx(a,r)}))}function Zx(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(cm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),ym(a))}function b_(a,e,i){for(const r of i)r instanceof Gx?(a.Ru.addReference(r.key,e),nN(a,r)):r instanceof $x?(ye(gm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||Zx(a,r.key)):Re(19791,{wu:r})}function nN(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ye(gm,"New document in limbo: "+i),a.Eu.add(r),ym(a))}function ym(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Ee(ut.fromString(e)),r=a.fu.next();a.Au.set(r,new GD(i)),a.du=a.du.insert(i,r),Lx(a.remoteStore,new Ya(Oi(lx(i.path)),r,"TargetPurposeLimboResolution",dh.ce))}}async function Yl(a,e,i){const r=Ie(a),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{f.push(r.pu(y,e,i).then((m=>{if((m||i)&&r.isPrimaryClient){const v=m?!m.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,v?"current":"not-current")}if(m){o.push(m);const v=om.As(y.targetId,m);c.push(v)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,m){const v=Ie(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ae.forEach(m,(A=>ae.forEach(A.Es,(I=>v.persistence.referenceDelegate.addReference(w,A.targetId,I))).next((()=>ae.forEach(A.ds,(I=>v.persistence.referenceDelegate.removeReference(w,A.targetId,I)))))))))}catch(w){if(!lo(w))throw w;ye(lm,"Failed to update sequence numbers: "+w)}for(const w of m){const A=w.targetId;if(!w.fromCache){const I=v.Ms.get(A),U=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(A,M)}}})(r.localStore,c))}async function iN(a,e){const i=Ie(a);if(!i.currentUser.isEqual(e)){ye(gm,"User change. New user:",e.toKey());const r=await kx(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ve(ie.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yl(i,r.Ls)}}function aN(a,e){const i=Ie(a),r=i.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let o=Be();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Wx(a){const e=Ie(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JD.bind(null,e),e.Pu.H_=zD.bind(null,e.eventManager),e.Pu.yu=BD.bind(null,e.eventManager),e}function rN(a){const e=Ie(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tN.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return sD(this.persistence,new iD,e.initialUser,this.serializer)}Cu(e){return new Vx(sm.mi,this.serializer)}Du(e){return new dD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class sN extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xe(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Vx((r=>nh.mi(r,i)),this.serializer)}}class Sp{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>__(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iN.bind(null,this.syncEngine),await kD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PD})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),r=(function(c){return new vD(c)})(e.databaseInfo);return(function(c,f,p,y){return new ED(c,f,p,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,f,p){return new wD(r,o,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>__(this.syncEngine,i,0)),(function(){return d_.v()?new d_:new pD})())}createSyncEngine(e,i){return(function(o,c,f,p,y,m,v){const w=new $D(o,c,f,p,y,m);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ie(i);ye(Fr,"RemoteStore shutting down."),r.Ea.add(5),await Ql(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ma("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="FirestoreClient";class lN{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{ye(sr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ye(sr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=pm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Yd(a,e){a.asyncQueue.verifyOperationInProgress(),ye(sr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await kx(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function x_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await cN(a);ye(sr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>m_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>m_(e.remoteStore,o))),a._onlineComponents=e}async function cN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ye(sr,"Using user provided OfflineComponentProvider");try{await Yd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Zs("Error using user provided cache. Falling back to memory cache: "+i),await Yd(a,new ah)}}else ye(sr,"Using default OfflineComponentProvider"),await Yd(a,new sN(void 0));return a._offlineComponents}async function Jx(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ye(sr,"Using user provided OnlineComponentProvider"),await x_(a,a._uninitializedComponentsProvider._online)):(ye(sr,"Using default OnlineComponentProvider"),await x_(a,new Sp))),a._onlineComponents}function uN(a){return Jx(a).then((e=>e.syncEngine))}async function hN(a){const e=await Jx(a),i=e.eventManager;return i.onListen=QD.bind(null,e.syncEngine),i.onUnlisten=XD.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=YD.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ZD.bind(null,e.syncEngine),i}function fN(a,e,i={}){const r=new Ja;return a.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,y,m){const v=new oN({next:A=>{v.Nu(),f.enqueueAndForget((()=>LD(c,w))),A.fromCache&&y.source==="server"?m.reject(new ve(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),w=new qD(p,v,{includeMetadataChanges:!0,qa:!0});return UD(c,w)})(await hN(a),a.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firestore.googleapis.com",T_=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tE,this.ssl=T_}else this.host=e.host,this.ssl=e.ssl??T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zC)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pR;switch(r.type){case"firstParty":return new vR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=E_.get(i);r&&(ye("ComponentProvider","Removing Datastore"),E_.delete(i),r.terminate())})(this),Promise.resolve()}}function dN(a,e,i,r={}){a=Qu(a,wh);const o=ql(e),c=a._getSettings(),f={...c,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(cb(`https://${p}`),hb("Firestore",!0)),c.host!==tE&&c.host!==p&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:r};if(!Gu(y,f)&&(a._setSettings(y),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=cn.MOCK_USER;else{m=ub(r.mockUserToken,a._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(w)}a._authCredentials=new mR(new Hb(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Xt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Hl(i,Xt._jsonSchema))return new Xt(e,r||null,new Ee(ut.fromString(i.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:jt("string",Xt._jsonSchemaVersion),referencePath:jt("string")};class er extends uo{constructor(e,i,r){super(e,i,lx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Ee(e))}withConverter(e){return new er(this.firestore,e,this._path)}}function ju(a,e,...i){if(a=si(a),Fb("collection","path",e),a instanceof wh){const r=ut.fromString(e,...i);return P0(r),new er(a,null,r)}{if(!(a instanceof Xt||a instanceof er))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ut.fromString(e,...i));return P0(r),new er(a.firestore,null,r)}}function pN(a,e,...i){if(a=si(a),arguments.length===1&&(e=Kp.newId()),Fb("doc","path",e),a instanceof wh){const r=ut.fromString(e,...i);return j0(r),new Xt(a,null,new Ee(r))}{if(!(a instanceof Xt||a instanceof er))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ut.fromString(e,...i));return j0(r),new Xt(a.firestore,a instanceof er?a.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="AsyncQueue";class S_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Px(this,"async_queue_retry"),this._c=()=>{const r=Qd();r&&ye(A_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;ye(A_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ma("INTERNAL UNHANDLED ERROR: ",R_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=dm.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:R_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function R_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class vm extends wh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new S_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S_(e),this._firestoreClient=void 0,await e}}}function mN(a,e){const i=typeof a=="object"?a:bb(),r=typeof a=="string"?a:Ku,o=gb(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=ob("firestore");c&&dN(o,...c)}return o}function nE(a){if(a._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||gN(a),a._firestoreClient}function gN(a){const e=a._freezeSettings(),i=(function(o,c,f,p){return new kR(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new lN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(rn.fromBase64String(e))}catch(i){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:jt("string",$n._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:jt("string",Vi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ki(e.vectorValues);throw new ve(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:jt("string",ki._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^__.*__$/;class vN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(e,this.data,i,this.fieldTransforms)}}function aE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:a})}}class bm{constructor(e,i,r,o,c,f){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aE(this.Ac)&&yN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _N{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||xh(e)}Cc(e,i,r,o=!1){return new bm({Ac:e,methodName:i,Dc:r,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rE(a){const e=a._freezeSettings(),i=xh(a._databaseId);return new _N(a._databaseId,!!e.ignoreUndefinedProperties,i)}function bN(a,e,i,r,o,c={}){const f=a.Cc(c.merge||c.mergeFields?2:0,e,i,o);lE("Data must be an object, but it was:",f,r);const p=sE(r,f);let y,m;if(c.merge)y=new ai(f.fieldMask),m=f.fieldTransforms;else if(c.mergeFields){const v=[];for(const w of c.mergeFields){const A=EN(e,w,i);if(!f.contains(A))throw new ve(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);wN(v,A)||v.push(A)}y=new ai(v),m=f.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,m=f.fieldTransforms;return new vN(new Gn(p),y,m)}function xN(a,e,i,r=!1){return xm(i,a.Cc(r?4:3,e))}function xm(a,e){if(oE(a=si(a)))return lE("Unsupported field value:",e,a),sE(a,e);if(a instanceof iE)return(function(r,o){if(!aE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const p of r){let y=xm(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(a,e)}return(function(r,o){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ht.fromDate(r);return{timestampValue:th(o.serializer,c)}}if(r instanceof ht){const c=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(o.serializer,c)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:Sx(o.serializer,r._byteString)};if(r instanceof Xt){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:am(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(f,p){return{mapValue:{fields:{[Jb]:{stringValue:ex},[Xu]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return tm(p.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${fh(r)}`)})(a,e)}function sE(a,e){const i={};return Qb(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(a,((r,o)=>{const c=xm(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function oE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ht||a instanceof Vi||a instanceof $n||a instanceof Xt||a instanceof iE||a instanceof ki)}function lE(a,e,i){if(!oE(i)||!Gb(i)){const r=fh(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function EN(a,e,i){if((e=si(e))instanceof _m)return e._internalPath;if(typeof e=="string")return cE(a,e);throw rh("Field path arguments must be of type string or ",a,!1,void 0,i)}const TN=new RegExp("[~\\*/\\[\\]]");function cE(a,e,i){if(e.search(TN)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new _m(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function rh(a,e,i,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new ve(ie.INVALID_ARGUMENT,p+a+y)}function wN(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Em("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AN extends uE{data(){return super.data()}}function Em(a,e){return typeof e=="string"?cE(a,e):e instanceof _m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tm{}class RN extends Tm{}function C_(a,e,...i){let r=[];e instanceof Tm&&r.push(e),r=r.concat(i),(function(c){const f=c.filter((y=>y instanceof wm)).length,p=c.filter((y=>y instanceof Ah)).length;if(f>1||f>0&&p>0)throw new ve(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class Ah extends RN{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Ah(e,i,r)}_apply(e){const i=this._parse(e);return hE(e._query,i),new uo(e.firestore,e.converter,gp(e._query,i))}_parse(e){const i=rE(e.firestore);return(function(c,f,p,y,m,v,w){let A;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){N_(w,v);const U=[];for(const M of w)U.push(D_(y,c,M));A={arrayValue:{values:U}}}else A=D_(y,c,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||N_(w,v),A=xN(p,f,w,v==="in"||v==="not-in");return kt.create(m,v,A)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Su(a,e,i){const r=e,o=Em("where",a);return Ah._create(o,r,i)}class wm extends Tm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new wm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const y of p)hE(f,y),f=gp(f,y)})(e._query,i),new uo(e.firestore,e.converter,gp(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function D_(a,e,i){if(typeof(i=si(i))=="string"){if(i==="")throw new ve(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cx(e)&&i.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ut.fromString(i));if(!Ee.isDocumentKey(r))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G0(a,new Ee(r))}if(i instanceof Xt)return G0(a,i._key);throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(i)}.`)}function N_(a,e){if(!Array.isArray(a)||a.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hE(a,e){const i=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class CN{convertValue(e,i="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Qr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Xu].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new ki(i)}convertGeoPoint(e){return new Vi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=mh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const i=nr(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ut.fromString(e);Xe(Ox(r),9688,{name:e});const o=new kl(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(i)||ma(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class Ru{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends uE{constructor(e,i,r,o,c,f){super(e,i,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:jt("string",Qs._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Pu extends Qs{data(e={}){return super.data(e)}}class Ys{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ru(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Pu(this._firestore,this._userDataWriter,r.key,r,new Ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const y=new Pu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ru(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Pu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ru(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:NN(p.type),doc:y,oldIndex:m,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ys._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:a})}}Ys._jsonSchemaVersion="firestore/querySnapshot/1.0",Ys._jsonSchema={type:jt("string",Ys._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class IN extends CN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,i)}}function I_(a){a=Qu(a,uo);const e=Qu(a.firestore,vm),i=nE(e),r=new IN(e);return SN(a._query),fN(i,a._query).then((o=>new Ys(e,r,a,o)))}function fE(a,e){const i=Qu(a.firestore,vm),r=pN(a),o=DN(a.converter,e);return ON(i,[bN(rE(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,fa.exists(!1))]).then((()=>r))}function ON(a,e){return(function(r,o){const c=new Ja;return r.asyncQueue.enqueueAndForget((async()=>WD(await uN(r),o,c))),c.promise})(nE(a),e)}(function(e,i=!0){(function(o){so=o})(vb),Il(new Xs("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),p=new vm(new gR(r.getProvider("auth-internal")),new _R(f,r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(m.options.projectId,v)})(f,o),f);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Za(O0,M0,e),Za(O0,M0,"esm2020")})();var MN="firebase",VN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(MN,VN,"app");const kN={apiKey:"AIzaSyDnKX4BJsQRgv9tjl7R9l6edfLb2Pk6au4",authDomain:"nouhin-bolt-test-202508.firebaseapp.com",projectId:"nouhin-bolt-test-202508",storageBucket:"nouhin-bolt-test-202508.firebasestorage.app",messagingSenderId:"143363676790",appId:"1:143363676790:web:193dc5843f55ba891d1d57",measurementId:"G-4PWQ11BFWF"},dE=_b(kN),Kd=uR(dE),Uu=mN(dE),jN=()=>{const[a,e]=j.useState(!1),[i,r]=j.useState(null),o=async(f,p,y)=>{const m=`${f}-${p}-${y}`,v=Hd(Kd,m);try{const w=await N0(v);if(w.items.length===0&&w.prefixes.length===0)return m;let A=2;for(;;){const I=`${m}-ver${A}`,U=Hd(Kd,I);try{const M=await N0(U);if(M.items.length===0&&M.prefixes.length===0)return I;A++}catch{return I}}}catch{return m}};return{uploading:a,uploadProgress:i,uploadPhotos:async(f,p)=>{e(!0),r({current:0,total:f.length,percentage:0});try{const y=await o(p.receptionNumber,p.photographerName,p.customerName),m=[];for(let v=0;v<f.length;v++){const w=f[v],A=`${String(v+1).padStart(3,"0")}`,I=Hd(Kd,`${y}/${A}`),U=await lR(I,w.file),M=await cR(U.ref),k={...p,id:w.id,number:v+1,originalName:w.originalName,storageUrl:M,deliveryDate:new Date};await fE(ju(Uu,"photos"),{...k,shootingDate:new Date(p.shootingDate)}),m.push(k);const Q=v+1,W=Math.round(Q/f.length*100);r({current:Q,total:f.length,percentage:W})}return m}finally{e(!1),r(null)}}}},PN=a=>{const e={};return a.photographerName.trim()||(e.photographerName="カメラマン名は必須です"),a.shootingDate||(e.shootingDate="撮影日は必須です"),a.receptionNumber.trim()?/^\d+$/.test(a.receptionNumber)||(e.receptionNumber="受付番号は数字で入力してください"):e.receptionNumber="受付番号は必須です",a.customerName.trim()||(e.customerName="お客様氏名は必須です"),e},UN=()=>{const[a,e]=j.useState([]),[i,r]=j.useState({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),[o,c]=j.useState({}),[f,p]=j.useState(!1),{uploading:y,uploadProgress:m,uploadPhotos:v}=jN(),w=j.useCallback(M=>{e(k=>[...k,...M].map((W,K)=>({...W,number:K+1}))),p(!1)},[]),A=j.useCallback(M=>{e(k=>k.filter(W=>W.id!==M).map((W,K)=>({...W,number:K+1})))},[]),I=j.useCallback(M=>{r(M),c({})},[]),U=async()=>{const M=PN(i);if(Object.keys(M).length>0){c(M);return}if(a.length===0){alert("アップロードする写真を選択してください。");return}try{await v(a,i),p(!0),e([]),r({photographerName:"",shootingDate:"",receptionNumber:"",customerName:""}),alert("写真のアップロードが完了しました！")}catch(k){console.error("Upload error:",k),alert("アップロード中にエラーが発生しました。")}};return E.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[E.jsx("header",{className:"bg-white shadow-sm mb-8",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ToruTora"})})}),E.jsx("div",{className:"max-w-6xl mx-auto px-4",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-8 text-center",children:"写真納品システム"}),E.jsx("div",{className:"mb-8",children:E.jsx(yA,{onFilesAdded:w})}),E.jsx(vA,{photos:a,onRemove:A}),E.jsx("div",{className:"mt-8",children:E.jsx(_A,{metaInfo:i,onChange:I,errors:o})}),E.jsxs("div",{className:"mt-8 text-center",children:[m&&E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-2",children:[E.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:[m.percentage,"% 進捗中"]}),E.jsxs("span",{className:"text-sm text-gray-600",children:[m.current,"枚 / ",m.total,"枚"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:E.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${m.percentage}%`}})})]}),E.jsx("button",{onClick:U,disabled:y||a.length===0,className:`px-8 py-3 rounded-lg font-semibold text-white transition-colors ${y||a.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:y?"アップロード中...":"アップロード実行"})]}),f&&E.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:"写真のアップロードが正常に完了しました。"})]})})]})},LN=()=>{const a=zl(),[e,i]=j.useState({receptionNumber:"",shootingDate:"",customerName:""}),[r,o]=j.useState({}),c=(y,m)=>{i(v=>({...v,[y]:m})),o(v=>({...v,[y]:""}))},f=()=>{const y={};return e.receptionNumber.trim()||(y.receptionNumber="受付番号を入力してください"),e.shootingDate||(y.shootingDate="撮影日を入力してください"),e.customerName.trim()||(y.customerName="お客様氏名を入力してください"),o(y),Object.keys(y).length===0},p=()=>{f()&&a("/photo-select",{state:{searchInfo:e}})};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"受付番号と確認番号を入力してください"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号"}),E.jsx("input",{type:"text",value:e.receptionNumber,onChange:y=>c("receptionNumber",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),r.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日"}),E.jsx("input",{type:"date",value:e.shootingDate,onChange:y=>c("shootingDate",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.shootingDate?"border-red-500":"border-gray-300"}`}),r.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ）"}),E.jsx("input",{type:"text",value:e.customerName,onChange:y=>c("customerName",y.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),r.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.customerName})]}),E.jsx("button",{onClick:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"写真を表示する"})]})]})})]})},Am=()=>{const[a,e]=j.useState(!1),[i,r]=j.useState([]),[o,c]=j.useState(null),f=j.useCallback(async m=>{e(!0),c(null),console.log("Starting gallery photo search with:",m);try{const v=ju(Uu,"gallery"),w=C_(v,Su("receptionNumber","==",m.receptionNumber),Su("customerName","==",m.customerName));console.log("Executing Firestore query on gallery collection...");const A=await I_(w);console.log("Query completed, documents found:",A.size);const I=[];return A.forEach(U=>{const M=U.data();try{console.log("Processing document:",U.id,"shootingDate:",M.shootingDate);let k;if(M.shootingDate&&typeof M.shootingDate.toDate=="function")k=M.shootingDate.toDate();else if(M.shootingDate instanceof Date)k=M.shootingDate;else if(typeof M.shootingDate=="string"){if(k=new Date(M.shootingDate),isNaN(k.getTime())){console.warn("Invalid date string:",M.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",U.id,M.shootingDate);return}let Q;M.deliveryDate&&typeof M.deliveryDate.toDate=="function"?Q=M.deliveryDate.toDate():M.deliveryDate instanceof Date?Q=M.deliveryDate:(console.warn("Invalid deliveryDate format for document:",U.id,M.deliveryDate),Q=new Date);const W=new Date(m.shootingDate);console.log("Comparing dates - doc:",k,"search:",W),k.getFullYear()===W.getFullYear()&&k.getMonth()===W.getMonth()&&k.getDate()===W.getDate()&&(I.push({...M,id:U.id,number:M.number,photographerName:M.photographerName,shootingDate:k,receptionNumber:M.receptionNumber,customerName:M.customerName,storageUrl:M.storageUrl,deliveryDate:Q}),console.log("Photo added to results:",M.number))}catch(k){console.error("Error processing document:",U.id,k)}}),console.log("Total photos found:",I.length),I.sort((U,M)=>U.number-M.number),r(I),I}catch(v){return console.error("Error searching gallery photos:",v),c("写真の検索中にエラーが発生しました"),r([]),[]}finally{console.log("Gallery search completed, setting loading to false"),e(!1)}},[]),p=j.useCallback(async m=>{e(!0),c(null),console.log("Starting photo search with:",m);try{const v=ju(Uu,"photos"),w=C_(v,Su("receptionNumber","==",m.receptionNumber),Su("customerName","==",m.customerName));console.log("Executing Firestore query...");const A=await I_(w);console.log("Query completed, documents found:",A.size);const I=[];return A.forEach(U=>{const M=U.data();try{console.log("Processing document:",U.id,"shootingDate:",M.shootingDate);let k;if(M.shootingDate&&typeof M.shootingDate.toDate=="function")k=M.shootingDate.toDate();else if(M.shootingDate instanceof Date)k=M.shootingDate;else if(typeof M.shootingDate=="string"){if(k=new Date(M.shootingDate),isNaN(k.getTime())){console.warn("Invalid date string:",M.shootingDate);return}}else{console.warn("Unsupported shootingDate format for document:",U.id,M.shootingDate);return}let Q;M.deliveryDate&&typeof M.deliveryDate.toDate=="function"?Q=M.deliveryDate.toDate():M.deliveryDate instanceof Date?Q=M.deliveryDate:(console.warn("Invalid deliveryDate format for document:",U.id,M.deliveryDate),Q=new Date);const W=new Date(m.shootingDate);console.log("Comparing dates - doc:",k,"search:",W),k.getFullYear()===W.getFullYear()&&k.getMonth()===W.getMonth()&&k.getDate()===W.getDate()&&(I.push({...M,id:U.id,number:M.number,photographerName:M.photographerName,shootingDate:k,receptionNumber:M.receptionNumber,customerName:M.customerName,storageUrl:M.storageUrl,deliveryDate:Q}),console.log("Photo added to results:",M.number))}catch(k){console.error("Error processing document:",U.id,k)}}),console.log("Total photos found:",I.length),I.sort((U,M)=>U.number-M.number),r(I),I}catch(v){return console.error("Error searching photos:",v),c("写真の検索中にエラーが発生しました"),r([]),[]}finally{console.log("Search completed, setting loading to false"),e(!1)}},[]),y=j.useCallback(async(m,v)=>{e(!0);try{const w=ju(Uu,"gallery");for(const A of m){const I={customerName:A.customerName,deliveryDate:new Date,id:A.id,number:A.number,photographerName:A.photographerName,receptionNumber:A.receptionNumber,shootingDate:A.shootingDate,storageUrl:A.storageUrl,all_photo_flg:v?1:0};await fE(w,I)}}finally{e(!1)}},[]);return{loading:a,error:o,photos:i,searchGalleryPhotos:f,searchPhotos:p,purchasePhotos:y}},Tt=new Map,sh=3600*1e3,oh=100,zN=()=>{const a=Date.now();for(const[e,i]of Tt.entries())a-i.timestamp>sh&&Tt.delete(e)},Rp=()=>{if(Tt.size<=oh)return;const a=Array.from(Tt.entries());a.sort((i,r)=>i[1].timestamp-r[1].timestamp);const e=a.slice(0,a.length-oh);e.forEach(([i])=>{const r=Tt.get(i);if(r){const o=r.canvas.getContext("2d");o&&o.clearRect(0,0,r.canvas.width,r.canvas.height)}Tt.delete(i)}),console.log(`🧹 Cache cleanup: removed ${e.length} old images, current size: ${Tt.size}`)},Lu=(a,e)=>`${a}|${e}`,Fs=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Gs=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),BN=()=>{Fs&&Gs&&(Tt.size>oh*.6&&(console.log("⚠️ Memory pressure detected, cleaning up cache"),Rp(),window.gc&&window.gc()),Tt.size>20&&(console.log("🧹 Safari: Proactive cache cleanup"),Rp()))};window.debugImageCache=()=>{console.log("=== Image Cache Debug Info ==="),console.log("Cache size:",Tt.size),console.log("Max size:",oh),console.log("Expiry time:",sh);for(const[a,e]of Tt.entries())console.log(`Key: ${a}`),console.log(`  Size: ${e.canvas.width}x${e.canvas.height}`),console.log(`  Timestamp: ${new Date(e.timestamp).toLocaleString()}`),console.log(`  Age: ${Date.now()-e.timestamp}ms`);console.log("===============================")};const qN=(a,e,i)=>{const r=Lu(a,e);if(Tt.has(r))return console.log("Image already cached, skipping preload:",r),Promise.resolve();console.log("🔄 Starting preload for:",r,"src:",a);const o=2048,c=2048*2048,f=(y,m)=>{let v=y,w=m;if(v>o||w>o){const A=Math.min(o/v,o/w);v=Math.floor(v*A),w=Math.floor(w*A)}if(v*w>c){const A=Math.sqrt(c/(v*w));v=Math.floor(v*A),w=Math.floor(w*A)}return{width:v,height:w}},p=y=>y;return new Promise((y,m)=>{const v=new Image;v.crossOrigin="anonymous";const w=setTimeout(()=>{console.error("⏰ Preload timeout for:",a),!v.onloadCalled&&!v.onerrorCalled&&(v.onerrorCalled=!0,v.onerror?.(new Event("error")))},1e4);if(v.onload=()=>{if(clearTimeout(w),v.onloadCalled){console.log("🚫 Duplicate preload onload event, ignoring");return}v.onloadCalled=!0;try{const A=document.createElement("canvas"),I=A.getContext("2d");if(!I){m(new Error("Failed to get preload canvas context"));return}const{width:U,height:M}=f(v.width,v.height);A.width=U,A.height=M,I.drawImage(v,0,0,U,M),I.font=`bold ${Math.max(U*.05,24)}px Arial`,I.font=`bold ${Math.max(U*.05,24)}px serif`,I.fillStyle="rgba(255, 255, 255, 0.4)",I.strokeStyle="rgba(0, 0, 0, 0.3)",I.lineWidth=3,I.textAlign="center";const k="ToruTora",Q=-Math.PI/6,W=I.measureText(k+"     ").width,K=Math.max(M*.15,80),fe=Math.sqrt(U*U+M*M),he=Math.ceil(fe/K)+6;for(let be=-Math.floor(he/2);be<=Math.floor(he/2);be++){const P=U/2,R=M/2,C=be*K*Math.cos(Q+Math.PI/2),V=be*K*Math.sin(Q+Math.PI/2),N=fe*1.5,z=Math.floor(N/W)+2;for(let S=0;S<z;S++){const pe=(S-z/2)/z,ce=P+C+pe*N*Math.cos(Q),X=R+V+pe*N*Math.sin(Q);ce>=-100&&ce<=U+100&&X>=-100&&X<=M+100&&(I.save(),I.translate(ce,X),I.rotate(Q),I.strokeText(k,0,0),I.fillText(k,0,0),I.restore())}}Tt.set(r,{canvas:A,timestamp:Date.now()}),zN(),Rp(),console.log("✅ Image preloaded and cached (completely isolated):",r,"Size:",U,"x",M,"Cache size:",Tt.size),console.log("🔒 Preload completed - no impact on current display"),console.log("📊 Preload cache details:",{cacheKey:r,src:a,alt:e,canvasSize:`${U}x${M}`,totalCacheSize:Tt.size}),y()}catch(A){console.error("Preload canvas drawing error:",A),m(A)}},v.onerror=A=>{if(clearTimeout(w),v.onerrorCalled){console.log("🚫 Duplicate preload onerror event, ignoring");return}v.onerrorCalled=!0,console.error("Preload image loading error for:",a),console.error("Preload error details:",A),m(new Error(`Failed to load image: ${a}`))},v.src=p(a),Fs&&Gs){const A=setInterval(()=>{v.complete&&(clearInterval(A),v.naturalWidth>0&&v.naturalHeight>0?(console.log("✅ Safari: Preload image loaded via polling check"),v.onloadCalled||(v.onloadCalled=!0,v.onload?.(new Event("load")))):(console.log("❌ Safari: Preload image failed via polling check"),v.onerrorCalled||(v.onerrorCalled=!0,v.onerror?.(new Event("error")))))},100);setTimeout(()=>{clearInterval(A),!v.onloadCalled&&!v.onerrorCalled&&(console.log("⏰ Safari: Preload polling timeout, treating as error"),v.onerrorCalled||(v.onerrorCalled=!0,v.onerror?.(new Event("error"))))},8e3)}})},Sm=({src:a,alt:e,className:i="",style:r,objectFit:o="cover",onLoadComplete:c,onLoadError:f,hideInternalLoader:p=!1,externalLoading:y=!1,fallbackSrc:m,imageId:v,useCssWatermark:w=!1})=>{const A=j.useRef(null),[I,U]=j.useState(!0),[M,k]=j.useState(!1),[Q,W]=j.useState(a),[K,fe]=j.useState(v),he=2048,be=2048*2048,P=(N,z)=>{let S=N,pe=z;if(S>he||pe>he){const ce=Math.min(he/S,he/pe);S=Math.floor(S*ce),pe=Math.floor(pe*ce)}if(S*pe>be){const ce=Math.sqrt(be/(S*pe));S=Math.floor(S*ce),pe=Math.floor(pe*ce)}return{width:S,height:pe}},R=N=>N.includes("firebasestorage.googleapis.com")?`${N}&q=30`:N,C=j.useCallback((N,z=!1)=>{if(console.log("🔍 getCachedOrCreateImage called for:",N,"ImageId:",v,"CurrentImageId:",K),BN(),N.includes("?t=")){console.log("🔄 Reload detected, bypassing cache for:",N);const D=Lu(N,e);if(Tt.delete(D),Fs&&Gs){console.log("🧹 Safari: Clearing all related cache entries for reload");const J=N.split("?")[0];for(const[le]of Tt.entries())le.includes(J)&&le.includes(e)&&(Tt.delete(le),console.log("🗑️ Safari: Cleared related cache for reload:",le))}}const pe=Lu(N,e),ce=Tt.get(pe);if(ce&&Fs&&Gs){const D=ce.canvas;if(D&&D.width>0&&D.height>0){const J=D.getContext("2d");if(J){const G=J.getImageData(0,0,Math.min(D.width,10),Math.min(D.height,10)).data;let re=!0;for(let de=0;de<G.length;de+=4){const ge=G[de],Ve=G[de+1],Me=G[de+2];if(ge!==Ve||Ve!==Me){re=!1;break}}re&&(console.log("🚫 Safari: Detected gray background cache, removing:",pe),Tt.delete(pe))}}}if(ce&&Date.now()-ce.timestamp<sh){console.log("✅ Using cached image:",pe,"Size:",ce.canvas.width,"x",ce.canvas.height,"Current src:",Q,"Requested src:",N);const D=A.current;if(D){const J=D.getContext("2d");J&&(D.width=ce.canvas.width,D.height=ce.canvas.height,J.clearRect(0,0,D.width,D.height),J.drawImage(ce.canvas,0,0),U(!1),k(!1),console.log("🚀 Cached image displayed immediately, loading state cleared"),c&&setTimeout(()=>c(),50))}return}console.log("❌ Cache miss for:",pe,"Available cache keys:",Array.from(Tt.keys())),console.log("🔍 Cache check details:",{requestedSrc:N,requestedAlt:e,cacheKey:pe,hasCached:!!ce,isExpired:ce?Date.now()-ce.timestamp>sh:"N/A",currentSrc:Q}),console.log("🔄 Loading directly from storage (no cache):",N);const X=A.current;if(!X)return;const se=X.getContext("2d");if(!se)return;const oe=new Image;oe.crossOrigin="anonymous";const we=setTimeout(()=>{if(console.error("⏰ Image load timeout for:",N),v&&K&&v!==K){console.log("🚫 Ignoring timeout for outdated image:",v,"Current:",K);return}console.log("❌ Timeout: Setting error state for:",N),k(!0),U(!1),f&&f()},12e3);if(oe.onload=()=>{if(clearTimeout(we),oe.onloadCalled){console.log("🚫 Duplicate onload event, ignoring");return}oe.onloadCalled=!0;try{if(console.log("🖼️ Image onload triggered for:",N,"ImageId:",v,"CurrentImageId:",K),console.log("🖼️ Image dimensions:",oe.width,"x",oe.height),console.log("🖼️ User Agent:",navigator.userAgent),v&&K&&v!==K){console.log("🚫 Ignoring load completion for outdated image:",v,"Current:",K);return}oe.alt=e,console.log("🎨 Starting canvas drawing for:",N,"Dimensions:",oe.width,"x",oe.height);const{width:D,height:J}=P(oe.width,oe.height);X.width=D,X.height=J,se.drawImage(oe,0,0,D,J),se.font=`bold ${Math.max(D*.05,24)}px Arial`,se.font=`bold ${Math.max(D*.05,24)}px serif`,se.fillStyle="rgba(255, 255, 255, 0.4)",se.strokeStyle="rgba(0, 0, 0, 0.3)",se.lineWidth=3,se.textAlign="center";const le="ToruTora",G=-Math.PI/6,re=se.measureText(le+"     ").width,de=Math.max(J*.15,80),ge=Math.sqrt(D*D+J*J),Ve=Math.ceil(ge/de)+6;for(let Me=-Math.floor(Ve/2);Me<=Math.floor(Ve/2);Me++){const Ze=D/2,rt=J/2,We=Me*de*Math.cos(G+Math.PI/2),ft=Me*de*Math.sin(G+Math.PI/2),Ht=ge*1.5,vn=Math.floor(Ht/re)+2;for(let In=0;In<vn;In++){const ui=(In-vn/2)/vn,gt=Ze+We+ui*Ht*Math.cos(G),Qn=rt+ft+ui*Ht*Math.sin(G);gt>=-100&&gt<=D+100&&Qn>=-100&&Qn<=J+100&&(se.save(),se.translate(gt,Qn),se.rotate(G),se.strokeText(le,0,0),se.fillText(le,0,0),se.restore())}}if(console.log("✅ Image loaded directly from storage (no cache):",N),console.log("🎨 Canvas drawing completed, size:",D,"x",J),v&&K&&v!==K){console.log("🚫 Ignoring load completion for outdated image:",v,"Current:",K);return}console.log("🔄 Setting loading state to false for:",N),U(!1),console.log("✅ Image load completed successfully:",N,"ImageId:",v),c&&setTimeout(()=>{console.log("📞 Calling onLoadComplete callback"),c()},100)}catch(D){console.error("Canvas drawing error:",D),k(!0),U(!1),f&&f()}},oe.onerror=D=>{if(clearTimeout(we),oe.onerrorCalled){console.log("🚫 Duplicate onerror event, ignoring");return}if(oe.onerrorCalled=!0,console.error("Image loading error for:",N),console.error("Error details:",D),console.error("User Agent:",navigator.userAgent),console.error("Image src:",oe.src),Fs&&Gs){const J=Lu(N,e);Tt.delete(J),console.log("🗑️ Safari: Cleared error cache for:",J)}if(v&&K&&v!==K){console.log("🚫 Ignoring load error for outdated image:",v,"Current:",K);return}if(console.log("❌ Image onerror triggered for:",N,"ImageId:",v,"CurrentImageId:",K),m&&!z&&N!==m){console.log("Trying fallback image:",m),C(m,!0);return}console.log("❌ Image load failed, setting error state"),k(!0),U(!1),f&&f()},console.log("🚀 Starting image load for:",N,"ImageId:",v),oe.src=R(N),Fs&&Gs){const D=setInterval(()=>{oe.complete&&(clearInterval(D),oe.naturalWidth>0&&oe.naturalHeight>0?(console.log("✅ Safari: Direct storage image loaded via polling check"),oe.onloadCalled||(oe.onloadCalled=!0,oe.onload?.(new Event("load")))):(console.log("❌ Safari: Direct storage image failed via polling check"),oe.onerrorCalled||(oe.onerrorCalled=!0,oe.onerror?.(new Event("error")))))},100);setTimeout(()=>{clearInterval(D),!oe.onloadCalled&&!oe.onerrorCalled&&(console.log("⏰ Safari: Polling timeout, treating as error"),oe.onerrorCalled||(oe.onerrorCalled=!0,oe.onerror?.(new Event("error"))))},8e3)}},[e,c,f,m,v,K]);if(j.useEffect(()=>{console.log("🔄 Image src changed from",Q,"to",a,"ImageId:",v),console.log("🔄 User Agent:",navigator.userAgent),console.log("🔄 Is Mobile:",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),W(a),fe(v),U(!0),k(!1),console.log("🔄 Reset loading state for new image:",a),a!==Q&&(console.log("🚀 Starting immediate load for new image:",a),C(a))},[a,v,C]),j.useEffect(()=>{if(w&&Q){console.log("🔍 Safari image load detection for:",Q);const N=new Image;N.onload=()=>{console.log("✅ Safari pre-check: Image already loaded:",Q),U(!1),k(!1),c&&c()},N.onerror=()=>{console.log("❌ Safari pre-check: Image load failed:",Q),m&&Q!==m?(console.log("Trying fallback for Safari pre-check:",m),W(m)):(k(!0),U(!1),f&&f())},N.src=Q}},[Q,w,m,c,f]),j.useEffect(()=>{console.log("🖼️ Loading image for display:",Q,"ImageId:",K),C(Q)},[Q,C,K]),M)return E.jsx("div",{className:`flex items-center justify-center bg-gray-200 ${i}`,style:r,children:E.jsx("span",{className:"text-gray-500",children:"画像を読み込めませんでした"})});const V=!p&&I&&!y;return w?E.jsxs("div",{className:`relative ${i}`,style:r,children:[V&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E.jsx("img",{src:Q,alt:e,className:`w-full h-full object-${o}`,style:{display:I?"none":"block",opacity:y?.3:1,transition:"opacity 0.3s ease",visibility:I?"hidden":"visible"},onLoad:()=>{console.log("✅ CSS Image loaded:",Q,"FallbackSrc:",m),U(!1),k(!1),c&&c()},onError:()=>{console.log("❌ CSS Image load error:",Q,"FallbackSrc:",m),m&&Q!==m?(console.log("Trying fallback for CSS image:",m),W(m)):(console.log("No fallback available, showing error"),k(!0),U(!1),f&&f())},onLoadStart:()=>{console.log("🔄 CSS Image load started:",Q)}}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:E.jsx("div",{className:"text-white font-bold text-2xl md:text-4xl opacity-40 select-none",style:{textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)",transform:"rotate(-30deg)",letterSpacing:"0.2em"},children:"ToruTora"})})]}):E.jsxs("div",{className:`relative ${i}`,style:r,children:[V&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E.jsx("canvas",{ref:A,className:`w-full h-full object-${o}`,style:{display:I?"none":"block",opacity:y?.3:1,transition:"opacity 0.3s ease"}})]})},HN=a=>{if(!a.includes("firebasestorage.googleapis.com"))return{src:a};try{const e=a.split("/o/");if(e.length<2)return{src:a};const i=e[1],r=i.split("?")[0],o=i.includes("?")?"?"+i.split("?")[1]:"",c=decodeURIComponent(r),f=c.split("/");if(f.length<2)return{src:a};const p=f[0],y=f[f.length-1],m=`${y}_200x200`,v=`${p}/thumbs/${m}`,w=`${e[0]}/o/${encodeURIComponent(v)}${o}`;return console.log("Optimal image URL selection:",{original:a,decodedPath:c,folderName:p,fileName:y,thumbnailFileName:m,thumbnailPath:v,thumbnail:w,userAgent:navigator.userAgent,isMobile:FN()}),{src:w,fallbackSrc:a}}catch(e){return console.error("Failed to convert to optimal image URL:",e),{src:a}}},FN=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Cu=a=>a.includes("firebasestorage.googleapis.com")?a.includes("?")?`${a}&quality=10&w=200`:`${a}?quality=10&w=200`:a,GN=(a={})=>{const[e,i]=j.useState(!1),r=j.useRef(null);return j.useEffect(()=>{const o=new IntersectionObserver(([c])=>{i(c.isIntersecting)},{rootMargin:"200px",threshold:.01,...a});return r.current&&o.observe(r.current),()=>o.disconnect()},[]),[r,e]},$N=({photo:a,isSelected:e,onToggleSelection:i,onPhotoClick:r,allPhotoOption:o})=>{const[c,f]=GN(),[p,y]=j.useState(e);return j.useEffect(()=>{y(e)},[e]),E.jsx("div",{ref:c,className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>r(a),children:[E.jsxs("div",{className:"relative aspect-square bg-gray-200",children:[f?(()=>{const{src:m,fallbackSrc:v}=HN(a.storageUrl);return E.jsx(Sm,{src:m,alt:`写真 ${a.number}`,className:"w-full h-full",objectFit:"cover",fallbackSrc:v,useCssWatermark:!0})})():E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center text-gray-400",children:[E.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),E.jsx("span",{className:"text-xs",children:"画像を準備中"})]})}),E.jsx("button",{onClick:m=>{m.stopPropagation(),y(!p),i(a.id)},disabled:o,className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${p?"bg-blue-600 border-blue-600":"bg-white border-gray-300"} ${o?"cursor-not-allowed opacity-75":"cursor-pointer"} shadow-sm`,children:p&&E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(a.number).padStart(3,"0")})})]})})},QN=()=>{const a=ci(),e=zl(),{loading:i,error:r,photos:o,searchPhotos:c,searchGalleryPhotos:f}=Am(),[p,y]=j.useState(new Set),[m,v]=j.useState(!1),[w,A]=j.useState(new Set),[I,U]=j.useState(null),[M,k]=j.useState(0),[Q,W]=j.useState(!1),[K,fe]=j.useState(!1),[he,be]=j.useState(0),[P,R]=j.useState(!1),[C,V]=j.useState(0),N=a.state?.searchInfo,z=a.state?.forceAllPhotoOption;j.useEffect(()=>{if(!N){e("/photo-info");return}console.log("PhotoSelectPage: Starting purchase check...");const G={receptionNumber:N.receptionNumber,shootingDate:N.shootingDate,customerName:N.customerName};f(G).then(re=>{if(re.length>0)console.log("PhotoSelectPage: Already purchased photos found:",re.length),W(!0);else return console.log("PhotoSelectPage: No purchased photos found, proceeding with photo search..."),c(N)}).then(()=>{console.log("PhotoSelectPage: Search completed")}).catch(re=>{console.error("PhotoSelectPage: Search failed:",re)})},[N,e,c,f]),j.useEffect(()=>{if(z&&o.length>0){v(!0);const G=new Set(o.map(re=>re.id));y(G)}},[z,o]);const S=j.useCallback(G=>{m||(y(re=>{const de=new Set(re);return de.has(G)?de.delete(G):de.add(G),de}),A(re=>{const de=new Set(re);return de.has(G)?de.delete(G):de.add(G),de}))},[m]),pe=j.useCallback(G=>{const de=`${Cu(G.storageUrl)}|写真 ${G.number}`,ge=window.imageCache;if(!ge)return console.log("❌ Image cache not available"),!1;const Ve=ge.get(de);return Ve&&Date.now()-Ve.timestamp<3600*1e3?(console.log("✅ Image found in cache:",de,"Size:",Ve.canvas?.width,"x",Ve.canvas?.height),!0):(console.log("❌ Image not in cache:",de),!1)},[]),ce=j.useCallback(G=>{console.log(`🚀 Starting preload for index ${G}, total photos: ${o.length}`);const re=[],de=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ge=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),Ve=de&&ge?3:5,Me=Array.from({length:Ve},(Ze,rt)=>G+rt+1).filter(Ze=>Ze>=0&&Ze<o.length);if(console.log("📋 Indices to preload:",Me),Me.length===0){console.log(`⚠️ No images to preload for index ${G}`);return}for(const Ze of Me){const rt=o[Ze],We=Cu(rt.storageUrl);console.log(`🔄 Preloading modal image ${Ze}: ${rt.number}, src: ${We}`),re.push(qN(We,`写真 ${rt.number}`).then(()=>{console.log(`✅ Successfully preloaded modal image ${Ze}: ${rt.number}`);const ft=`${We}|写真 ${rt.number}`,Ht=window.imageCache?.get?.(ft);console.log(`📊 Preload cache verification for ${rt.number}:`,Ht?"CACHED":"NOT CACHED","Key:",ft)}).catch(ft=>console.warn(`❌ Failed to preload modal image ${Ze}:`,ft)))}Promise.allSettled(re).then(Ze=>{const rt=Ze.filter(We=>We.status==="fulfilled").length;console.log(`🎯 Preload completed: ${rt}/${re.length} adjacent modal images`),setTimeout(()=>{console.log("🔍 Post-preload cache verification:"),Me.forEach(We=>{const ft=o[We],Ht=pe(ft);console.log(`  - Photo ${ft.number} (index ${We}): ${Ht?"CACHED":"NOT CACHED"}`)})},1e3)})},[o,pe]),X=j.useCallback(G=>{console.log(`✅ Image load complete for index ${G}, starting preload immediately`),ce(G),setTimeout(()=>{console.log(`🔄 Preload status check for index ${G}`);const re=G+1;if(re<o.length){const de=o[re],ge=pe(de);console.log(`📊 Next image (${de.number}) cache status:`,ge?"CACHED":"NOT CACHED")}},2e3)},[ce,o,pe]),se=j.useCallback(G=>{const re=o.findIndex(de=>de.id===G.id);k(re),U(G),fe(!0),be(0),R(!1)},[o]),oe=j.useCallback(()=>{if(M>0){const G=M-1,re=o[G];console.log(`⬅️ Going to previous photo: ${M} -> ${G}`),pe(re)?(console.log(`✅ Photo ${re.number} is cached, no loading state needed`),fe(!1),be(100),R(!1)):(console.log(`⏳ Photo ${re.number} not cached, setting loading state`),fe(!0),be(0),R(!1),setTimeout(()=>{K&&(console.log("⚠️ Image load timeout, forcing modal to close"),fe(!1),R(!0))},1e4)),k(G),U(re)}},[M,o,pe,K]),we=j.useCallback(()=>{if(M<o.length-1){const G=M+1,re=o[G];console.log(`➡️ Going to next photo: ${M} -> ${G}`),pe(re)?(console.log(`✅ Photo ${re.number} is cached, no loading state needed`),fe(!1),be(100),R(!1)):(console.log(`⏳ Photo ${re.number} not cached, setting loading state`),fe(!0),be(0),R(!1),setTimeout(()=>{K&&(console.log("⚠️ Image load timeout, forcing modal to close"),fe(!1),R(!0))},1e4)),k(G),U(re)}},[M,o,pe,K]);j.useEffect(()=>{},[M,o,I]),j.useEffect(()=>{const G=re=>{I&&(re.key==="ArrowLeft"?oe():re.key==="ArrowRight"?we():re.key==="Escape"&&U(null))};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[I,oe,we]);const D=j.useCallback(G=>{if(v(G),G){const re=new Set(o.map(de=>de.id));y(re)}else y(new Set(w))},[o,w]),J=j.useCallback(()=>{const G=o.filter(re=>p.has(re.id));e("/photo-check",{state:{selectedPhotos:G,allPhotoOption:m,searchInfo:N}})},[o,p,m,N,e]),le=j.useMemo(()=>o.map(G=>E.jsx($N,{photo:G,isSelected:p.has(G.id),onToggleSelection:S,onPhotoClick:se,allPhotoOption:m},G.id)),[o,p,S,se,m]);return i?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"写真を検索中..."}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"写真が多い場合、時間がかかることがあります"}),r&&E.jsx("p",{className:"text-red-600 mt-2",children:r})]})}):r?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-red-600 mb-4",children:"エラーが発生しました"}),E.jsx("p",{className:"text-gray-600 mb-4",children:r}),E.jsx("button",{onClick:()=>e("/photo-info"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"戻る"})]})}):E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:Q?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("svg",{className:"w-16 h-16 text-blue-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"写真選択済み"})]}),E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"すでに写真を選択済みです。"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"変更がある場合にはLineにてお問い合わせください。"}),E.jsx("button",{onClick:()=>e("/photo-info"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"戻る"})]}):o.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"一致する写真が存在しませんでした。"}),E.jsx("p",{className:"text-gray-600",children:"Lineにてお問い合わせください"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:E.jsxs("p",{className:"text-blue-800 font-medium",children:[o.length,"枚の写真が見つかりました"]})}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:le}),E.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:m,onChange:G=>D(G.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-800 font-medium",children:"全データ購入オプション（+5500円）を適用"}),E.jsx("p",{className:"text-sm text-red-600",children:"19枚以上選択する場合はこちらがおすすめ"})]})]})}),E.jsxs("div",{className:"text-center",children:[E.jsxs("button",{onClick:J,disabled:p.size===0&&!m,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["確認画面へ進む（",m?o.length:p.size,"枚選択中）"]}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※3枚までは追加料金なしで選択可能"}),E.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※写真購入後にウォーターマークなし/高解像度のお写真を再納品します"})]})]})}),I&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-lg flex flex-col relative",style:{width:"90vw",height:"90vh",maxWidth:"90vw",maxHeight:"90vh"},children:[E.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 overflow-hidden",style:{height:"calc(90vh - 120px)"},children:[E.jsxs("div",{className:"absolute top-4 left-0 right-0 flex items-center justify-between px-4 z-50",children:[E.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-medium",children:[M+1," / ",o.length]}),E.jsx("button",{onClick:()=>{if(console.log("🔄 Manual reload requested for photo:",I?.number),console.log("🔄 Current modalImageKey:",C),R(!1),fe(!0),be(0),I){const de=Cu(I.storageUrl),ge=`${de}|写真 ${I.number}`,Ve=window.imageCache;if(Ve){Ve.delete(ge),console.log("🗑️ Cache cleared for base key:",ge);const Ze=`${`${de}?t=${Date.now()}`}|写真 ${I.number}`;if(Ve.delete(Ze),console.log("🗑️ Cache cleared for timestamped key:",Ze),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){console.log("🧹 Safari: Clearing all related cache entries");for(const[We]of Ve.entries())We.includes(`写真 ${I.number}`)&&(Ve.delete(We),console.log("🗑️ Safari: Cleared related cache:",We))}console.log("📊 Cache size after clear:",Ve.size)}}const G=C+1;V(G),console.log("🔄 Reload triggered, key updated to:",G),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&window.forceSafariCleanup&&(console.log("🧹 Safari: Force cleanup triggered"),window.forceSafariCleanup())},className:"bg-gray-400 bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all",title:"再読み込み",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),E.jsx("button",{onClick:()=>U(null),className:"bg-black bg-opacity-70 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all text-lg font-bold",children:"×"})]}),K&&E.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:"画像を読み込み中..."}),E.jsx("div",{className:"w-64 bg-gray-200 rounded-full h-2 mb-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${he}%`}})}),E.jsxs("p",{className:"text-sm text-gray-600",children:[he,"%"]})]})}),P&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 backdrop-blur-sm z-20",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-lg border border-gray-200",children:[E.jsx("div",{className:"w-16 h-16 text-red-500 mx-auto mb-4",children:E.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-2",children:"画像の読み込みに失敗しました"}),E.jsx("button",{onClick:()=>{R(!1),fe(!0),be(0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"再試行"})]})}),E.jsx(Sm,{src:(()=>{const G=Cu(I.storageUrl),re=C>0?`${G}?t=${Date.now()}`:G;return console.log(`🖼️ Displaying image ${I.number}, src: ${re}, reloadKey: ${C}`),re})(),alt:`写真 ${I.number}`,className:"max-w-full max-h-full",objectFit:"contain",style:{maxWidth:"100%",maxHeight:"100%"},imageId:I.id,onLoadComplete:()=>{console.log("🎉 onLoadComplete called for photo:",I?.number,"index:",M),fe(!1),be(100),R(!1),console.log("✅ Modal loading state cleared"),X(M)},onLoadError:()=>{console.log("❌ onLoadError called for photo:",I?.number,"index:",M),fe(!1),R(!0),console.log("✅ Modal loading state cleared due to error")},hideInternalLoader:!0,externalLoading:K},`${I.id}-${C}`),M>0&&E.jsx("button",{onClick:oe,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),M<o.length-1&&E.jsx("button",{onClick:we,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-70 text-white rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-90 transition-all z-10",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),E.jsx("div",{className:"border-t border-gray-200 bg-white flex flex-col justify-center",style:{height:"120px",flexShrink:0},children:E.jsxs("div",{className:"p-3 text-center",children:[E.jsxs("label",{className:"flex items-center justify-center space-x-2 cursor-pointer mb-2",children:[E.jsx("input",{type:"checkbox",checked:p.has(I.id),onChange:()=>S(I.id),disabled:m,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:`font-medium ${m?"text-gray-400":"text-blue-600"}`,children:m?"全データ購入オプション適用中":"選択する"}),E.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:["(",String(I.number).padStart(3,"0"),")"]})]}),E.jsx("button",{onClick:J,disabled:p.size===0&&!m,className:`w-full py-2 rounded-lg font-semibold text-white transition-colors ${p.size===0&&!m?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"確認画面へ進む"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※3枚までは基本料金に含まれます"}),E.jsx("p",{className:"text-xs text-gray-500",children:"← → キーで写真切り替え、ESCで閉じる"})]})})]})})]})},YN=()=>{const a=ci(),e=zl(),{loading:i,purchasePhotos:r}=Am(),o=a.state?.selectedPhotos||[],c=a.state?.allPhotoOption||!1,f=a.state?.searchInfo,p=()=>c?5500:o.length<=3?0:(o.length-3)*330,y=async()=>{try{await r(o,c),e("/photo-collect",{state:{selectedPhotos:o,allPhotoOption:c}})}catch(v){console.error("Purchase error:",v),alert("購入処理中にエラーが発生しました。")}};if(!o.length)return e("/photo-info"),null;const m=p();return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:o.map(v=>E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[E.jsxs("div",{className:"relative aspect-square",children:[E.jsx(Sm,{src:v.storageUrl,alt:`写真 ${v.number}`,className:"w-full h-full"}),E.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(v.number).padStart(3,"0")})})]})},v.id))}),E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["支払い合計：",m.toLocaleString(),"円"]}),!c&&o.length>3&&E.jsxs("p",{className:"text-gray-600",children:["追加写真",o.length-3,"枚 × 単価330円"]})]}),!c&&E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5",children:"i"}),E.jsx("div",{className:"flex-1",children:E.jsxs("p",{className:"text-blue-800 font-medium mb-2",children:["5500円のお支払いで",E.jsx("button",{onClick:()=>e("/photo-select",{state:{searchInfo:f,forceAllPhotoOption:!0}}),className:"text-blue-600 underline mx-1",children:"こちら"}),"から全てのお写真をご購入することができます"]})})]})}),E.jsx("button",{onClick:y,disabled:i,className:`w-full py-4 rounded-lg font-semibold text-white transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?"処理中...":"購入完了"}),E.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"※お支払い完了後にウォーターマークなしの高品質画像をお届けします"})]})]})]})},KN=()=>{const e=ci().state?.selectedPhotos||[],i=()=>e.map(r=>String(r.number).padStart(3,"0")).join("/");return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),E.jsx("div",{className:"max-w-md mx-auto px-4 py-16",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"ご購入ありがとうございます"}),e.length>0&&E.jsxs("div",{className:"mb-6",children:[E.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"購入した写真番号:"}),E.jsx("p",{className:"text-lg font-bold text-blue-600 mb-4",children:i()})]}),E.jsx("p",{className:"text-gray-600 leading-relaxed",children:"※お支払い確認後、ウォーターマークなしの画像を再納品させて頂きます"}),E.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:E.jsx("p",{className:"text-sm text-yellow-800",children:"控えとして本画面をスクリーンショットで保存していただくことをおすすめします"})})]})})]})},XN=()=>{const{loading:a,photos:e,searchGalleryPhotos:i}=Am(),[r,o]=j.useState(!0),[c,f]=j.useState(new Set),[p,y]=j.useState(!1),[m,v]=j.useState(null),[w,A]=j.useState(!1),[I,U]=j.useState(0),[M,k]=j.useState(!1),[Q,W]=j.useState({receptionNumber:"",shootingDate:"",customerName:"",password:""}),[K,fe]=j.useState({}),he=(S,pe)=>{W(ce=>({...ce,[S]:pe})),fe(ce=>({...ce,[S]:""}))},be=()=>{const S={};return Q.receptionNumber.trim()||(S.receptionNumber="受付番号を入力してください"),Q.shootingDate||(S.shootingDate="撮影日を入力してください"),Q.customerName.trim()||(S.customerName="お客様氏名を入力してください"),!Q.password||!Q.password.trim()?S.password="パスワードを入力してください":Q.password&&Q.password!=="torutora0820"&&(S.password="パスワードが正しくありません"),fe(S),Object.keys(S).length===0},P=async()=>{be()&&(await i(Q),o(!1))},R=S=>{f(pe=>{const ce=new Set(pe);return ce.has(S)?ce.delete(S):ce.add(S),ce})},C=S=>{if(y(S),S){const pe=new Set(e.map(ce=>ce.id));f(pe)}else f(new Set)},V=async(S,pe)=>{try{const X=await(await fetch(S)).blob(),se=window.URL.createObjectURL(X),oe=document.createElement("a");oe.href=se,oe.download=pe,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),window.URL.revokeObjectURL(se)}catch(ce){console.error("Download failed:",ce)}},N=async S=>{A(!0),U(0);const pe=setInterval(()=>{U(ce=>ce>=100?(clearInterval(pe),100):ce+10)},100);try{await V(S.storageUrl,`photo_${S.number}.jpg`),setTimeout(()=>{A(!1),k(!0),U(0)},1200)}catch{A(!1),U(0),alert("ダウンロードに失敗しました")}},z=async()=>{if(c.size===0)return;A(!0),U(0);const S=e.filter(ce=>c.has(ce.id));let pe=0;for(const ce of S)try{await V(ce.storageUrl,`photo_${ce.number}.jpg`),pe++,U(pe/S.length*100)}catch{console.error("Download failed for photo:",ce.number)}setTimeout(()=>{A(!1),k(!0),U(0)},500)};return E.jsxs("div",{className:"min-h-screen bg-gray-50",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsxs("div",{className:"flex flex-col space-y-1 mr-4",children:[E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"}),E.jsx("div",{className:"w-6 h-0.5 bg-gray-800"})]}),E.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"ToruTora"})]})})}),r&&E.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50 p-4",children:r&&E.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"受付番号と確認番号を入力してください"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受付番号"}),E.jsx("input",{type:"text",value:Q.receptionNumber,onChange:S=>he("receptionNumber",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${K.receptionNumber?"border-red-500":"border-gray-300"}`,placeholder:""}),K.receptionNumber&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:K.receptionNumber})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"撮影日"}),E.jsx("input",{type:"date",value:Q.shootingDate,onChange:S=>he("shootingDate",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${K.shootingDate?"border-red-500":"border-gray-300"}`}),K.shootingDate&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:K.shootingDate})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お客様氏名（苗字のみ）"}),E.jsx("input",{type:"text",value:Q.customerName,onChange:S=>he("customerName",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${K.customerName?"border-red-500":"border-gray-300"}`,placeholder:""}),K.customerName&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:K.customerName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"パスワード"}),E.jsx("input",{type:"password",value:Q.password,onChange:S=>he("password",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${K.password?"border-red-500":"border-gray-300"}`,placeholder:""}),K.password&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:K.password})]}),E.jsx("button",{onClick:P,disabled:a,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${a?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:a?"検索中...":"写真を表示する"})]})]})}),w&&E.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:E.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 shadow-lg pointer-events-auto",children:[E.jsx("div",{className:"text-center mb-4",children:E.jsxs("span",{className:"text-lg font-medium",children:[Math.round(I),"%"]})}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${I}%`}})})]})}),M&&E.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:E.jsxs("div",{className:"bg-white rounded-lg p-8 text-center shadow-lg pointer-events-auto",children:[E.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),E.jsx("p",{className:"text-lg font-medium text-gray-800 mb-4",children:"ダウンロードが完了しました"}),E.jsx("button",{onClick:()=>k(!1),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:"閉じる"})]})}),!r&&E.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[E.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"写真が登録されていません。"}),E.jsx("p",{className:"text-gray-600",children:"Lineにてお問い合わせください"}),E.jsx("button",{onClick:()=>o(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"再検索"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:e.map(S=>E.jsx("div",{className:"relative",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>v(S),children:[E.jsxs("div",{className:"relative aspect-square",children:[E.jsx("img",{src:S.storageUrl,alt:`写真 ${S.number}`,className:"w-full h-full object-cover"}),E.jsx("button",{onClick:pe=>{pe.stopPropagation(),R(S.id)},className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${c.has(S.id)?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:c.has(S.id)&&E.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"p-2 text-center",children:E.jsx("span",{className:"text-sm text-gray-600 font-medium",children:String(S.number).padStart(3,"0")})})]})},S.id))}),E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mb-4",children:[E.jsx("input",{type:"checkbox",checked:p,onChange:S=>C(S.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:"text-gray-800 font-medium",children:"全ての写真を選択する"})]}),E.jsxs("button",{onClick:z,disabled:c.size===0||w,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors ${c.size===0||w?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["選択した写真をダウンロード (",c.size,"枚)"]})]})]})}),m&&E.jsxs("div",{className:"fixed inset-0 bg-black",style:{zIndex:1e3},children:[E.jsxs("div",{className:"flex items-center justify-between bg-white text-gray-800 p-4 shadow-sm",children:[E.jsx("button",{onClick:()=>v(null),className:"text-gray-800 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),E.jsx("span",{className:"font-medium",children:String(m.number).padStart(3,"0")}),E.jsx("button",{onClick:()=>R(m.id),className:`w-8 h-8 rounded flex items-center justify-center ${c.has(m.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:c.has(m.id)&&E.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),E.jsx("div",{className:"flex items-center justify-center bg-black",style:{height:"calc(100vh - 140px)"},children:E.jsx("img",{src:m.storageUrl,alt:`写真 ${m.number}`,className:"max-w-full max-h-full object-contain"})}),E.jsx("div",{className:"p-4 bg-white border-t border-gray-200",style:{height:"80px"},children:E.jsxs("button",{onClick:()=>N(m),disabled:w,className:`w-full py-3 rounded-lg font-semibold text-white transition-colors flex items-center justify-center ${w?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:[E.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),w?"ダウンロード中...":"ダウンロード"]})})]})]})};function ZN(){return E.jsxs(LT,{children:[E.jsx($a,{path:"/nouhin",element:E.jsx(UN,{})}),E.jsx($a,{path:"/photo-info",element:E.jsx(LN,{})}),E.jsx($a,{path:"/photo-select",element:E.jsx(QN,{})}),E.jsx($a,{path:"/photo-check",element:E.jsx(YN,{})}),E.jsx($a,{path:"/photo-collect",element:E.jsx(KN,{})}),E.jsx($a,{path:"/gallery",element:E.jsx(XN,{})}),E.jsx($a,{path:"/",element:E.jsx(PT,{to:"/photo-info",replace:!0})})]})}Y1.createRoot(document.getElementById("root")).render(E.jsx(O_.StrictMode,{children:E.jsx(lw,{children:E.jsx(ZN,{})})}));
